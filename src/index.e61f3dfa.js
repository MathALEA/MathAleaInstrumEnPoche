var $parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function $parcel$interopDefault(e){return e&&e.__esModule?e.default:e}function $parcel$export(e,t,r){Object.defineProperty(e,t,{get:r,enumerable:!0})}
/*
* Visualiseur InstrumenPoche en Javascript et SVG
* @author Yves Biton <yves.biton@sesamath.net>
* @licence AGPL-3.0-or-later
*/const $de81623d6237f559ae5ac14db397c013$export$svgns="http://www.w3.org/2000/svg",$de81623d6237f559ae5ac14db397c013$export$caracteresGrecs={alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",pi:"π",rho:"ρ",sigma:"σ",tau:"τ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",Gamma:"Γ",Delta:"Δ",Xi:"Ξ",Pi:"Π",Sigma:"Σ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω"},$de81623d6237f559ae5ac14db397c013$export$caracteresSpeciaux={alpha2:"α",plus:"+",moins:"-",fois:"×",divise:"÷",petitf:"f",petitebarre:"–",grandebarre:"—",prime:"'",seconde:'"',puceronde:"•",grandC:"ℂ",euler:"ℂ",petitg:"ℊ",petith:"ℏ",Ironde:"ℑ",Lronde:"ℒ",lronde:"ℓ",grandN:"ℕ",Pronde:"℘",grandQ:"ℚ",Rronde:"ℜ",grandR:"ℝ",grandZ:"ℤ",Eronde:"ℰ",Fronde:"ℱ",Nronde:"ℵ",flecheG:"←",flecheH:"↑",flecheD:"→",flecheB:"↓",flecheDG:"↔",flecheGD:"↔",flecheHB:"↕",flecheBH:"↕",croissant:"↗",decroissant:"↘",alaligneadroite:"↳",alaligneagauche:"↵",doubleflecheG:"⇐",doubleflecheD:"⇒",doubleflecheDG:"⇔",doubleflecheGD:"⇔",flecheGbarre:"⇤",flecheDbarre:"⇥",flecheGcreuse:"⇦",flecheHcreuse:"⇧",flecheDcreuse:"⇨",flecheBcreuse:"⇩",qqsoit:"∀",pourtout:"∀",quelquesoit:"∀",complement:"∁",differentielpartiel:"∂",ilexiste:"∃",ilnexistepas:"∄",vide:"∅",nabla:"∇",appartienta:"∈",nappartientpasa:"∉",contient:"∋",petitcontient:"∍",grandproduit:"∏",grandcoproduit:"∐",grandesomme:"∑",petitebarrefine:"−",moinsouplus:"∓",antislash:"\\",asterisque:"∗",racine:"√",proportionnela:"∝",infini:"∞",angle:"∡",anglespherique:"∢",nedivisepas:"∤",parallelea:"//",nestpasparallelea:"∦",etlogique:"∧",oulogique:"∨",inter:"∩",intersection:"∩",union:"∪",integrale:"∫",doubleintegrale:"∬",tripleintegrale:"∭",integralecurviligne:"∮",integralesurfacique:"∯",integralevolumique:"∰",egaleasymptotiquea:"≃",environdroit:"≃",environegala:"≅",environ:"≈",egalpardefinition:"≝",differentde:"≠",identiquea:"≡",inferieura:"≤",superieura:"≥",inclusdans:"⊂",nestpasinclusdans:"⊄",necontientpas:"⊅",sommedirecte:"⊕",differencedirecte:"⊖",produittensoriel:"⊗",divisiondirecte:"⊘",produitdirect:"⊙",top:"⊤",perpendiculairea:"⊥",antecedentde:"⊶",imagede:"⊷",angledroitarc:"⊾",point:"⋅",pv:";"},$de81623d6237f559ae5ac14db397c013$export$convDegRad=Math.PI/180,$de81623d6237f559ae5ac14db397c013$export$convRadDeg=180/Math.PI,$de81623d6237f559ae5ac14db397c013$export$cos30=Math.cos(30*$de81623d6237f559ae5ac14db397c013$export$convDegRad),$de81623d6237f559ae5ac14db397c013$export$sin30=.5;
/*
* Visualiseur InstrumenPoche en Javascript et SVG
* @author Yves Biton <yves.biton@sesamath.net>
* @licence AGPL-3.0-or-later
*/
function $426a3896d86aa1d82f5286594dd21368$export$default(e,t,r,i,n,o){this.bold=e,this.italic=t,this.underline=r,this.couleur=i,this.fontface=n,this.taille=o}const $4ccb1c775623de70995d27434bf557c7$var$carSpeMin={};Object.entries($de81623d6237f559ae5ac14db397c013$export$caracteresSpeciaux).forEach((([e,t])=>{$4ccb1c775623de70995d27434bf557c7$var$carSpeMin[e.toLowerCase()]=t}));const $4ccb1c775623de70995d27434bf557c7$export$zero=e=>Math.abs(e)<1e-9,$4ccb1c775623de70995d27434bf557c7$export$zeroAngle=e=>Math.abs(e)<1e-7;function $4ccb1c775623de70995d27434bf557c7$export$mesurePrincDeg(e){let t=e-360*Math.floor((e+180)/360);return-180===t&&(t=180),t}function $4ccb1c775623de70995d27434bf557c7$export$parseXMLDoc(e){let t,r;return window.DOMParser?(t=new DOMParser,r=t.parseFromString(e,"text/xml")):window.ActiveXObject?(r=new ActiveXObject("Microsoft.XMLDOM"),r.async=!1,r.loadXML(e)):console.error(Error("Votre navigateur ne peut pas analyser du XML, impossible d’utiliser instrumenpoche")),r}const $4ccb1c775623de70995d27434bf557c7$export$estInstrument=e=>["compas","compasLeve","crayon","equerre","rapporteur","regle","requerre"].includes(e);function $4ccb1c775623de70995d27434bf557c7$export$indiceFinBalise(e){let t,r,i,n=!1;if(0===e.indexOf("<font"))r="</font>",n=!0;else{if(i=e.indexOf(">"),-1===i)return e.length;t=e.substring(0,i+1),r=t.substring(0,1)+"/"+t.substring(1)}const o=e.indexOf(r);if(-1===o){if(n){const t=e.indexOf("<font",5);if(-1!==t)return t}return-1}return o+r.length}function $4ccb1c775623de70995d27434bf557c7$export$analyseExposantOuIndice(e){const t=e.trim(),r={},i=t.indexOf(","),n=t.indexOf(")");return r.erreur=-1===i||-1===n,r.erreur?(r.texte="",r):(r.operande=t.substring(3,i),r.exposant=t.substring(i+1,n),r.texte=t.substring(n+1),r)}function $4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(e,t){let r,i,n=1;for(r=t+1;r<e.length&&(i=e.charAt(r),"("===i?n++:")"===i&&n--,0!==n);)r++;return 0===n?r:-1}function $4ccb1c775623de70995d27434bf557c7$export$valeur_approchee(e,t){const r=Math.pow(10,t);return Math.round(e/r)*r}function $4ccb1c775623de70995d27434bf557c7$export$mettre_en_pixels(e,t,r,i,n){const o=(i-n)/(t-r);return o*e+(i-o*t)}function $4ccb1c775623de70995d27434bf557c7$export$elimineDoublonsXML(e){let t="";const r=["objet","mouvement","vitesse","tempo","abscisse","ordonnee","id","couleur","pointille","echelle","angle","cible","texte","ecrire","rotation","translation","epaisseur","opacite","masquer","montrer","crayon","equerre","regle","compas","reglequerre","sens","hauteur","largeur","haut","gauche","Xmin","Ymin","Xmax","yMax","Xgrad","Ygrad","image","police","taille","ordonnee_bas_droite","abscisse_bas_droite","ordonnee_haut_gauche","abscisse_haut_gauche"];return e.split(/<action/gi).forEach(((e,i)=>{r.forEach((t=>{const r=new RegExp(" "+t+'[^\\w ]*= *"[\\w]*"',"i"),i=e.search(r);if(-1!==i){-1!==e.substring(i+1).search(r)&&(e=e.replace(r,""))}})),t+=0===i?e:"<action"+e})),t}function $4ccb1c775623de70995d27434bf557c7$export$remplaceBalises(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<B>/g,"<b>")).replace(/<\/B>/g,"</b>")).replace(/<I>/g,"<i>")).replace(/<\/I>/g,"</i>")).replace(/<U>/g,"<u>")).replace(/<\/U>/g,"</u>")).replace(/£lt£i£gt£/gi,"<i>")).replace(/£i£/gi,"<i>")).replace(/£lt£\/i£gt£/gi,"</i>")).replace(/£\/i£/gi,"</i>")).replace(/£lt£b£gt£/gi,"<b>")).replace(/£b£/gi,"<b>")).replace(/£lt£\/b£gt£/gi,"</b>")).replace(/£\/b£/gi,"</b>")).replace(/£lt£u£gt£/gi,"<u>")).replace(/£u£/gi,"<u>")).replace(/£lt£\/u£gt£/gi,"</u>")).replace(/£\/u£/gi,"</u>")).replace(/£lt£br£gt£/gi,"<br>")).replace(/£lt£br\/£gt£/gi,"<br>")).replace(/£br£/gi,"<br>")).replace(/£br\/£/gi,"<br>")).replace(/£lt£font/gi,"<font")).replace(/£lt£\/font£gt£/gi,"</font>")).replace(/£lt£bold£gt£/gi,"<b>")).replace(/£lt£\/bold£gt£/gi,"</b>")).replace(/£lt£/gi,"<")).replace(/£gt£/gi,">")).replace(/£inferieurstrict£/gi,"<")).replace(/£superieurstrict£/gi,">")).replace(/£guillemet£/gi,'"')}function $4ccb1c775623de70995d27434bf557c7$export$remplaceCarSpe(e){if(!e.includes("£"))return e;const t=e.split("£").map(((e,t)=>{if(t%2){const t=e.toLowerCase();return $4ccb1c775623de70995d27434bf557c7$var$carSpeMin[t]||`£${e}£`}return e})).join("");return(e.length-e.replace(/£/g,"").length)%2?(console.warn(`Il y a un nombre impair de £ dans cette chaîne : ${e}`),t.substr(0,t.length-1)):t}function $4ccb1c775623de70995d27434bf557c7$var$accoladeFermante(e,t){let r,i,n;for(n=1,r=t+1;r<e.length&&(i=e.charAt(r),"{"===i?n++:"}"===i&&n--,0!==n);)r++;return 0===n?r:-1}function $4ccb1c775623de70995d27434bf557c7$export$contientBaliseLaTeX(e){return-1!==e.indexOf("\\frac")||-1!==e.indexOf("\\sqrt")||-1!==e.indexOf("}^{")||-1!==e.indexOf("}_{")||-1!==e.indexOf("\\widehat{")||-1!==e.indexOf("\\left[")||-1!==e.indexOf("\\left(")||-1!==e.indexOf("\\left|")||-1!==e.indexOf("\\left\\|")||-1!==e.indexOf("\\overrightarrow{")||-1!==e.indexOf("\\text{")}function $4ccb1c775623de70995d27434bf557c7$export$getSvgColor(e){const t={noir:"black",rouge:"red",vert:"green",bleu:"blue",blanc:"white",gris:"grey",darkorange:"maroon"};if("0"===e)return"black";if(t[e])return t[e];const r=e=>e.length<7?"#"+"0".repeat(6-e.length)+e:e.substr(-6);return/^#/.test(e)?7===e.length?e:4===e.length?`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`:(console.error(Error(`couleur ${e} invalide, on va tronquer ou compléter avec des 0`)),r(e.substring(1))):/^0x/.test(e)?r(e.substring(2)):/^[0-9]/.test(e)?r(parseFloat(e).toString(16)):e}function $4ccb1c775623de70995d27434bf557c7$export$colineaires(e,t){const r=e.norme(),i=t.norme();return!(!$4ccb1c775623de70995d27434bf557c7$export$zero(r)&&!$4ccb1c775623de70995d27434bf557c7$export$zero(i))||$4ccb1c775623de70995d27434bf557c7$export$zero((e.x*t.y-e.y*t.x)/r/i)}const $4ccb1c775623de70995d27434bf557c7$export$colineairesMemeSens=(e,t)=>$4ccb1c775623de70995d27434bf557c7$export$colineaires(e,t)&&e.x*t.x+e.y*t.y>=0;function $4ccb1c775623de70995d27434bf557c7$export$indiceVirgule(e,t,r){let i,n,o=0,s=t;for(;s<e.length;){if(i=e.charAt(s),"("===i){if(n=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(e,s),-1===n)return-1;s=n}else if(","===i&&o++,o===r)return s;s++}return-1}function $4ccb1c775623de70995d27434bf557c7$export$determiner_graduations(e,t,r){let i;return t*e<0?i=-Math.floor(-e/r)*r:Math.ceil(Math.log(Math.abs(e))/Math.LN10)!==Math.ceil(Math.log(Math.abs(t))/Math.LN10)?(i=e<0?-Math.pow(10,Math.floor(Math.log(Math.abs(e))/Math.LN10)):Math.pow(10,Math.ceil(Math.log(Math.abs(e))/Math.LN10)),i-=Math.floor((i-e)/r)*r):(i=$4ccb1c775623de70995d27434bf557c7$export$valeur_approchee(e,Math.floor(Math.log(r)/Math.LN10)),i<e&&(i+=r)),i}function $4ccb1c775623de70995d27434bf557c7$export$traiteBalise(e,t,r,i,n){if(""===e)return;let o,s,a,c,l,p,u,f,d;const h=e.search(/<b>|<i>|<u>|<font/),b=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"tspan");if(b.setAttribute("pointer-events","none"),-1===h||h>0){o="",t.couleur&&(o+="fill:"+t.couleur+";"),t.bold&&(o+="font-weight:bold;"),t.italic&&(o+="font-style:italic;"),t.underline&&(o+="text-decoration:underline;"),""!==t.fontface?o+="font-family:"+t.fontface+";":o+='font-family: "Times New Roman", Times, serif;',o+="font-size:"+t.taille+"px;",b.setAttribute("style",o),i&&(b.setAttribute("x",0),i=!1),b.setAttribute("y",n);const s=-1===h?e:e.substring(0,h);b.appendChild(document.createTextNode(s)),r.appendChild(b),h>0&&$4ccb1c775623de70995d27434bf557c7$export$traiteBalise(e.substring(h),t,r,i,n)}else 0===e.indexOf("<b>")?(d=new $426a3896d86aa1d82f5286594dd21368$export$default(!0,t.italic,t.underline,t.couleur,t.fontface),s=$4ccb1c775623de70995d27434bf557c7$export$indiceFinBalise(e),$4ccb1c775623de70995d27434bf557c7$export$traiteBalise(-1===s?e.substring(3):e.substring(3,s-4),d,r,i,n)):0===e.indexOf("<i>")?(d=new $426a3896d86aa1d82f5286594dd21368$export$default(t.bold,!0,t.underline,t.couleur,t.fontface),s=$4ccb1c775623de70995d27434bf557c7$export$indiceFinBalise(e),$4ccb1c775623de70995d27434bf557c7$export$traiteBalise(-1===s?e.substring(3):e.substring(3,s-4),d,r,i,n)):0===e.indexOf("<u>")?(d=new $426a3896d86aa1d82f5286594dd21368$export$default(t.bold,t.italic,!0,t.couleur,t.fontface),s=$4ccb1c775623de70995d27434bf557c7$export$indiceFinBalise(e),$4ccb1c775623de70995d27434bf557c7$export$traiteBalise(-1===s?e.substring(3):e.substring(3,s-4),d,r,i,n)):0===e.indexOf("<font")&&(s=$4ccb1c775623de70995d27434bf557c7$export$indiceFinBalise(e),-1===s&&(s=e.length),a=e.indexOf('face="'),-1!==a?(c=e.indexOf('"',a+6),l=-1!==c?e.substring(a+6,c):""):l="",p="",a=e.indexOf('couleur="'),-1!==a?(c=e.indexOf('"',a+9),-1!==c&&(p=$4ccb1c775623de70995d27434bf557c7$export$getSvgColor(e.substring(a+9,c)))):(a=e.indexOf('color="'),-1!==a&&(c=e.indexOf('"',a+7),-1!==c&&(p=$4ccb1c775623de70995d27434bf557c7$export$getSvgColor(e.substring(a+7,c))))),a=e.indexOf('size="'),-1!==a&&(c=e.indexOf('"',a+6),u=-1!==c?e.substring(a+6,c):t.taille),d=new $426a3896d86aa1d82f5286594dd21368$export$default(t.bold,t.italic,t.underline,p,l,u),f=e.indexOf(">"),/<\/font>/i.test(e)?$4ccb1c775623de70995d27434bf557c7$export$traiteBalise(e.substring(f+1,s-7),d,r,i,n):$4ccb1c775623de70995d27434bf557c7$export$traiteBalise(e.substring(f+1),d,r,i,n))}function $4ccb1c775623de70995d27434bf557c7$export$necessiteLatex(e){if(["a","c","d","f","g","n","p","r","s","u","v"].some((t=>e.includes(`£${t}(`))))return!0;let t,r,i,n=e;for(;-1!==(t=n.search(/£e\(|£i\(/g));){if(r=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(n,t+3),-1===r&&(r=n.length),i=n.substring(t,r),-1!==i.search(/£e\(|£i\(£lt£font/g))return!0;if(r===n.length)return!1;n=i.substring(r+1)}for(n=e;-1!==(t=n.search(/£lt£font/g));){if(r=$4ccb1c775623de70995d27434bf557c7$export$indiceFinBalise(n.substring(t)),-1===r?r=n.length:r+=t,i=n.substring(t,r),-1!==i.search(/£e\(|£i\(/g))return!0;if(r===n.length)return!1;n=i.substring(r+1)}return!1}function $4ccb1c775623de70995d27434bf557c7$export$getMaths(e,t){let r,i,n,o,s,a,c,l,p,u,f,d,h;const b=e;if(""===b)return"";for(;-1!==(r=b.indexOf("<font"));)return l=null,c=b.substring(r),i=$4ccb1c775623de70995d27434bf557c7$export$indiceFinBalise(c),o=c.indexOf('couleur="'),-1!==o?(s=c.indexOf('"',o+9),-1!==s&&(l=$4ccb1c775623de70995d27434bf557c7$export$getSvgColor(c.substring(o+9,s)))):(o=c.indexOf('color="'),-1!==o&&(s=c.indexOf('"',o+7),-1!==s&&(l=$4ccb1c775623de70995d27434bf557c7$export$getSvgColor(c.substring(o+7,s))))),null!=l?(a=r+c.indexOf(">")+1,-1===i?$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r)+"\\textcolor{"+l+"}{"+b.substring(a)+"}",t):(i+=r,$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r)+"\\textcolor{"+l+"}{"+b.substring(a,i-7)+"}"+b.substring(i),t))):(a=r+c.indexOf(">")+1,-1===i?$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r)+b.substring(a),t):(i+=r,$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r)+b.substring(a,i-7)+b.substring(i),t)));for(;-1!==(r=b.indexOf("£u("));)return i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(b,r+2),-1===i?b:$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r),t)+"\\unicode{x"+b.substring(r+3,i)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(i+1),t);for(;-1!==(r=b.indexOf("£f("));)return n=$4ccb1c775623de70995d27434bf557c7$export$indiceVirgule(b,r+3,1),i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(b,r+2),-1===n||-1===i||n>i?b:$4ccb1c775623de70995d27434bf557c7$export$getMaths($4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r),t)+"\\displaystyle{\\frac{"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(r+3,n),!1)+"}{"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(n+1,i),!1)+"}}"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(i+1),t),t);for(;-1!==(r=b.indexOf("£r("));)return i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(b,r+2),-1===i?b:$4ccb1c775623de70995d27434bf557c7$export$getMaths($4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r),t)+"\\sqrt{"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(r+3,i),!1)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(i+1),t),t);for(;-1!==(r=b.indexOf("£a("));)return i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(b,r+2),-1===i?b:$4ccb1c775623de70995d27434bf557c7$export$getMaths($4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r),t)+"\\widehat{"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(r+3,i),!0)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(i+1),t),t);for(;-1!==(r=b.indexOf("£g("));)return u=$4ccb1c775623de70995d27434bf557c7$export$indiceVirgule(b,r+3,1),f=$4ccb1c775623de70995d27434bf557c7$export$indiceVirgule(b,r+3,2),d=$4ccb1c775623de70995d27434bf557c7$export$indiceVirgule(b,r+3,3),i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(b,r+2),-1===i?b:$4ccb1c775623de70995d27434bf557c7$export$getMaths($4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r),t)+"\\int_{"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(f+1,d),!1)+"}^{"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(d+1,i),!1)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(r+3,u),!1)+" d"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(u+1,f),!1)+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(i+1),t),t);for(;-1!==(r=b.indexOf("£c("));)return i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(b,r+2),-1===i?b:$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r),t)+"\\left["+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(r+3,i),t)+"\\right]"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(i+1),t);for(;-1!==(r=b.indexOf("£p("));)return i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(b,r+2),-1===i?b:$4ccb1c775623de70995d27434bf557c7$export$getMaths($4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r),t)+"\\left("+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(r+3,i),t)+"\\right)"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(i+1),t));for(;-1!==(r=b.indexOf("£d("));)return i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(b,r+2),-1===i?b:$4ccb1c775623de70995d27434bf557c7$export$getMaths($4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r),t)+"\\left|"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(r+3,i),!1)+"\\right|"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(i+1),t),t);for(;-1!==(r=b.indexOf("£n("));)return i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(b,r+2),-1===i?b:$4ccb1c775623de70995d27434bf557c7$export$getMaths($4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r),t)+"\\left\\|"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(r+3,i),!1)+"\\right\\|"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(i+1),t));for(;-1!==(r=b.indexOf("£i("));)return n=$4ccb1c775623de70995d27434bf557c7$export$indiceVirgule(b,r+3,1),i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(b,r+2),-1===n||-1===i||n>i?b:$4ccb1c775623de70995d27434bf557c7$export$getMaths($4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r),t)+"{"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(r+3,n),!1)+"}_{"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(n+1,i),!1)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(i+1),t),t);for(;-1!==(r=b.indexOf("£e("));)return n=$4ccb1c775623de70995d27434bf557c7$export$indiceVirgule(b,r+3,1),i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(b,r+2),-1===n||-1===i||n>i?b:$4ccb1c775623de70995d27434bf557c7$export$getMaths($4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r),t)+"{"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(r+3,n),!1)+"}^{"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(n+1,i),!1)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(i+1),t));for(;-1!==(r=b.indexOf("£v("));)return i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(b,r+2),-1===i?b:$4ccb1c775623de70995d27434bf557c7$export$getMaths($4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r),t)+"\\overrightarrow{"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(r+3,i),!1)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(i+1),t),t);for(;-1!==(r=b.indexOf("<u>"));)return i=$4ccb1c775623de70995d27434bf557c7$export$indiceFinBalise(b.substring(r)),-1===i?b:(i+=r,$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r),t)+"\\underline{"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(r+3,i-4),!0)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(i),t));for(;-1!==(r=b.indexOf("<i>"));)return i=$4ccb1c775623de70995d27434bf557c7$export$indiceFinBalise(b.substring(r)),-1===i?$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r),t)+"\\textit{"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(r+3),!1)+"}":(i+=r,$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r),t)+"\\textit{"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(r+3,i-4),!1)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(i),t));for(;-1!==(r=b.indexOf("<b>"));)return i=$4ccb1c775623de70995d27434bf557c7$export$indiceFinBalise(b.substring(r)),-1===i?$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r),t)+"\\textbf{"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(r+3),!1)+"}":(i+=r,$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(0,r),t)+"\\textbf{"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(r+3,i-4),!1)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(i),t));if(t){if(h=b.charAt(0),")"===h||","===h||"}"===h)return h+$4ccb1c775623de70995d27434bf557c7$export$getMaths(b.substring(1),t);if($4ccb1c775623de70995d27434bf557c7$export$contientBaliseLaTeX(b))return b;if(r=b.indexOf("\\textcolor{"),-1!==r){for(p="",c=b;-1!==(r=c.indexOf("\\textcolor{"));)o=c.indexOf("}{"),i=$4ccb1c775623de70995d27434bf557c7$var$accoladeFermante(c,o+1),-1===i?0===r?(o+2!==c.length?p+=c.substring(0,o+2)+"\\text{"+c.substring(o+2)+"}":p+=c,c=""):(o+2!==c.length?p+="\\text{"+c.substring(0,r)+"}"+c.substring(r,o+2)+"\\text{"+c.substring(o+2)+"}":p+="\\text{"+c.substring(0,r)+"}"+c.substring(r,o+2),c=""):0===r?(p+=c.substring(0,i+1),c=i<c.length-1?c.substring(i+1):""):(p+="\\text{"+c.substring(0,r)+"}"+c.substring(r,o+2)+"\\text{"+c.substring(o+2,i+1)+"}",c=i<c.length-1?c.substring(i+1):"");return""===c?p:p+"\\text{"+c+"}"}{let e=0,t=0;for(;" "===b.charAt(t);)e++,t++;return"~".repeat(e)+"\\text{"+b.substring(t)+"}"}}return b}function $4ccb1c775623de70995d27434bf557c7$export$getMathsForName(e,t){let r,i,n,o,s,a,c,l,p,u,f=e;if(""===f)return"";for(;-1!==(r=f.indexOf("<font"));)return l=null,c=f.substring(r),i=$4ccb1c775623de70995d27434bf557c7$export$indiceFinBalise(c),o=c.indexOf('couleur="'),-1!==o?(s=c.indexOf('"',o+9),-1!==s&&(l=$4ccb1c775623de70995d27434bf557c7$export$getSvgColor(c.substring(o+9,s)))):(o=c.indexOf('color="'),-1!==o&&(s=c.indexOf('"',o+7),-1!==s&&(l=$4ccb1c775623de70995d27434bf557c7$export$getSvgColor(c.substring(o+7,s))))),null!==l?(a=r+c.indexOf(">")+1,-1===i?$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(0,r)+"\\textcolor{"+l+"}{"+f.substring(a)+"}",t):(i+=r,$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(0,r)+"\\textcolor{"+l+"}{"+f.substring(a,i-7)+"}"+f.substring(i),t))):(a=r+c.indexOf(">")+1,-1===i?$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(0,r)+f.substring(a),t):(i+=r,$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(0,r)+f.substring(a,i-7)+f.substring(i),t)));for(;-1!==(r=f.indexOf("£u("));)return i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(f,r+2),-1===i?f:$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(0,r),t)+"\\unicode{x"+f.substring(r+3,i)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(i+1),t);for(;-1!==(r=f.indexOf("£r("));)return i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(f,r+2),-1===i?f:$4ccb1c775623de70995d27434bf557c7$export$getMathsForName($4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(0,r),t)+"\\sqrt{"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(r+3,i),!1)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(i+1),t),t);for(;-1!==(r=f.indexOf("£d("));)return i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(f,r+2),-1===i?f:$4ccb1c775623de70995d27434bf557c7$export$getMathsForName($4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(0,r),t)+"\\left|"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(r+3,i),!1)+"\\right|"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(i+1),t),t);for(;-1!==(r=f.indexOf("£n("));)return i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(f,r+2),-1===i?f:$4ccb1c775623de70995d27434bf557c7$export$getMathsForName($4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(0,r),t)+"\\left\\|"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(r+3,i),!1)+"\\right\\|"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(i+1),t));for(;-1!==(r=f.indexOf("£i("));)return n=$4ccb1c775623de70995d27434bf557c7$export$indiceVirgule(f,r+3,1),i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(f,r+2),-1===n||-1===i||n>i?f:$4ccb1c775623de70995d27434bf557c7$export$getMathsForName($4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(0,r),t)+"{"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(r+3,n),!0)+"}_{"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(n+1,i),!1)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(i+1),t),t);for(;-1!==(r=f.indexOf("£e("));)return n=$4ccb1c775623de70995d27434bf557c7$export$indiceVirgule(f,r+3,1),i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(f,r+2),-1===n||-1===i||n>i?f:$4ccb1c775623de70995d27434bf557c7$export$getMathsForName($4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(0,r),t)+"{"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(r+3,n),!0)+"}^{"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(n+1,i),!1)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(i+1),t));for(;-1!==(r=f.indexOf("£v("));)return i=$4ccb1c775623de70995d27434bf557c7$var$indiceParentheseFermante(f,r+2),-1===i?f:$4ccb1c775623de70995d27434bf557c7$export$getMathsForName($4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(0,r),t)+"\\overrightarrow{"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(r+3,i),!1)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(i+1),t),t);for(;-1!==(r=f.indexOf("<u>"));)return i=$4ccb1c775623de70995d27434bf557c7$export$indiceFinBalise(f.substring(r)),-1===i?f:(i+=r,$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(0,r),t)+"\\underline{"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(r+3,i-4),!0)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(i),t));for(;-1!==(r=f.indexOf("<i>"));)return i=$4ccb1c775623de70995d27434bf557c7$export$indiceFinBalise(f.substring(r)),-1===i?$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(0,r),t)+"\\textit{"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(r+3),!1)+"}":(i+=r,$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(0,r),t)+"\\textit{"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(r+3,i-4),!1)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(i),t));for(;-1!==(r=f.indexOf("<b>"));)return i=$4ccb1c775623de70995d27434bf557c7$export$indiceFinBalise(f.substring(r)),-1===i?$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(0,r),t)+"\\textbf{"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(r+3),!1)+"}":(i+=r,$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(0,r),t)+"\\textbf{"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(r+3,i-4),!1)+"}"+$4ccb1c775623de70995d27434bf557c7$export$getMathsForName(f.substring(i),t));if(t){if($4ccb1c775623de70995d27434bf557c7$export$contientBaliseLaTeX(f))return f;if(r=f.indexOf("\\textcolor{"),-1!==r){for(p="",c=f;-1!==(r=c.indexOf("\\textcolor{"));)o=c.indexOf("}{"),i=$4ccb1c775623de70995d27434bf557c7$var$accoladeFermante(c,o+1),-1===i?0===r?(o+2!==c.length?p+=c.substring(0,o+2)+"\\text{"+c.substring(o+2)+"}":p+=c,c=""):(o+2!==c.length?p+="\\text{"+c.substring(0,r)+"}"+c.substring(r,o+2)+"\\text{"+c.substring(o+2)+"}":p+="\\text{"+c.substring(0,r)+"}"+c.substring(r,o+2),c=""):0===r?(p+=c.substring(0,i+1),c=i<c.length-1?c.substring(i+1):""):(p+="\\text{"+c.substring(0,r)+"}"+c.substring(r,o+2)+"\\text{"+c.substring(o+2,i+1)+"}",c=i<c.length-1?c.substring(i+1):"");return""===c?p:p+"\\text{"+c+"}"}if(u=f.charAt(0),")"===u||","===u||"}"===u)return f;{let e="";for(;0===f.indexOf(" ");)e+="~",f=f.substring(1);return e+"\\text{"+f+"}"}}return f}function $4ccb1c775623de70995d27434bf557c7$export$getTaille(e,t={}){if(!e||"object"!=typeof e)throw Error("objet invalide");const r=t.defaut||20,i=t.min||5,n=t.max||199;if("number"!=typeof r||"number"!=typeof i||"number"!=typeof n)throw Error("options invalides");const o=Number(e.taille);return isNaN(o)?(console.error(Error(`taille invalide (${e.taille}) => ${r}`)),r):o<i?(console.error(Error(`taille trop petite (${e.taille} < ${i}) => ${r}`)),r):o>n?(console.error(Error(`taille trop grande (${e.taille} > ${n}) => ${r}`)),r):o}function $029f5ec8145fe5ae5b3923862e9b625f$export$default(e,t,r,i){arguments.length>2?(this.x=r-e,this.y=i-t):(this.x=e,this.y=t)}function $500e14de0230e998326730e15f80064b$export$default(e){this.doc=e,this.x=200,this.y=400,this.angle=0,this.zoomfactor=1,this.visible=!1}function $2a75736bafdb21d9b88d356b838fe8bd$export$default(e){$500e14de0230e998326730e15f80064b$export$default.call(this,e),this.ecart=0,this.bretourne=!1,this.leve=!1,this.lon=185,this.longpointe=18;const t=this.lon+this.longpointe;this.alp=Math.asin(this.ecart/(2*t))/Math.PI*180,this.decbh=30,this.creeg(),this.g.setAttribute("visibility","hidden"),this.setPosition(this.x,this.y,this.angle,1),e.svg.appendChild(this.g)}function $5994c23ec903b14a953fc6c09af9d2c6$export$default(e){$500e14de0230e998326730e15f80064b$export$default.call(this,e),this.creeg(),this.g.setAttribute("visibility","hidden"),this.setPosition(this.x,this.y,this.angle),e.svg.appendChild(this.g)}function $dacdce52279b2811223ab7a7d775fbd7$export$default(e){$500e14de0230e998326730e15f80064b$export$default.call(this,e),this.graduationExterneVisible=!0,this.graduationInterneVisible=!0,this.creeg(),this.g.setAttribute("visibility","hidden"),this.setPosition(this.x,this.y,this.angle),e.svg.appendChild(this.g)}function $44c6cb157b80e0cd1cae41c7d4840b7f$export$default(e){$500e14de0230e998326730e15f80064b$export$default.call(this,e),this.x=100,this.y=400,this.angle=0,this.longueur=15,this.graduationVisible=!0,this.creeg(),this.g.setAttribute("visibility","hidden"),this.setPosition(this.x,this.y,this.angle),e.svg.appendChild(this.g)}function $e9bc90e36c517b0449133dbb9fda88f3$export$default(e){$500e14de0230e998326730e15f80064b$export$default.call(this,e),this.x=200,this.y=400,this.angle=0,this.zoomfactor=1,this.abscisse=0,this.creeg(),this.g.setAttribute("visibility","hidden"),this.setPosition(this.x,this.y,this.angle),e.svg.appendChild(this.g)}function $83c5d60fdea57331b5b88ac508615d1b$export$default(e){$500e14de0230e998326730e15f80064b$export$default.call(this,e),this.angle=this.angleInit(),this.creeg(),this.g.setAttribute("visibility","hidden"),this.setPosition(this.x,this.y,this.angle),e.svg.appendChild(this.g)}function $405c8a57e5c27ce3399d17942b700f8c$export$default(e,t){0!==arguments.length&&(this.doc=e,"string"==typeof t&&(t=Number(t)),this.tempo="number"==typeof t&&t>0&&Number.isFinite(t)?100*t:null,this.isReady=!1)}function $2675e219ffee9e37dbdd41f5f94cfac4$export$default(e,t){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,t)}function $d9027120c2fc7bb06ea47a3cfffcdc4c$export$default(e,t,r){this.doc=e,this.id=t,this.couleur=r,this.zoomfactor=1,this.visible=!1,this.objet="trait"}function $9189717a43893a6f4a4f0fcc6d315f49$export$default(e,t,r,i){$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.call(this,e,t,"black"),this.x=parseFloat(r),this.y=parseFloat(i),this.xinit=this.x,this.yinit=this.y,this.taille=20,this.angle=0,this.texte="",this.objet="texte"}function $d1f410cbd3c3583af4060be9f57fa684$export$default(e,t,r,i,n){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,i),this.id=t;const o=this.doc.getElement(t,r.objet);this.objetRemplace=null===o?null:o,this.objet=r,this.vitesse=arguments.length>=5&&null!=n?Math.abs(parseFloat(n)):8,null!==this.objetRemplace?this.doc.addElement(this.objet):this.doc.pushElement(this.objet)}function $dac037a4adbecfe3b98d8e7b81a917fe$export$default(e,t,r,i){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,r),this.ecartement=t,this.ec10=null===i?16:parseFloat(i)}$029f5ec8145fe5ae5b3923862e9b625f$export$default.prototype.presqueNul=function(){return $4ccb1c775623de70995d27434bf557c7$export$zero(this.x)&&$4ccb1c775623de70995d27434bf557c7$export$zero(this.y)},$029f5ec8145fe5ae5b3923862e9b625f$export$default.prototype.norme=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},$029f5ec8145fe5ae5b3923862e9b625f$export$default.prototype.vecteurColineaire=function(e){const t=this.norme();return new $029f5ec8145fe5ae5b3923862e9b625f$export$default(this.x/t*e,this.y/t*e)},$029f5ec8145fe5ae5b3923862e9b625f$export$default.prototype.tourne=function(e){const t=Math.cos(e*$de81623d6237f559ae5ac14db397c013$export$convDegRad),r=Math.sin(e*$de81623d6237f559ae5ac14db397c013$export$convDegRad);return new $029f5ec8145fe5ae5b3923862e9b625f$export$default(t*this.x-r*this.y,t*this.y+r*this.x)},$029f5ec8145fe5ae5b3923862e9b625f$export$default.prototype.angle=function(){let e;return 0===this.x&&0===this.y?0:(0===this.x?e=this.y>0?3*Math.PI/2:Math.PI/2:(e=this.x>=0?Math.atan(-this.y/this.x):Math.PI-Math.atan(this.y/this.x),e<0&&(e+=2*Math.PI)),e*$de81623d6237f559ae5ac14db397c013$export$convRadDeg)},$500e14de0230e998326730e15f80064b$export$default.prototype.montre=function(e){this.visible=e,this.g.setAttribute("visibility",e?"visible":"hidden")},$500e14de0230e998326730e15f80064b$export$default.prototype.updateg=function(){this.initialisePosition(),this.doc.svg.removeChild(this.g),this.doc.svg.appendChild(this.g)},$500e14de0230e998326730e15f80064b$export$default.prototype.translate=function(e,t){this.setPosition(e,t,this.angle,this.zoomfactor)},$500e14de0230e998326730e15f80064b$export$default.prototype.angleInit=function(){return 0},$500e14de0230e998326730e15f80064b$export$default.prototype.setPosition=function(e,t,r,i){let n;this.x=e,this.y=t,this.angle=r,arguments.length>=4?(n=i,this.zoomfactor=n):n=this.zoomfactor,this.g.setAttribute("transform","scale("+n+") translate("+String(e/n)+","+String(t/n)+") rotate("+r+")")},$500e14de0230e998326730e15f80064b$export$default.prototype.initialisePosition=function(){this.setPosition(200,400,this.angleInit(),1)},$500e14de0230e998326730e15f80064b$export$default.prototype.lanceAnimationTranslation=function(e,t,r){this.xfin=e,this.yfin=t,this.pix=Math.abs(r/2);const i=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(this.x,this.y,e,t);if(this.dist=i.norme(),0===this.dist)return void this.doc.actionSuivante();this.vect=i.vecteurColineaire(this.pix);const n=this;this.timer=setInterval((function(){n.actionPourTranslation()}),25)},$500e14de0230e998326730e15f80064b$export$default.prototype.actionPourTranslation=function(){const e=this.x+this.vect.x,t=this.y+this.vect.y,r=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(e,t,this.xfin,this.yfin).norme();r>this.dist||!this.doc.animationEnCours?(this.setPosition(this.xfin,this.yfin,this.angle),this===this.doc.compas&&null!=this.doc.compasLeve&&this.doc.compasLeve.visible&&this.doc.compasLeve.setPosition(this.xfin,this.yfin,this.angle),clearInterval(this.timer),this.doc.actionSuivante()):(this.dist=r,this.setPosition(e,t,this.angle),this===this.doc.compas&&null!=this.doc.compasLeve&&this.doc.compasLeve.visible&&this.doc.compasLeve.setPosition(e,t,this.angle))},$500e14de0230e998326730e15f80064b$export$default.prototype.lanceAnimationRotation=function(e,t){const r=$4ccb1c775623de70995d27434bf557c7$export$mesurePrincDeg(this.angle);let i=$4ccb1c775623de70995d27434bf557c7$export$mesurePrincDeg(e);Math.abs(i-r)>180&&(i>r?i-=360:i+=360),this.anglefin=i,this.angle=r,this.pasdeg=t/3,this.pasdeg*=i>=r?1:-1,this.distang=Math.abs(i-this.angle);const n=this;this.timer=setInterval((function(){n.actionPourRotation()}),25)},$500e14de0230e998326730e15f80064b$export$default.prototype.actionPourRotation=function(){const e=parseFloat(this.angle)+parseFloat(this.pasdeg),t=Math.abs(e-this.anglefin);t>this.distang||!this.doc.animationEnCours?(this.setPosition(this.x,this.y,this.anglefin),clearInterval(this.timer),this.doc.actionSuivante()):(this.distang=t,this.setPosition(this.x,this.y,e))},$500e14de0230e998326730e15f80064b$export$default.prototype.lanceAnimationZoom=function(e,t){this.zoomfin=e,this.vitesse=parseInt(t),this.pas=.05*this.vitesse*(this.zoomfin-this.zoomfactor),this.senspos=this.pas>=0;const r=this;this.timer=setInterval((function(){r.actionPourZoom()}),100)},$500e14de0230e998326730e15f80064b$export$default.prototype.actionPourZoom=function(){const e=this.zoomfactor+this.pas;this.doc.animationEnCours&&(this.senspos&&e<this.zoomfin||!this.senspos&&e>this.zoomfin)?this.setPosition(this.x,this.y,this.angle,e):(this.zoomfactor=this.zoomfin,this.positionne(),clearInterval(this.timer),this.doc.actionSuivante())},$500e14de0230e998326730e15f80064b$export$default.prototype.positionne=function(){this.setPosition(this.x,this.y,this.angle,this.zoomfactor)},$2a75736bafdb21d9b88d356b838fe8bd$export$default.prototype=new $500e14de0230e998326730e15f80064b$export$default,$2a75736bafdb21d9b88d356b838fe8bd$export$default.prototype.initialisePosition=function(){$500e14de0230e998326730e15f80064b$export$default.prototype.initialisePosition.call(this),this.ecart=0,this.positionne()},$2a75736bafdb21d9b88d356b838fe8bd$export$default.prototype.creeg=function(){let e,t,r,i;const n=this.lon,o=this.longpointe,s=3.5,a=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g");this.bg=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),e.setAttribute("x1",0),e.setAttribute("y1",0),e.setAttribute("x2",0),e.setAttribute("y2",-o),e.setAttribute("style","stroke: black; stroke-width:1.5;"),this.bg.appendChild(e),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path"),r="M0 "+String(-o)+"L 0 "+String(-o-n)+" "+String(-7)+" "+String(-o-n)+" "+String(-7)+" "+String(-o)+"Z",t.setAttribute("d",r),t.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1"),this.bg.appendChild(t),i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle"),i.setAttribute("cx",-3.5),i.setAttribute("cy",-o-20),i.setAttribute("r",6),i.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1"),this.bg.appendChild(i),i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle"),i.setAttribute("cx",-3.5),i.setAttribute("cy",-o-20),i.setAttribute("r",2),i.setAttribute("style","stroke:black;stroke-width:1; fill: silver; fill-opacity: 1"),this.bg.appendChild(i),a.appendChild(this.bg),this.bd=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path"),r="M 0 0 L0 "+String(-o)+" "+"3.5 "+String(-o-s)+" "+"3.5 "+String(-6.5)+"Z",t.setAttribute("style","stroke:black;stroke-width:0.75; fill: blck; fill-opacity: 1"),t.setAttribute("d",r),this.bd.appendChild(t),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path"),r="M0 "+String(-o)+"L 0 "+String(-o-n)+" 7 "+String(-o-n)+" 7 "+String(-o)+"Z",t.setAttribute("d",r),t.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1"),this.bd.appendChild(t),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path");r="M7 "+String(-o-20+4.5)+"A 4.5 3 -90 0 0 7 "+String(-o-20-4.5)+"Z",t.setAttribute("style","stroke:black;stroke-width:1; fill: silver; fill-opacity: 1"),t.setAttribute("d",r),this.bd.appendChild(t);const c="stroke: black; stroke-width:1;";e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),e.setAttribute("x1",0),e.setAttribute("y1",-100),e.setAttribute("x2",7),e.setAttribute("y2",-93),e.setAttribute("style",c),this.bd.appendChild(e),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),e.setAttribute("x1",0),e.setAttribute("y1",-50),e.setAttribute("x2",7),e.setAttribute("y2",-50),e.setAttribute("style",c),this.bd.appendChild(e),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),e.setAttribute("x1",3.5),e.setAttribute("y1",-50),e.setAttribute("x2",3.5),e.setAttribute("y2",-73),e.setAttribute("style",c),this.bd.appendChild(e);const l=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"rect");l.setAttribute("x",7),l.setAttribute("y",-68),l.setAttribute("width",4),l.setAttribute("height",12),l.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1"),this.bd.appendChild(l),a.appendChild(this.bd),this.haut=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path"),r="M 0 0 L3 0 12 "+String(-24)+" "+"12 "+String(-35)+"A"+String(15)+" "+String(6)+" -90 0 1 6 "+String(-50)+"L3 "+String(-70)+" "+String(-3)+" "+String(-70)+"L"+String(-6)+" "+String(-50)+"A"+String(15)+" "+String(6)+" 90 0 1 "+String(-12)+" "+String(-35)+" L "+String(-12)+" "+String(-24)+" "+String(-3)+" 0Z",t.setAttribute("d",r),t.setAttribute("style","stroke:black;stroke-width:0.75; fill: #666666; fill-opacity: 1"),this.haut.appendChild(t),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),e.setAttribute("x1",6),e.setAttribute("y1",-50),e.setAttribute("x2",-6),e.setAttribute("y2",-50),e.setAttribute("style","stroke: black; stroke-width:1;"),this.haut.appendChild(e);const p=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"text");p.setAttribute("pointer-events","none"),p.appendChild(document.createTextNode("Sésamath")),p.setAttribute("x",0),p.setAttribute("y",0),p.setAttribute("style","font-family: Arial;font-size: 5pt;fill: white"),p.setAttribute("transform","rotate(-90) translate(4,2.5)"),this.haut.appendChild(p),i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle"),i.setAttribute("cx",-6),i.setAttribute("cy",-this.decbh),i.setAttribute("r",3),i.setAttribute("style","stroke:black;stroke-width:1; fill: white; fill-opacity: 1"),this.haut.appendChild(i),i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle"),i.setAttribute("cx",6),i.setAttribute("cy",-this.decbh),i.setAttribute("r",3),i.setAttribute("style","stroke:black;stroke-width:1; fill: white; fill-opacity: 1"),this.haut.appendChild(i),a.appendChild(this.haut),this.g=a},$2a75736bafdb21d9b88d356b838fe8bd$export$default.prototype.setPosition=function(e,t,r,i){let n;arguments.length>=4?(n=i,this.zoomfactor=n):n=this.zoomfactor,this.x=e,this.y=t,this.angle=r;const o=this.lon+this.longpointe;let s=this.ecart/(2*o*n);if(s>1&&(s=1),this.alp=Math.asin(s)/Math.PI*180,isNaN(this.alp))console.error(Error("dans compas.setPosition on a alp qui est NaN")),this.doc.debug&&console.log(`avec x=${e}, y=${t}, angle=${r} et zoom=${n} on a d=${o} et ecart=${this.ecart} asin(${this.ecart}/${2*o*n}/π*180) donne NaN`);else{this.bg.setAttribute("transform",`rotate(${this.alp})`),this.bd.setAttribute("transform",`translate(${this.ecart/n}, 0) rotate(${-this.alp})`);const i=this.alp/180*Math.PI,s=this.ecart/2/n,a=-o*Math.cos(i)+this.decbh;this.haut.setAttribute("transform",`translate(${s},${a})`);const c=this.bretourne?`scale(${n},${-n})`:`scale(${n})`;this.g.setAttribute("transform",`${c} translate(${e/n},${t/n}) rotate(${r})`)}},$2a75736bafdb21d9b88d356b838fe8bd$export$default.prototype.retourne=function(){this.bretourne=!this.bretourne,this.setPosition(this.x,this.y,this.angle)},$2a75736bafdb21d9b88d356b838fe8bd$export$default.prototype.positionne=function(){$500e14de0230e998326730e15f80064b$export$default.prototype.positionne.call(this),this.leve&&null!=this.doc.compasLeve&&$500e14de0230e998326730e15f80064b$export$default.prototype.positionne.call(this.doc.compasLeve)},$2a75736bafdb21d9b88d356b838fe8bd$export$default.prototype.translate=function(e,t){$500e14de0230e998326730e15f80064b$export$default.prototype.translate.call(this,e,t),this.leve&&null!=this.doc.compasLeve&&$500e14de0230e998326730e15f80064b$export$default.prototype.translate.call(this.doc.compasLeve,e,t)},$2a75736bafdb21d9b88d356b838fe8bd$export$default.prototype.lanceAnimationEcartement=function(e,t){this.ecartfin=parseFloat(e),this.pasecart=t/4,this.pasecart*=e>=this.ecart?1:-1,this.distecart=Math.abs(e-this.ecart);const r=this;this.timer=setInterval((function(){r.actionPourEcartement()}),25)},$2a75736bafdb21d9b88d356b838fe8bd$export$default.prototype.actionPourEcartement=function(){const e=this.ecart+this.pasecart,t=Math.abs(e-this.ecartfin);t>this.distecart||!this.doc.animationEnCours?(this.ecart=this.ecartfin,this.setPosition(this.x,this.y,this.angle),clearInterval(this.timer),this.doc.actionSuivante()):(this.distecart=t,this.ecart=e,this.setPosition(this.x,this.y,this.angle))},$5994c23ec903b14a953fc6c09af9d2c6$export$default.prototype=new $500e14de0230e998326730e15f80064b$export$default,$5994c23ec903b14a953fc6c09af9d2c6$export$default.prototype.creeg=function(){let e,t;const r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g");e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path"),t="M 0 0 L 131 0 L 0 "+String(-223)+" Z";const i="M 24 "+String(-31)+" L 24 "+String(-134.83969465648855)+" L "+String(85)+" "+String(-31)+" Z";t+=i,e.setAttribute("d",t),e.setAttribute("style","stroke:black;stroke-width:0.75; fill: #c6cbe8; fill-opacity: 0.5"),r.appendChild(e),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path"),t="M 16 "+String(-16)+" L 121.60089686098655 "+String(-16)+" L "+"16 "+"-195.76335877862596 Z",t+=i,e.setAttribute("d",t),e.setAttribute("style","stroke-width:0; fill: #c6cbe8; fill-opacity: 0.5"),r.appendChild(e);const n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"text");n.setAttribute("pointer-events","none"),n.appendChild(document.createTextNode("Sésamath")),n.setAttribute("x",24),n.setAttribute("y",-13),n.setAttribute("style","font-family: Arial;font-size: 8pt;font-weight:bold;fill: maroon"),r.appendChild(n),this.g=r},$dacdce52279b2811223ab7a7d775fbd7$export$default.prototype=new $500e14de0230e998326730e15f80064b$export$default,$dacdce52279b2811223ab7a7d775fbd7$export$default.prototype.creeg=function(){let e,t,r,i,n;const o=156,s=String(o),a=String(89),c=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g");for(t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path"),e="M "+s+" 0 A "+s+" "+s+" 0 0 0 -"+s+" 0 L -"+s+" "+"13 L "+s+" "+"13 L "+s+" 0",e+="M 0 0 L -"+a+" 0 A "+a+" "+a+" 0 0 1 "+a+" 0 Z",t.setAttribute("d",e),t.setAttribute("style","stroke:#999999;stroke-width:1; fill: #c6cbe8; fill-opacity: 0.5"),c.appendChild(t),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path"),e="M 7 0 A 7 7 0 0 0 -7 0 M 0 0 L 0 -7",t.setAttribute("d",e),t.setAttribute("style","stroke: #666666;stroke-width:1; fill: none"),c.appendChild(t),i=0;i<=180;i++)r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),r.setAttribute("x1",s),r.setAttribute("y1",0),r.setAttribute("x2",i%10==0?136:i%5==0?146:151),r.setAttribute("y2",0),r.setAttribute("transform","rotate(-"+i+")"),r.setAttribute("style","stroke: #333333;stroke-width:0.7;"),c.appendChild(r);for(this.gradext=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),i=0;i<=180;i++)i%10==0&&(n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"text"),n.setAttribute("pointer-events","none"),n.appendChild(document.createTextNode(i)),n.setAttribute("x",0),n.setAttribute("y",0),n.setAttribute("style","font-family: arial;font-size: 10px;text-anchor: middle; fill: black"),n.setAttribute("transform"," scale(-1) rotate("+String(-i-90)+") translate(0,"+String(-124)+")"),this.gradext.appendChild(n));c.appendChild(this.gradext);for(t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path"),e="M "+String(120)+" 0 L "+"116 0 A "+"116 "+"116 0 0 0 -"+"116 0 L "+String(-120)+" 0",t.setAttribute("d",e),t.setAttribute("style","stroke: #666666;stroke-width:1; fill: none"),c.appendChild(t),i=0;i<=18;i++)r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),r.setAttribute("x1",89),r.setAttribute("y1",0),r.setAttribute("x2",99),r.setAttribute("y2",0),r.setAttribute("transform","rotate(-"+String(10*i)+")"),r.setAttribute("style","stroke: #333333;stroke-width:0.7;"),c.appendChild(r);for(this.gradint=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),i=0;i<=18;i++)n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"text"),n.setAttribute("pointer-events","none"),n.appendChild(document.createTextNode(180-10*i)),n.setAttribute("x",0),n.setAttribute("y",0),n.setAttribute("style","font-family: arial;font-size: 9px;text-anchor: middle; fill: black"),n.setAttribute("transform","scale(-1) rotate("+String(-10*i-90)+") translate(0,"+String(-103)+")"),this.gradint.appendChild(n);c.appendChild(this.gradint);const l=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle");l.setAttribute("cx",0),l.setAttribute("cy",0),l.setAttribute("r",2),l.setAttribute("style","stroke: black; stroke-width: 1;fill: none"),c.appendChild(l),n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"text"),n.setAttribute("pointer-events","none"),n.appendChild(document.createTextNode("Sésamath")),n.setAttribute("x",0),n.setAttribute("y",11),n.setAttribute("style","font-family: sans-serif;font-size: 7pt;font-weight:bold;text-anchor: middle; fill: maroon"),c.appendChild(n),this.g=c},$dacdce52279b2811223ab7a7d775fbd7$export$default.prototype.montreGraduations=function(e){this.graduationInterneVisible=!0,this.visible&&this.gradint.setAttribute("visibility",e?"visible":"hidden")},$dacdce52279b2811223ab7a7d775fbd7$export$default.prototype.montreGraduationsExternes=function(e){this.graduationExterneVisible=!0,this.visible&&this.gradext.setAttribute("visibility",e?"visible":"hidden")},$dacdce52279b2811223ab7a7d775fbd7$export$default.prototype.montre=function(e){$500e14de0230e998326730e15f80064b$export$default.prototype.montre.call(this,e),e?(this.gradint.setAttribute("visibility",this.graduationInterneVisible?"visible":"hidden"),this.gradext.setAttribute("visibility",this.graduationExterneVisible?"visible":"hidden")):(this.gradint.setAttribute("visibility","hidden"),this.gradext.setAttribute("visibility","hidden"))},$44c6cb157b80e0cd1cae41c7d4840b7f$export$default.prototype=new $500e14de0230e998326730e15f80064b$export$default,$44c6cb157b80e0cd1cae41c7d4840b7f$export$default.prototype.creeg=function(){let e,t;const r=30*this.longueur+15,i=String(57),n=String(6),o=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"rect");s.setAttribute("x",-n-1),s.setAttribute("y",0),s.setAttribute("width",String(r+6+1)),s.setAttribute("height",i),s.setAttribute("rx",n),s.setAttribute("ry",n),s.setAttribute("style","stroke:#999999;stroke-width:2; fill: #c6cbe8; fill-opacity: 0.5;"),o.appendChild(s);const a=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line");a.setAttribute("x1",-n),a.setAttribute("y1",27),a.setAttribute("x2",r),a.setAttribute("y2",27),a.setAttribute("style","stroke:#999999;stroke-width:2;"),o.appendChild(a),this.graduations=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g");for(let r=0;r<=10*this.longueur;r++){e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line");const i=3*r;e.setAttribute("x1",i),e.setAttribute("y1",0),e.setAttribute("x2",i),e.setAttribute("y2",r%10==0?12:r%5==0?9:6),r%10==0&&(t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"text"),t.setAttribute("pointer-events","none"),t.appendChild(document.createTextNode(String(r/10))),t.setAttribute("x",i),t.setAttribute("y",21),t.setAttribute("style","font-family: monospace;font-size: 9pt;text-anchor:middle"),this.graduations.appendChild(t)),e.setAttribute("style","stroke:black;stroke-width:0.7;"),this.graduations.appendChild(e)}t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"text"),t.setAttribute("pointer-events","none"),t.appendChild(document.createTextNode("Sésamath")),t.setAttribute("x",r/2-6-3),t.setAttribute("y",i-5),t.setAttribute("style","font-family: Arial;font-size: 8pt;font-weight:bold;fill: maroon;text-anchor:middle;"),o.appendChild(t),o.appendChild(this.graduations),this.g=o},$44c6cb157b80e0cd1cae41c7d4840b7f$export$default.prototype.montreGraduations=function(e){this.graduationVisible=e,this.graduations.setAttribute("visibility",this.visible&&e?"visible":"hidden")},$44c6cb157b80e0cd1cae41c7d4840b7f$export$default.prototype.montre=function(e){$500e14de0230e998326730e15f80064b$export$default.prototype.montre.call(this,e),e?this.graduations.setAttribute("visibility",this.graduationVisible?"visble":"hidden"):this.graduations.setAttribute("visibility","hidden")},$44c6cb157b80e0cd1cae41c7d4840b7f$export$default.prototype.initialisePosition=function(){if(15!==this.longueur){this.longueur=15;const e=this.visible,t=this.g;this.creeg(),this.g.setAttribute("visibility",e?"visible":"hidden"),this.doc.svg.replaceChild(this.g,t)}$500e14de0230e998326730e15f80064b$export$default.prototype.initialisePosition.call(this)},$e9bc90e36c517b0449133dbb9fda88f3$export$default.prototype=new $500e14de0230e998326730e15f80064b$export$default,$e9bc90e36c517b0449133dbb9fda88f3$export$default.prototype.creeg=function(){let e,t;const r=172,i=57,n="stroke:#999999;stroke-width:2; fill: #c6cbe8; fill-opacity: 0.5",o=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g");e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path"),t="M 0 0 L "+String(167)+" 0 A 5 5 0 0 1 "+String(r)+" 5 L "+String(r)+" "+String(52)+" A 5 5 90 0 1 "+String(167)+" "+String(i)+" L "+String(-251)+" "+"57 A 5 5 180 0 1 -"+"256 "+String(52)+" L "+String(-256)+" 5 A 5 5 -90 0 1 "+String(-251)+" 0Z";const s="M"+String(158)+" 42A 6 6 180 0 0 "+String(146)+" "+String(42)+"A 6 6 180 0 0 "+String(158)+" "+String(42);t+=s,e.setAttribute("d",t),e.setAttribute("style",n),o.appendChild(e),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path"),t="M"+String(r)+" "+String(16)+"L"+String(r)+" "+String(52)+" A 5 5 90 0 1 "+String(167)+" "+String(i)+" L "+String(-251)+" "+"57 A 5 5 180 0 1 -"+"256 "+String(52)+" L "+String(-256)+" "+String(16)+"Z"+s,e.setAttribute("d",t),e.setAttribute("style",n),o.appendChild(e);const a=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line");a.setAttribute("x1",0),a.setAttribute("y1",8),a.setAttribute("x2",0),a.setAttribute("y2",0),a.setAttribute("style","stroke: black"),o.appendChild(a);const c={};$5994c23ec903b14a953fc6c09af9d2c6$export$default.prototype.creeg.call(c),this.gequerre=c.g,this.gequerre.setAttribute("transform","scale(0.7)"),o.appendChild(this.gequerre),this.setAbs(this.abscisse),this.g=o},$e9bc90e36c517b0449133dbb9fda88f3$export$default.prototype.setAbs=function(e){this.abscisse=e,this.gequerre.setAttribute("transform","translate("+e+",0)")},$e9bc90e36c517b0449133dbb9fda88f3$export$default.prototype.lanceAnimationGlissement=function(e,t){this.absfin=e,this.pix=e>=this.abscisse?t/4:-t/4,this.dist=Math.abs(e-this.abscisse);const r=this;this.timer=setInterval((function(){r.actionPourGlissement()}),25)},$e9bc90e36c517b0449133dbb9fda88f3$export$default.prototype.actionPourGlissement=function(){const e=this.abscisse+this.pix,t=Math.abs(this.absfin-e);t>this.dist||!this.doc.animationEnCours?(this.setAbs(this.absfin),clearInterval(this.timer),this.doc.actionSuivante()):(this.dist=t,this.setAbs(e))},$83c5d60fdea57331b5b88ac508615d1b$export$default.prototype=new $500e14de0230e998326730e15f80064b$export$default,$83c5d60fdea57331b5b88ac508615d1b$export$default.prototype.angleInit=function(){return-40},$83c5d60fdea57331b5b88ac508615d1b$export$default.prototype.creeg=function(){let e,t,r,i,n;const o=4.5,s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g");e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"defs"),i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"linearGradient"),i.setAttribute("id","gradpointe"),n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"stop"),n.setAttribute("offset","0%"),n.setAttribute("style","stop-color: #f00000;"),i.appendChild(n),n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"stop"),n.setAttribute("offset","50%"),n.setAttribute("style","stop-color: #eeb444;"),i.appendChild(n),n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"stop"),n.setAttribute("offset","100%"),n.setAttribute("style","stop-color: #f00000"),i.appendChild(n),i.setAttribute("x1","0%"),i.setAttribute("y1","0%"),i.setAttribute("x2","0%"),i.setAttribute("y2","100%"),e.appendChild(i),s.appendChild(e),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"defs"),i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"linearGradient"),i.setAttribute("id","gradcorps"),n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"stop"),n.setAttribute("offset","0%"),n.setAttribute("style","stop-color: #810216;"),i.appendChild(n),n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"stop"),n.setAttribute("offset","25%"),n.setAttribute("style","stop-color: #c64f00;"),i.appendChild(n),n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"stop"),n.setAttribute("offset","50%"),n.setAttribute("style","stop-color: #ab4a36"),i.appendChild(n),n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"stop"),n.setAttribute("offset","75%"),n.setAttribute("style","stop-color: #c64f00;"),i.appendChild(n),n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"stop"),n.setAttribute("offset","100%"),n.setAttribute("style","stop-colr: #810216;"),i.appendChild(n),i.setAttribute("x1","0%"),i.setAttribute("y1","0%"),i.setAttribute("x2","0%"),i.setAttribute("y2","100%"),e.appendChild(i),s.appendChild(e),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path");const a=1.5,c=1.125,l="A1.5 1.125 -90 0 0 15 "+String(a)+"A"+"1.5 "+c+" -90 0 1 15 "+String(-a)+"A"+"1.5 "+c+" -90 0 0 15 "+String(-4.5);r="M 0 0 L15 4.5"+l+"Z",t.setAttribute("d",r),t.setAttribute("style","stroke:black; stroke-width:0.5; fill: url(#gradpointe); fill-opacity: 1;"),s.appendChild(t),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path"),r="M 0 0 L 3 0.9 3 "+String(-.9)+"Z",t.setAttribute("d",r),t.setAttribute("style","stroke:black; stroke-width:0.5; fill: black; fill-opacity: 1;"),s.appendChild(t),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path"),r="M 15 4.5"+l+" L 97 "+String(-4.5)+" L 97 "+String(o)+"Z",t.setAttribute("d",r),t.setAttribute("style","stroke:black; stroke-width:0.5; fill: url(#gradcorps); fill-opacity: 1;"),s.appendChild(t);const p=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle");p.setAttribute("r",o),p.setAttribute("cx",97),p.setAttribute("cy",0),p.setAttribute("style","stroke:blue; stroke-width:0.5; fill: blue; fill-opacity: 1;"),s.appendChild(p),this.g=s},$405c8a57e5c27ce3399d17942b700f8c$export$default.prototype.setReady=function(){this.isReady=!0},$405c8a57e5c27ce3399d17942b700f8c$export$default.prototype.creegElement=function(){},$405c8a57e5c27ce3399d17942b700f8c$export$default.prototype.actionVisible=function(){return!0},$2675e219ffee9e37dbdd41f5f94cfac4$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$2675e219ffee9e37dbdd41f5f94cfac4$export$default.prototype.execute=function(e){const t=this.doc.compas,r=this.doc.compasLeve;t.leve&&(r.montre(!1),t.setPosition(r.x,r.y,r.angle)),!e&&t.visible&&t.montre(!0),t.leve=!1,e||this.doc.actionSuivante(e)},$2675e219ffee9e37dbdd41f5f94cfac4$export$default.prototype.actionVisible=function(){return!!this.doc.getInstrumentVisibility(this.doc.compas.compas,this.indice-1)&&"leve"===this.doc.getCompasStatus(this.indice-1)},$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.prototype.positionne=function(){},$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.prototype.initialisePosition=function(){},$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.prototype.translate=function(e,t){this.setPosition(e,t,this.angle,this.zoomfactor)},$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.prototype.tourne=function(e){this.setPosition(this.x,this.y,e,this.zoomfactor)},$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.prototype.zoom=function(e){this.zoomfactor=e,this.setPosition(this.x,this.y,this.angle,e)},$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.prototype.montre=function(e){this.visible=e,this.g&&this.g.setAttribute("visibility",e?"visible":"hidden")},$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.prototype.lanceAnimationTranslation=function(e,t,r){this.xfin=e,this.yfin=t,this.pix=Math.abs(r/4);const i=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(this.x,this.y,e,t);if(this.dist=i.norme(),0===this.dist)return this.translate(this.xfin,this.yfin),void this.doc.actionSuivante();this.vect=i.vecteurColineaire(this.pix);const n=this;this.timer=setInterval((function(){n.actionPourTranslation()}),25)},$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.prototype.actionPourTranslation=function(){const e=this.x+this.vect.x,t=this.y+this.vect.y,r=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(e,t,this.xfin,this.yfin).norme();r>this.dist||!this.doc.animationEnCours?(this.translate(this.xfin,this.yfin),clearInterval(this.timer),this.doc.actionSuivante()):(this.dist=r,this.translate(e,t))},$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.prototype.lanceAnimationRotation=function(e,t){const r=$4ccb1c775623de70995d27434bf557c7$export$mesurePrincDeg(this.angle);let i=$4ccb1c775623de70995d27434bf557c7$export$mesurePrincDeg(e);Math.abs(i-r)>180&&(i>r?i-=360:i+=360),this.anglefin=i,this.angle=r,this.pasdeg=2*t/3,this.pasdeg*=e>=this.angle?1:-1,this.distang=Math.abs(e-this.angle);const n=this;this.timer=setInterval((function(){n.actionPourRotation()}),25)},$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.prototype.actionPourRotation=function(){const e=parseFloat(this.angle)+parseFloat(this.pasdeg),t=Math.abs(e-this.anglefin);t>this.distang||!this.doc.animationEnCours?(this.tourne(this.anglefin),clearInterval(this.timer),this.doc.actionSuivante()):(this.distang=t,this.tourne(e))},$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.prototype.lanceAnimationZoom=function(e,t){this.zoomfin=e,this.vitesse=parseInt(t),this.pas=.05*this.vitesse*(this.zoomfin-this.zoomfactor),this.senspos=this.pas>=0;const r=this;this.timer=setInterval((function(){r.actionPourZoom()}),100)},$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.prototype.actionPourZoom=function(){const e=this.zoomfactor+this.pas;this.doc.animationEnCours&&(this.senspos&&e<this.zoomfin||!this.senspos&&e>this.zoomfin)?this.zoom(e):(this.zoom(this.zoomfin),clearInterval(this.timer),this.doc.actionSuivante())},$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.prototype.updateg=function(){const e=this.g;this.creeg(),this.doc.svg.replaceChild(this.g,e),this.doc.setElement(this.id,this),this.g.setAttribute("visibility","visible")},$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.prototype.creationAnimee=function(){return!1},$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.prototype.finAction=function(){},$9189717a43893a6f4a4f0fcc6d315f49$export$default.prototype=new $d9027120c2fc7bb06ea47a3cfffcdc4c$export$default,$9189717a43893a6f4a4f0fcc6d315f49$export$default.prototype.positionne=function(){this.setPosition(this.x,this.y,this.angle,this.zoomfactor)},$9189717a43893a6f4a4f0fcc6d315f49$export$default.prototype.translate=function(e,t){this.x=e,this.y=t,this.positionne()},$9189717a43893a6f4a4f0fcc6d315f49$export$default.prototype.updateg=function(e){const t=this.g;if(!t)return console.error("Il faut appeler creeg avant updateg");this.doc.svg.replaceChild(e,t),this.g=e,e.setAttribute("visibility","visible")},$9189717a43893a6f4a4f0fcc6d315f49$export$default.prototype.creeg=function(){this.g=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g")},$9189717a43893a6f4a4f0fcc6d315f49$export$default.prototype.setPosition=function(e,t,r,i){this.x=e,this.y=t,this.angle=r,this.zoomfactor=i;const n=t+$4ccb1c775623de70995d27434bf557c7$export$getTaille(this);this.g.setAttribute("transform","scale("+i+") translate("+String(e/i)+","+String(n/i)+") rotate("+r+")")},$d1f410cbd3c3583af4060be9f57fa684$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$d1f410cbd3c3583af4060be9f57fa684$export$default.prototype.execute=function(e){this.objet instanceof $9189717a43893a6f4a4f0fcc6d315f49$export$default&&(this.objet.x=this.objet.xinit,this.objet.y=this.objet.yinit),null!==this.objetRemplace&&this.objetRemplace.montre(!1),this.objet.creationAnimee()&&!e?this.objet.lanceAnimation(this.vitesse):(this.objet.montre(!0),e?this.objet.finAction():this.doc.actionSuivante())},$d1f410cbd3c3583af4060be9f57fa684$export$default.prototype.creegElement=function(){const e=this.doc,t=this.objet;t.creeg(),t.positionne(),t.g.setAttribute("visibility","hidden"),e.svg.appendChild(t.g)},$d1f410cbd3c3583af4060be9f57fa684$export$default.prototype.actionVisible=function(){return!(this.objet instanceof $9189717a43893a6f4a4f0fcc6d315f49$export$default)},$dac037a4adbecfe3b98d8e7b81a917fe$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$dac037a4adbecfe3b98d8e7b81a917fe$export$default.prototype.execute=function(e){e?(this.doc.compas.ecart=this.ecartement,this.doc.compas.positionne()):this.doc.compas.lanceAnimationEcartement(this.ecartement,this.ec10)},$dac037a4adbecfe3b98d8e7b81a917fe$export$default.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.doc.compas,this.indice-1)};const $291f37d0f47b7105b909d955da0ff22c$var$loadDelay=10,$291f37d0f47b7105b909d955da0ff22c$var$mathJaxUrl="https://www.mathgraph32.org/js/MathJax3/es5/tex-svg.js",$291f37d0f47b7105b909d955da0ff22c$var$mathJaxConfig={tex:{inlineMath:[["$","$"],["\\(","\\)"]],packages:{"[+]":["color"]}},svg:{mtextInheritFont:!0},options:{ignoreHtmlClass:"tex2jax_ignore",processHtmlClass:"tex2jax_process"},loader:{load:["[tex]/noerrors","[tex]/color"]}};let $291f37d0f47b7105b909d955da0ff22c$var$mathJaxLoadingPromise;function $291f37d0f47b7105b909d955da0ff22c$export$default(){return $291f37d0f47b7105b909d955da0ff22c$var$mathJaxLoadingPromise||($291f37d0f47b7105b909d955da0ff22c$var$mathJaxLoadingPromise=new Promise(((e,t)=>{if("object"==typeof MathJax&&/^3\./.test(MathJax.version))return MathJax.config=$291f37d0f47b7105b909d955da0ff22c$var$mathJaxConfig,e();window.MathJax=$291f37d0f47b7105b909d955da0ff22c$var$mathJaxConfig,MathJax.startup={ready:()=>{clearTimeout(i),MathJax.startup.defaultReady(),MathJax.startup.promise.then((()=>{e()}))}};const r=document.createElement("script");r.type="text/javascript",r.crossOrigin="anonymous",r.src=$291f37d0f47b7105b909d955da0ff22c$var$mathJaxUrl;document.getElementsByTagName("head")[0].appendChild(r);const i=setTimeout((()=>{t(Error(`Mathjax non chargé après ${$291f37d0f47b7105b909d955da0ff22c$var$loadDelay}s d’attente`))}),1e3*$291f37d0f47b7105b909d955da0ff22c$var$loadDelay)})),$291f37d0f47b7105b909d955da0ff22c$var$mathJaxLoadingPromise)}function $51d2e2dc1807000025258951974a840f$export$default(e,t,r,i,n,o,s,a,c,l,p,u,f,d,h,b){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,b),this.txt=this.doc.getElement(t,"texte"),this.id=t,this.couleur=r,this.taille=null==i?"20":i.replace(/O/g,"0"),this.style=null===o?"texte":o,this.couleurFond=s,this.opaciteFond=null==a?"0.6":parseFloat(a)/100,this.couleurCadre=c,null!==l&&null===c&&(this.couleurCadre=r),this.epaisseurCadre=null!=l?l:null==c?0:1,this.marge=null==p?0:parseFloat(p),this.margeGauche=null==u?0:parseFloat(u),this.margeDroite=null==f?0:parseFloat(f),this.margeHaut=null==d?0:parseFloat(d),this.margeBas=null==h?0:parseFloat(h),this.texte=n,this.estLatex=this.estAffichageLatex(),this.estLatex||(this.texte=$4ccb1c775623de70995d27434bf557c7$export$remplaceBalises($4ccb1c775623de70995d27434bf557c7$export$remplaceCarSpe(this.texte)),this.texte=this.traduitCaracteresGrecs(this.texte),this.texte=this.texte.replace(/\*/g,"×"),$4ccb1c775623de70995d27434bf557c7$export$necessiteLatex(n)&&(this.texte="$"+this.traiteMaths(this.texte)+"$",this.estLatex=!0))}function $c9a20e17d27091f470ba2c72d7523bdf$export$default(e,t,r,i){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,r),this.abscisseFin=parseFloat(t),this.pix10=null===i?8:String(Math.abs(i))}function $e1779f2e33b1e4db6a7af28eefe70e6f$export$default(e,t,r,i,n){$500e14de0230e998326730e15f80064b$export$default.call(this,e);const o=null==e.compasLeve?null:e.compasLeve.g;this.x=t,this.y=r,this.angle=i,this.ecart=n,this.creeg(),this.g.setAttribute("visibility","hidden"),this.setPosition(t,r,i),null==o?e.svg.appendChild(this.g):e.svg.replaceChild(this.g,o)}function $d48d387c7a379bfe73ae0845cfcd7780$export$default(e,t){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,t)}function $5920b60656ecb85011945805243b432b$export$default(e,t,r,i){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,i),this.objet=this.doc.getElement(t,r)}function $f8ebc7b7acda60d9e88c902912e35ed2$export$default(e,t,r){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,r),this.instrument=t}function $a115ede9b3477b65b0b425d073906351$export$default(e,t,r,i){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,i),this.instrument=t,this.longueur=r}function $18a6aedfc9b129e048b6026eef1d6444$export$default(e,t,r,i){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,i),this.objet=this.doc.getElement(t,r)}function $c053d1d01670c02741f0d55e502481d1$export$default(e,t,r,i){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,i),this.instrument=t,this.bmontrer=r}function $12bbd78c786936e6c3fbd47136a3fe9d$export$default(e,t,r,i,n){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,n),this.x=null===r?null:parseFloat(r),this.y=null===i?null:parseFloat(i),this.instrument=t}function $199563b09aedceef58375d06c2637d71$export$default(e,t,r){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,r),this.bmontrer=t}function $52d47b308c972c4dcbaed11ff87588c6$export$default(e,t,r){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,r),this.nomPoint=t}function $cb39a37f196d3ca74ea5a4613642b07d$export$default(e,t){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,t)}function $d44a50b2edbb241102aea81b310fe401$export$default(e,t,r,i,n){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,i),this.instrument=t,this.anglefin=parseFloat(r),this.deg10=null==n?8:Math.abs(parseFloat(n))}function $c850f43a817bbcdb4d21b3e3f478a7c7$export$default(e,t){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,t)}function $cc177e37ce66511216f87a3907098258$export$default(e,t,r,i,n,o){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,n),this.anglefin=parseFloat(r),this.deg10=null==o?8:Math.abs(parseFloat(o)),this.objet=this.doc.getElement(t,i)}function $861a10875edcc6d390cbc80c3865b997$export$default(e,t,r,i,n,o){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,n),this.instrument=t,this.xfin=parseFloat(r),this.yfin=parseFloat(i),this.pix10=null==o?8:parseFloat(o)}function $db29786774d8e11a24f138f8e96d09e7$export$default(e,t,r,i,n,o,s){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,o),this.xfin=parseFloat(r),this.yfin=parseFloat(i),this.pix10=null==s?8:parseFloat(s),this.type=n,this.objet=this.doc.getElement(t,n)}function $acd8d7b1c75884b7d440a4188084e5d4$export$default(e,t,r,i,n){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,i),this.instrument=t,this.zoomfin=parseFloat(r)/100,this.vitesse=parseInt(n)}function $2bab84df5a9d4398afa19f0ca6e71247$export$default(e,t,r,i,n,o){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,n),this.objet=this.doc.getElement(t,i),this.zoomfin=parseFloat(r)/100,this.vitesse=o,this.type=i}function $8f4a0830bf0e24198de7d3215d2dd19c$export$default(e,t,r,i,n,o){$405c8a57e5c27ce3399d17942b700f8c$export$default.call(this,e,n),this.rayFin=parseFloat(r),this.pix10=null==o?8:parseFloat(o),this.type=i,this.objet=this.doc.getElement(t,i)}function $6f71d9c815a62557961554772f94ac8e$export$default(e,t,r,i,n,o){$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.call(this,e,t,r),this.epaisseur=i,this.opacite=arguments.length>=5?n:"100",this.styleTrait=arguments.length>=6?o:"continu";const s=parseFloat(this.opacite/100);this.style="stroke:"+r+";stroke-width:"+i+";stroke-opacity:"+s+";stroke-linecap:round;","tiret"===this.styleTrait&&(this.style+="stroke-dasharray:10 8 10;")}function $ae0332acb24a132facf7d509e7e68e85$export$default(e,t,r,i,n,o,s,a,c,l,p){this.x=parseFloat(r),this.y=parseFloat(i),this.ray=parseFloat(n),this.ang1=parseFloat(o),this.ang2=parseFloat(s),this.motif=null==p?"simple":p,$6f71d9c815a62557961554772f94ac8e$export$default.call(this,e,t,a,c,1),this.opaciteRemplissage=null==l?.7:parseFloat(l)/100,this.objet="angle"}function $5f37ecd008f7a1222b91e555020b6677$export$default(e,t,r,i,n,o,s,a){this.xsommet=parseFloat(r),this.ysommet=parseFloat(i),this.xinter=parseFloat(n),this.yinter=parseFloat(o),$6f71d9c815a62557961554772f94ac8e$export$default.call(this,e,t,s,a,100),this.objet="angle_droit"}function $fe546ecebfbf8f55fa5d8d1d2f4504aa$export$default(e,t,r,i,n,o,s,a,c,l,p){this.x=parseFloat(r),this.y=parseFloat(i),this.ray=parseFloat(n),this.debut=parseFloat(o),this.fin=parseFloat(s),$6f71d9c815a62557961554772f94ac8e$export$default.call(this,e,t,a,c,l,p)}function $b802f63ead59964eee0da1616b4226dc$export$default(e,t,r,i,n,o,s,a,c,l){$6f71d9c815a62557961554772f94ac8e$export$default.call(this,e,t,s,a,l,"continu"),this.x=parseFloat(r),this.y=parseFloat(i),this.ray=null===n?10:parseFloat(n),this.ecartAngle=parseFloat(o),this.couleur=s,this.couleurFond=null===c?s:c,this.angle=0,this.objet="gabarit"}function $0b008515394848e67298dbb88f70b0bf$export$default(e,t,r,i,n,o,s,a,c,l){$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.call(this,e,"axeIEP",l),this.pente=null==t?"horizontal":t,this.largeur=r,this.haut=null==i?0:parseFloat(i),this.gauche=null==n?0:parseFloat(n),this.distanceBord=parseFloat(o),this.xgrad=s,this.xmin=a,this.xmax=c,this.cadre={},this.cadre.gauche=30*this.gauche,this.cadre.haut=30*this.haut,this.width=30*r,this.cadre.droite=this.gauche+this.width,this.cadre.bas=this.haut+this.width}function $3de580dca3e4dd34a9c87d6cfec113db$export$default(e,t,r,i,n,o,s,a,c,l){this.x1=parseFloat(r),this.y1=parseFloat(i),this.x2=parseFloat(n),this.y2=parseFloat(o),$6f71d9c815a62557961554772f94ac8e$export$default.call(this,e,t,s,a,c,l)}function $176c86c4e5933ea105543d6f65b69d29$export$default(e,t,r,i,n,o,s,a,c,l){$3de580dca3e4dd34a9c87d6cfec113db$export$default.call(this,e,t,r,i,n,o,s,a,c,l)}function $92898b11c7a9649464fdcc6a53665d33$export$default(e,t,r,i,n,o,s,a,c,l){$176c86c4e5933ea105543d6f65b69d29$export$default.call(this,e,t,r,i,n,o,s,a,c,l)}function $c19e2ebf8ba33b561803b9aa1e688d5f$export$default(e,t,r){this.doc=e,this.id=t,this.url=r,this.x=0,this.y=0,this.angle=0,this.objet="image",this.zoomfactor=1}function $193fbe108c2952baa0a90f2b56e67393$export$default(e,t,r,i,n,o,s,a,c,l){$6f71d9c815a62557961554772f94ac8e$export$default.call(this,e,t,s,a,c,l),this.xdeb=r,this.ydeb=i,this.abs=n.split(","),this.ord=o.split(","),this.objet="trait"}function $d52ee22372a7bce109cf9f3cb951d282$export$default(e,t,r,i,n,o,s){this.x=parseFloat(r),this.y=parseFloat(i),this.motif=s,$6f71d9c815a62557961554772f94ac8e$export$default.call(this,e,t,n,o,100),this.objet="longueur"}function $f94bab3f055e6068e89e3c90b4b560ea$export$default(e,t,r,i,n,o,s,a,c,l,p){$3de580dca3e4dd34a9c87d6cfec113db$export$default.call(this,e,t,r,i,n,o,s,a,c,l),this.stylefleche=p}function $ae46a62e03df0b9fd0444ac045dfa466$export$default(e,t,r,i,n,o,s){this.idSeg=r,this.motif=o,this.rayon=null!==s?s:"5",$6f71d9c815a62557961554772f94ac8e$export$default.call(this,e,t,i,n,100),this.objet="marque"}$51d2e2dc1807000025258951974a840f$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$51d2e2dc1807000025258951974a840f$export$default.prototype.execute=function(e){if(null!=this.txt){this.angle=0;const e=this.txt;e.couleur=this.couleur,e.taille=this.taille,e.texte=this.texte,e.couleurFond=this.couleurFond,e.couleurCadre=this.couleurCadre,e.epaisseurCadre=this.epaisseurCadre,e.updateg(this.g),e.positionne()}e||this.doc.actionSuivante(e)},$51d2e2dc1807000025258951974a840f$export$default.prototype.estAffichageLatex=function(){return"$"===this.texte.charAt(0)&&"$"===this.texte.charAt(this.texte.length-1)},$51d2e2dc1807000025258951974a840f$export$default.prototype.traduitCaracteresGrecs=function(e){if(!e.includes("£"))return e;const t=e.split("£").map(((e,t)=>t%2?$de81623d6237f559ae5ac14db397c013$export$caracteresGrecs[e]||`£${e}£`:e)).join("");return(e.length-e.replace(/£/g,"").length)%2?(console.warn(`Il y a un nombre impair de £ dans cette chaîne : ${e}`),t.substr(0,t.length-1)):t},$51d2e2dc1807000025258951974a840f$export$default.prototype.traiteMaths=function(e){let t;const r=e,i="texte"===this.style,n=r.split(/<\/?br *\/?>/gi);if(n.length<=1)return $4ccb1c775623de70995d27434bf557c7$export$getMaths(e,i);let o="\\begin{array}{l}";for(t=0;t<n.length;t++)0!==t&&(o+="\\\\"),o+=$4ccb1c775623de70995d27434bf557c7$export$getMaths(n[t],i);return o+="\\end{array}",o},$51d2e2dc1807000025258951974a840f$export$default.prototype.prepare=function(){let e;if(this.estLatex&&(e=this.texte.replace(/^\$(.*)\$$/,"$1"),e||(console.error(Error("texte latex mais pas enveloppé de $, ignoré"),this.texte),this.estLatex=!1)),this.estLatex){const t=this;$291f37d0f47b7105b909d955da0ff22c$export$default().then((()=>{const r=t.doc.getWidth(),i=t.taille,n=t.prelatex()+e;t.ex=.45*i;const o={em:i,ex:t.ex,containerWidth:r,display:!1};return t.doc.debug&&console.log("On passe à MathJax la string",n),MathJax.tex2svgPromise(n,o)})).then((e=>{t.html=e,t.creegLatex(),t.setReady()})).catch((e=>{console.error(e),alert("Pb Mathjax, impossible d’afficher le LaTeX correctement")}))}else this.creeg(),this.setReady()},$51d2e2dc1807000025258951974a840f$export$default.prototype.prelatex=function(){return"\\color{"+this.couleur+"}"},$51d2e2dc1807000025258951974a840f$export$default.prototype.creegLatex=function(){try{const e=this.html.firstChild,t=e.cloneNode(!0),r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g");r.appendChild(t);const i=parseFloat(e.getAttribute("width"))*this.ex,n=parseFloat(e.getAttribute("height"))*this.ex,o=t.style["vertical-align"],s=(o&&parseFloat(o)||1)*this.ex;t.setAttribute("width",i+"px"),t.setAttribute("height",n+"px"),t.style["vertical-align"]=`${s}px`,t.setAttribute("x","0");const a=$4ccb1c775623de70995d27434bf557c7$export$getTaille(this);if(t.setAttribute("y",String(-a)),r.setAttribute("visibility","hidden"),null!==this.couleurFond||null!==this.couleurCadre){r.setAttribute("visibility","hidden"),this.doc.svg.appendChild(r),this.rectAff={};const e=parseFloat(this.epaisseurCadre),{x:t,y:i,width:n,height:o}=r.getBBox();this.rectAff.height=o+2*e+4+2*this.marge+this.margeHaut+this.margeBas,this.rectAff.width=n+2*e+2+2*this.marge+this.margeGauche+this.margeDroite,this.rectAff.x=t-e-1-this.marge-this.margeGauche,this.rectAff.y=i-e-1-this.marge-this.margeHaut,r.setAttribute("visibility","visible"),this.doc.svg.removeChild(r),this.creeRectangle(r,null==this.couleurFond?"white":this.couleurFond)}this.g=r}catch(e){console.error("Erreur dans ActionEcrireTexte.creegLatex (on remplace par un <g> vide) :",e),this.g=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g")}},$51d2e2dc1807000025258951974a840f$export$default.prototype.creeg=function(){let e,t,r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g=0;const x="<",v="£e(",y="£i(",_=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),E=$4ccb1c775623de70995d27434bf557c7$export$getTaille(this),k=E+2;let S=0;const w=.4*E;if(""!==this.texte){if(o=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"text"),o.setAttribute("pointer-events","none"),o.setAttribute("x",0),o.setAttribute("y",0),n="text-anchor:left;font-size:"+E+"px;fill:"+this.couleur+";",o.setAttribute("style",n),i=this.texte.replace(/ /g," "),-1===this.texte.indexOf(x)&&-1===this.texte.indexOf(v)&&-1===this.texte.indexOf(y)&&-1===this.texte.indexOf("<br>"))o.appendChild(document.createTextNode(i));else for(h=i.split(/<br>/gi),d=-k,b=0;b<h.length;b++)for($=!0,r=h[b];""!==r;){if(e=r.indexOf(x),a=r.indexOf(v),c=r.indexOf(y),$&&(d+=k+S),-1!==a&&(d+=w),-1===e&&-1===a&&-1===c){t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"tspan"),t.setAttribute("pointer-events","none"),t.setAttribute("dy",g),$&&(t.setAttribute("x",0),t.setAttribute("y",d),$=!1),g=0,t.appendChild(document.createTextNode(r)),o.appendChild(t);break}for(;-1!==r.indexOf(x)||-1!==r.indexOf(v)||-1!==r.indexOf(y);)if(e=r.indexOf(x),a=r.indexOf(v),c=r.indexOf(y),l=-1===e?-1===a?c:-1===c?a:Math.min(c,a):-1===a?-1===c?e:Math.min(e,c):-1===c?Math.min(e,a):Math.min(e,c,a),l>0)t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"tspan"),t.setAttribute("pointer-events","none"),t.setAttribute("dy",g),$&&(t.setAttribute("x",0),t.setAttribute("y",d),$=!1),g=0,t.appendChild(document.createTextNode(r.substring(0,l))),o.appendChild(t),r=r.substring(l);else if(0===e){const e=new $426a3896d86aa1d82f5286594dd21368$export$default(!1,!1,!1,this.couleur,"",E);s=$4ccb1c775623de70995d27434bf557c7$export$indiceFinBalise(r),$4ccb1c775623de70995d27434bf557c7$export$traiteBalise(-1===s?r:r.substring(0,s),e,o,$,d),$=!1,r=-1!==s?r.substring(s):"",g=0}else p=l===a,m=$4ccb1c775623de70995d27434bf557c7$export$analyseExposantOuIndice(r),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"tspan"),t.setAttribute("pointer-events","none"),t.setAttribute("dy",g+"px"),$&&(t.setAttribute("x",0),t.setAttribute("y",d),$=!1),m.erreur?t.appendChild(document.createTextNode(r)):(t.appendChild(document.createTextNode(m.operande)),o.appendChild(t),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"tspan"),t.setAttribute("pointer-events","none"),t.appendChild(document.createTextNode(m.exposant)),g=w,p?g=-g:S=g,t.setAttribute("dy",g+"px"),u=.6*E,f="font-size:"+u+"px;",t.setAttribute("style",f),o.appendChild(t),g=-g),r=m.texte}_.appendChild(o)}if(_.setAttribute("visibility","hidden"),null!=this.couleurFond||null!=this.couleurCadre){_.setAttribute("visibility","hidden"),this.doc.svg.appendChild(_),this.rectAff={};const e=parseFloat(this.epaisseurCadre);this.rectAff.height=_.getBBox().height+2*e+3+2*this.marge+this.margeHaut+this.margeBas,this.rectAff.width=_.getBBox().width+2*e+2+2*this.marge+this.margeGauche+this.margeDroite,this.rectAff.x=_.getBBox().x-e-1-this.marge-this.margeGauche,this.rectAff.y=_.getBBox().y-e-1-this.marge-this.margeHaut,_.setAttribute("visibility","visible"),this.doc.svg.removeChild(_),this.creeRectangle(_,null==this.couleurFond?"white":this.couleurFond)}this.g=_},$51d2e2dc1807000025258951974a840f$export$default.prototype.contientBalisesItaliqueOuUnderlineOuFontOuBold=function(e){return/<(u|b|i|font[^>]+)>/gi.test(e)},$51d2e2dc1807000025258951974a840f$export$default.prototype.creeRectangle=function(e,t){const r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"rect"),i="stroke-width:"+this.epaisseurCadre+"px;stroke:"+this.couleurCadre+";fill:"+t+";fill-opacity:"+this.opaciteFond+";";r.setAttribute("style",i),r.setAttribute("x",this.rectAff.x),r.setAttribute("y",this.rectAff.y),r.setAttribute("width",this.rectAff.width),r.setAttribute("height",this.rectAff.height),r.setAttribute("pointer-events","none"),e.insertBefore(r,e.childNodes[0])},$c9a20e17d27091f470ba2c72d7523bdf$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$c9a20e17d27091f470ba2c72d7523bdf$export$default.prototype.execute=function(e){e?(this.doc.requerre.setAbs(this.abscisseFin),this.doc.requerre.positionne()):this.doc.requerre.lanceAnimationGlissement(this.abscisseFin,this.pix10)},$c9a20e17d27091f470ba2c72d7523bdf$export$default.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.doc.requerre,this.indice-1)},$e1779f2e33b1e4db6a7af28eefe70e6f$export$default.prototype=new $500e14de0230e998326730e15f80064b$export$default,$e1779f2e33b1e4db6a7af28eefe70e6f$export$default.prototype.creeg=function(){let e,t,r;const i=this.ecart,n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g");this.ecart>16&&(e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"rect"),e.setAttribute("x",8),e.setAttribute("y",-3.5),e.setAttribute("width",this.ecart-16),e.setAttribute("height",7),e.setAttribute("rx",1),e.setAttribute("ry",1),e.setAttribute("style","stroke:black;stroke-width:0.5;fill:silver;fill-opacity:1"),n.appendChild(e)),r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path"),r.setAttribute("d","M0 0 L8 1 8 -1Z"),r.setAttribute("style","stroke:black;stroke-width:0.5;fill:black;fill-opacity:1"),n.appendChild(r);const o=i-16;t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",8),t.setAttribute("y1",0),t.setAttribute("x2",8+o/8),t.setAttribute("y2",0),t.setAttribute("style","stroke: black; stroke-width:0.5;"),n.appendChild(t),r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path");const s=String(i-8);r.setAttribute("d","M"+i+" 0 L"+s+" 1.5 "+s+" -1.5Z"),r.setAttribute("style","stroke:black;stroke-width:0.5;fill:black;fill-opacity:1"),n.appendChild(r),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",s),t.setAttribute("y1",0),t.setAttribute("x2",String(i-8-o/8)),t.setAttribute("y2",0),t.setAttribute("style","stroke: black; stroke-width:0.5;"),n.appendChild(t),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line");let a=String(i-8-o/8-2);t.setAttribute("x1",a),t.setAttribute("y1",-3.5),t.setAttribute("x2",a),t.setAttribute("y2",3.5),t.setAttribute("style","stroke: black; stroke-width:0.5;"),n.appendChild(t),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),a=String(i-8-o/3-2),t.setAttribute("x1",a),t.setAttribute("y1",-3.5),t.setAttribute("x2",a),t.setAttribute("y2",3.5),t.setAttribute("style","stroke: black; stroke-width:0.5;"),n.appendChild(t),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"rect"),e.setAttribute("x",String(8+o/8-5)),e.setAttribute("y",String(-7)),e.setAttribute("width",8),e.setAttribute("height",3),e.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1"),n.appendChild(e),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"rect"),e.setAttribute("x",String(i-8-o/8-4)),e.setAttribute("y",String(-7)),e.setAttribute("width",8),e.setAttribute("height",3),e.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1"),n.appendChild(e);const c=12;r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path");const l="M"+String(i/2+c)+" "+String(-4)+" A "+String(c)+" 2 180 0 0 "+String(i/2-c)+" "+String(-4)+"A"+String(4)+" 2 90 0 1 "+String(i/2-c)+" "+String(4)+"A"+String(c)+" 2 0 0 0 "+String(i/2+c)+" "+String(4)+"A"+String(4)+" 2 -90 0 1 "+String(i/2+c)+" "+String(-4);r.setAttribute("d",l),r.setAttribute("style","stroke:black;stroke-width:0.75; fill: #666666; fill-opacity: 1"),n.appendChild(r),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",String(i/2+c)),t.setAttribute("y1",-3.5),t.setAttribute("x2",String(i/2-c)),t.setAttribute("y2",3.5),t.setAttribute("style","stroke: black; stroke-width:0.5;"),n.appendChild(t),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",String(i/2-c)),t.setAttribute("y1",-3.5),t.setAttribute("x2",String(i/2+c)),t.setAttribute("y2",3.5),t.setAttribute("style","stroke: black; stroke-width:0.5;"),n.appendChild(t);const p=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle");p.setAttribute("cx",String(i/2)),p.setAttribute("cy",0),p.setAttribute("r",5),p.setAttribute("style","stroke:black;stroke-width:0.75; fill: #666666; fill-opacity: 1"),n.appendChild(p),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"rect"),e.setAttribute("x",String(8+o/8-5)),e.setAttribute("y",String(-7)),e.setAttribute("width",7),e.setAttribute("height",3),e.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1"),n.appendChild(e),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"rect"),e.setAttribute("x",String(i-8-o/8-4)),e.setAttribute("y",String(-7)),e.setAttribute("width",7),e.setAttribute("height",3),e.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1"),n.appendChild(e),this.g=n},$e1779f2e33b1e4db6a7af28eefe70e6f$export$default.prototype.setPosition=function(e,t,r){this.x=e,this.y=t,this.angle=r,this.g.setAttribute("transform","translate("+e+","+t+") rotate("+r+")")},$d48d387c7a379bfe73ae0845cfcd7780$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$d48d387c7a379bfe73ae0845cfcd7780$export$default.prototype.execute=function(e){const t=this.doc.compas;t.visible&&(t.montre(!1),t.visible=!0),this.doc.compasLeve=new $e1779f2e33b1e4db6a7af28eefe70e6f$export$default(this.doc,t.x,t.y,t.angle,t.ecart),!e&&t.visible&&this.doc.compasLeve.montre(!0),t.leve=!0,e||this.doc.actionSuivante(e)},$d48d387c7a379bfe73ae0845cfcd7780$export$default.prototype.actionVisible=function(){return!!this.doc.getInstrumentVisibility(this.doc.compas,this.indice-1)&&"couche"===this.doc.getCompasStatus(this.indice-1)},$5920b60656ecb85011945805243b432b$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$5920b60656ecb85011945805243b432b$export$default.prototype.execute=function(e){const t=this.objet;null!=t&&t.montre(!1),e||this.doc.actionSuivante(e)},$5920b60656ecb85011945805243b432b$export$default.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.objet,this.indice-1)},$f8ebc7b7acda60d9e88c902912e35ed2$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$f8ebc7b7acda60d9e88c902912e35ed2$export$default.prototype.execute=function(e){const t=this.doc.compas;this.instrument.montre(!1),t.leve&&this.doc.compasLeve.montre(!1),e||this.doc.actionSuivante(e)},$f8ebc7b7acda60d9e88c902912e35ed2$export$default.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)},$a115ede9b3477b65b0b425d073906351$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$a115ede9b3477b65b0b425d073906351$export$default.prototype.execute=function(e){if(this.instrument===this.doc.regle){const e=this.instrument.visible;this.instrument.longueur=this.longueur;const t=this.instrument.g;this.instrument.creeg(),this.instrument.g.setAttribute("visibility",e?"visible":"hidden"),this.doc.svg.replaceChild(this.instrument.g,t),this.instrument.translate(this.instrument.x,this.instrument.y)}e||this.doc.actionSuivante(e)},$a115ede9b3477b65b0b425d073906351$export$default.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)},$18a6aedfc9b129e048b6026eef1d6444$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$18a6aedfc9b129e048b6026eef1d6444$export$default.prototype.execute=function(e){const t=this.objet;null!==t&&t.montre(!0),e||this.doc.actionSuivante(e)},$18a6aedfc9b129e048b6026eef1d6444$export$default.prototype.actionVisible=function(){return!this.doc.getObjectVisibility(this.objet,this.indice-1)},$c053d1d01670c02741f0d55e502481d1$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$c053d1d01670c02741f0d55e502481d1$export$default.prototype.execute=function(e){this.instrument.montreGraduations(this.bmontrer),e||this.doc.actionSuivante(e)},$c053d1d01670c02741f0d55e502481d1$export$default.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)},$12bbd78c786936e6c3fbd47136a3fe9d$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$12bbd78c786936e6c3fbd47136a3fe9d$export$default.prototype.execute=function(e){const t=this.doc.compas;null!==this.x&&null!==this.y&&this.instrument.translate(this.x,this.y),this.instrument!==t||e?this.instrument.montre(!0):(t.leve?this.doc.compasLeve.montre(!0):t.montre(!0),t.visible=!0),e||this.doc.actionSuivante(e)},$12bbd78c786936e6c3fbd47136a3fe9d$export$default.prototype.actionVisible=function(){return!this.doc.getInstrumentVisibility(this.instrument,this.indice-1)},$199563b09aedceef58375d06c2637d71$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$199563b09aedceef58375d06c2637d71$export$default.prototype.execute=function(e){this.doc.rapporteur.montreGraduationsExternes(this.bmontrer),e||this.doc.actionSuivante(e)},$199563b09aedceef58375d06c2637d71$export$default.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.doc.rapporteur,this.indice-1)},$52d47b308c972c4dcbaed11ff87588c6$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$52d47b308c972c4dcbaed11ff87588c6$export$default.prototype.prepare=function(){if(this.nomPoint.estLatex){const e=this,t=this.doc.getWidth(),r=$4ccb1c775623de70995d27434bf557c7$export$getTaille(this.nomPoint)-2,i=this.nomPoint.nom.substring(1);this.ex=r/2;const n={em:r,ex:this.ex,containerWidth:t,display:!1};this.doc.debug&&console.log("chargement MathJax dans ActionNommerPoint"),$291f37d0f47b7105b909d955da0ff22c$export$default().then((()=>MathJax.tex2svgPromise(i,n))).then((t=>{e.nomPoint.html=t,e.nomPoint.creegLatex(),e.setReady()})).catch((e=>{console.error(e),alert("Pb Mathjax, impossible d’afficher le point en LaTeX")}))}else this.nomPoint.creeg(),this.setReady()},$52d47b308c972c4dcbaed11ff87588c6$export$default.prototype.execute=function(e){if("point"===this.nomPoint.objet){this.nomPoint.positionne();const e=this.nomPoint.point;null!==e.nom?this.doc.svg.replaceChild(this.nomPoint.g,e.nom.g):this.doc.svg.appendChild(this.nomPoint.g),e.nom=this.nomPoint}this.nomPoint.g.setAttribute("visibility","visible"),e||this.doc.actionSuivante(e)},$52d47b308c972c4dcbaed11ff87588c6$export$default.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.nomPoint.point,this.indice-1)},$cb39a37f196d3ca74ea5a4613642b07d$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$cb39a37f196d3ca74ea5a4613642b07d$export$default.prototype.execute=function(e){e||(this.doc.activeIconeContinuer(),this.doc.animationEnCours=!1)},$cb39a37f196d3ca74ea5a4613642b07d$export$default.prototype.actionVisible=function(){return!1},$d44a50b2edbb241102aea81b310fe401$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$d44a50b2edbb241102aea81b310fe401$export$default.prototype.execute=function(e){e?(this.instrument.angle=this.anglefin,this.instrument.positionne(),e||this.doc.actionSuivante(e)):this.instrument.lanceAnimationRotation(this.anglefin,this.deg10)},$d44a50b2edbb241102aea81b310fe401$export$default.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)},$c850f43a817bbcdb4d21b3e3f478a7c7$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$c850f43a817bbcdb4d21b3e3f478a7c7$export$default.prototype.execute=function(e){this.doc.compas.retourne(),e||this.doc.actionSuivante(e)},$c850f43a817bbcdb4d21b3e3f478a7c7$export$default.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.doc.compas,this.indice-1)},$cc177e37ce66511216f87a3907098258$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$cc177e37ce66511216f87a3907098258$export$default.prototype.execute=function(e){const t=this.objet;null!=t?e?(t.angle=this.anglefin,t.positionne()):t.lanceAnimationRotation(this.anglefin,this.deg10,this.tempo):e||this.doc.actionSuivante(e)},$cc177e37ce66511216f87a3907098258$export$default.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.objet,this.indice-1)},$861a10875edcc6d390cbc80c3865b997$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$861a10875edcc6d390cbc80c3865b997$export$default.prototype.execute=function(e){isNaN(this.xfin)||isNaN(this.yfin)?this.doc.actionSuivante(e):e?this.instrument.translate(this.xfin,this.yfin):this.instrument.lanceAnimationTranslation(this.xfin,this.yfin,this.pix10)},$861a10875edcc6d390cbc80c3865b997$export$default.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)},$db29786774d8e11a24f138f8e96d09e7$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$db29786774d8e11a24f138f8e96d09e7$export$default.prototype.execute=function(e){const t=this.objet;null!=t?e?t.translate(this.xfin,this.yfin):t.lanceAnimationTranslation(this.xfin,this.yfin,this.pix10):this.doc.actionSuivante(e)},$db29786774d8e11a24f138f8e96d09e7$export$default.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.objet,this.indice-1)},$acd8d7b1c75884b7d440a4188084e5d4$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$acd8d7b1c75884b7d440a4188084e5d4$export$default.prototype.execute=function(e){e?(this.instrument.zoomfactor=this.zoomfin,this.instrument.positionne()):this.instrument.lanceAnimationZoom(this.zoomfin,this.vitesse)},$acd8d7b1c75884b7d440a4188084e5d4$export$default.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)},$2bab84df5a9d4398afa19f0ca6e71247$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$2bab84df5a9d4398afa19f0ca6e71247$export$default.prototype.execute=function(e){const t=this.objet;null!=t?e?(t.zoomfactor=this.zoomfin,t.positionne()):t.lanceAnimationZoom(this.zoomfin,this.vitesse):this.doc.actionSuivante(e)},$2bab84df5a9d4398afa19f0ca6e71247$export$default.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.objet,this.indice-1)},$8f4a0830bf0e24198de7d3215d2dd19c$export$default.prototype=new $405c8a57e5c27ce3399d17942b700f8c$export$default,$8f4a0830bf0e24198de7d3215d2dd19c$export$default.prototype.execute=function(e){const t=this.objet;null!=t?e?t.donneRayon(this.rayFin):t.lanceAnimationModificationRayon(this.rayFin,this.pix10):this.doc.actionSuivante(e)},$8f4a0830bf0e24198de7d3215d2dd19c$export$default.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.objet,this.indice-1)},$6f71d9c815a62557961554772f94ac8e$export$default.prototype=new $d9027120c2fc7bb06ea47a3cfffcdc4c$export$default,$ae0332acb24a132facf7d509e7e68e85$export$default.prototype=new $6f71d9c815a62557961554772f94ac8e$export$default,$ae0332acb24a132facf7d509e7e68e85$export$default.prototype.creeg=function(){let e,t,r,i,n,o,s,a,c,l;const p=this.motif,u=this.ray,f=this.ang1,d=this.ang2,h=d-f,b=$4ccb1c775623de70995d27434bf557c7$export$mesurePrincDeg(h);e=$4ccb1c775623de70995d27434bf557c7$export$zeroAngle(Math.abs(h)-180)?this.ang1<=this.ang2:b>0;const $=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(this.x,this.y,this.x+Math.cos(f*$de81623d6237f559ae5ac14db397c013$export$convDegRad),this.y+Math.sin(f*$de81623d6237f559ae5ac14db397c013$export$convDegRad)).vecteurColineaire(u),m=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(this.x,this.y,this.x+Math.cos(d*$de81623d6237f559ae5ac14db397c013$export$convDegRad),this.y+Math.sin(d*$de81623d6237f559ae5ac14db397c013$export$convDegRad)).vecteurColineaire(u);let g=this.x+$.x,x=this.y+$.y,v=this.x+m.x,y=this.y+m.y;const _=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g");let E=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path");const k=-1!==p.indexOf("plein")?this.couleur:"none";t="none"!==k?"M"+this.x+" "+this.y+"L"+g+" "+x+"A"+u+" "+u+" "+this.ang1+" 0 "+(e?"1 ":"0 ")+v+" "+y+" Z":"M"+g+" "+x+"A"+u+" "+u+" "+this.ang1+" 0 "+(e?"1 ":"0 ")+v+" "+y,E.setAttribute("d",t);const S="stroke:"+this.couleur+";stroke-width:"+this.epaisseur+";",w=S+"fill:"+k+";fill-opacity:"+this.opaciteRemplissage+";";E.setAttribute("style",w),_.appendChild(E);const A=-1!==p.indexOf("O"),T=$.tourne(b/2),M=this.x+T.x,C=this.y+T.y;if(A){const e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle");e.setAttribute("r",5),e.setAttribute("cx",M),e.setAttribute("cy",C),e.setAttribute("style",S+"fill:none;"),_.appendChild(e)}const P=-1!==p.indexOf("triple")?2:-1!==p.indexOf("double")?1:0;for(let r=1;r<=P;r++){E=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path");const i=u-5*r,n=$.vecteurColineaire(i),o=m.vecteurColineaire(i);g=this.x+n.x,x=this.y+n.y,v=this.x+o.x,y=this.y+o.y,t="M"+g+" "+x+"A"+i+" "+i+" "+this.ang1+" 0 "+(e?"1 ":"0 ")+v+" "+y,E.setAttribute("d",t),E.setAttribute("style",S+"fill:none;"),_.appendChild(E)}const I=-1!==p.indexOf("///")?3:-1!==p.indexOf("//")?2:-1!==p.indexOf("/")?1:0;if(0===I)return void(this.g=_);const N=P+1,O=T.vecteurColineaire(1);switch(I){case 1:s=this.x+O.x*u,a=this.y+O.y*u,r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),r.setAttribute("x1",s-5*O.x*N),r.setAttribute("y1",a-5*O.y*N),r.setAttribute("x2",s+5*O.x),r.setAttribute("y2",a+5*O.y),r.setAttribute("style",w),_.appendChild(r);break;case 2:c=b/6,l=6,Math.abs(c)>=Math.abs(l)&&(c=l),i=O.tourne(c),n=this.x+i.x*u,o=this.y+i.y*u,r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),r.setAttribute("x1",n-5*O.x*N),r.setAttribute("y1",o-5*O.y*N),r.setAttribute("x2",n+5*O.x),r.setAttribute("y2",o+5*O.y),r.setAttribute("style",w),_.appendChild(r),i=O.tourne(-c),n=this.x+i.x*u,o=this.y+i.y*u,r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),r.setAttribute("x1",n-5*O.x*N),r.setAttribute("y1",o-5*O.y*N),r.setAttribute("x2",n+5*O.x),r.setAttribute("y2",o+5*O.y),r.setAttribute("style",w),_.appendChild(r);break;case 3:s=this.x+O.x*u,a=this.y+O.y*u,r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),r.setAttribute("x1",s-5*O.x*N),r.setAttribute("y1",a-5*O.y*N),r.setAttribute("x2",s+5*O.x),r.setAttribute("y2",a+5*O.y),r.setAttribute("style",w),_.appendChild(r),c=b/4,l=9,Math.abs(c)>=Math.abs(l)&&(c=l),i=O.tourne(c),n=this.x+i.x*u,o=this.y+i.y*u,r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),r.setAttribute("x1",n-5*O.x*N),r.setAttribute("y1",o-5*O.y*N),r.setAttribute("x2",n+5*O.x),r.setAttribute("y2",o+5*O.y),r.setAttribute("style",w),_.appendChild(r),i=O.tourne(-c),n=this.x+i.x*u,o=this.y+i.y*u,r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),r.setAttribute("x1",n-5*O.x*N),r.setAttribute("y1",o-5*O.y*N),r.setAttribute("x2",n+5*O.x),r.setAttribute("y2",o+5*O.y),r.setAttribute("style",w),_.appendChild(r)}this.g=_},$5f37ecd008f7a1222b91e555020b6677$export$default.prototype=new $6f71d9c815a62557961554772f94ac8e$export$default,$5f37ecd008f7a1222b91e555020b6677$export$default.prototype.creeg=function(){let e=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(this.xsommet,this.ysommet,this.xinter,this.yinter);const t=e.norme();e=e.vecteurColineaire(t/Math.sqrt(2)),e=e.tourne(45);const r=e.tourne(-90),i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"polyline"),n=String(this.xsommet+e.x)+" "+String(this.ysommet+e.y)+" "+this.xsommet+" "+this.ysommet+" "+String(this.xsommet+r.x)+" "+String(this.ysommet+r.y);i.setAttribute("points",n),i.setAttribute("style",this.style+"fill:none;"),this.g=i},$fe546ecebfbf8f55fa5d8d1d2f4504aa$export$default.prototype=new $6f71d9c815a62557961554772f94ac8e$export$default,$fe546ecebfbf8f55fa5d8d1d2f4504aa$export$default.prototype.creeg=function(){const e=this.debut,t=this.fin,r=this.ray,i=e<t?"1":"0",n=Math.abs(t-e),o=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g");if(n>=359.9){const e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle");e.setAttribute("r",r),e.setAttribute("cx",0),e.setAttribute("cy",0),e.setAttribute("style",this.style+";fill:none;"),o.appendChild(e)}else{const s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path"),a=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(Math.cos(e*$de81623d6237f559ae5ac14db397c013$export$convDegRad)*r,Math.sin(e*$de81623d6237f559ae5ac14db397c013$export$convDegRad)*r),c=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(Math.cos(t*$de81623d6237f559ae5ac14db397c013$export$convDegRad)*r,Math.sin(t*$de81623d6237f559ae5ac14db397c013$export$convDegRad)*r),l="M"+a.x+" "+a.y+"A"+r+" "+r+" "+e+" "+(n>180?"1":"0")+" "+i+" "+c.x+" "+c.y;s.setAttribute("d",l),s.setAttribute("style",this.style+";fill:none"),o.appendChild(s)}o.setAttribute("transform","translate("+this.x+","+this.y+")"),o.setAttribute("visibility","hidden"),this.g=o},$fe546ecebfbf8f55fa5d8d1d2f4504aa$export$default.prototype.creationAnimee=function(){return!0},$fe546ecebfbf8f55fa5d8d1d2f4504aa$export$default.prototype.lanceAnimation=function(e){const t=this.doc.compas;null==this.doc.compasLeve&&(this.doc.compasLeve=new $e1779f2e33b1e4db6a7af28eefe70e6f$export$default(this.doc,t.x,t.y,t.angle,t.ecart));const r=this.doc.compasLeve;this.ray=this.doc.compas.ecart,this.angfin=this.fin,this.pasdeg=e/2,this.pasdeg*=this.fin>=this.debut?1:-1,this.distang=Math.abs(this.fin-this.debut),this.fin=this.debut,t.setPosition(this.x,this.y,this.debut),r.setPosition(this.x,this.y,this.debut);const i=this;this.timer=setInterval((function(){i.actionPourAnimation()}),25)},$fe546ecebfbf8f55fa5d8d1d2f4504aa$export$default.prototype.actionPourAnimation=function(){const e=this.doc.compas,t=this.doc.compasLeve;this.fin+=this.pasdeg;const r=Math.abs(this.angfin-this.fin);r>this.distang||!this.doc.animationEnCours?(this.fin=this.angfin,this.updateg(),this.finAction(),clearInterval(this.timer),this.doc.actionSuivante()):(this.distang=r,this.updateg(),e.setPosition(this.x,this.y,this.fin),null!==t&&t.setPosition(this.x,this.y,this.fin))},$fe546ecebfbf8f55fa5d8d1d2f4504aa$export$default.prototype.finAction=function(){this.doc.compas.setPosition(this.x,this.y,this.fin),null!==this.doc.compasLeve&&this.doc.compasLeve.setPosition(this.x,this.y,this.fin)},$b802f63ead59964eee0da1616b4226dc$export$default.prototype=new $6f71d9c815a62557961554772f94ac8e$export$default,$b802f63ead59964eee0da1616b4226dc$export$default.prototype.creationAnimee=function(){return!1},$b802f63ead59964eee0da1616b4226dc$export$default.prototype.creeg=function(){const e=this.ecartAngle,t=this.ray,r=e>=0?"1":"0",i=Math.abs(e),n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),o=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path"),s=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(Math.cos(e*$de81623d6237f559ae5ac14db397c013$export$convDegRad)*t,Math.sin(e*$de81623d6237f559ae5ac14db397c013$export$convDegRad)*t),a="M 0 0 L "+t+" 0 A "+t+" "+t+" 0 "+(i>180?"1":"0")+" "+r+" "+s.x+" "+s.y+" Z";o.setAttribute("d",a);const c=parseFloat(this.opacite/100),l="stroke:"+this.couleur+";stroke-width:"+this.epaisseur+";fill:"+this.couleurFond+";fill-opacity:"+c+";";o.setAttribute("style",l),n.appendChild(o),n.setAttribute("transform","translate("+this.x+","+this.y+") rotate("+this.angle+")"),n.setAttribute("visibility","hidden"),this.g=n},$b802f63ead59964eee0da1616b4226dc$export$default.prototype.donneRayon=function(e){this.ray=e,this.updateg(),this.setPosition(this.x,this.y,this.angle)},$b802f63ead59964eee0da1616b4226dc$export$default.prototype.setPosition=function(e,t,r){this.x=e,this.y=t,this.angle=r,this.g.setAttribute("transform","translate("+e+","+t+") rotate("+r+")")},$b802f63ead59964eee0da1616b4226dc$export$default.prototype.lanceAnimationModificationRayon=function(e,t){this.rayFin=e,this.rayInit=this.ray;const r=e-this.ray;if(this.dist=Math.abs(r),this.dray=Math.sign(r)*Math.abs(t/4),0===this.dist)return;const i=this;this.timer=setInterval((function(){i.actionPourModificationRayon()}),25)},$b802f63ead59964eee0da1616b4226dc$export$default.prototype.actionPourModificationRayon=function(){const e=this.ray+this.dray,t=Math.abs(e-this.rayInit);t>this.dist||!this.doc.animationEnCours?(this.donneRayon(this.rayFin),clearInterval(this.timer),this.doc.actionSuivante()):(this.dist=t,this.donneRayon(e))},$0b008515394848e67298dbb88f70b0bf$export$default.prototype=new $d9027120c2fc7bb06ea47a3cfffcdc4c$export$default,$0b008515394848e67298dbb88f70b0bf$export$default.prototype.creeg=function(){let e,t,r,i;this.g=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g");const n="stroke:black;stroke-width:1;";"horizontal"===this.pente&&this.xmax-this.xmin>this.xgrad?(t=Math.floor((this.xmax-this.xmin)/this.xgrad),r=30*this.distanceBord,i=$4ccb1c775623de70995d27434bf557c7$export$determiner_graduations(this.xmin,this.xmax,this.xgrad),this.tracer_abscisses(i,this.xgrad,t,r),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),e.setAttribute("style",n),e.setAttribute("x1",this.cadre.gauche),e.setAttribute("y1",r),e.setAttribute("x2",this.cadre.droite),e.setAttribute("y2",r),this.g.appendChild(e)):this.xmax-this.xmin>this.xgrad&&(t=Math.floor((this.xmax-this.xmin)/this.xgrad),r=30*Number(this.distanceBord),i=$4ccb1c775623de70995d27434bf557c7$export$determiner_graduations(this.xmin,this.xmax,this.xgrad),this.tracer_ordonnees(i,this.xgrad,t,r),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),e.setAttribute("style",n),e.setAttribute("x1",r),e.setAttribute("y1",this.cadre.bas),e.setAttribute("x2",r),e.setAttribute("y2",this.cadre.haut),this.g.appendChild(e))},$0b008515394848e67298dbb88f70b0bf$export$default.prototype.tracer_abscisses=function(e,t,r,i){let n,o,s,a;const c="stroke:black;stroke-width:1.5;";for(n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),n.setAttribute("style",c),n.setAttribute("x1",this.cadre.gauche),n.setAttribute("y1",i),n.setAttribute("x2",this.cadre.droite),n.setAttribute("y2",i),this.g.appendChild(n),a=0;a<=r;a++){n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),n.setAttribute("style",c),s=this.mettre_x_en_pixels(e+a*t),n.setAttribute("x1",s),n.setAttribute("y1",String(i-5)),n.setAttribute("x2",s),n.setAttribute("y2",String(i+5)),this.g.appendChild(n),o=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"text"),o.setAttribute("x",s),o.setAttribute("y",i+12+5);const r="text-anchor:left;font-size:12px;fill:"+this.couleur+";";o.setAttribute("style",r),o.appendChild(document.createTextNode(String(e+a*t))),this.g.appendChild(o)}},$0b008515394848e67298dbb88f70b0bf$export$default.prototype.tracer_ordonnees=function(e,t,r,i){let n,o,s;const a="stroke:black;stroke-width:1.5;";for(n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),n.setAttribute("style",a),n.setAttribute("x1",i),n.setAttribute("y1",this.cadre.haut),n.setAttribute("x2",i),n.setAttribute("y2",this.cadre.bas),this.g.appendChild(n),s=0;s<=r;s++){n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),n.setAttribute("style",a);const r=this.mettre_y_en_pixels(e+s*t);n.setAttribute("x1",String(i-5)),n.setAttribute("y1",r),n.setAttribute("x2",String(i+5)),n.setAttribute("y2",r),this.g.appendChild(n),o=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"text"),o.setAttribute("x",i+10),o.setAttribute("y",r+2);const c="text-anchor:left;font-size:12px;fill:"+this.couleur+";";o.setAttribute("style",c),o.appendChild(document.createTextNode(String(e+s*t))),this.g.appendChild(o)}},$0b008515394848e67298dbb88f70b0bf$export$default.prototype.mettre_x_en_pixels=function(e){return $4ccb1c775623de70995d27434bf557c7$export$mettre_en_pixels(e,this.xmin,this.xmax,this.cadre.gauche,this.cadre.droite)},$0b008515394848e67298dbb88f70b0bf$export$default.prototype.mettre_y_en_pixels=function(e){return $4ccb1c775623de70995d27434bf557c7$export$mettre_en_pixels(e,this.xmax,this.xmin,this.cadre.haut,this.cadre.bas)},$3de580dca3e4dd34a9c87d6cfec113db$export$default.prototype=new $6f71d9c815a62557961554772f94ac8e$export$default,$3de580dca3e4dd34a9c87d6cfec113db$export$default.prototype.creeg=function(){const e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line");t.setAttribute("x1",this.x1),t.setAttribute("y1",this.y1),t.setAttribute("x2",this.x2),t.setAttribute("y2",this.y2),t.setAttribute("style",this.style),e.appendChild(t),e.setAttribute("visibility","hidden"),this.g=e},$3de580dca3e4dd34a9c87d6cfec113db$export$default.prototype.creationAnimee=function(){return!0},$3de580dca3e4dd34a9c87d6cfec113db$export$default.prototype.lanceAnimation=function(e){this.vitesse=e/4;const t=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(this.x1,this.y1,this.x2,this.y2);if(this.dist=t.norme(),$4ccb1c775623de70995d27434bf557c7$export$zero(this.dist))return void this.doc.actionSuivante();this.vect=t.vecteurColineaire(1.8*this.vitesse),this.xfin=this.x2,this.yfin=this.y2,this.x2=this.x1,this.y2=this.y1;const r=this.doc.crayon;r.setPosition(this.x1,this.y1,r.angle);const i=this;this.timer=setInterval((function(){i.actionPourAnimation(i)}),25)},$3de580dca3e4dd34a9c87d6cfec113db$export$default.prototype.actionPourAnimation=function(){this.x2+=this.vect.x,this.y2+=this.vect.y;const e=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(this.x1,this.y1,this.x2,this.y2).norme(),t=this.doc.crayon;e>this.dist||!this.doc.animationEnCours?(this.x2=this.xfin,this.y2=this.yfin,this.finAction(),this.updateg(),clearInterval(this.timer),this.doc.actionSuivante()):(t.translate(this.x2,this.y2),this.updateg())},$3de580dca3e4dd34a9c87d6cfec113db$export$default.prototype.finAction=function(){this.doc.crayon.translate(this.x2,this.y2)},$176c86c4e5933ea105543d6f65b69d29$export$default.prototype=new $3de580dca3e4dd34a9c87d6cfec113db$export$default,$176c86c4e5933ea105543d6f65b69d29$export$default.prototype.creeg=function(){if(this.calcule(),this.horsFenetre)this.g=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g");else{const e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line");e.setAttribute("x1",this.xext1),e.setAttribute("y1",this.yext1),e.setAttribute("x2",this.xext2),e.setAttribute("y2",this.yext2),e.setAttribute("style",this.style),this.g=e}this.g.setAttribute("visibility","hidden")},$176c86c4e5933ea105543d6f65b69d29$export$default.prototype.calcule=function(){const{x1:e,y1:t,x2:r,y2:i}=this;if(e===r&&t===i)return void(this.horsFenetre=!0);this.horsFenetre=!1;const n=this.doc.getWidth(),o=this.doc.getHeight();if(e===r)return this.xext1=e,this.yext1=0,this.xext2=e,this.yext2=o,e<0||e>n?void(this.horsFenetre=!0):(this.xext1=e,this.yext1=0,this.xext2=e,void(this.yext2=o));if(t===i)return this.xext1=0,this.yext1=t,this.xext2=n,this.yext2=t,t<0||t>o?void(this.horsFenetre=!0):(this.xext1=0,this.yext1=t,this.xext2=n,void(this.yext2=t));let s=0;const a=(i-t)/(r-e),c=this.y1+a*(0-e);c>=0&&c<=o&&(s++,this.xext1=0,this.yext1=c);const l=n,p=a*(l-e)+t;if(p>=0&&p<=o){if(s++,1!==s)return this.xext2=l,void(this.yext2=p);this.xext1=l,this.yext1=p}const u=(0-t)/a+e;if(u>0&&u<n){if(s++,1!==s)return this.xext2=u,void(this.yext2=0);this.xext1=u,this.yext1=0}const f=o,d=(f-t)/a+e;d>0&&d<=n?(s++,2===s?(this.xext2=d,this.yext2=f):this.horsFenetre=!0):this.horsFenetre=!0,this.horsFenetre&&(this.xext1=0,this.yext1=c,this.xext2=l,this.yext2=p)},$92898b11c7a9649464fdcc6a53665d33$export$default.prototype=new $176c86c4e5933ea105543d6f65b69d29$export$default,$92898b11c7a9649464fdcc6a53665d33$export$default.prototype.calcule=function(){$176c86c4e5933ea105543d6f65b69d29$export$default.prototype.calcule.call(this);const e=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(this.x1,this.y1,this.x2,this.y2);if(this.horsFenetre)return;const t=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(this.x1,this.y1,this.xext1,this.yext1);if(t.presqueNul()){const t=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(this.x1,this.y1,this.xext2,this.yext2);$4ccb1c775623de70995d27434bf557c7$export$colineairesMemeSens(t,e)?(this.xext1=this.x1,this.yext1=this.y1):(this.xext2=this.xext1,this.yext2=this.yext1,this.xext1=this.x1,this.yext1=this.y1)}else $4ccb1c775623de70995d27434bf557c7$export$colineairesMemeSens(t,e)?(this.xext2=this.xext1,this.yext2=this.yext1,this.xext1=this.x1,this.yext1=this.y1):(this.xext1=this.x1,this.yext1=this.y1)},$c19e2ebf8ba33b561803b9aa1e688d5f$export$default.prototype=new $d9027120c2fc7bb06ea47a3cfffcdc4c$export$default,$c19e2ebf8ba33b561803b9aa1e688d5f$export$default.prototype.initialisePosition=function(){this.x=0,this.y=0,this.angle=0,this.zoomfactor=1,this.positionne()},$c19e2ebf8ba33b561803b9aa1e688d5f$export$default.prototype.prepareAction=function(){const e=new Image;e.owner=this,this.action=new $d1f410cbd3c3583af4060be9f57fa684$export$default(this.doc,this.id,this),this.action.isReady=!1,this.doc.ajouteAction(this.action),e.onload=function(){const e=this.owner;e.width=this.width,e.height=this.height,e.action.isReady=!0},e.src=this.url},$c19e2ebf8ba33b561803b9aa1e688d5f$export$default.prototype.creeg=function(){const e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"image");e.setAttribute("width",this.width),e.setAttribute("height",this.height),e.setAttributeNS("http://www.w3.org/1999/xlink","href",this.url),e.setAttribute("x",this.x),e.setAttribute("y",this.y),e.setAttribute("visibility","hidden"),this.g=e,this.setPosition(this.x,this.y,this.angle,this.zoomfactor),this.doc.svg.appendChild(e)},$c19e2ebf8ba33b561803b9aa1e688d5f$export$default.prototype.setPosition=function(e,t,r,i){this.x=e,this.y=t,this.angle=r,this.zoomfactor=i,this.g?this.g.setAttribute("transform","scale("+i+") translate("+String(e/i)+","+String(t/i)+") rotate("+r+")"):console.error("Il faut appeler imag.creeg avant imag.setPosition")},$c19e2ebf8ba33b561803b9aa1e688d5f$export$default.prototype.positionne=function(){this.setPosition(this.x,this.y,this.angle,this.zoomfactor)},$193fbe108c2952baa0a90f2b56e67393$export$default.prototype=new $6f71d9c815a62557961554772f94ac8e$export$default,$193fbe108c2952baa0a90f2b56e67393$export$default.prototype.creeg=function(){let e,t;const r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"polyline");for(e=this.xdeb+" "+this.ydeb,t=0;t<this.abs.length;t++)e+=" "+this.abs[t]+" "+this.ord[t];r.setAttribute("points",e),r.setAttribute("style",this.style+"fill:none;"),r.setAttribute("visibility","hidden"),this.g=r},$193fbe108c2952baa0a90f2b56e67393$export$default.prototype.creationAnimee=function(){return!0},$193fbe108c2952baa0a90f2b56e67393$export$default.prototype.lanceAnimation=function(){this.sauveabs=this.abs,this.sauveord=this.ord,this.abs=[],this.ord=[],this.ind=-1;const e=this;this.timer=setInterval((function(){e.actionPourAnimation()}),25)},$193fbe108c2952baa0a90f2b56e67393$export$default.prototype.actionPourAnimation=function(){this.ind++;const e=this.doc.crayon;if(this.ind>=this.sauveabs.length)this.abs=this.sauveabs,this.ord=this.sauveord,this.updateg(),clearInterval(this.timer),this.finAction(),this.doc.actionSuivante();else{const t=this.sauveabs[this.ind],r=this.sauveord[this.ind];this.abs.push(t),this.ord.push(r),this.updateg(),e.setPosition(parseFloat(t),parseFloat(r),e.angle),this.updateg()}},$193fbe108c2952baa0a90f2b56e67393$export$default.prototype.finAction=function(){const e=this.abs.length;this.doc.crayon.translate(parseFloat(this.abs[e-1]),parseFloat(this.ord[e-1]))},$d52ee22372a7bce109cf9f3cb951d282$export$default.prototype=new $6f71d9c815a62557961554772f94ac8e$export$default,$d52ee22372a7bce109cf9f3cb951d282$export$default.prototype.creeg=function(){let e,t,r;const i=2.5;switch(this.motif){case"/":e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),e.setAttribute("x1",5),e.setAttribute("y1",-5),e.setAttribute("x2",-5),e.setAttribute("y2",5),e.setAttribute("style",this.style);break;case"\\":e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),e.setAttribute("x1",-5),e.setAttribute("y1",-5),e.setAttribute("x2",5),e.setAttribute("y2",5),e.setAttribute("style",this.style);break;case"//":for(e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),r=-1;r<=1;r+=2)t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",r*i+5),t.setAttribute("y1",-5),t.setAttribute("x2",r*i-5),t.setAttribute("y2",5),t.setAttribute("style",this.style),e.appendChild(t);break;case"///":for(e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),r=-1;r<=1;r++)t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",5*r+5),t.setAttribute("y1",-5),t.setAttribute("x2",5*r-5),t.setAttribute("y2",5),t.setAttribute("style",this.style),e.appendChild(t);break;case"\\\\":for(e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),r=-1;r<=1;r+=2)t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",r*i-5),t.setAttribute("y1",-5),t.setAttribute("x2",r*i+5),t.setAttribute("y2",5),t.setAttribute("style",this.style),e.appendChild(t);break;case"\\\\\\":for(e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),r=-1;r<=1;r++)t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",5*r-5),t.setAttribute("y1",-5),t.setAttribute("x2",5*r+5),t.setAttribute("y2",5),t.setAttribute("style",this.style),e.appendChild(t);break;case"X":e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",-5),t.setAttribute("y1",-5),t.setAttribute("x2",5),t.setAttribute("y2",5),t.setAttribute("style",this.style),e.appendChild(t),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",5),t.setAttribute("y1",-5),t.setAttribute("x2",-5),t.setAttribute("y2",5),t.setAttribute("style",this.style),e.appendChild(t);break;case"O":e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle"),e.setAttribute("cx",0),e.setAttribute("cy",0),e.setAttribute("r",5),e.setAttribute("style",this.style+"fill:none;");break;default:e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g")}this.g=e},$d52ee22372a7bce109cf9f3cb951d282$export$default.prototype.positionne=function(){this.g.setAttribute("transform","translate("+this.x+","+this.y+")")},$d52ee22372a7bce109cf9f3cb951d282$export$default.prototype.translate=function(e,t){this.x=e,this.y=t,this.positionne()},$f94bab3f055e6068e89e3c90b4b560ea$export$default.prototype=new $3de580dca3e4dd34a9c87d6cfec113db$export$default,$f94bab3f055e6068e89e3c90b4b560ea$export$default.prototype.creeg=function(){if($3de580dca3e4dd34a9c87d6cfec113db$export$default.prototype.creeg.call(this),"vecteur"===this.stylefleche){const e=12,t=this.x1,r=this.x2,i=this.y1,n=this.y2,o=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(r,n,t,i).vecteurColineaire(e),s=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(o.x*$de81623d6237f559ae5ac14db397c013$export$cos30-o.y*$de81623d6237f559ae5ac14db397c013$export$sin30,o.x*$de81623d6237f559ae5ac14db397c013$export$sin30+o.y*$de81623d6237f559ae5ac14db397c013$export$cos30),a=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(o.x*$de81623d6237f559ae5ac14db397c013$export$cos30+o.y*$de81623d6237f559ae5ac14db397c013$export$sin30,-o.x*$de81623d6237f559ae5ac14db397c013$export$sin30+o.y*$de81623d6237f559ae5ac14db397c013$export$cos30),c=String(r+s.x)+" "+String(n+s.y)+","+r+" "+n+","+String(r+a.x)+" "+String(n+a.y),l=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"polyline");l.setAttribute("points",c);const p="stroke:"+this.couleur+";stroke-width:"+this.epaisseur+";stroke-opacity:"+this.opacite+";fill:none";l.setAttribute("style",p),this.g.appendChild(l)}},$ae46a62e03df0b9fd0444ac045dfa466$export$default.prototype=new $6f71d9c815a62557961554772f94ac8e$export$default,$ae46a62e03df0b9fd0444ac045dfa466$export$default.prototype.creeg=function(){let e,t,r;if(this.doc.getElement(this.idSeg,"trait")instanceof $f94bab3f055e6068e89e3c90b4b560ea$export$default){const i=this.rayon,n=5,o=n/2,s=5;switch(this.motif){case"/":e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),e.setAttribute("x1",i),e.setAttribute("y1",-i),e.setAttribute("x2",-i),e.setAttribute("y2",i),e.setAttribute("style",this.style);break;case"\\":e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),e.setAttribute("x1",-i),e.setAttribute("y1",-i),e.setAttribute("x2",i),e.setAttribute("y2",i),e.setAttribute("style",this.style);break;case"//":for(e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),r=-1;r<=1;r+=2)t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",r*o+i),t.setAttribute("y1",-i),t.setAttribute("x2",r*o-i),t.setAttribute("y2",i),t.setAttribute("style",this.style),e.appendChild(t);break;case"///":for(e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),r=-1;r<=1;r++)t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",r*n+i),t.setAttribute("y1",-i),t.setAttribute("x2",r*n-i),t.setAttribute("y2",i),t.setAttribute("style",this.style),e.appendChild(t);break;case"\\\\":for(e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),r=-1;r<=1;r+=2)t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",r*o-i),t.setAttribute("y1",-i),t.setAttribute("x2",r*o+i),t.setAttribute("y2",i),t.setAttribute("style",this.style),e.appendChild(t);break;case"\\\\\\":for(e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),r=-1;r<=1;r++)t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",r*n-i),t.setAttribute("y1",-i),t.setAttribute("x2",r*n+i),t.setAttribute("y2",i),t.setAttribute("style",this.style),e.appendChild(t);break;case"X":e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",-i),t.setAttribute("y1",-i),t.setAttribute("x2",i),t.setAttribute("y2",i),t.setAttribute("style",this.style),e.appendChild(t),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",i),t.setAttribute("y1",-i),t.setAttribute("x2",-i),t.setAttribute("y2",i),t.setAttribute("style",this.style),e.appendChild(t);break;case"O":e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle"),e.setAttribute("cx",0),e.setAttribute("cy",0),e.setAttribute("r",s),e.setAttribute("style",this.style+"fill:none;");break;default:e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g")}}else console.log("Maque de segment non associée à un objet segment"),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g");this.g=e},$ae46a62e03df0b9fd0444ac045dfa466$export$default.prototype.positionne=function(){const e=this.doc.getElement(this.idSeg,"trait"),t=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(e.x1,e.y1,e.x2,e.y2),r=(e.x1+e.x2)/2,i=(e.y1+e.y2)/2,n=-t.angle();this.g.setAttribute("transform","translate("+r+","+i+") rotate("+n+") ")},$ae46a62e03df0b9fd0444ac045dfa466$export$default.prototype.translate=function(e,t){this.x=e,this.y=t,this.positionne()};var $2d2b8963b6aa9be4371dc5b39d0cdc50$exports={},$aca49d5cd98a9431cca6988ba9a479b9$exports={},$6b4514290555bfe066cd89f6ac7d0115$exports={},$6b4514290555bfe066cd89f6ac7d0115$var$process=$6b4514290555bfe066cd89f6ac7d0115$exports={},$6b4514290555bfe066cd89f6ac7d0115$var$cachedSetTimeout,$6b4514290555bfe066cd89f6ac7d0115$var$cachedClearTimeout;function $6b4514290555bfe066cd89f6ac7d0115$var$defaultSetTimout(){throw new Error("setTimeout has not been defined")}function $6b4514290555bfe066cd89f6ac7d0115$var$defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function $6b4514290555bfe066cd89f6ac7d0115$var$runTimeout(e){if($6b4514290555bfe066cd89f6ac7d0115$var$cachedSetTimeout===setTimeout)return setTimeout(e,0);if(($6b4514290555bfe066cd89f6ac7d0115$var$cachedSetTimeout===$6b4514290555bfe066cd89f6ac7d0115$var$defaultSetTimout||!$6b4514290555bfe066cd89f6ac7d0115$var$cachedSetTimeout)&&setTimeout)return $6b4514290555bfe066cd89f6ac7d0115$var$cachedSetTimeout=setTimeout,setTimeout(e,0);try{return $6b4514290555bfe066cd89f6ac7d0115$var$cachedSetTimeout(e,0)}catch(t){try{return $6b4514290555bfe066cd89f6ac7d0115$var$cachedSetTimeout.call(null,e,0)}catch(t){return $6b4514290555bfe066cd89f6ac7d0115$var$cachedSetTimeout.call(this,e,0)}}}function $6b4514290555bfe066cd89f6ac7d0115$var$runClearTimeout(e){if($6b4514290555bfe066cd89f6ac7d0115$var$cachedClearTimeout===clearTimeout)return clearTimeout(e);if(($6b4514290555bfe066cd89f6ac7d0115$var$cachedClearTimeout===$6b4514290555bfe066cd89f6ac7d0115$var$defaultClearTimeout||!$6b4514290555bfe066cd89f6ac7d0115$var$cachedClearTimeout)&&clearTimeout)return $6b4514290555bfe066cd89f6ac7d0115$var$cachedClearTimeout=clearTimeout,clearTimeout(e);try{return $6b4514290555bfe066cd89f6ac7d0115$var$cachedClearTimeout(e)}catch(t){try{return $6b4514290555bfe066cd89f6ac7d0115$var$cachedClearTimeout.call(null,e)}catch(t){return $6b4514290555bfe066cd89f6ac7d0115$var$cachedClearTimeout.call(this,e)}}}!function(){try{$6b4514290555bfe066cd89f6ac7d0115$var$cachedSetTimeout="function"==typeof setTimeout?setTimeout:$6b4514290555bfe066cd89f6ac7d0115$var$defaultSetTimout}catch(e){$6b4514290555bfe066cd89f6ac7d0115$var$cachedSetTimeout=$6b4514290555bfe066cd89f6ac7d0115$var$defaultSetTimout}try{$6b4514290555bfe066cd89f6ac7d0115$var$cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:$6b4514290555bfe066cd89f6ac7d0115$var$defaultClearTimeout}catch(e){$6b4514290555bfe066cd89f6ac7d0115$var$cachedClearTimeout=$6b4514290555bfe066cd89f6ac7d0115$var$defaultClearTimeout}}();var $6b4514290555bfe066cd89f6ac7d0115$var$queue=[],$6b4514290555bfe066cd89f6ac7d0115$var$draining=!1,$6b4514290555bfe066cd89f6ac7d0115$var$currentQueue,$6b4514290555bfe066cd89f6ac7d0115$var$queueIndex=-1;function $6b4514290555bfe066cd89f6ac7d0115$var$cleanUpNextTick(){$6b4514290555bfe066cd89f6ac7d0115$var$draining&&$6b4514290555bfe066cd89f6ac7d0115$var$currentQueue&&($6b4514290555bfe066cd89f6ac7d0115$var$draining=!1,$6b4514290555bfe066cd89f6ac7d0115$var$currentQueue.length?$6b4514290555bfe066cd89f6ac7d0115$var$queue=$6b4514290555bfe066cd89f6ac7d0115$var$currentQueue.concat($6b4514290555bfe066cd89f6ac7d0115$var$queue):$6b4514290555bfe066cd89f6ac7d0115$var$queueIndex=-1,$6b4514290555bfe066cd89f6ac7d0115$var$queue.length&&$6b4514290555bfe066cd89f6ac7d0115$var$drainQueue())}function $6b4514290555bfe066cd89f6ac7d0115$var$drainQueue(){if(!$6b4514290555bfe066cd89f6ac7d0115$var$draining){var e=$6b4514290555bfe066cd89f6ac7d0115$var$runTimeout($6b4514290555bfe066cd89f6ac7d0115$var$cleanUpNextTick);$6b4514290555bfe066cd89f6ac7d0115$var$draining=!0;for(var t=$6b4514290555bfe066cd89f6ac7d0115$var$queue.length;t;){for($6b4514290555bfe066cd89f6ac7d0115$var$currentQueue=$6b4514290555bfe066cd89f6ac7d0115$var$queue,$6b4514290555bfe066cd89f6ac7d0115$var$queue=[];++$6b4514290555bfe066cd89f6ac7d0115$var$queueIndex<t;)$6b4514290555bfe066cd89f6ac7d0115$var$currentQueue&&$6b4514290555bfe066cd89f6ac7d0115$var$currentQueue[$6b4514290555bfe066cd89f6ac7d0115$var$queueIndex].run();$6b4514290555bfe066cd89f6ac7d0115$var$queueIndex=-1,t=$6b4514290555bfe066cd89f6ac7d0115$var$queue.length}$6b4514290555bfe066cd89f6ac7d0115$var$currentQueue=null,$6b4514290555bfe066cd89f6ac7d0115$var$draining=!1,$6b4514290555bfe066cd89f6ac7d0115$var$runClearTimeout(e)}}function $6b4514290555bfe066cd89f6ac7d0115$var$Item(e,t){this.fun=e,this.array=t}function $6b4514290555bfe066cd89f6ac7d0115$var$noop(){}$6b4514290555bfe066cd89f6ac7d0115$var$process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];$6b4514290555bfe066cd89f6ac7d0115$var$queue.push(new $6b4514290555bfe066cd89f6ac7d0115$var$Item(e,t)),1!==$6b4514290555bfe066cd89f6ac7d0115$var$queue.length||$6b4514290555bfe066cd89f6ac7d0115$var$draining||$6b4514290555bfe066cd89f6ac7d0115$var$runTimeout($6b4514290555bfe066cd89f6ac7d0115$var$drainQueue)},$6b4514290555bfe066cd89f6ac7d0115$var$Item.prototype.run=function(){this.fun.apply(null,this.array)},$6b4514290555bfe066cd89f6ac7d0115$var$process.title="browser",$6b4514290555bfe066cd89f6ac7d0115$var$process.browser=!0,$6b4514290555bfe066cd89f6ac7d0115$var$process.env={},$6b4514290555bfe066cd89f6ac7d0115$var$process.argv=[],$6b4514290555bfe066cd89f6ac7d0115$var$process.version="",$6b4514290555bfe066cd89f6ac7d0115$var$process.versions={},$6b4514290555bfe066cd89f6ac7d0115$var$process.on=$6b4514290555bfe066cd89f6ac7d0115$var$noop,$6b4514290555bfe066cd89f6ac7d0115$var$process.addListener=$6b4514290555bfe066cd89f6ac7d0115$var$noop,$6b4514290555bfe066cd89f6ac7d0115$var$process.once=$6b4514290555bfe066cd89f6ac7d0115$var$noop,$6b4514290555bfe066cd89f6ac7d0115$var$process.off=$6b4514290555bfe066cd89f6ac7d0115$var$noop,$6b4514290555bfe066cd89f6ac7d0115$var$process.removeListener=$6b4514290555bfe066cd89f6ac7d0115$var$noop,$6b4514290555bfe066cd89f6ac7d0115$var$process.removeAllListeners=$6b4514290555bfe066cd89f6ac7d0115$var$noop,$6b4514290555bfe066cd89f6ac7d0115$var$process.emit=$6b4514290555bfe066cd89f6ac7d0115$var$noop,$6b4514290555bfe066cd89f6ac7d0115$var$process.prependListener=$6b4514290555bfe066cd89f6ac7d0115$var$noop,$6b4514290555bfe066cd89f6ac7d0115$var$process.prependOnceListener=$6b4514290555bfe066cd89f6ac7d0115$var$noop,$6b4514290555bfe066cd89f6ac7d0115$var$process.listeners=function(e){return[]},$6b4514290555bfe066cd89f6ac7d0115$var$process.binding=function(e){throw new Error("process.binding is not supported")},$6b4514290555bfe066cd89f6ac7d0115$var$process.cwd=function(){return"/"},$6b4514290555bfe066cd89f6ac7d0115$var$process.chdir=function(e){throw new Error("process.chdir is not supported")},$6b4514290555bfe066cd89f6ac7d0115$var$process.umask=function(){return 0};var $aca49d5cd98a9431cca6988ba9a479b9$var$process=$6b4514290555bfe066cd89f6ac7d0115$exports,$df083d449d10e31818c3ba118cc81299$exports={},$acf207a696c4ce8a821b2545f5bbf6ed$exports={};Array.prototype.forEach||(Array.prototype.forEach=function(e){for(var t=0;t<this.length;t++)e(this[t],t,this)});var $acf207a696c4ce8a821b2545f5bbf6ed$var$specialHtmlChars={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function $acf207a696c4ce8a821b2545f5bbf6ed$var$countSlash(e){if("string"!=typeof e)throw new TypeError("countSlash n’accepte qu’une string en paramètre");return e.replace(/[^/]+/g,"").length}function $acf207a696c4ce8a821b2545f5bbf6ed$var$escapeForHtml(e,t){return t?e.replace(/[&<>"']/g,(function(e){return $acf207a696c4ce8a821b2545f5bbf6ed$var$specialHtmlChars[e]})):e.replace(/</g,"&lt;")}function $acf207a696c4ce8a821b2545f5bbf6ed$var$formatDate(e,t){function r(e,t){return $acf207a696c4ce8a821b2545f5bbf6ed$var$pad(e,"0",t)}if(t){if(!(t instanceof Date))throw new TypeError("date is not a Date")}else t=new Date;if("string"!=typeof e)throw new TypeError("format is not a string");return e.replace(/%(.)/g,(function(e,i){switch(i){case"d":return r(t.getDate());case"F":return String(t.getFullYear())+"-"+r(t.getMonth()+1)+"-"+r(t.getDate());case"H":return r(t.getHours());case"m":return r(t.getMonth()+1);case"M":return r(t.getMinutes());case"o":return r(t.getMilliseconds(),3);case"O":return r(t.getHours())+":"+r(t.getMinutes())+":"+r(t.getSeconds())+"."+r(t.getMilliseconds(),3);case"s":return r(Math.round(t.getTime()/1e3));case"S":return r(t.getSeconds());case"T":return r(t.getHours())+":"+r(t.getMinutes())+":"+r(t.getSeconds());case"y":return String(t.getFullYear()).substr(2);case"Y":return t.getFullYear();case"%":return"%";default:return"%"+i}}))}function $acf207a696c4ce8a821b2545f5bbf6ed$var$getToken(){return Math.random().toString(36).substr(2)+Math.random().toString(36).substr(2)}function $acf207a696c4ce8a821b2545f5bbf6ed$var$hasProp(e,t){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,t)}function $acf207a696c4ce8a821b2545f5bbf6ed$var$isArray(e){return Array.isArray(e)}function $acf207a696c4ce8a821b2545f5bbf6ed$var$isArrayEmpty(e){return Boolean(Array.isArray(e)&&0===e.length)}function $acf207a696c4ce8a821b2545f5bbf6ed$var$isArrayNotEmpty(e){return Boolean(Array.isArray(e)&&e.length)}function $acf207a696c4ce8a821b2545f5bbf6ed$var$isDate(e){return"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function $acf207a696c4ce8a821b2545f5bbf6ed$var$isError(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function $acf207a696c4ce8a821b2545f5bbf6ed$var$isFunction(e){return"function"==typeof e}function $acf207a696c4ce8a821b2545f5bbf6ed$var$isInArray(e,t){if(!Array.isArray(e))throw new Error("isInArray veut un tableau en 1er argument");return-1!==e.indexOf(t)}function $acf207a696c4ce8a821b2545f5bbf6ed$var$isInt(e,t){switch(typeof e){case"number":return Math.floor(e)===e;case"string":return Boolean(t&&e&&Math.floor(e)==e);default:return!1}}function $acf207a696c4ce8a821b2545f5bbf6ed$var$isIntPos(e,t,r){return $acf207a696c4ce8a821b2545f5bbf6ed$var$isInt(e,r)&&(t?e>0:e>=0)}function $acf207a696c4ce8a821b2545f5bbf6ed$var$isObject(e){var t=typeof e;return!!e&&("object"===t||"function"===t)}function $acf207a696c4ce8a821b2545f5bbf6ed$var$isObjectPlain(e){return!!e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)}function $acf207a696c4ce8a821b2545f5bbf6ed$var$isRegExp(e){return!!e&&"object"==typeof e&&"[object RegExp]"===Object.prototype.toString.call(e)}function $acf207a696c4ce8a821b2545f5bbf6ed$var$isString(e){return"string"==typeof e}function $acf207a696c4ce8a821b2545f5bbf6ed$var$isUndefined(e){return void 0===e}function $acf207a696c4ce8a821b2545f5bbf6ed$var$isUrlAbsolute(e){return"string"==typeof e&&/^https?:\/\/[a-z0-9\-._]+(:[0-9]+)?(\/|$)/.test(e)}function $acf207a696c4ce8a821b2545f5bbf6ed$var$pad(e,t,r){for(t&&("string"!=typeof t&&(t=String(t)),1!==t.length&&(console.error(new Error("char invalide "+t)),t=void 0)),t||(t="number"==typeof e?"0":" "),"string"!=typeof e&&(e=String(e)),r||(r=2);e.length<r;)e=t+e;return e}function $acf207a696c4ce8a821b2545f5bbf6ed$var$parse(e){var t;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){!$acf207a696c4ce8a821b2545f5bbf6ed$var$isUndefined(console)&&console.error&&console.error(e)}return t}function $acf207a696c4ce8a821b2545f5bbf6ed$var$splitAndTrim(e,t){return"string"==typeof e?(t||(t=/[,;\s]+/),e.split(t).map((function(e){return e.trim()})).filter((function(e){return e}))):[]}function $acf207a696c4ce8a821b2545f5bbf6ed$var$stringify(e,t){var r;try{r=t?JSON.stringify(e,null,t):JSON.stringify(e)}catch(c){var i,n,o=[];for(i in e)if($acf207a696c4ce8a821b2545f5bbf6ed$var$hasProp(e,i)&&!$acf207a696c4ce8a821b2545f5bbf6ed$var$isUndefined(e[i])&&!$acf207a696c4ce8a821b2545f5bbf6ed$var$isFunction(e[i])){n=e[i],r='"'+i+'":';try{r+=t?JSON.stringify(n,null,t):JSON.stringify(n)}catch(e){r+='"'+e.toString()+'"'}o.push(r)}var s=",";if(r="{",t){var a="\n"+" ".repeat(t);s+=a,r+=a}r+=o.join(s),t&&(r+="\n"),r+="}"}return r}function $acf207a696c4ce8a821b2545f5bbf6ed$var$toAscii(e){if("string"==typeof e){if(/^[\w]*$/.test(e))return e;return[[/[áàâäãå]/g,"a"],[/[ÁÀÂÄÃÅ]/g,"A"],["ç","c"],["Ç","C"],[/[éèêë]/g,"e"],[/[ÉÈÊË]/g,"E"],[/[íìîï]/g,"i"],[/[ÍÌÎÏ]/g,"I"],["ñ","n"],["Ñ","N"],[/[óòôöõ]/g,"o"],[/[ÓÒÔÖÕ]/g,"O"],[/[úùûü]/g,"u"],[/[ÚÙÛÜ]/g,"U"],[/[ýÿ]/g,"y"],[/[ÝŸ]/g,"Y"],["æ","ae"],["Æ","AE"],["œ","oe"],["Œ","OE"]].reduce((function(e,t){return e.replace(t[0],t[1])}),e)}return console.error(new TypeError("not a string"),e),""}function $acf207a696c4ce8a821b2545f5bbf6ed$var$toInt(e){switch(typeof e){case"number":return Math.round(e);case"string":return""===e?NaN:Math.round(e);default:return NaN}}$acf207a696c4ce8a821b2545f5bbf6ed$exports={countSlash:$acf207a696c4ce8a821b2545f5bbf6ed$var$countSlash,escapeForHtml:$acf207a696c4ce8a821b2545f5bbf6ed$var$escapeForHtml,formatDate:$acf207a696c4ce8a821b2545f5bbf6ed$var$formatDate,getToken:$acf207a696c4ce8a821b2545f5bbf6ed$var$getToken,hasProp:$acf207a696c4ce8a821b2545f5bbf6ed$var$hasProp,isArray:$acf207a696c4ce8a821b2545f5bbf6ed$var$isArray,isArrayEmpty:$acf207a696c4ce8a821b2545f5bbf6ed$var$isArrayEmpty,isArrayNotEmpty:$acf207a696c4ce8a821b2545f5bbf6ed$var$isArrayNotEmpty,isDate:$acf207a696c4ce8a821b2545f5bbf6ed$var$isDate,isError:$acf207a696c4ce8a821b2545f5bbf6ed$var$isError,isFunction:$acf207a696c4ce8a821b2545f5bbf6ed$var$isFunction,isInArray:$acf207a696c4ce8a821b2545f5bbf6ed$var$isInArray,isInt:$acf207a696c4ce8a821b2545f5bbf6ed$var$isInt,isIntPos:$acf207a696c4ce8a821b2545f5bbf6ed$var$isIntPos,isObject:$acf207a696c4ce8a821b2545f5bbf6ed$var$isObject,isObjectPlain:$acf207a696c4ce8a821b2545f5bbf6ed$var$isObjectPlain,isRegExp:$acf207a696c4ce8a821b2545f5bbf6ed$var$isRegExp,isString:$acf207a696c4ce8a821b2545f5bbf6ed$var$isString,isUndefined:$acf207a696c4ce8a821b2545f5bbf6ed$var$isUndefined,isUrlAbsolute:$acf207a696c4ce8a821b2545f5bbf6ed$var$isUrlAbsolute,pad:$acf207a696c4ce8a821b2545f5bbf6ed$var$pad,parse:$acf207a696c4ce8a821b2545f5bbf6ed$var$parse,splitAndTrim:$acf207a696c4ce8a821b2545f5bbf6ed$var$splitAndTrim,stringify:$acf207a696c4ce8a821b2545f5bbf6ed$var$stringify,toAscii:$acf207a696c4ce8a821b2545f5bbf6ed$var$toAscii,toInt:$acf207a696c4ce8a821b2545f5bbf6ed$var$toInt};var $df083d449d10e31818c3ba118cc81299$var$hasProp=$acf207a696c4ce8a821b2545f5bbf6ed$exports.hasProp;$df083d449d10e31818c3ba118cc81299$exports=function e(t,r){if(null===t)return"null";switch(typeof t){case"undefined":return t;case"number":case"boolean":return String(t);case"string":return'"'+t.replace('"','\\"')+'"';case"symbol":return"[Symbol "+t.toString()+"]";default:r||(r=0);var i=" ".repeat(r);r+=2;var n,o=i+"  ",s=[];if($acf207a696c4ce8a821b2545f5bbf6ed$exports.isDate(t))return JSON.stringify(t);if($acf207a696c4ce8a821b2545f5bbf6ed$exports.isArray(t))return n="[\n",t.forEach((function(i,s){n+=o+e(i,r)+(s===t.length-1?"\n":",\n")})),t.length?n+=i+"]":n+="]",n;if($acf207a696c4ce8a821b2545f5bbf6ed$exports.isRegExp(t)||$acf207a696c4ce8a821b2545f5bbf6ed$exports.isFunction(t))return"function"==typeof t.toSource?t.toSource():t.toString();if($acf207a696c4ce8a821b2545f5bbf6ed$exports.isObject(t)){var a=0;for(var c in t)if($df083d449d10e31818c3ba118cc81299$var$hasProp(t,c)){a++;try{JSON.stringify(t[c]),s.push(c+": "+e(t[c],r))}catch(e){s.push(c+': "'+e.toString().replace('"','\\"')+'"')}}return a?"{\n"+o+s.join(",\n"+o)+"\n"+i+"}":$acf207a696c4ce8a821b2545f5bbf6ed$exports.isObjectPlain(t)?i+"{}":i+t.toString()}return console.error("dump est tombé sur un truc qui ne ressemble à rien de connu",t),$acf207a696c4ce8a821b2545f5bbf6ed$exports.stringify(t,2)}};var $aca49d5cd98a9431cca6988ba9a479b9$var$dump=$df083d449d10e31818c3ba118cc81299$exports,$aca49d5cd98a9431cca6988ba9a479b9$var$formatDate=$acf207a696c4ce8a821b2545f5bbf6ed$exports.formatDate,$aca49d5cd98a9431cca6988ba9a479b9$var$hasProp=$acf207a696c4ce8a821b2545f5bbf6ed$exports.hasProp,$aca49d5cd98a9431cca6988ba9a479b9$var$levels={debug:0,info:1,notice:1,warn:2,warning:2,error:3,alert:4,critical:4},$aca49d5cd98a9431cca6988ba9a479b9$var$prefixes=["[debug]","[info]","[warning]","[error]","[CRITICAL]"],$aca49d5cd98a9431cca6988ba9a479b9$var$loggers=[console.info||console.log,console.log,console.warn||console.error||console.log,console.error||console.log,console.error||console.log],$aca49d5cd98a9431cca6988ba9a479b9$var$logLevel=$aca49d5cd98a9431cca6988ba9a479b9$var$levels.info,$aca49d5cd98a9431cca6988ba9a479b9$var$isNode=void 0!==$aca49d5cd98a9431cca6988ba9a479b9$var$process&&$aca49d5cd98a9431cca6988ba9a479b9$var$process.env,$aca49d5cd98a9431cca6988ba9a479b9$var$isCluster=$aca49d5cd98a9431cca6988ba9a479b9$var$isNode&&$aca49d5cd98a9431cca6988ba9a479b9$var$hasProp($aca49d5cd98a9431cca6988ba9a479b9$var$process.env,"NODE_APP_INSTANCE"),$aca49d5cd98a9431cca6988ba9a479b9$var$hasDatePrefix=$aca49d5cd98a9431cca6988ba9a479b9$var$isNode&&!$aca49d5cd98a9431cca6988ba9a479b9$var$isCluster,$aca49d5cd98a9431cca6988ba9a479b9$var$datePrefix="[%O]",$aca49d5cd98a9431cca6988ba9a479b9$var$hasProcessPrefix=$aca49d5cd98a9431cca6988ba9a479b9$var$isCluster,$aca49d5cd98a9431cca6988ba9a479b9$var$processPrefix="N/A";function $aca49d5cd98a9431cca6988ba9a479b9$var$_log(e,t){try{var r=$aca49d5cd98a9431cca6988ba9a479b9$var$loggers[t]||console.log,i="";if($aca49d5cd98a9431cca6988ba9a479b9$var$hasDatePrefix&&(i=$aca49d5cd98a9431cca6988ba9a479b9$var$formatDate($aca49d5cd98a9431cca6988ba9a479b9$var$datePrefix)),$aca49d5cd98a9431cca6988ba9a479b9$var$hasProcessPrefix&&(i&&(i+=" "),i+="["+$aca49d5cd98a9431cca6988ba9a479b9$var$processPrefix+"]"),i&&(i+=" "),i+=$aca49d5cd98a9431cca6988ba9a479b9$var$prefixes[t],e.length<1&&(e=[Error("fonction de log appelée sans contenu")]),r(i,e[0]),e.length>1)for(var n=1;n<e.length;n++)r(e[n])}catch(e){}}function $aca49d5cd98a9431cca6988ba9a479b9$var$log(){$aca49d5cd98a9431cca6988ba9a479b9$var$logLevel<$aca49d5cd98a9431cca6988ba9a479b9$var$levels.warning&&$aca49d5cd98a9431cca6988ba9a479b9$var$_log(arguments,$aca49d5cd98a9431cca6988ba9a479b9$var$levels.info)}$aca49d5cd98a9431cca6988ba9a479b9$var$log.debug=function(){$aca49d5cd98a9431cca6988ba9a479b9$var$logLevel<$aca49d5cd98a9431cca6988ba9a479b9$var$levels.info&&$aca49d5cd98a9431cca6988ba9a479b9$var$_log(arguments,$aca49d5cd98a9431cca6988ba9a479b9$var$levels.debug)},$aca49d5cd98a9431cca6988ba9a479b9$var$log.info=function(){$aca49d5cd98a9431cca6988ba9a479b9$var$logLevel<$aca49d5cd98a9431cca6988ba9a479b9$var$levels.warning&&$aca49d5cd98a9431cca6988ba9a479b9$var$_log(arguments,$aca49d5cd98a9431cca6988ba9a479b9$var$levels.info)},$aca49d5cd98a9431cca6988ba9a479b9$var$log.warn=function(){$aca49d5cd98a9431cca6988ba9a479b9$var$logLevel<$aca49d5cd98a9431cca6988ba9a479b9$var$levels.error&&$aca49d5cd98a9431cca6988ba9a479b9$var$_log(arguments,$aca49d5cd98a9431cca6988ba9a479b9$var$levels.warning)},$aca49d5cd98a9431cca6988ba9a479b9$var$log.ifError=function e(){e&&$aca49d5cd98a9431cca6988ba9a479b9$var$logLevel<$aca49d5cd98a9431cca6988ba9a479b9$var$levels.critical&&$aca49d5cd98a9431cca6988ba9a479b9$var$_log(arguments,$aca49d5cd98a9431cca6988ba9a479b9$var$levels.error)},$aca49d5cd98a9431cca6988ba9a479b9$var$log.error=function(){$aca49d5cd98a9431cca6988ba9a479b9$var$logLevel<$aca49d5cd98a9431cca6988ba9a479b9$var$levels.critical&&$aca49d5cd98a9431cca6988ba9a479b9$var$_log(arguments,$aca49d5cd98a9431cca6988ba9a479b9$var$levels.error)},$aca49d5cd98a9431cca6988ba9a479b9$var$log.critical=function(){$aca49d5cd98a9431cca6988ba9a479b9$var$_log(arguments,$aca49d5cd98a9431cca6988ba9a479b9$var$levels.critical)},$aca49d5cd98a9431cca6988ba9a479b9$var$log.disable=function(){$aca49d5cd98a9431cca6988ba9a479b9$var$logLevel=$aca49d5cd98a9431cca6988ba9a479b9$var$levels.error},$aca49d5cd98a9431cca6988ba9a479b9$var$log.disableDatePrefix=function(){$aca49d5cd98a9431cca6988ba9a479b9$var$hasDatePrefix=!1},$aca49d5cd98a9431cca6988ba9a479b9$var$log.disableProcessPrefix=function(){$aca49d5cd98a9431cca6988ba9a479b9$var$hasProcessPrefix=!1},$aca49d5cd98a9431cca6988ba9a479b9$var$log.dump=function(e,t,r){"object"!=typeof r&&(r={});var i=r.level||$aca49d5cd98a9431cca6988ba9a479b9$var$levels.debug;"string"==typeof i&&(i=$aca49d5cd98a9431cca6988ba9a479b9$var$levels[i]||$aca49d5cd98a9431cca6988ba9a479b9$var$levels.debug);var n=$aca49d5cd98a9431cca6988ba9a479b9$var$dump(t),o=r.max||1e3;n.length>o&&(n=n.substr(0,o)+"…"),$aca49d5cd98a9431cca6988ba9a479b9$var$logLevel<=i&&$aca49d5cd98a9431cca6988ba9a479b9$var$_log([e,n],i)},$aca49d5cd98a9431cca6988ba9a479b9$var$log.enable=function(){$aca49d5cd98a9431cca6988ba9a479b9$var$logLevel=$aca49d5cd98a9431cca6988ba9a479b9$var$levels.info},$aca49d5cd98a9431cca6988ba9a479b9$var$log.enableDatePrefix=function(){$aca49d5cd98a9431cca6988ba9a479b9$var$hasDatePrefix=!0},$aca49d5cd98a9431cca6988ba9a479b9$var$log.enableProcessPrefix=function(){void 0===$aca49d5cd98a9431cca6988ba9a479b9$var$process?console.error("process not available"):$aca49d5cd98a9431cca6988ba9a479b9$var$hasProcessPrefix=!0},$aca49d5cd98a9431cca6988ba9a479b9$var$log.setDatePrefix=function(e){"string"==typeof e?$aca49d5cd98a9431cca6988ba9a479b9$var$datePrefix=e:$aca49d5cd98a9431cca6988ba9a479b9$var$log.error(new Error("Le préfixe de log doit être une string"))},$aca49d5cd98a9431cca6988ba9a479b9$var$log.setLogLevel=function(e){switch(e){case 0:case"0":case"debug":$aca49d5cd98a9431cca6988ba9a479b9$var$logLevel=$aca49d5cd98a9431cca6988ba9a479b9$var$levels.debug;break;case 1:case"1":case"info":case"notice":$aca49d5cd98a9431cca6988ba9a479b9$var$logLevel=$aca49d5cd98a9431cca6988ba9a479b9$var$levels.notice;break;case 2:case"2":case"warn":case"warning":$aca49d5cd98a9431cca6988ba9a479b9$var$logLevel=$aca49d5cd98a9431cca6988ba9a479b9$var$levels.warning;break;case 3:case"3":case"err":case"error":$aca49d5cd98a9431cca6988ba9a479b9$var$logLevel=$aca49d5cd98a9431cca6988ba9a479b9$var$levels.error;break;case 4:case"4":case"alert":case"crit":case"critical":$aca49d5cd98a9431cca6988ba9a479b9$var$logLevel=$aca49d5cd98a9431cca6988ba9a479b9$var$levels.critical;break;default:$aca49d5cd98a9431cca6988ba9a479b9$var$log.error("niveau d’erreur "+e)}},$aca49d5cd98a9431cca6988ba9a479b9$var$log.levels={debug:0,info:1,notice:1,warn:2,warning:2,error:3,alert:4,critical:4},$aca49d5cd98a9431cca6988ba9a479b9$exports=$aca49d5cd98a9431cca6988ba9a479b9$var$log;var $2d2b8963b6aa9be4371dc5b39d0cdc50$var$log=$aca49d5cd98a9431cca6988ba9a479b9$exports,$2d2b8963b6aa9be4371dc5b39d0cdc50$var$hasProp=$acf207a696c4ce8a821b2545f5bbf6ed$exports.hasProp;function $2d2b8963b6aa9be4371dc5b39d0cdc50$var$addCss(e){for(var t=window.document.getElementsByTagName("head")[0],r=t.getElementsByTagName("link"),i=!1,n=0;n<r.length;n++)if(r[n].href===e){i=!0;break}if(i)$2d2b8963b6aa9be4371dc5b39d0cdc50$var$log(e+" était déjà présent, on ne l'ajoute pas");else{var o=window.document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=e,t.appendChild(o)}}function $2d2b8963b6aa9be4371dc5b39d0cdc50$var$addJs(e,t){var r=window.document.getElementsByTagName("body")[0],i=window.document.createElement("script");i.type="text/javascript",r.appendChild(i),i.addEventListener("load",(function e(){t(),i.removeEventListener("load",e)})),i.src=e}function $2d2b8963b6aa9be4371dc5b39d0cdc50$var$addElement(e,t,r,i){var n=$2d2b8963b6aa9be4371dc5b39d0cdc50$var$getElement(t,r,i);return e.appendChild(n),n}function $2d2b8963b6aa9be4371dc5b39d0cdc50$var$addElementAfter(e,t,r,i){var n=$2d2b8963b6aa9be4371dc5b39d0cdc50$var$getElement(t,r,i),o=e.parentNode;return o?o.insertBefore(n,e.nextSibling):$2d2b8963b6aa9be4371dc5b39d0cdc50$var$log.error(new Error("Navigateur incompatible (pas de parentNode), impossible d'ajouter l'élément")),n}function $2d2b8963b6aa9be4371dc5b39d0cdc50$var$addElementBefore(e,t,r,i){var n=$2d2b8963b6aa9be4371dc5b39d0cdc50$var$getElement(t,r,i),o=e.parentNode;return o?o.insertBefore(n,e):$2d2b8963b6aa9be4371dc5b39d0cdc50$var$log.error(new Error("Navigateur incompatible (pas de parentNode), impossible d'insérer l'élément")),n}function $2d2b8963b6aa9be4371dc5b39d0cdc50$var$addElementFirstChild(e,t,r,i){var n=$2d2b8963b6aa9be4371dc5b39d0cdc50$var$getElement(t,r,i);return e.insertBefore(n,e.firstChild),n}function $2d2b8963b6aa9be4371dc5b39d0cdc50$var$addElementFirstSibling(e,t,r,i){var n=$2d2b8963b6aa9be4371dc5b39d0cdc50$var$getElement(t,r,i);return e.parentNode.insertBefore(n,e.parentNode.firstChild),n}function $2d2b8963b6aa9be4371dc5b39d0cdc50$var$addText(e,t){e.appendChild(window.document.createTextNode(t))}function $2d2b8963b6aa9be4371dc5b39d0cdc50$var$empty(e){if(e&&e.firstChild)for(;e.firstChild;)e.removeChild(e.firstChild)}function $2d2b8963b6aa9be4371dc5b39d0cdc50$var$getElement(e,t,r){var i,n=window.document.createElement(e);try{if(t)for(i in t)$2d2b8963b6aa9be4371dc5b39d0cdc50$var$hasProp(t,i)&&("class"===i?n.className=t.class:"className"===i?n.className=t.className:"style"===i?$2d2b8963b6aa9be4371dc5b39d0cdc50$var$setStyles(n,t.style):n.setAttribute(i,t[i]))}catch(r){$2d2b8963b6aa9be4371dc5b39d0cdc50$var$log("plantage dans getElement "+e+" avec les attributs ",t,r)}return r&&$2d2b8963b6aa9be4371dc5b39d0cdc50$var$addText(n,r),n}function $2d2b8963b6aa9be4371dc5b39d0cdc50$var$getSize(){var e="CSS1Compat"===window.document.compatMode?window.document.documentElement:window.document.body;return{width:Math.floor(Math.min(e.clientWidth,window.innerWidth)),height:Math.floor(Math.min(e.clientHeight,window.innerHeight))}}var $2d2b8963b6aa9be4371dc5b39d0cdc50$var$getNewId=(max=1e4,lastId=0,id="sesa"+lastId,function(){for(;window.document.getElementById(id)&&lastId<max;)lastId++,id="sesa"+lastId;if(lastId===max)throw Error("Max de 10000 id générés atteint");return id}),max,lastId,id;function $2d2b8963b6aa9be4371dc5b39d0cdc50$var$setStyles(e,t){try{if(e&&e.style)if("string"==typeof t)(t=t.split(";")).forEach((function(t){if((t=/([\w]+):(.+)/.exec(t))&&3===t.length){var r=t[1];e.style[r]=t[2]}}));else if("object"==typeof t)for(var r in t)$2d2b8963b6aa9be4371dc5b39d0cdc50$var$hasProp(t,r)&&(e.style[r]=t[r])}catch(e){$2d2b8963b6aa9be4371dc5b39d0cdc50$var$log.error(e)}}function $a5ddc7318ce75d15946a51e03ac76498$export$default(e,t,r,i,n,o){$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.call(this,e,t,o),this.dx=null==r?2:parseFloat(r),this.dy=null==i?4:parseFloat(i),this.nom=$4ccb1c775623de70995d27434bf557c7$export$remplaceBalises($4ccb1c775623de70995d27434bf557c7$export$remplaceCarSpe(n)),this.taille=20,this.point=this.doc.getElement(this.id,"point"),this.objet="point",this.nom=this.nom.replace(/\*/g,"×"),$4ccb1c775623de70995d27434bf557c7$export$necessiteLatex(n)?(this.nom="$"+this.traiteMaths(this.nom)+"$",this.estLatex=!0):this.estLatex=!1}function $1a0bc8c0f55894d1482609c3a73f776e$export$default(e,t,r,i,n,o){this.x=parseFloat(r),this.y=parseFloat(i),this.xinit=this.x,this.yinit=this.y,this.xcons=this.x,this.ycons=this.y,$6f71d9c815a62557961554772f94ac8e$export$default.call(this,e,t,n,o),this.style+="stroke-linecap:round;",this.nom=null,this.objet="point"}function $0efc0262368abe8d90c037ce154d3880$export$default(e,t,r,i,n,o,s,a){$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.call(this,e,t,n),this.abs=r.split(","),this.ord=i.split(","),this.sauveabs=this.abs,this.sauveord=this.ord,this.epaisseur=o,this.opacite=null==a?"60":a;const c=parseFloat(this.opacite/100);this.couleurFond=null==s?this.couleur:s,this.style="stroke:"+n+";stroke-width:"+o+";fill:"+this.couleurFond+";",this.style+="fill-opacity:"+c+";",this.objet="trait"}function $8f1e73d693b29cb8263d702febc1d4b5$export$default(e,t,r,i,n,o,s){$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.call(this,e,"quadrillageIEP",s),this.hauteur=parseFloat(r),this.largeur=parseFloat(i),this.haut=null==n?0:parseFloat(n),this.gauche=null==o?0:parseFloat(o),this.type=t,this.cadre={},this.cadre.gauche=30*this.gauche,this.cadre.haut=30*this.haut,this.cadre.droite=this.cadre.gauche+30*this.largeur,this.cadre.bas=this.cadre.haut+30*this.hauteur,this.objet="quadrillage"}function $ec3d716030ae6b7860f8e6e482c4d95f$export$default(e,t,r,i,n,o,s,a,c,l,p,u,f,d,h){$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.call(this,e,"repereIEP",u),this.hauteur=t,this.largeur=r,this.haut=null==i?0:parseFloat(i),this.gauche=null==n?0:parseFloat(n),this.xgrad=parseFloat(o),this.ygrad=parseFloat(s),this.xmin=parseFloat(a),this.xmax=parseFloat(c),this.ymin=parseFloat(l),this.ymax=parseFloat(p),this.grille=null==f?"visible":f,this.axes=null==d?"visible":d,this.etiquettes=null==h?"visible":h,this.cadre={},this.cadre.gauche=30*this.gauche,this.cadre.haut=30*this.haut,this.cadre.droite=this.cadre.gauche+30*this.largeur,this.cadre.bas=this.cadre.haut+30*this.hauteur}$2d2b8963b6aa9be4371dc5b39d0cdc50$exports={addCss:$2d2b8963b6aa9be4371dc5b39d0cdc50$var$addCss,addJs:$2d2b8963b6aa9be4371dc5b39d0cdc50$var$addJs,addElement:$2d2b8963b6aa9be4371dc5b39d0cdc50$var$addElement,addElementAfter:$2d2b8963b6aa9be4371dc5b39d0cdc50$var$addElementAfter,addElementBefore:$2d2b8963b6aa9be4371dc5b39d0cdc50$var$addElementBefore,addElementFirstChild:$2d2b8963b6aa9be4371dc5b39d0cdc50$var$addElementFirstChild,addElementFirstSibling:$2d2b8963b6aa9be4371dc5b39d0cdc50$var$addElementFirstSibling,addText:$2d2b8963b6aa9be4371dc5b39d0cdc50$var$addText,empty:$2d2b8963b6aa9be4371dc5b39d0cdc50$var$empty,getElement:$2d2b8963b6aa9be4371dc5b39d0cdc50$var$getElement,getSize:$2d2b8963b6aa9be4371dc5b39d0cdc50$var$getSize,getNewId:$2d2b8963b6aa9be4371dc5b39d0cdc50$var$getNewId,setStyles:$2d2b8963b6aa9be4371dc5b39d0cdc50$var$setStyles},$a5ddc7318ce75d15946a51e03ac76498$export$default.prototype=new $d9027120c2fc7bb06ea47a3cfffcdc4c$export$default,$a5ddc7318ce75d15946a51e03ac76498$export$default.prototype.creeg=function(){let e,t,r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g=0;const x="<",v="£e(",y="£i(",_=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),E=$4ccb1c775623de70995d27434bf557c7$export$getTaille(this),k=E+2;let S=0;const w=.4*E;if(0!==this.nom.length){if(o=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"text"),o.setAttribute("pointer-events","none"),o.setAttribute("x",0),o.setAttribute("y",0),n="text-anchor:left;font-size:"+E+"px;fill:"+this.couleur+";",o.setAttribute("style",n),i=this.nom.replace(/ /g," "),-1===this.nom.indexOf(x)&&-1===this.nom.indexOf(v)&&-1===this.nom.indexOf(y)&&-1===this.nom.indexOf("<br>"))o.appendChild(document.createTextNode(i));else for(h=i.split(/<br>/gi),d=-k,b=0;b<h.length;b++)for($=!0,r=h[b];0!==r.length;){if(e=r.indexOf(x),a=r.indexOf(v),c=r.indexOf(y),$&&(d+=k+S),-1!==a&&(d+=w),-1===e&&-1===a&&-1===c){t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"tspan"),t.setAttribute("pointer-events","none"),t.setAttribute("dy",g),$&&(t.setAttribute("x",0),t.setAttribute("y",d),$=!1),g=0,t.appendChild(document.createTextNode(r)),o.appendChild(t);break}for(;-1!==r.indexOf(x)||-1!==r.indexOf(v)||-1!==r.indexOf(y);)if(e=r.indexOf(x),a=r.indexOf(v),c=r.indexOf(y),l=-1===e?-1===a?c:-1===c?a:Math.min(c,a):-1===a?-1===c?e:Math.min(e,c):-1===c?Math.min(e,a):Math.min(e,c,a),l>0)t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"tspan"),t.setAttribute("pointer-events","none"),t.setAttribute("dy",g),$&&(t.setAttribute("x",0),t.setAttribute("y",d),$=!1),g=0,t.appendChild(document.createTextNode(r.substring(0,l))),o.appendChild(t),r=r.substring(l);else if(0===e){const e=new $426a3896d86aa1d82f5286594dd21368$export$default(!1,!1,!1,this.couleur,"",E);s=$4ccb1c775623de70995d27434bf557c7$export$indiceFinBalise(r),$4ccb1c775623de70995d27434bf557c7$export$traiteBalise(-1===s?r:r.substring(0,s),e,o,$,d),$=!1,r=-1!==s?r.substring(s):"",g=0}else p=l===a,m=$4ccb1c775623de70995d27434bf557c7$export$analyseExposantOuIndice(r),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"tspan"),t.setAttribute("pointer-events","none"),t.setAttribute("dy",g+"px"),$&&(t.setAttribute("x",0),t.setAttribute("y",d),$=!1),m.erreur?t.appendChild(document.createTextNode(r)):(t.appendChild(document.createTextNode(m.operande)),o.appendChild(t),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"tspan"),t.setAttribute("pointer-events","none"),t.appendChild(document.createTextNode(m.exposant)),g=w,p?g=-g:S=g,t.setAttribute("dy",g+"px"),u=.6*E,f="font-size:"+u+"px;",t.setAttribute("style",f),o.appendChild(t),g=-g),r=m.texte}_.appendChild(o),this.g=_}_.setAttribute("visibility","hidden")},$a5ddc7318ce75d15946a51e03ac76498$export$default.prototype.creegLatex=function(){try{const e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),t=this.html.firstChild,r=t.cloneNode(!0);e.appendChild(r);const i=parseFloat(t.getAttribute("width"))*this.ex,n=parseFloat(t.getAttribute("height"))*this.ex,o=r.style["vertical-align"],s=(o&&parseFloat(o)||1)*this.ex;r.setAttribute("width",i+"px"),r.setAttribute("height",n+"px"),$2d2b8963b6aa9be4371dc5b39d0cdc50$exports.setStyles(r,"vertical-align",s+"px"),r.setAttribute("x","0");const a=$4ccb1c775623de70995d27434bf557c7$export$getTaille(this);r.setAttribute("y",String(-a)),r.setAttribute("visibility","hidden"),this.g=e}catch(e){console.error(e,"on remplace par un <g> vide"),this.g=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g")}},$a5ddc7318ce75d15946a51e03ac76498$export$default.prototype.positionne=function(){null===this.point&&(this.point=this.doc.getElement(this.id,"point"));const e=this.point.x,t=this.point.y,r=$4ccb1c775623de70995d27434bf557c7$export$getTaille(this);this.g.setAttribute("transform","translate("+String(e+this.dx)+","+String(t+this.dy+r)+")")},$a5ddc7318ce75d15946a51e03ac76498$export$default.prototype.traiteMaths=function(e){return $4ccb1c775623de70995d27434bf557c7$export$getMathsForName(e,!0)},$1a0bc8c0f55894d1482609c3a73f776e$export$default.prototype=new $6f71d9c815a62557961554772f94ac8e$export$default,$1a0bc8c0f55894d1482609c3a73f776e$export$default.prototype.initialisePosition=function(){this.x=this.xinit,this.y=this.yinit,this.positionne()},$1a0bc8c0f55894d1482609c3a73f776e$export$default.prototype.creeg=function(){const e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g");let t;t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",-5),t.setAttribute("y1",5),t.setAttribute("x2",5),t.setAttribute("y2",-5),t.setAttribute("style",this.style),e.appendChild(t),t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),t.setAttribute("x1",-5),t.setAttribute("y1",-5),t.setAttribute("x2",5),t.setAttribute("y2",5),t.setAttribute("style",this.style),e.appendChild(t),this.g=e},$1a0bc8c0f55894d1482609c3a73f776e$export$default.prototype.positionne=function(){this.g.setAttribute("transform","translate("+this.x+","+this.y+")")},$1a0bc8c0f55894d1482609c3a73f776e$export$default.prototype.translate=function(e,t){this.x=e,this.y=t,this.positionne(),null!==this.nom&&this.nom.positionne()},$1a0bc8c0f55894d1482609c3a73f776e$export$default.prototype.updateg=function(){this.setPosition(this.x,this.y)},$1a0bc8c0f55894d1482609c3a73f776e$export$default.prototype.montre=function(e){$d9027120c2fc7bb06ea47a3cfffcdc4c$export$default.prototype.montre.call(this,e),null!==this.nom&&this.nom.g&&this.nom.montre(e)},$0efc0262368abe8d90c037ce154d3880$export$default.prototype=new $d9027120c2fc7bb06ea47a3cfffcdc4c$export$default,$0efc0262368abe8d90c037ce154d3880$export$default.prototype.creeg=function(){let e,t;const r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"polygon");for(e="",t=0;t<this.abs.length;t++)e+=" "+this.abs[t]+" "+this.ord[t];r.setAttribute("points",e),r.setAttribute("style",this.style),r.setAttribute("visibility","hidden"),this.g=r},$0efc0262368abe8d90c037ce154d3880$export$default.prototype.creationAnimee=function(){return!0},$0efc0262368abe8d90c037ce154d3880$export$default.prototype.lanceAnimation=function(e){this.pix=parseFloat(e/2),this.abs=[],this.abs[0]=this.sauveabs[0],this.ord=[],this.ord[0]=this.sauveord[0],this.ind=0,this.n=0;const t=this.doc.crayon,r=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(parseFloat(this.sauveabs[0]),parseFloat(this.sauveord[0]),parseFloat(this.sauveabs[1]),parseFloat(this.sauveord[1]));this.longcote=r.norme(),this.vect=r.vecteurColineaire(this.pix),t.setPosition(parseFloat(this.abs[0]),parseFloat(this.ord[0]),t.angle);const i=this;this.timer=setInterval((function(){i.actionPourAnimation()}),25)},$0efc0262368abe8d90c037ce154d3880$export$default.prototype.actionPourAnimation=function(){const e=this.doc.crayon;let t=this.ind;const r=parseFloat(this.abs[t]),i=parseFloat(this.ord[t]);if(this.n++,this.doc.animationEnCours)if(this.n*this.pix<=this.longcote){const n=r+this.n*this.vect.x,o=i+this.n*this.vect.y;this.abs[t+1]=String(n),this.ord[t+1]=String(o),e.translate(n,o),this.updateg()}else if(this.ind++,t++,t===this.sauveabs.length-1)clearInterval(this.timer),this.finAction(),this.doc.actionSuivante();else{this.abs[t]=this.sauveabs[t],this.ord[t]=this.sauveord[t],e.translate(parseFloat(this.abs[t]),parseFloat(this.ord[t]));const r=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(parseFloat(this.sauveabs[t]),parseFloat(this.sauveord[t]),parseFloat(this.sauveabs[t+1]),parseFloat(this.sauveord[t+1]));this.longcote=r.norme(),this.vect=r.vecteurColineaire(this.pix),this.n=0}else clearInterval(this.timer),this.finAction(),this.doc.actionSuivante()},$0efc0262368abe8d90c037ce154d3880$export$default.prototype.finAction=function(){this.abs=this.sauveabs,this.ord=this.sauveord;const e=this.abs.length;this.updateg(),this.doc.crayon.translate(parseFloat(this.abs[e-1]),parseFloat(this.ord[e-1]))},$8f1e73d693b29cb8263d702febc1d4b5$export$default.prototype=new $d9027120c2fc7bb06ea47a3cfffcdc4c$export$default,$8f1e73d693b29cb8263d702febc1d4b5$export$default.prototype.creeg=function(){const e=this.cadre.gauche,t=this.cadre.droite,r=this.cadre.haut,i=this.cadre.bas,n=this.couleur;this.g=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g");const o=this.doc.svg.getElementById("quadrillageIEP");switch(null!=o&&this.doc.svg.removeChild(o),this.type){case"seyes":this.tracer_grille(n,24,6,e,r,t,i,!1,1),this.tracer_grille(n,24,24,e,r,t,i,!1,1);break;case"millimetre":this.tracer_grille(n,3,3,e,r,t,i,!1,.6),this.tracer_grille(n,30,30,e,r,t,i,!1,.8),this.tracer_grille(n,150,150,e,r,t,i,!1,1);break;case"10x10":case"10x":this.tracer_grille(n,30,30,e,r,t,i,!1,1);break;case"5x5":case"5x":default:this.tracer_grille(n,15,15,e,r,t,i,!1,1)}},$8f1e73d693b29cb8263d702febc1d4b5$export$default.prototype.tracer_grille=function(e,t,r,i,n,o,s,a,c){let l,p;const u="stroke:"+e+";stroke-width:0.5;stroke-opacity:"+c+";";a&&(this.style+="stroke-dasharray:2 2;");let f=Math.ceil(Math.abs(o-i)/t);for(p=0;p<f;p++)l=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),l.setAttribute("style",u),l.setAttribute("x1",i+p*t),l.setAttribute("y1",n),l.setAttribute("x2",i+p*t),l.setAttribute("y2",s),l.setAttribute("style",u),this.g.appendChild(l);for(f=Math.ceil(Math.abs(s-n)/r),p=0;p<f;p++)l=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),l.setAttribute("style",u),l.setAttribute("x1",i),l.setAttribute("y1",n+p*r),l.setAttribute("x2",o),l.setAttribute("y2",n+p*r),l.setAttribute("style",u),this.g.appendChild(l)},$ec3d716030ae6b7860f8e6e482c4d95f$export$default.prototype=new $d9027120c2fc7bb06ea47a3cfffcdc4c$export$default,$ec3d716030ae6b7860f8e6e482c4d95f$export$default.prototype.mettre_x_en_pixels=function(e){return $4ccb1c775623de70995d27434bf557c7$export$mettre_en_pixels(e,this.xmin,this.xmax,this.cadre.gauche,this.cadre.droite)},$ec3d716030ae6b7860f8e6e482c4d95f$export$default.prototype.mettre_y_en_pixels=function(e){return $4ccb1c775623de70995d27434bf557c7$export$mettre_en_pixels(e,this.ymax,this.ymin,this.cadre.haut,this.cadre.bas)},$ec3d716030ae6b7860f8e6e482c4d95f$export$default.prototype.tracer_abscisses=function(e,t,r,i,n,o){let s,a,c,l;const p="stroke:black;stroke-width:0.5;";for("invisible"===this.grille&&"invisible"!==this.axes&&(s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),s.setAttribute("style",p),s.setAttribute("x1",this.cadre.gauche),s.setAttribute("y1",i),s.setAttribute("x2",this.cadre.droite),s.setAttribute("y2",i),this.g.appendChild(s)),l=0;l<=r;l++)if(s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),s.setAttribute("style",p),c=this.mettre_x_en_pixels(e+l*t),"invisible"===this.grille?"invisible"!==this.axes&&(s.setAttribute("x1",c),s.setAttribute("y1",String(i-5)),s.setAttribute("x2",c),s.setAttribute("y2",String(i+5)),this.g.appendChild(s)):(s.setAttribute("x1",c),s.setAttribute("y1",n),s.setAttribute("x2",c),s.setAttribute("y2",o),this.g.appendChild(s)),"invisible"!==this.etiquettes&&"invisible"!==this.axes){a=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"text"),a.setAttribute("x",c+2),a.setAttribute("y",i+12);const r="text-anchor:left;font-size:12px;fill:"+this.couleur+";";a.setAttribute("style",r),a.appendChild(document.createTextNode(String(e+l*t))),this.g.appendChild(a)}},$ec3d716030ae6b7860f8e6e482c4d95f$export$default.prototype.tracer_ordonnees=function(e,t,r,i,n,o){let s,a,c,l;const p="stroke:black;stroke-width:0.5;";for("invisible"===this.grille&&"invisible"!==this.axes&&(s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),s.setAttribute("style",p),s.setAttribute("x1",i),s.setAttribute("y1",this.cadre.haut),s.setAttribute("x2",i),s.setAttribute("y2",this.cadre.bas),this.g.appendChild(s)),l=0;l<=r;l++)if(s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"line"),s.setAttribute("style",p),c=this.mettre_y_en_pixels(e+l*t),"invisible"===this.grille?"invisible"!==this.axes&&(s.setAttribute("x1",String(i-5)),s.setAttribute("y1",c),s.setAttribute("x2",String(i+5)),s.setAttribute("y2",c),this.g.appendChild(s)):(s.setAttribute("x1",n),s.setAttribute("y1",c),s.setAttribute("x2",o),s.setAttribute("y2",c),this.g.appendChild(s)),"invisible"!==this.etiquettes&&"invisible"!==this.axes){a=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"text"),a.setAttribute("x",i+2),a.setAttribute("y",c+12);const r="text-anchor:left;font-size:12px;fill:"+this.couleur+";";a.setAttribute("style",r),a.appendChild(document.createTextNode(String(e+l*t))),this.g.appendChild(a)}},$ec3d716030ae6b7860f8e6e482c4d95f$export$default.prototype.creeg=function(){const e=this.cadre.droite-this.cadre.gauche,t=this.cadre.bas-this.cadre.haut;this.g=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g");const r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"defs"),i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"clipPath");i.setAttribute("id","clipRepere");const n="stroke:"+this.couleur+";stroke-width:1;fill:none;",o=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"rect");if(o.setAttribute("style",n),o.setAttribute("x",this.cadre.gauche),o.setAttribute("y",this.cadre.haut),o.setAttribute("width",e),o.setAttribute("height",t),i.appendChild(o),r.appendChild(i),this.g.appendChild(r),this.g.setAttribute("style","clip-path:url(#clipRepere)"),this.xmax-this.xmin>this.xgrad){const e=Math.floor((this.xmax-this.xmin)/this.xgrad);let t;t=this.ymax*this.ymin<0?this.mettre_y_en_pixels(0):this.ymax<0?this.cadre.haut:this.cadre.bas;const r=$4ccb1c775623de70995d27434bf557c7$export$determiner_graduations(this.xmin,this.xmax,this.xgrad);this.tracer_abscisses(r,this.xgrad,e,t,this.cadre.haut,this.cadre.bas)}if(this.ymax-this.ymin>this.ygrad){const e=Math.floor((this.ymax-this.ymin)/this.ygrad);let t;t=this.xmax*this.xmin<0?this.mettre_x_en_pixels(0):this.xmax<0?this.cadre.droite:this.cadre.gauche;const r=$4ccb1c775623de70995d27434bf557c7$export$determiner_graduations(this.ymin,this.ymax,this.ygrad);this.tracer_ordonnees(r,this.ygrad,e,t,this.cadre.gauche,this.cadre.droite)}const s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"rect");s.setAttribute("style",n),s.setAttribute("x",this.cadre.gauche),s.setAttribute("y",this.cadre.haut),s.setAttribute("width",e),s.setAttribute("height",t),this.g.appendChild(s),this.g.setAttribute("visibility","hidden")};const $b4f843553fb3bdf26244bb483586178e$var$outils=["compas","equerre","rapporteur","regle","requerre","crayon"],$b4f843553fb3bdf26244bb483586178e$var$icons=["Reset","PrevStep","Pause","Play","Restart","NextStep","GotoEnd","XML"],$b4f843553fb3bdf26244bb483586178e$var$defaultWidth=800,$b4f843553fb3bdf26244bb483586178e$var$defaultHeight=600,$b4f843553fb3bdf26244bb483586178e$var$waitPromise=e=>new Promise((t=>{setTimeout((()=>t()),e)}));function $b4f843553fb3bdf26244bb483586178e$var$getIconPlay(e,t,r){const i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"svg");i.setAttribute("x",e),i.setAttribute("y",t),i.setAttribute("width",32),i.setAttribute("height",32);const n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle");i.appendChild(n),n.setAttribute("cx",16),n.setAttribute("cy",16),n.setAttribute("r",15);const o="fonce"===r?"filtrebleu":"filtregris";n.setAttribute("style","stroke:none;fill:url(#radial"+r+"); filter:url(#"+o+");");const s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"polygon");return s.setAttribute("points","-5,8 8,0 -5,-8"),s.setAttribute("style","stroke:white;fill:white;"),s.setAttribute("transform","translate(16,16)"),i.appendChild(s),i}function $b4f843553fb3bdf26244bb483586178e$var$getIconPause(e,t,r){const i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"svg");i.setAttribute("x",e),i.setAttribute("y",t),i.setAttribute("width",32),i.setAttribute("height",32);const n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle");i.appendChild(n),n.setAttribute("cx",16),n.setAttribute("cy",16),n.setAttribute("r",15);const o="fonce"===r?"filtrebleu":"filtregris";n.setAttribute("style","stroke:none;fill:url(#radial"+r+"); filter:url(#"+o+");");let s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"rect");return s.setAttribute("x",-6),s.setAttribute("y",-7),s.setAttribute("width",3),s.setAttribute("height",14),s.setAttribute("style","stroke:white;fill:white;"),s.setAttribute("transform","translate(16,16)"),i.appendChild(s),s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"rect"),s.setAttribute("x",2),s.setAttribute("y",-7),s.setAttribute("width",3),s.setAttribute("height",14),s.setAttribute("style","stroke:white;fill:white;"),s.setAttribute("transform","translate(16,16)"),i.appendChild(s),i}function $b4f843553fb3bdf26244bb483586178e$var$getIconNextStep(e,t,r){const i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"svg");i.setAttribute("x",e),i.setAttribute("y",t),i.setAttribute("width",32),i.setAttribute("height",32);const n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle");i.appendChild(n),n.setAttribute("cx",16),n.setAttribute("cy",16),n.setAttribute("r",15);const o="fonce"===r?"filtrebleu":"filtregris";n.setAttribute("style","stroke:none;fill:url(#radial"+r+"); filter:url(#"+o+");");const s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"rect");s.setAttribute("x",5),s.setAttribute("y",-6),s.setAttribute("width",3),s.setAttribute("height",12),s.setAttribute("style","stroke:white;fill:white;"),s.setAttribute("transform","translate(16,16)"),i.appendChild(s);const a=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"polygon");return a.setAttribute("points","-7,6 2,0 -7,-6"),a.setAttribute("style","stroke:white;fill:white;"),a.setAttribute("transform","translate(16,16)"),i.appendChild(a),i}function $b4f843553fb3bdf26244bb483586178e$var$getIconPrevStep(e,t,r){const i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"svg");i.setAttribute("x",e),i.setAttribute("y",t),i.setAttribute("width",32),i.setAttribute("height",32);const n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle");i.appendChild(n),n.setAttribute("cx",16),n.setAttribute("cy",16),n.setAttribute("r",15);const o="fonce"===r?"filtrebleu":"filtregris";n.setAttribute("style","stroke:none;fill:url(#radial"+r+"); filter:url(#"+o+");");const s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"rect");s.setAttribute("x",-7),s.setAttribute("y",-6),s.setAttribute("width",3),s.setAttribute("height",12),s.setAttribute("style","stroke:white;fill:white;"),s.setAttribute("transform","translate(16,16)"),i.appendChild(s);const a=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"polygon");return a.setAttribute("points","7,6 -2,0 7,-6"),a.setAttribute("style","stroke:white;fill:white;"),a.setAttribute("transform","translate(16,16)"),i.appendChild(a),i}function $b4f843553fb3bdf26244bb483586178e$var$getIconGotoEnd(e,t,r){const i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"svg");i.setAttribute("x",e),i.setAttribute("y",t),i.setAttribute("width",32),i.setAttribute("height",32);const n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle");i.appendChild(n),n.setAttribute("cx",16),n.setAttribute("cy",16),n.setAttribute("r",15);const o="fonce"===r?"filtrebleu":"filtregris";n.setAttribute("style","stroke:none;fill:url(#radial"+r+"); filter:url(#"+o+");");let s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"polygon");return s.setAttribute("points","-6,7 1,0 -6,-7"),s.setAttribute("style","stroke:white;fill:white;"),s.setAttribute("transform","translate(16,16)"),i.appendChild(s),s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"polygon"),s.setAttribute("points","3,7 10,0 3,-7"),s.setAttribute("style","stroke:white;fill:white;"),s.setAttribute("transform","translate(16,16)"),i.appendChild(s),i}function $b4f843553fb3bdf26244bb483586178e$var$getIconReset(e,t,r){const i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"svg");i.setAttribute("x",e),i.setAttribute("y",t),i.setAttribute("width",32),i.setAttribute("height",32);const n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle");i.appendChild(n),n.setAttribute("cx",16),n.setAttribute("cy",16),n.setAttribute("r",15);const o="fonce"===r?"filtrebleu":"filtregris";n.setAttribute("style","stroke:none;fill:url(#radial"+r+"); filter:url(#"+o+");");let s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"polygon");return s.setAttribute("points","6,7 -1,0 6,-7"),s.setAttribute("style","stroke:white;fill:white;"),s.setAttribute("transform","translate(16,16)"),i.appendChild(s),s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"polygon"),s.setAttribute("points","-3,7 -10,0 -3,-7"),s.setAttribute("style","stroke:white;fill:white;"),s.setAttribute("transform","translate(16,16)"),i.appendChild(s),i}function $b4f843553fb3bdf26244bb483586178e$var$getIconRestart(e,t,r){const i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"svg");i.setAttribute("x",e),i.setAttribute("y",t),i.setAttribute("width",32),i.setAttribute("height",32);const n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle");i.appendChild(n),n.setAttribute("cx",16),n.setAttribute("cy",16),n.setAttribute("r",15);const o="fonce"===r?"filtrebleu":"filtregris";n.setAttribute("style","stroke:none;fill:url(#radial"+r+"); filter:url(#"+o+");");const s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path");return s.setAttribute("d","M 0 -8 A 8 8 -90 1 1 -8 0"),s.setAttribute("style","stroke:white;stroke-width:3;fill:none;"),s.setAttribute("marker-end","url(#markerarrow"),s.setAttribute("transform","translate(16,16)"),i.appendChild(s),i}function $b4f843553fb3bdf26244bb483586178e$var$getIconXml(e,t,r){const i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"svg");i.setAttribute("x",e),i.setAttribute("y",t),i.setAttribute("width",32),i.setAttribute("height",32);const n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"circle");i.appendChild(n),n.setAttribute("cx",16),n.setAttribute("cy",16),n.setAttribute("r",15);const o="fonce"===r?"filtrebleu":"filtregris";n.setAttribute("style","stroke:none;fill:url(#radial"+r+"); filter:url(#"+o+");");const s=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"text");return s.setAttribute("pointer-events","none"),s.appendChild(document.createTextNode("XML")),s.setAttribute("x",16),s.setAttribute("y",21),s.setAttribute("style","font-family:Arial;font-size:9pt;fill:white;text-anchor:middle"),i.appendChild(s),i}function $b4f843553fb3bdf26244bb483586178e$var$getId(e){return e.getAttribute("id")}function $b4f843553fb3bdf26244bb483586178e$var$getAbs(e){return e.getAttribute("abscisse")}function $b4f843553fb3bdf26244bb483586178e$var$getOrd(e){const t=e.getAttribute("ordonnee");return null===t?e.getAttribute("ordonnée"):t}function $b4f843553fb3bdf26244bb483586178e$var$getCouleur(e){const t=e.getAttribute("couleur");return t?$4ccb1c775623de70995d27434bf557c7$export$getSvgColor(t):"black"}function $b4f843553fb3bdf26244bb483586178e$var$getCouleurCadre(e){const t=e.getAttribute("couleur_cadre");return t?$4ccb1c775623de70995d27434bf557c7$export$getSvgColor(t):null}function $b4f843553fb3bdf26244bb483586178e$var$getCouleurFond(e){const t=e.getAttribute("couleur_fond");return t?$4ccb1c775623de70995d27434bf557c7$export$getSvgColor(t):null}function $b4f843553fb3bdf26244bb483586178e$var$getEpaisseur(e){const t=e.getAttribute("epaisseur");return null===t||0===parseInt(t)?"1":t}function $b4f843553fb3bdf26244bb483586178e$var$getOpaciteTrait(e){const t=e.getAttribute("opacite");return null===t?"100":t}function $b4f843553fb3bdf26244bb483586178e$var$getOpaciteFond(e){const t=e.getAttribute("opacite");return null===t?"50":t}function $b4f843553fb3bdf26244bb483586178e$var$getStyleTrait(e){const t=e.getAttribute("pointille");return null==t?"continu":t}function $b4f843553fb3bdf26244bb483586178e$var$getStyle(e){const t=e.getAttribute("style");return null==t?"normal":t}function $b4f843553fb3bdf26244bb483586178e$export$default(e,t,r){this.svg=e,"boolean"==typeof r?(this.autoStart=r,r={}):("object"!=typeof r&&(r={}),this.autoStart=Boolean(r.autoStart)),this.debug=Boolean(r.debug),this.windowxml=null;let i=t;-1===i.search(/<?xml/gi)&&(i='<?xml version="1.0" encoding="UTF-8"?>'+i),i=i.replace(/<action[_]\d*/gi,"<action"),i=i.replace(/<!--.*-->/g,""),i=i.replace(/(="[^"]*")([^ ])/g,"$1 $2").replace(/--/g,""),i=i.replace(/<</g,"<").replace(/>>/g,">"),i=i.replace(/<action(\w)/gi,"<action $1"),i=i.replace(/<commentaire\s*texte\s*=/gi,"<commentaire texteCommentaire ="),i=$4ccb1c775623de70995d27434bf557c7$export$elimineDoublonsXML(i),this.codexml=i;const n=/<\s*INSTRUMENPOCHE[^>]*>(.*)<\s*\/INSTRUMENPOCHE/is.exec(i);if(!n)throw Error("script xml invalide");this.chdoc="<INSTRUMENPOCHE>"+n[1]+"</INSTRUMENPOCHE>",this.actions=[],this.elements=[],this.compasRetourne=!1,this.compasLeve=null,this.compas=new $2a75736bafdb21d9b88d356b838fe8bd$export$default(this),this.equerre=new $5994c23ec903b14a953fc6c09af9d2c6$export$default(this),this.rapporteur=new $dacdce52279b2811223ab7a7d775fbd7$export$default(this),this.regle=new $44c6cb157b80e0cd1cae41c7d4840b7f$export$default(this),this.requerre=new $e9bc90e36c517b0449133dbb9fda88f3$export$default(this),this.crayon=new $83c5d60fdea57331b5b88ac508615d1b$export$default(this),this.xmldoc=$4ccb1c775623de70995d27434bf557c7$export$parseXMLDoc(this.chdoc),this.tabact=this.xmldoc.getElementsByTagName("action"),this.started=!1,this.animationEnCours=!0;const o={x:0,y:0,width:$b4f843553fb3bdf26244bb483586178e$var$defaultWidth,height:$b4f843553fb3bdf26244bb483586178e$var$defaultHeight},s=this.xmldoc.getElementsByTagName("viewBox");if(s&&s.length){s.length>1&&console.error(Error("Il y a plusieurs tags viewBox dans le script, on prend le premier"),s);const e=s[0];Object.keys(o).forEach((t=>{const r=Number(e.getAttribute(t));Number.isFinite(r)&&(t.length<2||r>0)&&(o[t]=r)}))}if(window.innerHeight>.6*o.height&&o.width/o.height<window.innerWidth/window.innerHeight)try{e.parentNode.style.width=window.innerHeight/o.height*o.width+"px"}catch(e){console.error(e)}try{e.parentNode.style.minWidth=o.width/2+"px",e.parentNode.style.minHeight=o.height/2+"px"}catch(e){console.error(e)}this.initialViewBox=o,e.setAttribute("viewBox",`${o.x} ${o.y} ${o.width} ${o.height}`),e.setAttribute("preserveAspectRatio","xMinYMin meet"),this.indiceActionEnCours=0,this.creeActions();const a=this;e.addEventListener("mousemove",(function(e){a.mousemoveListenerSvg(e,e.clientX,e.clientY)}),!1),e.addEventListener("mouseup",(function(){a.mouseupListener()}),!1),e.addEventListener("mouseleave",(function(){a.mouseleaveListener()}),!1),e.addEventListener("touchmove",(function(e){a.mousemoveListenerSvg(e,e.touches[0].pageX,e.touches[0].pageY)}),!1),e.addEventListener("touchend",(function(){a.mouseupListener()}),!1),e.addEventListener("touchcancel",(function(){a.mouseupListener()}),!1),e.addEventListener("touchleave",(function(){a.mouseleaveListener()}),!1),this.debug&&console.log("iepDoc instancié :",this)}function $d9ae82f4a7d40afcdbe1c00b940063a0$var$closeAllXMLWindows(e){e.docs.forEach((e=>{e.windowxml&&e.windowxml.close()}))}function $d9ae82f4a7d40afcdbe1c00b940063a0$export$default(e){this.debug=Boolean(e&&e.debug),this.debug&&console.log("Mode debug activé"),this.docs=[],window.addEventListener("unload",$d9ae82f4a7d40afcdbe1c00b940063a0$var$closeAllXMLWindows.bind(null,this))}let $fe833dec7424d4d8bcc267e2d01d8361$var$iepApp;function $fe833dec7424d4d8bcc267e2d01d8361$export$default(e,t,r){return"object"!=typeof r&&(r={}),Promise.resolve().then((()=>{if("undefined"==typeof window||!window.document)throw Error("iepLoad doit être utilisé dans un navigateur");if("string"==typeof e&&(e=document.getElementById(e)),!(e instanceof HTMLElement))throw Error("Conteneur html manquant");if("string"!=typeof t)throw Error("Script xml manquant");return/^http/.test(t)?$fe833dec7424d4d8bcc267e2d01d8361$var$loadXml(t):t})).then((t=>{if(!t||!/<INSTRUMENPOCHE/.test(t))throw Error("Ce n’est pas un script instrumenpoche valide");"https:"===window.location.protocol&&(t=t.replace(/http:\/\/([a-z]+.sesamath.net)/g,((e,t)=>`https://${t}`))),$2d2b8963b6aa9be4371dc5b39d0cdc50$exports.empty(e),$2d2b8963b6aa9be4371dc5b39d0cdc50$exports.setStyles(e,{position:"relative",overflow:"auto"});const i=$fe833dec7424d4d8bcc267e2d01d8361$var$addSvg(e),n={};r.debug&&(n.debug=!0),$fe833dec7424d4d8bcc267e2d01d8361$var$iepApp||($fe833dec7424d4d8bcc267e2d01d8361$var$iepApp=new $d9ae82f4a7d40afcdbe1c00b940063a0$export$default(n));const o="boolean"!=typeof r.autostart||r.autostart;return $fe833dec7424d4d8bcc267e2d01d8361$var$iepApp.addDoc(i,t,o),r.zoom&&$fe833dec7424d4d8bcc267e2d01d8361$var$addZoom(i),$fe833dec7424d4d8bcc267e2d01d8361$var$iepApp}))}function $fe833dec7424d4d8bcc267e2d01d8361$var$addSvg(e){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.classList.add("svgIep"),e.appendChild(t),$2d2b8963b6aa9be4371dc5b39d0cdc50$exports.setStyles(t,{margin:0,padding:0,width:"98%",height:"98%"}),t}function $fe833dec7424d4d8bcc267e2d01d8361$var$addZoom(e){const t=e.parentNode;t.style.resize="both",t.style.padding="0",t.style.border="1px solid black";const r={position:"absolute",zIndex:99,textAlign:"center",padding:0,width:"2.5em",height:"1.8em",left:"0.1em"};$2d2b8963b6aa9be4371dc5b39d0cdc50$exports.addElement(t,"button",{style:{...r,top:"0.1em"}},"+").addEventListener("click",(()=>e.iepDoc.zoom(1.1)),!1);$2d2b8963b6aa9be4371dc5b39d0cdc50$exports.addElement(t,"button",{style:{...r,top:"2em"}},"-").addEventListener("click",(()=>e.iepDoc.zoom(.9)),!1)}function $fe833dec7424d4d8bcc267e2d01d8361$var$loadXml(e){return"https:"===window.location.protocol&&"http:"===e.substr(0,5)?Promise.reject(Error(`Impossible de charger ici un script externe qui n’est pas en https (${e})`)):fetch(e,{Accept:"text/xml"}).catch((t=>{throw console.error(t),Error(`Impossible de récupérer le xml ${e}`)})).then((t=>{const{status:r,statusText:i,ok:n}=t;if(r>399)throw Error(`Impossible de récupérer le xml ${e} (erreur ${r} ${i})`);if(!n)throw Error(`Impossible de récupérer le xml ${e}`);return t.text()})).then((t=>{if(!t||!/<INSTRUMENPOCHE/.test(t))throw Error(`L’url ${e} ne retourne pas de script instrumenpoche en xml`);return t}))}$b4f843553fb3bdf26244bb483586178e$export$default.prototype.setViewBox=function(e){if("object"!=typeof e||Object.keys(this.initialViewBox).some((t=>!Number.isFinite(e[t]))))throw TypeError("paramètre invalide (il faut passer un objet { x: number, y: number, width: number, height: number })");const{x:t,y:r,width:i,height:n}=e;if(i<10||n<10)throw TypeError("width et height doivent être supérieur à 10");const o=this.initialViewBox.width/i;this.svg.setAttribute("viewBox",`${t} ${r} ${i} ${n}`),this.barreIcones.setAttribute("transform",`translate(${t+this.xbarre/o}, ${r+this.ybarre/o}) scale(${1/o})`)},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.zoom=function(e,t,r){if("number"!=typeof e||e<1e-6||e>1e6)throw Error(`zoomFactor invalide : ${typeof e} ${e}`);if(1===e)return this.setViewBox(this.initialViewBox);let{x:i,y:n,width:o,height:s}=this.getViewBox();Number.isFinite(t)||(t=i+o/2),Number.isFinite(r)||(r=n+s/2),o=Math.round(o/e),s=Math.round(s/e),i=t-o/2,n=r-s/2,this.setViewBox({x:i,y:n,width:o,height:s})},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.isReadyAll=function(){if(this.debug){const e=this.actions.filter((e=>!e.isReady));e.length?console.log(`${e.length} actions pas encore prêtes (sur ${this.actions.length})`):console.log(`Les ${this.actions.length} actions sont prêtes`)}return this.actions.every((e=>e.isReady))},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.whenReady=function(e,t=30){const r=()=>this.isReadyAll()?e():Date.now()-i<1e3*t?setTimeout(r,100):void e(Error(`Après ${t}s d’attente l’animation n’est pas prête, échec du chargement…`)),i=Date.now();r()},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.getReadyPromise=function(e=30){return this.isReadyAll()?Promise.resolve():new Promise(((t,r)=>{this.whenReady((e=>{e?r(e):t(this)}),e)}))},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.getWidth=function(){return this.getViewBox().width},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.getHeight=function(){return this.getViewBox().height},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.getViewBox=function(){try{const e=this.svg.getAttribute("viewBox");if(e){const t=e.split(" ").map(Number).filter((e=>!Number.isNaN(e)));if(4===t.length){const[e,r,i,n]=t;if(i>0&&n>0)return{x:e,y:r,width:i,height:n}}}console.error(Error("viewBox invalide"),e)}catch(e){console.error(e)}return this.svg.setAttribute("viewBox",`0 0 ${$b4f843553fb3bdf26244bb483586178e$var$defaultWidth} ${$b4f843553fb3bdf26244bb483586178e$var$defaultHeight}`),{x:0,y:0,width:$b4f843553fb3bdf26244bb483586178e$var$defaultWidth,height:$b4f843553fb3bdf26244bb483586178e$var$defaultHeight}},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.goFast=function(e=100,t){const r=this,i=()=>{r.nextStep(),r.indiceActionEnCours<r.actions.length?setTimeout((()=>i()),e):t&&t()};this.getReadyPromise().then((()=>r.animationEnCours?(r.pause(),$b4f843553fb3bdf26244bb483586178e$var$waitPromise(500)):Promise.resolve())).then((()=>{r.reset(),i()})).catch((e=>{console.error(e),alert(e.message)}))},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.creeElementsGraphiques=function(){this.actions.forEach((e=>e.creegElement()))},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.initialiseOutils=function(){$b4f843553fb3bdf26244bb483586178e$var$outils.forEach((e=>{this[e].initialisePosition(),this[e].montre(!1)})),this.compas.leve=!1},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.recreeOutils=function(){$b4f843553fb3bdf26244bb483586178e$var$outils.forEach((e=>{this[e].updateg(),this[e].montre(!1)})),this.compasLeve=null},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.init=function(){this.started=!0,this.creeElementsGraphiques(),this.recreeOutils(),this.creeIcones(),this.autoStart?(this.montreIcones(["Pause"]),this.play()):this.montreIcones(["Play"])},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.creeIcones=function(){const e=this;this.barreIcones=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"g"),this.creeElementsPourIcones(),this.iconReset=$b4f843553fb3bdf26244bb483586178e$var$getIconReset(0,0,"fonce"),this.iconResetGris=$b4f843553fb3bdf26244bb483586178e$var$getIconReset(0,0,"clair"),this.iconReset.onclick=this.reset.bind(this),this.barreIcones.appendChild(this.iconReset),this.barreIcones.appendChild(this.iconResetGris),this.iconPrevStep=$b4f843553fb3bdf26244bb483586178e$var$getIconPrevStep(32,0,"fonce"),this.iconPrevStepGris=$b4f843553fb3bdf26244bb483586178e$var$getIconPrevStep(32,0,"clair"),this.iconPrevStep.onclick=function(){e.prevStep()},this.barreIcones.appendChild(this.iconPrevStep),this.barreIcones.appendChild(this.iconPrevStepGris),this.iconPause=$b4f843553fb3bdf26244bb483586178e$var$getIconPause(64,0,"fonce"),this.iconPauseGris=$b4f843553fb3bdf26244bb483586178e$var$getIconPause(64,0,"clair"),this.iconPause.onclick=this.pause.bind(this),this.barreIcones.appendChild(this.iconPause),this.barreIcones.appendChild(this.iconPauseGris),this.iconPlay=$b4f843553fb3bdf26244bb483586178e$var$getIconPlay(96,0,"fonce"),this.iconPlayGris=$b4f843553fb3bdf26244bb483586178e$var$getIconPlay(96,0,"clair"),this.iconPlay.onclick=this.play.bind(this),this.barreIcones.appendChild(this.iconPlay),this.iconContinue=$b4f843553fb3bdf26244bb483586178e$var$getIconPlay(96,0,"rouge"),this.iconContinue.setAttribute("visibility","hidden"),this.iconContinue.onclick=this.continue.bind(this),this.barreIcones.appendChild(this.iconContinue),this.barreIcones.appendChild(this.iconPlayGris),this.iconRestart=$b4f843553fb3bdf26244bb483586178e$var$getIconRestart(128,0,"fonce"),this.iconRestartGris=$b4f843553fb3bdf26244bb483586178e$var$getIconRestart(128,0,"clair"),this.iconRestart.onclick=this.restart.bind(this),this.barreIcones.appendChild(this.iconRestart),this.barreIcones.appendChild(this.iconRestartGris),this.iconNextStep=$b4f843553fb3bdf26244bb483586178e$var$getIconNextStep(160,0,"fonce"),this.iconNextStepGris=$b4f843553fb3bdf26244bb483586178e$var$getIconNextStep(160,0,"clair"),this.iconNextStep.onclick=function(){e.nextStep()},this.barreIcones.appendChild(this.iconNextStep),this.barreIcones.appendChild(this.iconNextStepGris),this.iconGotoEnd=$b4f843553fb3bdf26244bb483586178e$var$getIconGotoEnd(192,0,"fonce"),this.iconGotoEndGris=$b4f843553fb3bdf26244bb483586178e$var$getIconGotoEnd(192,0,"clair"),this.iconGotoEnd.onclick=function(){e.gotoEnd()},this.barreIcones.appendChild(this.iconGotoEnd),this.barreIcones.appendChild(this.iconGotoEndGris),this.iconXML=$b4f843553fb3bdf26244bb483586178e$var$getIconXml(224,0,"fonce"),this.iconXMLGris=$b4f843553fb3bdf26244bb483586178e$var$getIconXml(224,0,"clair"),this.iconXML.onclick=function(){e.showXml()},this.barreIcones.appendChild(this.iconXML),this.barreIcones.appendChild(this.iconXMLGris),this.hauteurBarre=32,this.demiLargeurBarre=128,this.xbarre=50,this.ybarre=4,this.barreIcones.setAttribute("transform",`translate(${this.xbarre}, ${this.ybarre})`),this.svg.appendChild(this.barreIcones),this.isDraggingBarre=!1,this.barreIcones.addEventListener("mousedown",(function(t){e.mousedownListenerBarre(t.clientX,t.clientY)}),!1),this.barreIcones.addEventListener("mousemove",(function(t){e.mousemoveListenerBarre(t.clientX,t.clientY)}),!1),this.barreIcones.addEventListener("touchstart",(function(t){e.mousedownListenerBarre(t.touches[0].pageX,t.touches[0].pageY)}),!1),this.barreIcones.addEventListener("touchmove",this.mousemoveListenerBarre.bind(this),!1),this.deltax=0,this.deltay=0},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.mousedownListenerBarre=function(e,t){this.animationEnCours||(this.isDraggingBarre=!0,this.xcapturebarre=e,this.ycapturebarre=t)},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.mousemoveListenerBarre=function(){this.animationEnCours?(this.barreIcones.style.cursor="default",this.isDraggingBarre=!1):this.barreIcones.style.cursor="pointer"},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.mousemoveListenerSvg=function(e,t,r){if(this.isDraggingBarre){const i=this.getWidth(),n=this.getHeight(),o=t-this.xcapturebarre,s=r-this.ycapturebarre,a=this.deltax+o,c=this.deltay+s,l=this.xbarre+a,p=this.ybarre+c;l<=i-2*this.demiLargeurBarre&&l>=0&&p>=0&&p<=n-this.hauteurBarre&&(this.barreIcones.setAttribute("transform","translate("+l+","+p+")"),this.deltax=a,this.deltay=c,this.xcapturebarre=t,this.ycapturebarre=r),e.preventDefault()}},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.mouseupListener=function(){this.isDraggingBarre=!1},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.mouseleaveListener=function(){this.isDraggingBarre=!1},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.showXml=function(){null==this.windowxml?this.windowxml=this.popup():this.windowxml.focus()},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.montreIcones=function(e){$b4f843553fb3bdf26244bb483586178e$var$icons.forEach((t=>{const r=e.includes(t),i="icon"+t;this[i]?(this[i].setAttribute("visibility",r?"visible":"hidden"),this[i+"Gris"].setAttribute("visibility",r?"hidden":"visible")):console.error(`L’icone ${i} n’existe pas`)}))},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.activeIconeContinuer=function(){this.montreIcones(["XML"]),this.iconPlayGris.setAttribute("visibility","hidden"),this.iconContinue.setAttribute("visibility","visible")},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.gotoEnd=function(){this.animationEnCours=!1,this.initialise(),this.montreIcones(["Reset","PrevStep","Restart","XML"]),this.executeJusque(this.actions.length-1),this.indiceActionEnCours=this.actions.length},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.play=function(){this.animationEnCours=!0,this.montreIcones(["Pause"]),this.actions[this.indiceActionEnCours]?this.actions[this.indiceActionEnCours].execute(!1):console.error(Error(`Pas d'action ${this.indiceActionEnCours}`),this.actions)},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.continue=function(){this.indiceActionEnCours!==this.actions.length?(this.iconContinue.setAttribute("visibility","hidden"),this.montreIcones(["Pause"]),this.animationEnCours=!0,this.indiceActionEnCours++,this.actions[this.indiceActionEnCours]?this.actions[this.indiceActionEnCours].execute(!1):console.error(Error(`Pas d'action ${this.indiceActionEnCours}`),this.actions)):this.gotoEnd()},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.reset=function(){this.animationEnCours=!1,this.initialise(),this.montreIcones(["Play","NextStep","GotoEnd","XML"]),this.indiceActionEnCours=0,this.zoom(1)},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.restart=function(){if(this.animationEnCours)return this.animationEnCours=!1,void setTimeout(this.restart.bind(this),100);this.initialise(),this.indiceActionEnCours=0,this.zoom(1),this.play()},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.pause=function(){this.animationEnCours=!1,setTimeout((()=>this.montreIcones(["Reset","PrevStep","Play","Restart","NextStep","GotoEnd","XML"])),500)},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.nextStep=function(){const e=this.actions.length;this.animationEnCours=!1,this.indiceActionEnCours<e&&(this.actions[this.indiceActionEnCours].actionVisible()?this.indiceActionEnCours++:this.indiceActionEnCours=this.indiceProchaineActionVisible(this.indiceActionEnCours)+1,this.executeJusque(this.indiceActionEnCours-1));const t=["Reset","PrevStep","Restart","XML"];this.indiceActionEnCours===this.actions.length?this.montreIcones(t):this.montreIcones(t.concat(["NextStep","GotoEnd","Play"]))},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.prevStep=function(){this.animationEnCours=!1,this.indiceActionEnCours=this.indicePrecedenteActionVisible(this.indiceActionEnCours-1),this.indiceActionEnCours>0&&this.executeJusque(this.indiceActionEnCours-1);const e=["Play","NextStep","GotoEnd","XML"];0===this.indiceActionEnCours?this.montreIcones(e):this.montreIcones(e.concat(["Reset","PrevStep"]))},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.initialise=function(){let e,t;const r=this.svg;for(e=0;e<r.childNodes.length;e++)if(t=r.childNodes[e],t!==this.barreIcones)try{r.childNodes[e].setAttribute("visibility","hidden")}catch(e){console.error(e)}for(e=0;e<this.actions.length;e++){const t=this.actions[e];t instanceof $d1f410cbd3c3583af4060be9f57fa684$export$default&&t.objet.initialisePosition()}this.initialiseOutils()},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.getInstrumentVisibility=function(e,t){if(-1===t)return!1;let r,i=!1;for(let n=0;n<=t;n++)r=this.actions[n],r instanceof $12bbd78c786936e6c3fbd47136a3fe9d$export$default?r.instrument===e&&(i=!0):r instanceof $f8ebc7b7acda60d9e88c902912e35ed2$export$default&&r.instrument===e&&(i=!1);return i},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.getObjectVisibility=function(e,t){if(-1===t)return!1;let r,i=!1;for(let n=0;n<=t;n++)r=this.actions[n],r instanceof $18a6aedfc9b129e048b6026eef1d6444$export$default?r.objet===e&&(i=!0):r instanceof $5920b60656ecb85011945805243b432b$export$default&&r.objet===e&&(i=!1);return i},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.getCompasStatus=function(e){if(-1===e)return"couche";let t,r=!0;for(let i=0;i<=e;i++)t=this.actions[i],t instanceof $2675e219ffee9e37dbdd41f5f94cfac4$export$default?r=!0:t instanceof $d48d387c7a379bfe73ae0845cfcd7780$export$default&&(r=!1);return r?"couche":"leve"},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.indiceProchaineActionVisible=function(e){if(e>=this.actions.length)return this.actions.length-1;for(let t=e;t<this.actions.length;t++)if(this.actions[t].actionVisible())return t;return this.actions.length-1},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.indicePrecedenteActionVisible=function(e){if(e<0)return 0;e===this.actions.length&&e--;for(let t=e;t>=0;t--)if(this.actions[t].actionVisible())return t;return 0},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.montreInstrumentsEtape=function(e){let t=this.getInstrumentVisibility(this.compas,e);this.compas.leve?this.compasLeve.montre(t):this.compas.montre(t),t=this.getInstrumentVisibility(this.crayon,e),this.crayon.montre(t),t=this.getInstrumentVisibility(this.equerre,e),this.equerre.montre(t),t=this.getInstrumentVisibility(this.rapporteur,e),this.rapporteur.montre(t),t=this.getInstrumentVisibility(this.regle,e),this.regle.montre(t),t=this.getInstrumentVisibility(this.requerre,e),this.requerre.montre(t)},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.executeJusque=function(e){if(!(e>=this.actions.length)){this.initialise(),this.initialiseOutils(),this.animationEnCours=!1;for(let t=0;t<=e;t++)this.actions[t].execute(!0);this.montreInstrumentsEtape(e)}},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.addElement=function(e){const t=this.elements.findIndex((t=>t.id===e.id&&t.objet===e.objet));-1!==t?this.elements[t]=e:this.elements.push(e)},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.pushElement=function(e){if(this.elements.some((t=>t.id===e.id&&t.objet===e.objet)))throw Error(`Il y a déjà un élément ${e.id} désignant le même objet`);this.elements.push(e)},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.getElement=function(e,t){return this.elements.find((r=>r.objet===t&&("quadrillage"===t||r.id===e)))||null},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.setElement=function(e,t){const r=this.elements.findIndex((t=>t.id===e));return-1!==r&&(this.elements[r]=t,!0)},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.ajouteAction=function(e){e.indice=this.actions.length,this.actions.push(e)},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.creeActions=function(){let e,t,r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g,x,v,y,_;for(e=0;e<this.tabact.length;e++){t=this.tabact[e],l=$b4f843553fb3bdf26244bb483586178e$var$getId(t),r=t.getAttribute("mouvement"),$=t.getAttribute("tempo");try{let e,E;switch(r){case"creer":if(i=t.getAttribute("objet"),null!==this.getElement(l,i)){console.error(`L'id ${l} existe déjà, action creer ignorée`,i);break}if(null!=i){switch(i){case"point":n=new $1a0bc8c0f55894d1482609c3a73f776e$export$default(this,l,parseFloat($b4f843553fb3bdf26244bb483586178e$var$getAbs(t)),parseFloat($b4f843553fb3bdf26244bb483586178e$var$getOrd(t)),$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),$b4f843553fb3bdf26244bb483586178e$var$getEpaisseur(t)),o=new $d1f410cbd3c3583af4060be9f57fa684$export$default(this,l,n,$);break;case"angle":n=new $ae0332acb24a132facf7d509e7e68e85$export$default(this,l,$b4f843553fb3bdf26244bb483586178e$var$getAbs(t),$b4f843553fb3bdf26244bb483586178e$var$getOrd(t),t.getAttribute("rayon"),t.getAttribute("angle1"),t.getAttribute("angle2"),$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),$b4f843553fb3bdf26244bb483586178e$var$getEpaisseur(t),$b4f843553fb3bdf26244bb483586178e$var$getOpaciteFond(t),t.getAttribute("forme")),o=new $d1f410cbd3c3583af4060be9f57fa684$export$default(this,l,n,$);break;case"angle_droit":n=new $5f37ecd008f7a1222b91e555020b6677$export$default(this,l,t.getAttribute("abscisse_sommet"),t.getAttribute("ordonnee_sommet"),t.getAttribute("abscisse_inter"),t.getAttribute("ordonnee_inter"),$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),$b4f843553fb3bdf26244bb483586178e$var$getEpaisseur(t)),o=new $d1f410cbd3c3583af4060be9f57fa684$export$default(this,l,n,$);break;case"longueur":n=new $d52ee22372a7bce109cf9f3cb951d282$export$default(this,l,$b4f843553fb3bdf26244bb483586178e$var$getAbs(t),$b4f843553fb3bdf26244bb483586178e$var$getOrd(t),$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),$b4f843553fb3bdf26244bb483586178e$var$getEpaisseur(t),t.getAttribute("forme")),o=new $d1f410cbd3c3583af4060be9f57fa684$export$default(this,l,n,$);break;case"marque":n=new $ae46a62e03df0b9fd0444ac045dfa466$export$default(this,l,t.getAttribute("idSeg"),$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),$b4f843553fb3bdf26244bb483586178e$var$getEpaisseur(t),t.getAttribute("forme"),t.getAttribute("rayon")),o=new $d1f410cbd3c3583af4060be9f57fa684$export$default(this,l,n,$);break;case"texte":n=new $9189717a43893a6f4a4f0fcc6d315f49$export$default(this,l,$b4f843553fb3bdf26244bb483586178e$var$getAbs(t),$b4f843553fb3bdf26244bb483586178e$var$getOrd(t),$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),t.getAttribute("taille")),o=new $d1f410cbd3c3583af4060be9f57fa684$export$default(this,l,n,$);break;case"repere":n=new $ec3d716030ae6b7860f8e6e482c4d95f$export$default(this,t.getAttribute("hauteur"),t.getAttribute("largeur"),t.getAttribute("haut"),t.getAttribute("gauche"),t.getAttribute("Xgrad"),t.getAttribute("Ygrad"),t.getAttribute("Xmin"),t.getAttribute("Xmax"),t.getAttribute("Ymin"),t.getAttribute("Ymax"),$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),t.getAttribute("grille"),t.getAttribute("axes"),t.getAttribute("etiquettes")),o=new $d1f410cbd3c3583af4060be9f57fa684$export$default(this,l,n,$);break;case"quadrillage":if(e=t.getAttribute("abscisse_bas_droite"),null!=e){e=parseFloat(e)/30;const r=parseFloat(t.getAttribute("ordonnee_bas_droite"))/30,i=parseFloat(t.getAttribute("abscisse_haut_gauche"))/30,s=parseFloat(t.getAttribute("ordonnee_haut_gauche"))/30;n=new $8f1e73d693b29cb8263d702febc1d4b5$export$default(this,t.getAttribute("quadrillage"),String(r-s),String(e-i),s,i,$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t)),o=new $d1f410cbd3c3583af4060be9f57fa684$export$default(this,"quadrillageIEP",n,$)}else n=new $8f1e73d693b29cb8263d702febc1d4b5$export$default(this,t.getAttribute("quadrillage"),t.getAttribute("hauteur"),t.getAttribute("largeur"),t.getAttribute("haut"),t.getAttribute("gauche"),$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t));o=new $d1f410cbd3c3583af4060be9f57fa684$export$default(this,"quadrillageIEP",n,$);break;case"axe":n=new $0b008515394848e67298dbb88f70b0bf$export$default(this,t.getAttribute("pente"),t.getAttribute("largeur"),t.getAttribute("haut"),t.getAttribute("gauche"),t.getAttribute("distanceBord"),t.getAttribute("Xgrad"),t.getAttribute("Xmin"),t.getAttribute("Xmax"),$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t)),o=new $d1f410cbd3c3583af4060be9f57fa684$export$default(this,l,n,$);break;case"gabarit":E=t.getAttribute("ecart_angle"),null===E&&(E="-30"),n=new $b802f63ead59964eee0da1616b4226dc$export$default(this,l,t.getAttribute("abscisse"),t.getAttribute("ordonnee"),t.getAttribute("rayon"),E,$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),$b4f843553fb3bdf26244bb483586178e$var$getEpaisseur(t),$b4f843553fb3bdf26244bb483586178e$var$getCouleurFond(t),$b4f843553fb3bdf26244bb483586178e$var$getOpaciteTrait(t)),o=new $d1f410cbd3c3583af4060be9f57fa684$export$default(this,l,n,$);break;default:console.error(`objet ${n} inconnu => création ignorée`),o=null}o&&(this.ajouteAction(o),o.setReady())}break;case"montrer":i=t.getAttribute("objet"),$4ccb1c775623de70995d27434bf557c7$export$estInstrument(i)?(d=t.getAttribute("abscisse"),h=t.getAttribute("ordonnee"),o=new $12bbd78c786936e6c3fbd47136a3fe9d$export$default(this,this[i],d,h,$),"crayon"!==i&&"compas"!==i||null==d||null==h||this[i].translate(parseFloat(d),parseFloat(h))):o=new $18a6aedfc9b129e048b6026eef1d6444$export$default(this,l,i,$),this.ajouteAction(o),o.setReady();break;case"masquer":i=t.getAttribute("objet"),o=$4ccb1c775623de70995d27434bf557c7$export$estInstrument(i)?new $f8ebc7b7acda60d9e88c902912e35ed2$export$default(this,this[i],$):new $5920b60656ecb85011945805243b432b$export$default(this,l,i,$),this.ajouteAction(o),o.setReady();break;case"tracer":switch(i=t.getAttribute("objet"),_=t.getAttribute("cible"),null!=_?(n=this.getElement(_,"point"),d=n.xcons,h=n.ycons):(d=parseFloat($b4f843553fb3bdf26244bb483586178e$var$getAbs(t)),h=parseFloat($b4f843553fb3bdf26244bb483586178e$var$getOrd(t))),i){case"crayon":switch(s=t.getAttribute("forme"),a=this.crayon.x,c=this.crayon.y,l=$b4f843553fb3bdf26244bb483586178e$var$getId(t),s){case null:isNaN(d)||isNaN(h)?(n=new $193fbe108c2952baa0a90f2b56e67393$export$default(this,l,this.crayon.x,this.crayon.y,t.getAttribute("abscisses"),t.getAttribute("ordonnees"),$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),$b4f843553fb3bdf26244bb483586178e$var$getEpaisseur(t),$b4f843553fb3bdf26244bb483586178e$var$getOpaciteTrait(t),$b4f843553fb3bdf26244bb483586178e$var$getStyleTrait(t),$b4f843553fb3bdf26244bb483586178e$var$getStyle(t)),m=n.abs.length,this.crayon.translate(n.abs[m-1],n.ord[m-1])):(n=new $f94bab3f055e6068e89e3c90b4b560ea$export$default(this,l,a,c,d,h,$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),$b4f843553fb3bdf26244bb483586178e$var$getEpaisseur(t),$b4f843553fb3bdf26244bb483586178e$var$getOpaciteTrait(t),$b4f843553fb3bdf26244bb483586178e$var$getStyleTrait(t),$b4f843553fb3bdf26244bb483586178e$var$getStyle(t)),this.crayon.translate(d,h));break;case"droite":if(isNaN(d)||isNaN(h))break;n=new $176c86c4e5933ea105543d6f65b69d29$export$default(this,l,a,c,d,h,$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),$b4f843553fb3bdf26244bb483586178e$var$getEpaisseur(t),$b4f843553fb3bdf26244bb483586178e$var$getOpaciteTrait(t),$b4f843553fb3bdf26244bb483586178e$var$getStyleTrait(t),$b4f843553fb3bdf26244bb483586178e$var$getStyle(t)),this.crayon.translate(d,h);break;case"demidroite":if(isNaN(d)||isNaN(h))break;n=new $92898b11c7a9649464fdcc6a53665d33$export$default(this,l,a,c,d,h,$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),$b4f843553fb3bdf26244bb483586178e$var$getEpaisseur(t),$b4f843553fb3bdf26244bb483586178e$var$getOpaciteTrait(t),$b4f843553fb3bdf26244bb483586178e$var$getStyleTrait(t),$b4f843553fb3bdf26244bb483586178e$var$getStyle(t)),this.crayon.translate(d,h);break;case"polygone":if(b=t.getAttribute("cibles"),null===b)n=new $0efc0262368abe8d90c037ce154d3880$export$default(this,l,t.getAttribute("abscisses"),t.getAttribute("ordonnees"),$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),$b4f843553fb3bdf26244bb483586178e$var$getEpaisseur(t),$b4f843553fb3bdf26244bb483586178e$var$getCouleurFond(t),t.getAttribute("opacite"));else{let e="",r="";b.split(",").forEach(((t,i)=>{const n=0===i?"":",",o=this.getElement(t,"point");e+=n+o.xcons,r+=n+o.ycons})),n=new $0efc0262368abe8d90c037ce154d3880$export$default(this,l,e,r,$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),$b4f843553fb3bdf26244bb483586178e$var$getEpaisseur(t),$b4f843553fb3bdf26244bb483586178e$var$getCouleurFond(t),t.getAttribute("opacite"))}m=n.abs.length,this.crayon.translate(n.abs[m-1],n.ord[m-1]);break;case"libre":n=new $193fbe108c2952baa0a90f2b56e67393$export$default(this,l,this.crayon.x,this.crayon.y,t.getAttribute("abscisses"),t.getAttribute("ordonnees"),$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),$b4f843553fb3bdf26244bb483586178e$var$getEpaisseur(t),$b4f843553fb3bdf26244bb483586178e$var$getOpaciteTrait(t),$b4f843553fb3bdf26244bb483586178e$var$getStyleTrait(t),$b4f843553fb3bdf26244bb483586178e$var$getStyle(t)),m=n.abs.length,this.crayon.translate(n.abs[m-1],n.ord[m-1])}f=t.getAttribute("vitesse"),null==f&&(f="4"),o=new $d1f410cbd3c3583af4060be9f57fa684$export$default(this,$b4f843553fb3bdf26244bb483586178e$var$getId(t),n,$,f),this.ajouteAction(o),o.setReady();break;case"trait":f=t.getAttribute("vitesse"),null===f&&(f=1e4),n=new $f94bab3f055e6068e89e3c90b4b560ea$export$default(this,l,t.getAttribute("abscisse1"),t.getAttribute("ordonnee1"),t.getAttribute("abscisse2"),t.getAttribute("ordonnee2"),$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),$b4f843553fb3bdf26244bb483586178e$var$getEpaisseur(t),$b4f843553fb3bdf26244bb483586178e$var$getOpaciteTrait(t),$b4f843553fb3bdf26244bb483586178e$var$getStyleTrait(t),$b4f843553fb3bdf26244bb483586178e$var$getStyle(t)),o=new $d1f410cbd3c3583af4060be9f57fa684$export$default(this,$b4f843553fb3bdf26244bb483586178e$var$getId(t),n,$,f),this.ajouteAction(o),o.setReady();break;case"compas":n=new $fe546ecebfbf8f55fa5d8d1d2f4504aa$export$default(this,l,this.compas.x,this.compas.y,this.compas.ecart,this.getAngle(t,"debut"),this.getAngle(t,"fin"),$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),$b4f843553fb3bdf26244bb483586178e$var$getEpaisseur(t),$b4f843553fb3bdf26244bb483586178e$var$getOpaciteTrait(t),$b4f843553fb3bdf26244bb483586178e$var$getStyleTrait(t)),f=t.getAttribute("sens"),null==f&&(f="8"),o=new $d1f410cbd3c3583af4060be9f57fa684$export$default(this,$b4f843553fb3bdf26244bb483586178e$var$getId(t),n,$,f),this.ajouteAction(o),o.setReady();break;case"angle_droit":n=new $5f37ecd008f7a1222b91e555020b6677$export$default(this,l,t.getAttribute("abscisse_sommet"),t.getAttribute("ordonnee_sommet"),t.getAttribute("abscisse_inter"),t.getAttribute("ordonnee_inter"),$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),$b4f843553fb3bdf26244bb483586178e$var$getEpaisseur(t)),o=new $d1f410cbd3c3583af4060be9f57fa684$export$default(this,$b4f843553fb3bdf26244bb483586178e$var$getId(t),n,$,f),this.ajouteAction(o),o.setReady()}break;case"rotation":i=t.getAttribute("objet"),u=t.getAttribute("sens"),$4ccb1c775623de70995d27434bf557c7$export$estInstrument(i)?(_=t.getAttribute("cible"),null!=_&&null===t.getAttribute("angle")?(n=this.getElement(_,"point"),d=n.xcons,h=n.ycons,x=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(this[i].x,this[i].y,d,h),p=x.presqueNul()?0:-x.angle()):p="compas"===i?this.getAngle(t,"angle"):t.getAttribute("angle"),o=new $d44a50b2edbb241102aea81b310fe401$export$default(this,this[i],p,$,u)):null===this.getElement(l,i)?o=null:(p=t.getAttribute("angle"),o=new $cc177e37ce66511216f87a3907098258$export$default(this,l,p,i,$,u)),null!==o&&(this.ajouteAction(o),o.setReady());break;case"translation":i=t.getAttribute("objet"),_=t.getAttribute("cible"),null!=_?(n=this.getElement(_,"point"),d=n.xcons,h=n.ycons):(d=parseFloat($b4f843553fb3bdf26244bb483586178e$var$getAbs(t)),h=parseFloat($b4f843553fb3bdf26244bb483586178e$var$getOrd(t))),f=t.getAttribute("vitesse"),$4ccb1c775623de70995d27434bf557c7$export$estInstrument(i)?(this[i].x=d,this[i].y=h,o=new $861a10875edcc6d390cbc80c3865b997$export$default(this,this[i],d,h,$,f)):null===this.getElement(l,i)?o=null:("point"===i&&(y=this.getElement(l,"point"),y.xcons=d,y.ycons=h),o=new $db29786774d8e11a24f138f8e96d09e7$export$default(this,l,d,h,i,$,f)),null!==o&&(this.ajouteAction(o),"crayon"!==i&&"compas"!==i||this[i].translate(d,h),o.setReady());break;case"zoom":i=t.getAttribute("objet"),f=t.getAttribute("vitesse"),$4ccb1c775623de70995d27434bf557c7$export$estInstrument(i)?(v=t.getAttribute("echelle"),this[i].zoomfactor=parseFloat(v)/100,o=new $acd8d7b1c75884b7d440a4188084e5d4$export$default(this,this[i],v,$,f)):o="texte"===i||"image"===i?new $2bab84df5a9d4398afa19f0ca6e71247$export$default(this,l,t.getAttribute("echelle"),i,$,f):null,null!==o&&(this.ajouteAction(o),o.setReady());break;case"ecarter":_=t.getAttribute("cible"),null!=_?(n=this.getElement(_,"point"),x=new $029f5ec8145fe5ae5b3923862e9b625f$export$default(this.compas.x,this.compas.y,n.xcons,n.ycons),g=x.norme()):g=parseFloat(t.getAttribute("ecart"))*this.compas.zoomfactor,this.compas.ecart=g,o=new $dac037a4adbecfe3b98d8e7b81a917fe$export$default(this,g,$,t.getAttribute("vitesse")),this.ajouteAction(o),o.setReady();break;case"lever":o=new $d48d387c7a379bfe73ae0845cfcd7780$export$default(this,$),this.ajouteAction(o),o.setReady();break;case"coucher":o=new $2675e219ffee9e37dbdd41f5f94cfac4$export$default(this,$),this.ajouteAction(o),o.setReady();break;case"masquer_nombres":o=new $199563b09aedceef58375d06c2637d71$export$default(this,!1,$),this.ajouteAction(o),o.setReady();break;case"montrer_nombres":o=new $199563b09aedceef58375d06c2637d71$export$default(this,!0,$),this.ajouteAction(o),o.setReady();break;case"graduations":i=t.getAttribute("objet"),o=new $c053d1d01670c02741f0d55e502481d1$export$default(this,this[i],!0,$),this.ajouteAction(o),o.setReady();break;case"vide":i=t.getAttribute("objet"),o=new $c053d1d01670c02741f0d55e502481d1$export$default(this,this[i],!1,$),this.ajouteAction(o),o.setReady();break;case"retourner":this.compasRetourne=!this.compasRetourne,o=new $c850f43a817bbcdb4d21b3e3f478a7c7$export$default(this,$),this.ajouteAction(o),o.setReady();break;case"glisser":o=new $c9a20e17d27091f470ba2c72d7523bdf$export$default(this,t.getAttribute("abscisse"),$,t.getAttribute("vitesse")),this.ajouteAction(o),o.setReady();break;case"chargement":n=new $c19e2ebf8ba33b561803b9aa1e688d5f$export$default(this,l,t.getAttribute("url")),n.prepareAction();break;case"ecrire":o=new $51d2e2dc1807000025258951974a840f$export$default(this,l,$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t),t.getAttribute("taille"),t.getAttribute("texte"),t.getAttribute("style"),$b4f843553fb3bdf26244bb483586178e$var$getCouleurFond(t),t.getAttribute("opacite_fond"),$b4f843553fb3bdf26244bb483586178e$var$getCouleurCadre(t),t.getAttribute("epaisseur_cadre"),t.getAttribute("marge"),t.getAttribute("marge_gauche"),t.getAttribute("marge_droite"),t.getAttribute("marge_haut"),t.getAttribute("marge_bas"),$),this.ajouteAction(o),o.prepare();break;case"nommer":if(null!==this.getElement(l,"point")){const e=t.getAttribute("nom");""!==e&&(n=new $a5ddc7318ce75d15946a51e03ac76498$export$default(this,l,$b4f843553fb3bdf26244bb483586178e$var$getAbs(t),$b4f843553fb3bdf26244bb483586178e$var$getOrd(t),e,$b4f843553fb3bdf26244bb483586178e$var$getCouleur(t)),o=new $52d47b308c972c4dcbaed11ff87588c6$export$default(this,n,$),this.ajouteAction(o),o.prepare())}break;case"pause":o=new $cb39a37f196d3ca74ea5a4613642b07d$export$default(this,$),this.ajouteAction(o),o.setReady();break;case"modifier_longueur":i=t.getAttribute("objet"),o=new $a115ede9b3477b65b0b425d073906351$export$default(this,this[i],t.getAttribute("longueur"),$),this.ajouteAction(o),o.setReady();break;case"modifier_rayon":i=t.getAttribute("objet"),o=new $8f4a0830bf0e24198de7d3215d2dd19c$export$default(this,l,t.getAttribute("rayon"),i,$),this.ajouteAction(o),o.setReady()}}catch(e){console.error(e)}}this.getReadyPromise().then(this.init.bind(this)).catch((e=>{console.error(e),window.alert(e.message())}))},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.execute=function(e){this.indiceActionEnCours=0,this.actions[0].execute(e)},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.actionSuivante=function(e){if(e=Boolean(e),!this.animationEnCours&&!e)return;const t=this.actions[this.indiceActionEnCours];null===t.tempo||e?this.passageActionSuivante(e):setTimeout(this.passageActionSuivante.bind(this,e),t.tempo)},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.passageActionSuivante=function(e){this.indiceActionEnCours>=this.actions.length||(this.indiceActionEnCours!==this.actions.length-1?(this.indiceActionEnCours++,this.actions[this.indiceActionEnCours].execute(e)):(this.indiceActionEnCours++,this.montreIcones(["Reset","PrevStep","Restart","XML"]),this.animationEnCours=!1))},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.getAngle=function(e,t){const r=e.getAttribute(t);return null==r?null:this.compasRetourne?String(parseFloat(r)+180):r},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.creeElementsPourIcones=function(){let e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"defs");e.appendChild(this.radialGradiant("#9999FF","#000099","radialfonce")),this.svg.appendChild(e),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"defs"),e.appendChild(this.radialGradiant("#CCCCCC","#666666","radialclair")),this.svg.appendChild(e),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"defs"),e.appendChild(this.radialGradiant("#FF9999","#FF0000","radialrouge")),this.svg.appendChild(e),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"defs"),e.appendChild(this.markerArrow("markerarrow")),this.barreIcones.appendChild(e),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"defs"),e.appendChild(this.filtreEclairageIcone("filtrebleu")),this.barreIcones.appendChild(e),e=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"defs"),e.appendChild(this.filtreEclairageIcone("filtregris")),this.barreIcones.appendChild(e)},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.radialGradiant=function(e,t,r){const i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"radialGradient");i.setAttribute("id",r);let n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"stop");return n.setAttribute("offset","0%"),n.setAttribute("style","stop-color:"+t+";"),i.appendChild(n),n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"stop"),n.setAttribute("offset","80%"),n.setAttribute("style","stop-color:"+e+";"),i.appendChild(n),n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"stop"),n.setAttribute("offset","100%"),n.setAttribute("style","stop-color:"+t+";"),i.appendChild(n),i},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.markerArrow=function(e){const t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"marker");t.setAttribute("id",e),t.setAttribute("markerWidth","4"),t.setAttribute("markerHeight","4"),t.setAttribute("refX","0"),t.setAttribute("refY","2"),t.setAttribute("orient","auto");const r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"path");return r.setAttribute("d","M 0 0 2 2 0 4 Z"),r.setAttribute("style","fill:white;"),t.appendChild(r),t},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.filtreEclairageIcone=function(e){const t=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"filter");t.setAttribute("x","0"),t.setAttribute("y","0"),t.setAttribute("width","100%"),t.setAttribute("height","100%"),t.setAttribute("color-interpolation-filters","sRGB");const r=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"feDiffuseLighting");r.setAttribute("lighting-color","white"),r.setAttribute("surfaceScale","1"),r.setAttribute("diffuseConstant","1.2"),r.setAttribute("in","SourceGraphic"),r.setAttribute("result","diffOut");const i=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"fePointLight");i.setAttribute("x","5"),i.setAttribute("y","5"),i.setAttribute("z","15"),r.appendChild(i),t.appendChild(r);const n=document.createElementNS($de81623d6237f559ae5ac14db397c013$export$svgns,"feComposite");return n.setAttribute("in","SourceGraphic"),n.setAttribute("in2","diffOut"),n.setAttribute("operator","arithmetic"),n.setAttribute("k1","1"),n.setAttribute("k2","0"),n.setAttribute("k3","0"),n.setAttribute("k4","0"),t.appendChild(n),t.setAttribute("id",e),t},$b4f843553fb3bdf26244bb483586178e$export$default.prototype.popup=function(){const e=window.open("","popup","width=700,height=450,toolbar=no,scrollbars=no,resizable=yes");e.iepDoc=this;const t=e.document;t.title="Code Xml de la figure";const r=t.createElement("div"),i=t.createElement("form");r.appendChild(i),r.setAttribute("align","center"),t.body.appendChild(r);const n=t.createElement("textarea");i.appendChild(n),n.setAttribute("cols",80),n.setAttribute("rows",25),n.setAttribute("readonly",!0),n.style.fontSize="13px",n.scrollIntoView();let o=this.codexml;o=o.replace(/>\s*</g,">\n<"),n.appendChild(document.createTextNode(o)),n.select();const s=this;return e.addEventListener("unload",(()=>{s.windowxml=null})),e},$d9ae82f4a7d40afcdbe1c00b940063a0$export$default.prototype.addDoc=function(e,t,r=!0){if("string"==typeof e&&(e=document.getElementById(e)),!e)return new Error("svg manquant");if("svg"!==e.localName)return new Error("svg incorrect");const i=new $b4f843553fb3bdf26244bb483586178e$export$default(e,t,{autoStart:r,debug:this.debug});return this.docs.push(i),e.iepDoc=i,i},$d9ae82f4a7d40afcdbe1c00b940063a0$export$default.prototype.flush=function(){this.closeAllXMLWindows(),this.docs.forEach((({svg:e})=>{e.parentNode?e.parentNode.removeChild(e):console.error("le svg",e,"n’a pas de parentNode")})),this.docs=[]},$d9ae82f4a7d40afcdbe1c00b940063a0$export$default.prototype.getDocs=function(){return this.docs},$d9ae82f4a7d40afcdbe1c00b940063a0$export$default.prototype.getLastDoc=function(){const e=this.docs.length;return e?this.docs[e-1]:null};var $499ee97013f78e63604049576c09a820$exports,$499ee97013f78e63604049576c09a820$var$define,$499ee97013f78e63604049576c09a820$$interop$default,$499ee97013f78e63604049576c09a820$executed=!1;function $499ee97013f78e63604049576c09a820$exec(){(function(e,t){"object"==typeof $499ee97013f78e63604049576c09a820$exports?$499ee97013f78e63604049576c09a820$exports=t():"function"==typeof $499ee97013f78e63604049576c09a820$var$define&&$499ee97013f78e63604049576c09a820$var$define.amd?$499ee97013f78e63604049576c09a820$var$define(t):(e=e||self).CodeMirror=t()})($499ee97013f78e63604049576c09a820$exports={},(function(){var e=navigator.userAgent,t=navigator.platform,r=/gecko\/\d/i.test(e),i=/MSIE \d/.test(e),n=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),s=i||n||o,a=s&&(i?document.documentMode||6:+(o||n)[1]),c=!o&&/WebKit\//.test(e),l=c&&/Qt\/\d+\.\d+/.test(e),p=!o&&/Chrome\//.test(e),u=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),h=/PhantomJS/.test(e),b=f&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),$=/Android/.test(e),m=b||$||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),g=b||/Mac/.test(t),x=/\bCrOS\b/.test(e),v=/win/i.test(t),y=u&&e.match(/Version\/(\d*\.\d*)/);y&&(y=Number(y[1])),y&&y>=15&&(u=!1,c=!0);var _=g&&(l||u&&(null==y||y<12.11)),E=r||s&&a>=9;function k(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var S,w=function(e,t){var r=e.className,i=k(t).exec(r);if(i){var n=r.slice(i.index+i[0].length);e.className=r.slice(0,i.index)+(n?i[1]+n:"")}};function A(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function T(e,t){return A(e).appendChild(t)}function M(e,t,r,i){var n=document.createElement(e);if(r&&(n.className=r),i&&(n.style.cssText=i),"string"==typeof t)n.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)n.appendChild(t[o]);return n}function C(e,t,r,i){var n=M(e,t,r,i);return n.setAttribute("role","presentation"),n}function P(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function I(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function N(e,t){var r=e.className;k(t).test(r)||(e.className+=(r?" ":"")+t)}function O(e,t){for(var r=e.split(" "),i=0;i<r.length;i++)r[i]&&!k(r[i]).test(t)&&(t+=" "+r[i]);return t}S=document.createRange?function(e,t,r,i){var n=document.createRange();return n.setEnd(i||e,r),n.setStart(e,t),n}:function(e,t,r){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(e){return i}return i.collapse(!0),i.moveEnd("character",r),i.moveStart("character",t),i};var L=function(e){e.select()};function q(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function D(e,t,r){for(var i in t||(t={}),e)!e.hasOwnProperty(i)||!1===r&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function R(e,t,r,i,n){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=i||0,s=n||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return s+(t-o);s+=a-o,s+=r-s%r,o=a+1}}b?L=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:s&&(L=function(e){try{e.select()}catch(e){}});var B=function(){this.id=null,this.f=null,this.time=0,this.handler=q(this.onTimeout,this)};function U(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}B.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},B.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};var G={toString:function(){return"CodeMirror.Pass"}},F={scroll:!1},z={origin:"*mouse"},V={origin:"+move"};function j(e,t,r){for(var i=0,n=0;;){var o=e.indexOf("\t",i);-1==o&&(o=e.length);var s=o-i;if(o==e.length||n+s>=t)return i+Math.min(s,t-n);if(n+=o-i,i=o+1,(n+=r-n%r)>=t)return i}}var H=[""];function X(e){for(;H.length<=e;)H.push(W(H)+" ");return H[e]}function W(e){return e[e.length-1]}function Y(e,t){for(var r=[],i=0;i<e.length;i++)r[i]=t(e[i],i);return r}function Z(){}function Q(e,t){var r;return Object.create?r=Object.create(e):(Z.prototype=e,r=new Z),t&&D(t,r),r}var K=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function J(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||K.test(e))}function ee(e,t){return t?!!(t.source.indexOf("\\w")>-1&&J(e))||t.test(e):J(e)}function te(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ie(e){return e.charCodeAt(0)>=768&&re.test(e)}function ne(e,t,r){for(;(r<0?t>0:t<e.length)&&ie(e.charAt(t));)t+=r;return t}function oe(e,t,r){for(var i=t>r?-1:1;;){if(t==r)return t;var n=(t+r)/2,o=i<0?Math.ceil(n):Math.floor(n);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+i}}var se=null;function ae(e,t,r){var i;se=null;for(var n=0;n<e.length;++n){var o=e[n];if(o.from<t&&o.to>t)return n;o.to==t&&(o.from!=o.to&&"before"==r?i=n:se=n),o.from==t&&(o.from!=o.to&&"before"!=r?i=n:se=n)}return null!=i?i:se}var ce=function(){function e(e){return e<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,i=/[LRr]/,n=/[Lb1n]/,o=/[1n]/;function s(e,t,r){this.level=e,this.from=t,this.to=r}return function(a,c){var l="ltr"==c?"L":"R";if(0==a.length||"ltr"==c&&!t.test(a))return!1;for(var p=a.length,u=[],f=0;f<p;++f)u.push(e(a.charCodeAt(f)));for(var d=0,h=l;d<p;++d){var b=u[d];"m"==b?u[d]=h:h=b}for(var $=0,m=l;$<p;++$){var g=u[$];"1"==g&&"r"==m?u[$]="n":i.test(g)&&(m=g,"r"==g&&(u[$]="R"))}for(var x=1,v=u[0];x<p-1;++x){var y=u[x];"+"==y&&"1"==v&&"1"==u[x+1]?u[x]="1":","!=y||v!=u[x+1]||"1"!=v&&"n"!=v||(u[x]=v),v=y}for(var _=0;_<p;++_){var E=u[_];if(","==E)u[_]="N";else if("%"==E){var k=void 0;for(k=_+1;k<p&&"%"==u[k];++k);for(var S=_&&"!"==u[_-1]||k<p&&"1"==u[k]?"1":"N",w=_;w<k;++w)u[w]=S;_=k-1}}for(var A=0,T=l;A<p;++A){var M=u[A];"L"==T&&"1"==M?u[A]="L":i.test(M)&&(T=M)}for(var C=0;C<p;++C)if(r.test(u[C])){var P=void 0;for(P=C+1;P<p&&r.test(u[P]);++P);for(var I="L"==(C?u[C-1]:l),N=I==("L"==(P<p?u[P]:l))?I?"L":"R":l,O=C;O<P;++O)u[O]=N;C=P-1}for(var L,q=[],D=0;D<p;)if(n.test(u[D])){var R=D;for(++D;D<p&&n.test(u[D]);++D);q.push(new s(0,R,D))}else{var B=D,U=q.length,G="rtl"==c?1:0;for(++D;D<p&&"L"!=u[D];++D);for(var F=B;F<D;)if(o.test(u[F])){B<F&&(q.splice(U,0,new s(1,B,F)),U+=G);var z=F;for(++F;F<D&&o.test(u[F]);++F);q.splice(U,0,new s(2,z,F)),U+=G,B=F}else++F;B<D&&q.splice(U,0,new s(1,B,D))}return"ltr"==c&&(1==q[0].level&&(L=a.match(/^\s+/))&&(q[0].from=L[0].length,q.unshift(new s(0,0,L[0].length))),1==W(q).level&&(L=a.match(/\s+$/))&&(W(q).to-=L[0].length,q.push(new s(0,p-L[0].length,p)))),"rtl"==c?q.reverse():q}}();function le(e,t){var r=e.order;return null==r&&(r=e.order=ce(e.text,t)),r}var pe=[],ue=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var i=e._handlers||(e._handlers={});i[t]=(i[t]||pe).concat(r)}};function fe(e,t){return e._handlers&&e._handlers[t]||pe}function de(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var i=e._handlers,n=i&&i[t];if(n){var o=U(n,r);o>-1&&(i[t]=n.slice(0,o).concat(n.slice(o+1)))}}}function he(e,t){var r=fe(e,t);if(r.length)for(var i=Array.prototype.slice.call(arguments,2),n=0;n<r.length;++n)r[n].apply(null,i)}function be(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),he(e,r||t.type,e,t),ye(t)||t.codemirrorIgnore}function $e(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==U(r,t[i])&&r.push(t[i])}function me(e,t){return fe(e,t).length>0}function ge(e){e.prototype.on=function(e,t){ue(this,e,t)},e.prototype.off=function(e,t){de(this,e,t)}}function xe(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ve(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ye(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function _e(e){xe(e),ve(e)}function Ee(e){return e.target||e.srcElement}function ke(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),g&&e.ctrlKey&&1==t&&(t=3),t}var Se,we,Ae=function(){if(s&&a<9)return!1;var e=M("div");return"draggable"in e||"dragDrop"in e}();function Te(e){if(null==Se){var t=M("span","​");T(e,M("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Se=t.offsetWidth<=1&&t.offsetHeight>2&&!(s&&a<8))}var r=Se?M("span","​"):M("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Me(e){if(null!=we)return we;var t=T(e,document.createTextNode("AخA")),r=S(t,0,1).getBoundingClientRect(),i=S(t,1,2).getBoundingClientRect();return A(e),!(!r||r.left==r.right)&&(we=i.right-r.right<3)}var Ce,Pe=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],i=e.length;t<=i;){var n=e.indexOf("\n",t);-1==n&&(n=e.length);var o=e.slice(t,"\r"==e.charAt(n-1)?n-1:n),s=o.indexOf("\r");-1!=s?(r.push(o.slice(0,s)),t+=s+1):(r.push(o),t=n+1)}return r}:function(e){return e.split(/\r\n?|\n/)},Ie=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ne="oncopy"in(Ce=M("div"))||(Ce.setAttribute("oncopy","return;"),"function"==typeof Ce.oncopy),Oe=null;var Le={},qe={};function De(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Le[e]=t}function Re(e){if("string"==typeof e&&qe.hasOwnProperty(e))e=qe[e];else if(e&&"string"==typeof e.name&&qe.hasOwnProperty(e.name)){var t=qe[e.name];"string"==typeof t&&(t={name:t}),(e=Q(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Re("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Re("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Be(e,t){t=Re(t);var r=Le[t.name];if(!r)return Be(e,"text/plain");var i=r(e,t);if(Ue.hasOwnProperty(t.name)){var n=Ue[t.name];for(var o in n)n.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=n[o])}if(i.name=t.name,t.helperType&&(i.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)i[s]=t.modeProps[s];return i}var Ue={};function Ge(e,t){D(t,Ue.hasOwnProperty(e)?Ue[e]:Ue[e]={})}function Fe(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var i in t){var n=t[i];n instanceof Array&&(n=n.concat([])),r[i]=n}return r}function ze(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Ve(e,t,r){return!e.startState||e.startState(t,r)}var je=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function He(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var i=0;;++i){var n=r.children[i],o=n.chunkSize();if(t<o){r=n;break}t-=o}return r.lines[t]}function Xe(e,t,r){var i=[],n=t.line;return e.iter(t.line,r.line+1,(function(e){var o=e.text;n==r.line&&(o=o.slice(0,r.ch)),n==t.line&&(o=o.slice(t.ch)),i.push(o),++n})),i}function We(e,t,r){var i=[];return e.iter(t,r,(function(e){i.push(e.text)})),i}function Ye(e,t){var r=t-e.height;if(r)for(var i=e;i;i=i.parent)i.height+=r}function Ze(e){if(null==e.parent)return null;for(var t=e.parent,r=U(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var n=0;i.children[n]!=t;++n)r+=i.children[n].chunkSize();return r+t.first}function Qe(e,t){var r=e.first;e:do{for(var i=0;i<e.children.length;++i){var n=e.children[i],o=n.height;if(t<o){e=n;continue e}t-=o,r+=n.chunkSize()}return r}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s].height;if(t<a)break;t-=a}return r+s}function Ke(e,t){return t>=e.first&&t<e.first+e.size}function Je(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function et(e,t,r){if(void 0===r&&(r=null),!(this instanceof et))return new et(e,t,r);this.line=e,this.ch=t,this.sticky=r}function tt(e,t){return e.line-t.line||e.ch-t.ch}function rt(e,t){return e.sticky==t.sticky&&0==tt(e,t)}function it(e){return et(e.line,e.ch)}function nt(e,t){return tt(e,t)<0?t:e}function ot(e,t){return tt(e,t)<0?e:t}function st(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function at(e,t){if(t.line<e.first)return et(e.first,0);var r=e.first+e.size-1;return t.line>r?et(r,He(e,r).text.length):function(e,t){var r=e.ch;return null==r||r>t?et(e.line,t):r<0?et(e.line,0):e}(t,He(e,t.line).text.length)}function ct(e,t){for(var r=[],i=0;i<t.length;i++)r[i]=at(e,t[i]);return r}je.prototype.eol=function(){return this.pos>=this.string.length},je.prototype.sol=function(){return this.pos==this.lineStart},je.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},je.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},je.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},je.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},je.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},je.prototype.skipToEnd=function(){this.pos=this.string.length},je.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},je.prototype.backUp=function(e){this.pos-=e},je.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=R(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?R(this.string,this.lineStart,this.tabSize):0)},je.prototype.indentation=function(){return R(this.string,null,this.tabSize)-(this.lineStart?R(this.string,this.lineStart,this.tabSize):0)},je.prototype.match=function(e,t,r){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&!1!==t&&(this.pos+=i[0].length),i)}var n=function(e){return r?e.toLowerCase():e};if(n(this.string.substr(this.pos,e.length))==n(e))return!1!==t&&(this.pos+=e.length),!0},je.prototype.current=function(){return this.string.slice(this.start,this.pos)},je.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},je.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},je.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var lt=function(e,t){this.state=e,this.lookAhead=t},pt=function(e,t,r,i){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1};function ut(e,t,r,i){var n=[e.state.modeGen],o={};vt(e,t.text,e.doc.mode,r,(function(e,t){return n.push(e,t)}),o,i);for(var s=r.state,a=function(i){r.baseTokens=n;var a=e.state.overlays[i],c=1,l=0;r.state=!0,vt(e,t.text,a.mode,r,(function(e,t){for(var r=c;l<e;){var i=n[c];i>e&&n.splice(c,1,e,n[c+1],i),c+=2,l=Math.min(e,i)}if(t)if(a.opaque)n.splice(r,c-r,e,"overlay "+t),c=r+2;else for(;r<c;r+=2){var o=n[r+1];n[r+1]=(o?o+" ":"")+"overlay "+t}}),o),r.state=s,r.baseTokens=null,r.baseTokenPos=1},c=0;c<e.state.overlays.length;++c)a(c);return{styles:n,classes:o.bgClass||o.textClass?o:null}}function ft(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=dt(e,Ze(t)),n=t.text.length>e.options.maxHighlightLength&&Fe(e.doc.mode,i.state),o=ut(e,t,i);n&&(i.state=n),t.stateAfter=i.save(!n),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function dt(e,t,r){var i=e.doc,n=e.display;if(!i.mode.startState)return new pt(i,!0,t);var o=function(e,t,r){for(var i,n,o=e.doc,s=r?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var c=He(o,a-1),l=c.stateAfter;if(l&&(!r||a+(l instanceof lt?l.lookAhead:0)<=o.modeFrontier))return a;var p=R(c.text,null,e.options.tabSize);(null==n||i>p)&&(n=a-1,i=p)}return n}(e,t,r),s=o>i.first&&He(i,o-1).stateAfter,a=s?pt.fromSaved(i,s,o):new pt(i,Ve(i.mode),o);return i.iter(o,t,(function(r){ht(e,r.text,a);var i=a.line;r.stateAfter=i==t-1||i%5==0||i>=n.viewFrom&&i<n.viewTo?a.save():null,a.nextLine()})),r&&(i.modeFrontier=a.line),a}function ht(e,t,r,i){var n=e.doc.mode,o=new je(t,e.options.tabSize,r);for(o.start=o.pos=i||0,""==t&&bt(n,r.state);!o.eol();)$t(n,o,r.state),o.start=o.pos}function bt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=ze(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function $t(e,t,r,i){for(var n=0;n<10;n++){i&&(i[0]=ze(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}pt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},pt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},pt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},pt.fromSaved=function(e,t,r){return t instanceof lt?new pt(e,Fe(e.mode,t.state),r,t.lookAhead):new pt(e,Fe(e.mode,t),r)},pt.prototype.save=function(e){var t=!1!==e?Fe(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new lt(t,this.maxLookAhead):t};var mt=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function gt(e,t,r,i){var n,o,s=e.doc,a=s.mode,c=He(s,(t=at(s,t)).line),l=dt(e,t.line,r),p=new je(c.text,e.options.tabSize,l);for(i&&(o=[]);(i||p.pos<t.ch)&&!p.eol();)p.start=p.pos,n=$t(a,p,l.state),i&&o.push(new mt(p,n,Fe(s.mode,l.state)));return i?o:new mt(p,n,l.state)}function xt(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var i=r[1]?"bgClass":"textClass";null==t[i]?t[i]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[i])||(t[i]+=" "+r[2])}return e}function vt(e,t,r,i,n,o,s){var a=r.flattenSpans;null==a&&(a=e.options.flattenSpans);var c,l=0,p=null,u=new je(t,e.options.tabSize,i),f=e.options.addModeClass&&[null];for(""==t&&xt(bt(r,i.state),o);!u.eol();){if(u.pos>e.options.maxHighlightLength?(a=!1,s&&ht(e,t,i,u.pos),u.pos=t.length,c=null):c=xt($t(r,u,i.state,f),o),f){var d=f[0].name;d&&(c="m-"+(c?d+" "+c:d))}if(!a||p!=c){for(;l<u.start;)n(l=Math.min(u.start,l+5e3),p);p=c}u.start=u.pos}for(;l<u.pos;){var h=Math.min(u.pos,l+5e3);n(h,p),l=h}}var yt=!1,_t=!1;function Et(e,t,r){this.marker=e,this.from=t,this.to=r}function kt(e,t){if(e)for(var r=0;r<e.length;++r){var i=e[r];if(i.marker==t)return i}}function St(e,t){for(var r,i=0;i<e.length;++i)e[i]!=t&&(r||(r=[])).push(e[i]);return r}function wt(e,t){if(t.full)return null;var r=Ke(e,t.from.line)&&He(e,t.from.line).markedSpans,i=Ke(e,t.to.line)&&He(e,t.to.line).markedSpans;if(!r&&!i)return null;var n=t.from.ch,o=t.to.ch,s=0==tt(t.from,t.to),a=function(e,t,r){var i;if(e)for(var n=0;n<e.length;++n){var o=e[n],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==s.type&&(!r||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new Et(s,o.from,a?null:o.to))}}return i}(r,n,s),c=function(e,t,r){var i;if(e)for(var n=0;n<e.length;++n){var o=e[n],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==s.type&&(!r||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new Et(s,a?null:o.from-t,null==o.to?null:o.to-t))}}return i}(i,o,s),l=1==t.text.length,p=W(t.text).length+(l?n:0);if(a)for(var u=0;u<a.length;++u){var f=a[u];if(null==f.to){var d=kt(c,f.marker);d?l&&(f.to=null==d.to?null:d.to+p):f.to=n}}if(c)for(var h=0;h<c.length;++h){var b=c[h];if(null!=b.to&&(b.to+=p),null==b.from)kt(a,b.marker)||(b.from=p,l&&(a||(a=[])).push(b));else b.from+=p,l&&(a||(a=[])).push(b)}a&&(a=At(a)),c&&c!=a&&(c=At(c));var $=[a];if(!l){var m,g=t.text.length-2;if(g>0&&a)for(var x=0;x<a.length;++x)null==a[x].to&&(m||(m=[])).push(new Et(a[x].marker,null,null));for(var v=0;v<g;++v)$.push(m);$.push(c)}return $}function At(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Tt(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function Mt(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Ct(e){return e.inclusiveLeft?-1:0}function Pt(e){return e.inclusiveRight?1:0}function It(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var i=e.find(),n=t.find(),o=tt(i.from,n.from)||Ct(e)-Ct(t);if(o)return-o;var s=tt(i.to,n.to)||Pt(e)-Pt(t);return s||t.id-e.id}function Nt(e,t){var r,i=_t&&e.markedSpans;if(i)for(var n=void 0,o=0;o<i.length;++o)(n=i[o]).marker.collapsed&&null==(t?n.from:n.to)&&(!r||It(r,n.marker)<0)&&(r=n.marker);return r}function Ot(e){return Nt(e,!0)}function Lt(e){return Nt(e,!1)}function qt(e,t){var r,i=_t&&e.markedSpans;if(i)for(var n=0;n<i.length;++n){var o=i[n];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!r||It(r,o.marker)<0)&&(r=o.marker)}return r}function Dt(e,t,r,i,n){var o=He(e,t),s=_t&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var c=s[a];if(c.marker.collapsed){var l=c.marker.find(0),p=tt(l.from,r)||Ct(c.marker)-Ct(n),u=tt(l.to,i)||Pt(c.marker)-Pt(n);if(!(p>=0&&u<=0||p<=0&&u>=0)&&(p<=0&&(c.marker.inclusiveRight&&n.inclusiveLeft?tt(l.to,r)>=0:tt(l.to,r)>0)||p>=0&&(c.marker.inclusiveRight&&n.inclusiveLeft?tt(l.from,i)<=0:tt(l.from,i)<0)))return!0}}}function Rt(e){for(var t;t=Ot(e);)e=t.find(-1,!0).line;return e}function Bt(e,t){var r=He(e,t),i=Rt(r);return r==i?t:Ze(i)}function Ut(e,t){if(t>e.lastLine())return t;var r,i=He(e,t);if(!Gt(e,i))return t;for(;r=Lt(i);)i=r.find(1,!0).line;return Ze(i)+1}function Gt(e,t){var r=_t&&t.markedSpans;if(r)for(var i=void 0,n=0;n<r.length;++n)if((i=r[n]).marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&Ft(e,t,i))return!0}}function Ft(e,t,r){if(null==r.to){var i=r.marker.find(1,!0);return Ft(e,i.line,kt(i.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var n=void 0,o=0;o<t.markedSpans.length;++o)if((n=t.markedSpans[o]).marker.collapsed&&!n.marker.widgetNode&&n.from==r.to&&(null==n.to||n.to!=r.from)&&(n.marker.inclusiveLeft||r.marker.inclusiveRight)&&Ft(e,t,n))return!0}function zt(e){for(var t=0,r=(e=Rt(e)).parent,i=0;i<r.lines.length;++i){var n=r.lines[i];if(n==e)break;t+=n.height}for(var o=r.parent;o;o=(r=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==r)break;t+=a.height}return t}function Vt(e){if(0==e.height)return 0;for(var t,r=e.text.length,i=e;t=Ot(i);){var n=t.find(0,!0);i=n.from.line,r+=n.from.ch-n.to.ch}for(i=e;t=Lt(i);){var o=t.find(0,!0);r-=i.text.length-o.from.ch,r+=(i=o.to.line).text.length-o.to.ch}return r}function jt(e){var t=e.display,r=e.doc;t.maxLine=He(r,r.first),t.maxLineLength=Vt(t.maxLine),t.maxLineChanged=!0,r.iter((function(e){var r=Vt(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)}))}var Ht=function(e,t,r){this.text=e,Mt(this,t),this.height=r?r(this):1};function Xt(e){e.parent=null,Tt(e)}Ht.prototype.lineNo=function(){return Ze(this)},ge(Ht);var Wt={},Yt={};function Zt(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?Yt:Wt;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function Qt(e,t){var r=C("span",null,null,c?"padding-right: .1px":null),i={pre:C("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var n=0;n<=(t.rest?t.rest.length:0);n++){var o=n?t.rest[n-1]:t.line,s=void 0;i.pos=0,i.addToken=Jt,Me(e.display.measure)&&(s=le(o,e.doc.direction))&&(i.addToken=er(i.addToken,s)),i.map=[],rr(o,i,ft(e,o,t!=e.display.externalMeasured&&Ze(o))),o.styleClasses&&(o.styleClasses.bgClass&&(i.bgClass=O(o.styleClasses.bgClass,i.bgClass||"")),o.styleClasses.textClass&&(i.textClass=O(o.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Te(e.display.measure))),0==n?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(c){var a=i.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return he(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=O(i.pre.className,i.textClass||"")),i}function Kt(e){var t=M("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Jt(e,t,r,i,n,o,c){if(t){var l,p=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,i="",n=0;n<e.length;n++){var o=e.charAt(n);" "!=o||!r||n!=e.length-1&&32!=e.charCodeAt(n+1)||(o=" "),i+=o,r=" "==o}return i}(t,e.trailingSpace):t,u=e.cm.state.specialChars,f=!1;if(u.test(t)){l=document.createDocumentFragment();for(var d=0;;){u.lastIndex=d;var h=u.exec(t),b=h?h.index-d:t.length-d;if(b){var $=document.createTextNode(p.slice(d,d+b));s&&a<9?l.appendChild(M("span",[$])):l.appendChild($),e.map.push(e.pos,e.pos+b,$),e.col+=b,e.pos+=b}if(!h)break;d+=b+1;var m=void 0;if("\t"==h[0]){var g=e.cm.options.tabSize,x=g-e.col%g;(m=l.appendChild(M("span",X(x),"cm-tab"))).setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=x}else"\r"==h[0]||"\n"==h[0]?((m=l.appendChild(M("span","\r"==h[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((m=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),s&&a<9?l.appendChild(M("span",[m])):l.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,l=document.createTextNode(p),e.map.push(e.pos,e.pos+t.length,l),s&&a<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==p.charCodeAt(t.length-1),r||i||n||f||o||c){var v=r||"";i&&(v+=i),n&&(v+=n);var y=M("span",[l],v,o);if(c)for(var _ in c)c.hasOwnProperty(_)&&"style"!=_&&"class"!=_&&y.setAttribute(_,c[_]);return e.content.appendChild(y)}e.content.appendChild(l)}}function er(e,t){return function(r,i,n,o,s,a,c){n=n?n+" cm-force-border":"cm-force-border";for(var l=r.pos,p=l+i.length;;){for(var u=void 0,f=0;f<t.length&&!((u=t[f]).to>l&&u.from<=l);f++);if(u.to>=p)return e(r,i,n,o,s,a,c);e(r,i.slice(0,u.to-l),n,o,null,a,c),o=null,i=i.slice(u.to-l),l=u.to}}}function tr(e,t,r,i){var n=!i&&r.widgetNode;n&&e.map.push(e.pos,e.pos+t,n),!i&&e.cm.display.input.needsContentAttribute&&(n||(n=e.content.appendChild(document.createElement("span"))),n.setAttribute("cm-marker",r.id)),n&&(e.cm.display.input.setUneditable(n),e.content.appendChild(n)),e.pos+=t,e.trailingSpace=!1}function rr(e,t,r){var i=e.markedSpans,n=e.text,o=0;if(i)for(var s,a,c,l,p,u,f,d=n.length,h=0,b=1,$="",m=0;;){if(m==h){c=l=p=a="",f=null,u=null,m=1/0;for(var g=[],x=void 0,v=0;v<i.length;++v){var y=i[v],_=y.marker;if("bookmark"==_.type&&y.from==h&&_.widgetNode)g.push(_);else if(y.from<=h&&(null==y.to||y.to>h||_.collapsed&&y.to==h&&y.from==h)){if(null!=y.to&&y.to!=h&&m>y.to&&(m=y.to,l=""),_.className&&(c+=" "+_.className),_.css&&(a=(a?a+";":"")+_.css),_.startStyle&&y.from==h&&(p+=" "+_.startStyle),_.endStyle&&y.to==m&&(x||(x=[])).push(_.endStyle,y.to),_.title&&((f||(f={})).title=_.title),_.attributes)for(var E in _.attributes)(f||(f={}))[E]=_.attributes[E];_.collapsed&&(!u||It(u.marker,_)<0)&&(u=y)}else y.from>h&&m>y.from&&(m=y.from)}if(x)for(var k=0;k<x.length;k+=2)x[k+1]==m&&(l+=" "+x[k]);if(!u||u.from==h)for(var S=0;S<g.length;++S)tr(t,0,g[S]);if(u&&(u.from||0)==h){if(tr(t,(null==u.to?d+1:u.to)-h,u.marker,null==u.from),null==u.to)return;u.to==h&&(u=!1)}}if(h>=d)break;for(var w=Math.min(d,m);;){if($){var A=h+$.length;if(!u){var T=A>w?$.slice(0,w-h):$;t.addToken(t,T,s?s+c:c,p,h+T.length==m?l:"",a,f)}if(A>=w){$=$.slice(w-h),h=w;break}h=A,p=""}$=n.slice(o,o=r[b++]),s=Zt(r[b++],t.cm.options)}}else for(var M=1;M<r.length;M+=2)t.addToken(t,n.slice(o,o=r[M]),Zt(r[M+1],t.cm.options))}function ir(e,t,r){this.line=t,this.rest=function(e){for(var t,r;t=Lt(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}(t),this.size=this.rest?Ze(W(this.rest))-r+1:1,this.node=this.text=null,this.hidden=Gt(e,t)}function nr(e,t,r){for(var i,n=[],o=t;o<r;o=i){var s=new ir(e.doc,He(e.doc,o),o);i=o+s.size,n.push(s)}return n}var or=null;var sr=null;function ar(e,t){var r=fe(e,t);if(r.length){var i,n=Array.prototype.slice.call(arguments,2);or?i=or.delayedCallbacks:sr?i=sr:(i=sr=[],setTimeout(cr,0));for(var o=function(e){i.push((function(){return r[e].apply(null,n)}))},s=0;s<r.length;++s)o(s)}}function cr(){var e=sr;sr=null;for(var t=0;t<e.length;++t)e[t]()}function lr(e,t,r,i){for(var n=0;n<t.changes.length;n++){var o=t.changes[n];"text"==o?fr(e,t):"gutter"==o?hr(e,t,r,i):"class"==o?dr(e,t):"widget"==o&&br(e,t,i)}t.changes=null}function pr(e){return e.node==e.text&&(e.node=M("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),s&&a<8&&(e.node.style.zIndex=2)),e.node}function ur(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):Qt(e,t)}function fr(e,t){var r=t.text.className,i=ur(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,dr(e,t)):r&&(t.text.className=r)}function dr(e,t){!function(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var i=pr(t);t.background=i.insertBefore(M("div",null,r),i.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?pr(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function hr(e,t,r,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var n=pr(t);t.gutterBackground=M("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),n.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var s=pr(t),a=t.gutter=M("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(M("div",Je(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var c=0;c<e.display.gutterSpecs.length;++c){var l=e.display.gutterSpecs[c].className,p=o.hasOwnProperty(l)&&o[l];p&&a.appendChild(M("div",[p],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function br(e,t,r){t.alignable&&(t.alignable=null);for(var i=k("CodeMirror-linewidget"),n=t.node.firstChild,o=void 0;n;n=o)o=n.nextSibling,i.test(n.className)&&t.node.removeChild(n);mr(e,t,r)}function $r(e,t,r,i){var n=ur(e,t);return t.text=t.node=n.pre,n.bgClass&&(t.bgClass=n.bgClass),n.textClass&&(t.textClass=n.textClass),dr(e,t),hr(e,t,r,i),mr(e,t,i),t.node}function mr(e,t,r){if(gr(e,t.line,t,r,!0),t.rest)for(var i=0;i<t.rest.length;i++)gr(e,t.rest[i],t,r,!1)}function gr(e,t,r,i,n){if(t.widgets)for(var o=pr(r),s=0,a=t.widgets;s<a.length;++s){var c=a[s],l=M("div",[c.node],"CodeMirror-linewidget"+(c.className?" "+c.className:""));c.handleMouseEvents||l.setAttribute("cm-ignore-events","true"),xr(c,l,r,i),e.display.input.setUneditable(l),n&&c.above?o.insertBefore(l,r.gutter||r.text):o.appendChild(l),ar(c,"redraw")}}function xr(e,t,r,i){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var n=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(n-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=n+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function vr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!P(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),T(t.display.measure,M("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function yr(e,t){for(var r=Ee(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function _r(e){return e.lineSpace.offsetTop}function Er(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function kr(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=T(e.measure,M("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function Sr(e){return 50-e.display.nativeBarWidth}function wr(e){return e.display.scroller.clientWidth-Sr(e)-e.display.barWidth}function Ar(e){return e.display.scroller.clientHeight-Sr(e)-e.display.barHeight}function Tr(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var n=0;n<e.rest.length;n++)if(Ze(e.rest[n])>r)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}function Mr(e,t,r,i){return Ir(e,Pr(e,t),r,i)}function Cr(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[li(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Pr(e,t){var r=Ze(t),i=Cr(e,r);i&&!i.text?i=null:i&&i.changes&&(lr(e,i,r,ni(e)),e.curOp.forceUpdate=!0),i||(i=function(e,t){var r=Ze(t=Rt(t)),i=e.display.externalMeasured=new ir(e.doc,t,r);i.lineN=r;var n=i.built=Qt(e,i);return i.text=n.pre,T(e.display.lineMeasure,n.pre),i}(e,t));var n=Tr(i,t,r);return{line:t,view:i,rect:null,map:n.map,cache:n.cache,before:n.before,hasHeights:!1}}function Ir(e,t,r,i,n){t.before&&(r=-1);var o,c=r+(i||"");return t.cache.hasOwnProperty(c)?o=t.cache[c]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(!function(e,t,r){var i=e.options.lineWrapping,n=i&&wr(e);if(!t.measure.heights||i&&t.measure.width!=n){var o=t.measure.heights=[];if(i){t.measure.width=n;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var c=s[a],l=s[a+1];Math.abs(c.bottom-l.bottom)>2&&o.push((c.bottom+l.top)/2-r.top)}}o.push(r.bottom-r.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,r,i){var n,o=Lr(t.map,r,i),c=o.node,l=o.start,p=o.end,u=o.collapse;if(3==c.nodeType){for(var f=0;f<4;f++){for(;l&&ie(t.line.text.charAt(o.coverStart+l));)--l;for(;o.coverStart+p<o.coverEnd&&ie(t.line.text.charAt(o.coverStart+p));)++p;if((n=s&&a<9&&0==l&&p==o.coverEnd-o.coverStart?c.parentNode.getBoundingClientRect():qr(S(c,l,p).getClientRects(),i)).left||n.right||0==l)break;p=l,l-=1,u="right"}s&&a<11&&(n=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Oe)return Oe;var t=T(e,M("span","x")),r=t.getBoundingClientRect(),i=S(t,0,1).getBoundingClientRect();return Oe=Math.abs(r.left-i.left)>1}(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*i,bottom:t.bottom*i}}(e.display.measure,n))}else{var d;l>0&&(u=i="right"),n=e.options.lineWrapping&&(d=c.getClientRects()).length>1?d["right"==i?d.length-1:0]:c.getBoundingClientRect()}if(s&&a<9&&!l&&(!n||!n.left&&!n.right)){var h=c.parentNode.getClientRects()[0];n=h?{left:h.left,right:h.left+ii(e.display),top:h.top,bottom:h.bottom}:Or}for(var b=n.top-t.rect.top,$=n.bottom-t.rect.top,m=(b+$)/2,g=t.view.measure.heights,x=0;x<g.length-1&&!(m<g[x]);x++);var v=x?g[x-1]:0,y=g[x],_={left:("right"==u?n.right:n.left)-t.rect.left,right:("left"==u?n.left:n.right)-t.rect.left,top:v,bottom:y};n.left||n.right||(_.bogus=!0);e.options.singleCursorHeightPerLine||(_.rtop=b,_.rbottom=$);return _}(e,t,r,i)).bogus||(t.cache[c]=o)),{left:o.left,right:o.right,top:n?o.rtop:o.top,bottom:n?o.rbottom:o.bottom}}var Nr,Or={left:0,right:0,top:0,bottom:0};function Lr(e,t,r){for(var i,n,o,s,a,c,l=0;l<e.length;l+=3)if(a=e[l],c=e[l+1],t<a?(n=0,o=1,s="left"):t<c?o=(n=t-a)+1:(l==e.length-3||t==c&&e[l+3]>t)&&(n=(o=c-a)-1,t>=c&&(s="right")),null!=n){if(i=e[l+2],a==c&&r==(i.insertLeft?"left":"right")&&(s=r),"left"==r&&0==n)for(;l&&e[l-2]==e[l-3]&&e[l-1].insertLeft;)i=e[2+(l-=3)],s="left";if("right"==r&&n==c-a)for(;l<e.length-3&&e[l+3]==e[l+4]&&!e[l+5].insertLeft;)i=e[(l+=3)+2],s="right";break}return{node:i,start:n,end:o,collapse:s,coverStart:a,coverEnd:c}}function qr(e,t){var r=Or;if("left"==t)for(var i=0;i<e.length&&(r=e[i]).left==r.right;i++);else for(var n=e.length-1;n>=0&&(r=e[n]).left==r.right;n--);return r}function Dr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Rr(e){e.display.externalMeasure=null,A(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Dr(e.display.view[t])}function Br(e){Rr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Ur(){return p&&$?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Gr(){return p&&$?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Fr(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=vr(e.widgets[r]));return t}function zr(e,t,r,i,n){if(!n){var o=Fr(t);r.top+=o,r.bottom+=o}if("line"==i)return r;i||(i="local");var s=zt(t);if("local"==i?s+=_r(e.display):s-=e.display.viewOffset,"page"==i||"window"==i){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:Gr());var c=a.left+("window"==i?0:Ur());r.left+=c,r.right+=c}return r.top+=s,r.bottom+=s,r}function Vr(e,t,r){if("div"==r)return t;var i=t.left,n=t.top;if("page"==r)i-=Ur(),n-=Gr();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();i+=o.left,n+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:n-s.top}}function jr(e,t,r,i,n){return i||(i=He(e.doc,t.line)),zr(e,i,Mr(e,i,t.ch,n),r)}function Hr(e,t,r,i,n,o){function s(t,s){var a=Ir(e,n,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,zr(e,i,a,r)}i=i||He(e.doc,t.line),n||(n=Pr(e,i));var a=le(i,e.doc.direction),c=t.ch,l=t.sticky;if(c>=i.text.length?(c=i.text.length,l="before"):c<=0&&(c=0,l="after"),!a)return s("before"==l?c-1:c,"before"==l);function p(e,t,r){return s(r?e-1:e,1==a[t].level!=r)}var u=ae(a,c,l),f=se,d=p(c,u,"before"==l);return null!=f&&(d.other=p(c,f,"before"!=l)),d}function Xr(e,t){var r=0;t=at(e.doc,t),e.options.lineWrapping||(r=ii(e.display)*t.ch);var i=He(e.doc,t.line),n=zt(i)+_r(e.display);return{left:r,right:r,top:n,bottom:n+i.height}}function Wr(e,t,r,i,n){var o=et(e,t,r);return o.xRel=n,i&&(o.outside=i),o}function Yr(e,t,r){var i=e.doc;if((r+=e.display.viewOffset)<0)return Wr(i.first,0,null,-1,-1);var n=Qe(i,r),o=i.first+i.size-1;if(n>o)return Wr(i.first+i.size-1,He(i,o).text.length,null,1,1);t<0&&(t=0);for(var s=He(i,n);;){var a=Jr(e,s,n,t,r),c=qt(s,a.ch+(a.xRel>0||a.outside>0?1:0));if(!c)return a;var l=c.find(1);if(l.line==n)return l;s=He(i,n=l.line)}}function Zr(e,t,r,i){i-=Fr(t);var n=t.text.length,o=oe((function(t){return Ir(e,r,t-1).bottom<=i}),n,0);return{begin:o,end:n=oe((function(t){return Ir(e,r,t).top>i}),o,n)}}function Qr(e,t,r,i){return r||(r=Pr(e,t)),Zr(e,t,r,zr(e,t,Ir(e,r,i),"line").top)}function Kr(e,t,r,i){return!(e.bottom<=r)&&(e.top>r||(i?e.left:e.right)>t)}function Jr(e,t,r,i,n){n-=zt(t);var o=Pr(e,t),s=Fr(t),a=0,c=t.text.length,l=!0,p=le(t,e.doc.direction);if(p){var u=(e.options.lineWrapping?ti:ei)(e,t,r,o,p,i,n);a=(l=1!=u.level)?u.from:u.to-1,c=l?u.to:u.from-1}var f,d,h=null,b=null,$=oe((function(t){var r=Ir(e,o,t);return r.top+=s,r.bottom+=s,!!Kr(r,i,n,!1)&&(r.top<=n&&r.left<=i&&(h=t,b=r),!0)}),a,c),m=!1;if(b){var g=i-b.left<b.right-i,x=g==l;$=h+(x?0:1),d=x?"after":"before",f=g?b.left:b.right}else{l||$!=c&&$!=a||$++,d=0==$?"after":$==t.text.length?"before":Ir(e,o,$-(l?1:0)).bottom+s<=n==l?"after":"before";var v=Hr(e,et(r,$,d),"line",t,o);f=v.left,m=n<v.top?-1:n>=v.bottom?1:0}return Wr(r,$=ne(t.text,$,1),d,m,i-f)}function ei(e,t,r,i,n,o,s){var a=oe((function(a){var c=n[a],l=1!=c.level;return Kr(Hr(e,et(r,l?c.to:c.from,l?"before":"after"),"line",t,i),o,s,!0)}),0,n.length-1),c=n[a];if(a>0){var l=1!=c.level,p=Hr(e,et(r,l?c.from:c.to,l?"after":"before"),"line",t,i);Kr(p,o,s,!0)&&p.top>s&&(c=n[a-1])}return c}function ti(e,t,r,i,n,o,s){var a=Zr(e,t,i,s),c=a.begin,l=a.end;/\s/.test(t.text.charAt(l-1))&&l--;for(var p=null,u=null,f=0;f<n.length;f++){var d=n[f];if(!(d.from>=l||d.to<=c)){var h=Ir(e,i,1!=d.level?Math.min(l,d.to)-1:Math.max(c,d.from)).right,b=h<o?o-h+1e9:h-o;(!p||u>b)&&(p=d,u=b)}}return p||(p=n[n.length-1]),p.from<c&&(p={from:c,to:p.to,level:p.level}),p.to>l&&(p={from:p.from,to:l,level:p.level}),p}function ri(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Nr){Nr=M("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Nr.appendChild(document.createTextNode("x")),Nr.appendChild(M("br"));Nr.appendChild(document.createTextNode("x"))}T(e.measure,Nr);var r=Nr.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),A(e.measure),r||1}function ii(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=M("span","xxxxxxxxxx"),r=M("pre",[t],"CodeMirror-line-like");T(e.measure,r);var i=t.getBoundingClientRect(),n=(i.right-i.left)/10;return n>2&&(e.cachedCharWidth=n),n||10}function ni(e){for(var t=e.display,r={},i={},n=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s){var a=e.display.gutterSpecs[s].className;r[a]=o.offsetLeft+o.clientLeft+n,i[a]=o.clientWidth}return{fixedPos:oi(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function oi(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function si(e){var t=ri(e.display),r=e.options.lineWrapping,i=r&&Math.max(5,e.display.scroller.clientWidth/ii(e.display)-3);return function(n){if(Gt(e.doc,n))return 0;var o=0;if(n.widgets)for(var s=0;s<n.widgets.length;s++)n.widgets[s].height&&(o+=n.widgets[s].height);return r?o+(Math.ceil(n.text.length/i)||1)*t:o+t}}function ai(e){var t=e.doc,r=si(e);t.iter((function(e){var t=r(e);t!=e.height&&Ye(e,t)}))}function ci(e,t,r,i){var n=e.display;if(!r&&"true"==Ee(t).getAttribute("cm-not-content"))return null;var o,s,a=n.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(e){return null}var c,l=Yr(e,o,s);if(i&&l.xRel>0&&(c=He(e.doc,l.line).text).length==l.ch){var p=R(c,c.length,e.options.tabSize)-c.length;l=et(l.line,Math.max(0,Math.round((o-kr(e.display).left)/ii(e.display))-p))}return l}function li(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,i=0;i<r.length;i++)if((t-=r[i].size)<0)return i}function pi(e,t,r,i){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),i||(i=0);var n=e.display;if(i&&r<n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>t)&&(n.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=n.viewTo)_t&&Bt(e.doc,t)<n.viewTo&&fi(e);else if(r<=n.viewFrom)_t&&Ut(e.doc,r+i)>n.viewFrom?fi(e):(n.viewFrom+=i,n.viewTo+=i);else if(t<=n.viewFrom&&r>=n.viewTo)fi(e);else if(t<=n.viewFrom){var o=di(e,r,r+i,1);o?(n.view=n.view.slice(o.index),n.viewFrom=o.lineN,n.viewTo+=i):fi(e)}else if(r>=n.viewTo){var s=di(e,t,t,-1);s?(n.view=n.view.slice(0,s.index),n.viewTo=s.lineN):fi(e)}else{var a=di(e,t,t,-1),c=di(e,r,r+i,1);a&&c?(n.view=n.view.slice(0,a.index).concat(nr(e,a.lineN,c.lineN)).concat(n.view.slice(c.index)),n.viewTo+=i):fi(e)}var l=n.externalMeasured;l&&(r<l.lineN?l.lineN+=i:t<l.lineN+l.size&&(n.externalMeasured=null))}function ui(e,t,r){e.curOp.viewChanged=!0;var i=e.display,n=e.display.externalMeasured;if(n&&t>=n.lineN&&t<n.lineN+n.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var o=i.view[li(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==U(s,r)&&s.push(r)}}}function fi(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function di(e,t,r,i){var n,o=li(e,t),s=e.display.view;if(!_t||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var a=e.display.viewFrom,c=0;c<o;c++)a+=s[c].size;if(a!=t){if(i>0){if(o==s.length-1)return null;n=a+s[o].size-t,o++}else n=a-t;t+=n,r+=n}for(;Bt(e.doc,r)!=r;){if(o==(i<0?0:s.length-1))return null;r+=i*s[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:r}}function hi(e){for(var t=e.display.view,r=0,i=0;i<t.length;i++){var n=t[i];n.hidden||n.node&&!n.changes||++r}return r}function bi(e){e.display.input.showSelection(e.display.input.prepareSelection())}function $i(e,t){void 0===t&&(t=!0);for(var r=e.doc,i={},n=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=0;s<r.sel.ranges.length;s++)if(t||s!=r.sel.primIndex){var a=r.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var c=a.empty();(c||e.options.showCursorWhenSelecting)&&mi(e,a.head,n),c||xi(e,a,o)}}return i}function mi(e,t,r){var i=Hr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),n=r.appendChild(M("div"," ","CodeMirror-cursor"));if(n.style.left=i.left+"px",n.style.top=i.top+"px",n.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var o=r.appendChild(M("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function gi(e,t){return e.top-t.top||e.left-t.left}function xi(e,t,r){var i=e.display,n=e.doc,o=document.createDocumentFragment(),s=kr(e.display),a=s.left,c=Math.max(i.sizerWidth,wr(e)-i.sizer.offsetLeft)-s.right,l="ltr"==n.direction;function p(e,t,r,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),o.appendChild(M("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?c-e:r)+"px;\n                             height: "+(i-t)+"px"))}function u(t,r,i){var o,s,u=He(n,t),f=u.text.length;function d(r,i){return jr(e,et(t,r),"div",u,i)}function h(t,r,i){var n=Qr(e,u,null,t),o="ltr"==r==("after"==i)?"left":"right";return d("after"==i?n.begin:n.end-(/\s/.test(u.text.charAt(n.end-1))?2:1),o)[o]}var b=le(u,n.direction);return function(e,t,r,i){if(!e)return i(t,r,"ltr",0);for(var n=!1,o=0;o<e.length;++o){var s=e[o];(s.from<r&&s.to>t||t==r&&s.to==t)&&(i(Math.max(s.from,t),Math.min(s.to,r),1==s.level?"rtl":"ltr",o),n=!0)}n||i(t,r,"ltr")}(b,r||0,null==i?f:i,(function(e,t,n,u){var $="ltr"==n,m=d(e,$?"left":"right"),g=d(t-1,$?"right":"left"),x=null==r&&0==e,v=null==i&&t==f,y=0==u,_=!b||u==b.length-1;if(g.top-m.top<=3){var E=(l?v:x)&&_,k=(l?x:v)&&y?a:($?m:g).left,S=E?c:($?g:m).right;p(k,m.top,S-k,m.bottom)}else{var w,A,T,M;$?(w=l&&x&&y?a:m.left,A=l?c:h(e,n,"before"),T=l?a:h(t,n,"after"),M=l&&v&&_?c:g.right):(w=l?h(e,n,"before"):a,A=!l&&x&&y?c:m.right,T=!l&&v&&_?a:g.left,M=l?h(t,n,"after"):c),p(w,m.top,A-w,m.bottom),m.bottom<g.top&&p(a,m.bottom,null,g.top),p(T,g.top,M-T,g.bottom)}(!o||gi(m,o)<0)&&(o=m),gi(g,o)<0&&(o=g),(!s||gi(m,s)<0)&&(s=m),gi(g,s)<0&&(s=g)})),{start:o,end:s}}var f=t.from(),d=t.to();if(f.line==d.line)u(f.line,f.ch,d.ch);else{var h=He(n,f.line),b=He(n,d.line),$=Rt(h)==Rt(b),m=u(f.line,f.ch,$?h.text.length+1:null).end,g=u(d.line,$?0:null,d.ch).start;$&&(m.top<g.top-2?(p(m.right,m.top,null,m.bottom),p(a,g.top,g.left,g.bottom)):p(m.right,m.top,g.left-m.right,m.bottom)),m.bottom<g.top&&p(a,m.bottom,null,g.top)}r.appendChild(o)}function vi(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||ki(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function yi(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Ei(e))}function _i(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&ki(e))}),100)}function Ei(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(he(e,"focus",e,t),e.state.focused=!0,N(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),c&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),vi(e))}function ki(e,t){e.state.delayingBlurEvent||(e.state.focused&&(he(e,"blur",e,t),e.state.focused=!1,w(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Si(e){for(var t=e.display,r=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var n=t.view[i],o=e.options.lineWrapping,c=void 0,l=0;if(!n.hidden){if(s&&a<8){var p=n.node.offsetTop+n.node.offsetHeight;c=p-r,r=p}else{var u=n.node.getBoundingClientRect();c=u.bottom-u.top,!o&&n.text.firstChild&&(l=n.text.firstChild.getBoundingClientRect().right-u.left-1)}var f=n.line.height-c;if((f>.005||f<-.005)&&(Ye(n.line,c),wi(n.line),n.rest))for(var d=0;d<n.rest.length;d++)wi(n.rest[d]);if(l>e.display.sizerWidth){var h=Math.ceil(l/ii(e.display));h>e.display.maxLineLength&&(e.display.maxLineLength=h,e.display.maxLine=n.line,e.display.maxLineChanged=!0)}}}}function wi(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],i=r.node.parentNode;i&&(r.height=i.offsetHeight)}}function Ai(e,t,r){var i=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;i=Math.floor(i-_r(e));var n=r&&null!=r.bottom?r.bottom:i+e.wrapper.clientHeight,o=Qe(t,i),s=Qe(t,n);if(r&&r.ensure){var a=r.ensure.from.line,c=r.ensure.to.line;a<o?(o=a,s=Qe(t,zt(He(t,a))+e.wrapper.clientHeight)):Math.min(c,t.lastLine())>=s&&(o=Qe(t,zt(He(t,c))-e.wrapper.clientHeight),s=c)}return{from:o,to:Math.max(s,o+1)}}function Ti(e,t){var r=e.display,i=ri(e.display);t.top<0&&(t.top=0);var n=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,o=Ar(e),s={};t.bottom-t.top>o&&(t.bottom=t.top+o);var a=e.doc.height+Er(r),c=t.top<i,l=t.bottom>a-i;if(t.top<n)s.scrollTop=c?0:t.top;else if(t.bottom>n+o){var p=Math.min(t.top,(l?a:t.bottom)-o);p!=n&&(s.scrollTop=p)}var u=e.options.fixedGutter?0:r.gutters.offsetWidth,f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft-u,d=wr(e)-r.gutters.offsetWidth,h=t.right-t.left>d;return h&&(t.right=t.left+d),t.left<10?s.scrollLeft=0:t.left<f?s.scrollLeft=Math.max(0,t.left+u-(h?0:10)):t.right>d+f-3&&(s.scrollLeft=t.right+(h?0:10)-d),s}function Mi(e,t){null!=t&&(Ii(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Ci(e){Ii(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Pi(e,t,r){null==t&&null==r||Ii(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function Ii(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Ni(e,Xr(e,t.from),Xr(e,t.to),t.margin))}function Ni(e,t,r,i){var n=Ti(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-i,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+i});Pi(e,n.scrollLeft,n.scrollTop)}function Oi(e,t){Math.abs(e.doc.scrollTop-t)<2||(r||cn(e,{top:t}),Li(e,t,!0),r&&cn(e),rn(e,100))}function Li(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function qi(e,t,r,i){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!i||(e.doc.scrollLeft=t,un(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Di(e){var t=e.display,r=t.gutters.offsetWidth,i=Math.round(e.doc.height+Er(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:i,scrollHeight:i+Sr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var Ri=function(e,t,r){this.cm=r;var i=this.vert=M("div",[M("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),n=this.horiz=M("div",[M("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=n.tabIndex=-1,e(i),e(n),ue(i,"scroll",(function(){i.clientHeight&&t(i.scrollTop,"vertical")})),ue(n,"scroll",(function(){n.clientWidth&&t(n.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ri.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var n=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+n)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?i:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?i:0,bottom:t?i:0}},Ri.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ri.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ri.prototype.zeroWidthHack=function(){var e=g&&!d?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new B,this.disableVert=new B},Ri.prototype.enableZeroWidthBar=function(e,t,r){e.style.pointerEvents="auto",t.set(1e3,(function i(){var n=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(n.right-1,(n.top+n.bottom)/2):document.elementFromPoint((n.right+n.left)/2,n.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,i)}))},Ri.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Bi=function(){};function Ui(e,t){t||(t=Di(e));var r=e.display.barWidth,i=e.display.barHeight;Gi(e,t);for(var n=0;n<4&&r!=e.display.barWidth||i!=e.display.barHeight;n++)r!=e.display.barWidth&&e.options.lineWrapping&&Si(e),Gi(e,Di(e)),r=e.display.barWidth,i=e.display.barHeight}function Gi(e,t){var r=e.display,i=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=i.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=i.bottom)+"px",r.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=i.bottom+"px",r.scrollbarFiller.style.width=i.right+"px"):r.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=i.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}Bi.prototype.update=function(){return{bottom:0,right:0}},Bi.prototype.setScrollLeft=function(){},Bi.prototype.setScrollTop=function(){},Bi.prototype.clear=function(){};var Fi={native:Ri,null:Bi};function zi(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&w(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Fi[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ue(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,r){"horizontal"==r?qi(e,t):Oi(e,t)}),e),e.display.scrollbars.addClass&&N(e.display.wrapper,e.display.scrollbars.addClass)}var Vi=0;function ji(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Vi},t=e.curOp,or?or.ops.push(t):t.ownsGroup=or={ops:[t],delayedCallbacks:[]}}function Hi(e){var t=e.curOp;t&&function(e,t){var r=e.ownsGroup;if(r)try{!function(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var i=0;i<e.ops.length;i++){var n=e.ops[i];if(n.cursorActivityHandlers)for(;n.cursorActivityCalled<n.cursorActivityHandlers.length;)n.cursorActivityHandlers[n.cursorActivityCalled++].call(null,n.cm)}}while(r<t.length)}(r)}finally{or=null,t(r)}}(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,r=0;r<t.length;r++)Xi(t[r]);for(var i=0;i<t.length;i++)Wi(t[i]);for(var n=0;n<t.length;n++)Yi(t[n]);for(var o=0;o<t.length;o++)Zi(t[o]);for(var s=0;s<t.length;s++)Qi(t[s])}(e)}))}function Xi(e){var t=e.cm,r=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Sr(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Sr(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&jt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new on(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Wi(e){e.updatedDisplay=e.mustUpdate&&sn(e.cm,e.update)}function Yi(e){var t=e.cm,r=t.display;e.updatedDisplay&&Si(t),e.barMeasure=Di(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Mr(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Sr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-wr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function Zi(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&qi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==I();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Ui(t,e.barMeasure),e.updatedDisplay&&pn(t,e.barMeasure),e.selectionChanged&&vi(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&yi(e.cm)}function Qi(e){var t=e.cm,r=t.display,i=t.doc;(e.updatedDisplay&&an(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&Li(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&qi(t,e.scrollLeft,!0,!0),e.scrollToPos)&&function(e,t){if(!be(e,"scrollCursorIntoView")){var r=e.display,i=r.sizer.getBoundingClientRect(),n=null;if(t.top+i.top<0?n=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(n=!1),null!=n&&!h){var o=M("div","​",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-_r(e.display))+"px;\n                         height: "+(t.bottom-t.top+Sr(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(n),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,r,i){var n;null==i&&(i=0),e.options.lineWrapping||t!=r||(r="before"==(t=t.ch?et(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?et(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var s=!1,a=Hr(e,t),c=r&&r!=t?Hr(e,r):a,l=Ti(e,n={left:Math.min(a.left,c.left),top:Math.min(a.top,c.top)-i,right:Math.max(a.left,c.left),bottom:Math.max(a.bottom,c.bottom)+i}),p=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(Oi(e,l.scrollTop),Math.abs(e.doc.scrollTop-p)>1&&(s=!0)),null!=l.scrollLeft&&(qi(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(s=!0)),!s)break}return n}(t,at(i,e.scrollToPos.from),at(i,e.scrollToPos.to),e.scrollToPos.margin));var n=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(n)for(var s=0;s<n.length;++s)n[s].lines.length||he(n[s],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&he(o[a],"unhide");r.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&he(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ki(e,t){if(e.curOp)return t();ji(e);try{return t()}finally{Hi(e)}}function Ji(e,t){return function(){if(e.curOp)return t.apply(e,arguments);ji(e);try{return t.apply(e,arguments)}finally{Hi(e)}}}function en(e){return function(){if(this.curOp)return e.apply(this,arguments);ji(this);try{return e.apply(this,arguments)}finally{Hi(this)}}}function tn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);ji(t);try{return e.apply(this,arguments)}finally{Hi(t)}}}function rn(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,q(nn,e))}function nn(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,i=dt(e,t.highlightFrontier),n=[];t.iter(i.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(i.line>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength?Fe(t.mode,i.state):null,c=ut(e,o,i,!0);a&&(i.state=a),o.styles=c.styles;var l=o.styleClasses,p=c.classes;p?o.styleClasses=p:l&&(o.styleClasses=null);for(var u=!s||s.length!=o.styles.length||l!=p&&(!l||!p||l.bgClass!=p.bgClass||l.textClass!=p.textClass),f=0;!u&&f<s.length;++f)u=s[f]!=o.styles[f];u&&n.push(i.line),o.stateAfter=i.save(),i.nextLine()}else o.text.length<=e.options.maxHighlightLength&&ht(e,o.text,i),o.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>r)return rn(e,e.options.workDelay),!0})),t.highlightFrontier=i.line,t.modeFrontier=Math.max(t.modeFrontier,i.line),n.length&&Ki(e,(function(){for(var t=0;t<n.length;t++)ui(e,n[t],"text")}))}}var on=function(e,t,r){var i=e.display;this.viewport=t,this.visible=Ai(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=wr(e),this.force=r,this.dims=ni(e),this.events=[]};function sn(e,t){var r=e.display,i=e.doc;if(t.editorIsHidden)return fi(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==hi(e))return!1;fn(e)&&(fi(e),t.dims=ni(e));var n=i.first+i.size,o=Math.max(t.visible.from-e.options.viewportMargin,i.first),s=Math.min(n,t.visible.to+e.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(i.first,r.viewFrom)),r.viewTo>s&&r.viewTo-s<20&&(s=Math.min(n,r.viewTo)),_t&&(o=Bt(e.doc,o),s=Ut(e.doc,s));var a=o!=r.viewFrom||s!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;!function(e,t,r){var i=e.display;0==i.view.length||t>=i.viewTo||r<=i.viewFrom?(i.view=nr(e,t,r),i.viewFrom=t):(i.viewFrom>t?i.view=nr(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(li(e,t))),i.viewFrom=t,i.viewTo<r?i.view=i.view.concat(nr(e,i.viewTo,r)):i.viewTo>r&&(i.view=i.view.slice(0,li(e,r)))),i.viewTo=r}(e,o,s),r.viewOffset=zt(He(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var l=hi(e);if(!a&&0==l&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var p=function(e){if(e.hasFocus())return null;var t=I();if(!t||!P(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var i=window.getSelection();i.anchorNode&&i.extend&&P(e.display.lineDiv,i.anchorNode)&&(r.anchorNode=i.anchorNode,r.anchorOffset=i.anchorOffset,r.focusNode=i.focusNode,r.focusOffset=i.focusOffset)}return r}(e);return l>4&&(r.lineDiv.style.display="none"),function(e,t,r){var i=e.display,n=e.options.lineNumbers,o=i.lineDiv,s=o.firstChild;function a(t){var r=t.nextSibling;return c&&g&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var l=i.view,p=i.viewFrom,u=0;u<l.length;u++){var f=l[u];if(f.hidden);else if(f.node&&f.node.parentNode==o){for(;s!=f.node;)s=a(s);var d=n&&null!=t&&t<=p&&f.lineNumber;f.changes&&(U(f.changes,"gutter")>-1&&(d=!1),lr(e,f,p,r)),d&&(A(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(Je(e.options,p)))),s=f.node.nextSibling}else{var h=$r(e,f,p,r);o.insertBefore(h,s)}p+=f.size}for(;s;)s=a(s)}(e,r.updateLineNumbers,t.dims),l>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,function(e){if(e&&e.activeElt&&e.activeElt!=I()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&P(document.body,e.anchorNode)&&P(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}(p),A(r.cursorDiv),A(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,a&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,rn(e,400)),r.updateLineNumbers=null,!0}function an(e,t){for(var r=t.viewport,i=!0;;i=!1){if(i&&e.options.lineWrapping&&t.oldDisplayWidth!=wr(e))i&&(t.visible=Ai(e.display,e.doc,r));else if(r&&null!=r.top&&(r={top:Math.min(e.doc.height+Er(e.display)-Ar(e),r.top)}),t.visible=Ai(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!sn(e,t))break;Si(e);var n=Di(e);bi(e),Ui(e,n),pn(e,n),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function cn(e,t){var r=new on(e,t);if(sn(e,r)){Si(e),an(e,r);var i=Di(e);bi(e),Ui(e,i),pn(e,i),r.finish()}}function ln(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function pn(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Sr(e)+"px"}function un(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=oi(t)-t.scroller.scrollLeft+e.doc.scrollLeft,n=t.gutters.offsetWidth,o=i+"px",s=0;s<r.length;s++)if(!r[s].hidden){e.options.fixedGutter&&(r[s].gutter&&(r[s].gutter.style.left=o),r[s].gutterBackground&&(r[s].gutterBackground.style.left=o));var a=r[s].alignable;if(a)for(var c=0;c<a.length;c++)a[c].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=i+n+"px")}}function fn(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=Je(e.options,t.first+t.size-1),i=e.display;if(r.length!=i.lineNumChars){var n=i.measure.appendChild(M("div",[M("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=n.firstChild.offsetWidth,s=n.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?r.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",ln(e.display),!0}return!1}function dn(e,t){for(var r=[],i=!1,n=0;n<e.length;n++){var o=e[n],s=null;if("string"!=typeof o&&(s=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;i=!0}r.push({className:o,style:s})}return t&&!i&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function hn(e){var t=e.gutters,r=e.gutterSpecs;A(t),e.lineGutter=null;for(var i=0;i<r.length;++i){var n=r[i],o=n.className,s=n.style,a=t.appendChild(M("div",null,"CodeMirror-gutter "+o));s&&(a.style.cssText=s),"CodeMirror-linenumbers"==o&&(e.lineGutter=a,a.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",ln(e)}function bn(e){hn(e.display),pi(e),un(e)}function $n(e,t,i,n){var o=this;this.input=i,o.scrollbarFiller=M("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=M("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=C("div",null,"CodeMirror-code"),o.selectionDiv=M("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=M("div",null,"CodeMirror-cursors"),o.measure=M("div",null,"CodeMirror-measure"),o.lineMeasure=M("div",null,"CodeMirror-measure"),o.lineSpace=C("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var l=C("div",[o.lineSpace],"CodeMirror-lines");o.mover=M("div",[l],null,"position: relative"),o.sizer=M("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=M("div",null,null,"position: absolute; height: 50px; width: 1px;"),o.gutters=M("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=M("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=M("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),s&&a<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),c||r&&m||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=dn(n.gutters,n.lineNumbers),hn(o),i.init(o)}on.prototype.signal=function(e,t){me(e,t)&&this.events.push(arguments)},on.prototype.finish=function(){for(var e=0;e<this.events.length;e++)he.apply(null,this.events[e])};var mn=0,gn=null;function xn(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function vn(e){var t=xn(e);return t.x*=gn,t.y*=gn,t}function yn(e,t){var i=xn(t),n=i.x,o=i.y,s=e.display,a=s.scroller,l=a.scrollWidth>a.clientWidth,p=a.scrollHeight>a.clientHeight;if(n&&l||o&&p){if(o&&g&&c)e:for(var f=t.target,d=s.view;f!=a;f=f.parentNode)for(var h=0;h<d.length;h++)if(d[h].node==f){e.display.currentWheelTarget=f;break e}if(n&&!r&&!u&&null!=gn)return o&&p&&Oi(e,Math.max(0,a.scrollTop+o*gn)),qi(e,Math.max(0,a.scrollLeft+n*gn)),(!o||o&&p)&&xe(t),void(s.wheelStartX=null);if(o&&null!=gn){var b=o*gn,$=e.doc.scrollTop,m=$+s.wrapper.clientHeight;b<0?$=Math.max(0,$+b-50):m=Math.min(e.doc.height,m+b+50),cn(e,{top:$,bottom:m})}mn<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=n,s.wheelDY=o,setTimeout((function(){if(null!=s.wheelStartX){var e=a.scrollLeft-s.wheelStartX,t=a.scrollTop-s.wheelStartY,r=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,r&&(gn=(gn*mn+r)/(mn+1),++mn)}}),200)):(s.wheelDX+=n,s.wheelDY+=o))}}s?gn=-.53:r?gn=15:p?gn=-.7:f&&(gn=-1/3);var _n=function(e,t){this.ranges=e,this.primIndex=t};_n.prototype.primary=function(){return this.ranges[this.primIndex]},_n.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],i=e.ranges[t];if(!rt(r.anchor,i.anchor)||!rt(r.head,i.head))return!1}return!0},_n.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new En(it(this.ranges[t].anchor),it(this.ranges[t].head));return new _n(e,this.primIndex)},_n.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},_n.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var i=this.ranges[r];if(tt(t,i.from())>=0&&tt(e,i.to())<=0)return r}return-1};var En=function(e,t){this.anchor=e,this.head=t};function kn(e,t,r){var i=e&&e.options.selectionsMayTouch,n=t[r];t.sort((function(e,t){return tt(e.from(),t.from())})),r=U(t,n);for(var o=1;o<t.length;o++){var s=t[o],a=t[o-1],c=tt(a.to(),s.from());if(i&&!s.empty()?c>0:c>=0){var l=ot(a.from(),s.from()),p=nt(a.to(),s.to()),u=a.empty()?s.from()==s.head:a.from()==a.head;o<=r&&--r,t.splice(--o,2,new En(u?p:l,u?l:p))}}return new _n(t,r)}function Sn(e,t){return new _n([new En(e,t||e)],0)}function wn(e){return e.text?et(e.from.line+e.text.length-1,W(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function An(e,t){if(tt(e,t.from)<0)return e;if(tt(e,t.to)<=0)return wn(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=wn(t).ch-t.to.ch),et(r,i)}function Tn(e,t){for(var r=[],i=0;i<e.sel.ranges.length;i++){var n=e.sel.ranges[i];r.push(new En(An(n.anchor,t),An(n.head,t)))}return kn(e.cm,r,e.sel.primIndex)}function Mn(e,t,r){return e.line==t.line?et(r.line,e.ch-t.ch+r.ch):et(r.line+(e.line-t.line),e.ch)}function Cn(e){e.doc.mode=Be(e.options,e.doc.modeOption),Pn(e)}function Pn(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,rn(e,100),e.state.modeGen++,e.curOp&&pi(e)}function In(e,t){return 0==t.from.ch&&0==t.to.ch&&""==W(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Nn(e,t,r,i){function n(e){return r?r[e]:null}function o(e,r,n){!function(e,t,r,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Tt(e),Mt(e,r);var n=i?i(e):1;n!=e.height&&Ye(e,n)}(e,r,n,i),ar(e,"change",e,t)}function s(e,t){for(var r=[],o=e;o<t;++o)r.push(new Ht(l[o],n(o),i));return r}var a=t.from,c=t.to,l=t.text,p=He(e,a.line),u=He(e,c.line),f=W(l),d=n(l.length-1),h=c.line-a.line;if(t.full)e.insert(0,s(0,l.length)),e.remove(l.length,e.size-l.length);else if(In(e,t)){var b=s(0,l.length-1);o(u,u.text,d),h&&e.remove(a.line,h),b.length&&e.insert(a.line,b)}else if(p==u)if(1==l.length)o(p,p.text.slice(0,a.ch)+f+p.text.slice(c.ch),d);else{var $=s(1,l.length-1);$.push(new Ht(f+p.text.slice(c.ch),d,i)),o(p,p.text.slice(0,a.ch)+l[0],n(0)),e.insert(a.line+1,$)}else if(1==l.length)o(p,p.text.slice(0,a.ch)+l[0]+u.text.slice(c.ch),n(0)),e.remove(a.line+1,h);else{o(p,p.text.slice(0,a.ch)+l[0],n(0)),o(u,f+u.text.slice(c.ch),d);var m=s(1,l.length-1);h>1&&e.remove(a.line+1,h-1),e.insert(a.line+1,m)}ar(e,"change",e,t)}function On(e,t,r){!function e(i,n,o){if(i.linked)for(var s=0;s<i.linked.length;++s){var a=i.linked[s];if(a.doc!=n){var c=o&&a.sharedHist;r&&!c||(t(a.doc,c),e(a.doc,i,c))}}}(e,null,!0)}function Ln(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,ai(e),Cn(e),qn(e),e.options.lineWrapping||jt(e),e.options.mode=t.modeOption,pi(e)}function qn(e){("rtl"==e.doc.direction?N:w)(e.display.lineDiv,"CodeMirror-rtl")}function Dn(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Rn(e,t){var r={from:it(t.from),to:wn(t),text:Xe(e,t.from,t.to)};return zn(e,r,t.from.line,t.to.line+1),On(e,(function(e){return zn(e,r,t.from.line,t.to.line+1)}),!0),r}function Bn(e){for(;e.length;){if(!W(e).ranges)break;e.pop()}}function Un(e,t,r,i){var n=e.history;n.undone.length=0;var o,s,a=+new Date;if((n.lastOp==i||n.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&n.lastModTime>a-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(Bn(e.done),W(e.done)):e.done.length&&!W(e.done).ranges?W(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),W(e.done)):void 0}(n,n.lastOp==i)))s=W(o.changes),0==tt(t.from,t.to)&&0==tt(t.from,s.to)?s.to=wn(t):o.changes.push(Rn(e,t));else{var c=W(n.done);for(c&&c.ranges||Fn(e.sel,n.done),o={changes:[Rn(e,t)],generation:n.generation},n.done.push(o);n.done.length>n.undoDepth;)n.done.shift(),n.done[0].ranges||n.done.shift()}n.done.push(r),n.generation=++n.maxGeneration,n.lastModTime=n.lastSelTime=a,n.lastOp=n.lastSelOp=i,n.lastOrigin=n.lastSelOrigin=t.origin,s||he(e,"historyAdded")}function Gn(e,t,r,i){var n=e.history,o=i&&i.origin;r==n.lastSelOp||o&&n.lastSelOrigin==o&&(n.lastModTime==n.lastSelTime&&n.lastOrigin==o||function(e,t,r,i){var n=t.charAt(0);return"*"==n||"+"==n&&r.ranges.length==i.ranges.length&&r.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,W(n.done),t))?n.done[n.done.length-1]=t:Fn(t,n.done),n.lastSelTime=+new Date,n.lastSelOrigin=o,n.lastSelOp=r,i&&!1!==i.clearRedo&&Bn(n.undone)}function Fn(e,t){var r=W(t);r&&r.ranges&&r.equals(e)||t.push(e)}function zn(e,t,r,i){var n=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,i),(function(r){r.markedSpans&&((n||(n=t["spans_"+e.id]={}))[o]=r.markedSpans),++o}))}function Vn(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function jn(e,t){var r=function(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var i=[],n=0;n<t.text.length;++n)i.push(Vn(r[n]));return i}(e,t),i=wt(e,t);if(!r)return i;if(!i)return r;for(var n=0;n<r.length;++n){var o=r[n],s=i[n];if(o&&s)e:for(var a=0;a<s.length;++a){for(var c=s[a],l=0;l<o.length;++l)if(o[l].marker==c.marker)continue e;o.push(c)}else s&&(r[n]=s)}return r}function Hn(e,t,r){for(var i=[],n=0;n<e.length;++n){var o=e[n];if(o.ranges)i.push(r?_n.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];i.push({changes:a});for(var c=0;c<s.length;++c){var l=s[c],p=void 0;if(a.push({from:l.from,to:l.to,text:l.text}),t)for(var u in l)(p=u.match(/^spans_(\d+)$/))&&U(t,Number(p[1]))>-1&&(W(a)[u]=l[u],delete l[u])}}}return i}function Xn(e,t,r,i){if(i){var n=e.anchor;if(r){var o=tt(t,n)<0;o!=tt(r,n)<0?(n=t,t=r):o!=tt(t,r)<0&&(t=r)}return new En(n,t)}return new En(r||t,t)}function Wn(e,t,r,i,n){null==n&&(n=e.cm&&(e.cm.display.shift||e.extend)),Jn(e,new _n([Xn(e.sel.primary(),t,r,n)],0),i)}function Yn(e,t,r){for(var i=[],n=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)i[o]=Xn(e.sel.ranges[o],t[o],null,n);Jn(e,kn(e.cm,i,e.sel.primIndex),r)}function Zn(e,t,r,i){var n=e.sel.ranges.slice(0);n[t]=r,Jn(e,kn(e.cm,n,e.sel.primIndex),i)}function Qn(e,t,r,i){Jn(e,Sn(t,r),i)}function Kn(e,t,r){var i=e.history.done,n=W(i);n&&n.ranges?(i[i.length-1]=t,eo(e,t,r)):Jn(e,t,r)}function Jn(e,t,r){eo(e,t,r),Gn(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function eo(e,t,r){(me(e,"beforeSelectionChange")||e.cm&&me(e.cm,"beforeSelectionChange"))&&(t=function(e,t,r){var i={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new En(at(e,t[r].anchor),at(e,t[r].head))},origin:r&&r.origin};return he(e,"beforeSelectionChange",e,i),e.cm&&he(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?kn(e.cm,i.ranges,i.ranges.length-1):t}(e,t,r));var i=r&&r.bias||(tt(t.primary().head,e.sel.primary().head)<0?-1:1);to(e,io(e,t,i,!0)),r&&!1===r.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||Ci(e.cm)}function to(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,$e(e.cm)),ar(e,"cursorActivity",e))}function ro(e){to(e,io(e,e.sel,null,!1))}function io(e,t,r,i){for(var n,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],c=oo(e,s.anchor,a&&a.anchor,r,i),l=oo(e,s.head,a&&a.head,r,i);(n||c!=s.anchor||l!=s.head)&&(n||(n=t.ranges.slice(0,o)),n[o]=new En(c,l))}return n?kn(e.cm,n,t.primIndex):t}function no(e,t,r,i,n){var o=He(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],c=a.marker,l="selectLeft"in c?!c.selectLeft:c.inclusiveLeft,p="selectRight"in c?!c.selectRight:c.inclusiveRight;if((null==a.from||(l?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(p?a.to>=t.ch:a.to>t.ch))){if(n&&(he(c,"beforeCursorEnter"),c.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!c.atomic)continue;if(r){var u=c.find(i<0?1:-1),f=void 0;if((i<0?p:l)&&(u=so(e,u,-i,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(f=tt(u,r))&&(i<0?f<0:f>0))return no(e,u,t,i,n)}var d=c.find(i<0?-1:1);return(i<0?l:p)&&(d=so(e,d,i,d.line==t.line?o:null)),d?no(e,d,t,i,n):null}}return t}function oo(e,t,r,i,n){var o=i||1,s=no(e,t,r,o,n)||!n&&no(e,t,r,o,!0)||no(e,t,r,-o,n)||!n&&no(e,t,r,-o,!0);return s||(e.cantEdit=!0,et(e.first,0))}function so(e,t,r,i){return r<0&&0==t.ch?t.line>e.first?at(e,et(t.line-1)):null:r>0&&t.ch==(i||He(e,t.line)).text.length?t.line<e.first+e.size-1?et(t.line+1,0):null:new et(t.line,t.ch+r)}function ao(e){e.setSelection(et(e.firstLine(),0),et(e.lastLine()),F)}function co(e,t,r){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return i.canceled=!0}};return r&&(i.update=function(t,r,n,o){t&&(i.from=at(e,t)),r&&(i.to=at(e,r)),n&&(i.text=n),void 0!==o&&(i.origin=o)}),he(e,"beforeChange",e,i),e.cm&&he(e.cm,"beforeChange",e.cm,i),i.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:i.from,to:i.to,text:i.text,origin:i.origin}}function lo(e,t,r){if(e.cm){if(!e.cm.curOp)return Ji(e.cm,lo)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(me(e,"beforeChange")||e.cm&&me(e.cm,"beforeChange"))||(t=co(e,t,!0))){var i=yt&&!r&&function(e,t,r){var i=null;if(e.iter(t.line,r.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||i&&-1!=U(i,r)||(i||(i=[])).push(r)}})),!i)return null;for(var n=[{from:t,to:r}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),c=0;c<n.length;++c){var l=n[c];if(!(tt(l.to,a.from)<0||tt(l.from,a.to)>0)){var p=[c,1],u=tt(l.from,a.from),f=tt(l.to,a.to);(u<0||!s.inclusiveLeft&&!u)&&p.push({from:l.from,to:a.from}),(f>0||!s.inclusiveRight&&!f)&&p.push({from:a.to,to:l.to}),n.splice.apply(n,p),c+=p.length-3}}return n}(e,t.from,t.to);if(i)for(var n=i.length-1;n>=0;--n)po(e,{from:i[n].from,to:i[n].to,text:n?[""]:t.text,origin:t.origin});else po(e,t)}}function po(e,t){if(1!=t.text.length||""!=t.text[0]||0!=tt(t.from,t.to)){var r=Tn(e,t);Un(e,t,r,e.cm?e.cm.curOp.id:NaN),ho(e,t,r,wt(e,t));var i=[];On(e,(function(e,r){r||-1!=U(i,e.history)||(go(e.history,t),i.push(e.history)),ho(e,t,null,wt(e,t))}))}}function uo(e,t,r){var i=e.cm&&e.cm.state.suppressEdits;if(!i||r){for(var n,o=e.history,s=e.sel,a="undo"==t?o.done:o.undone,c="undo"==t?o.undone:o.done,l=0;l<a.length&&(n=a[l],r?!n.ranges||n.equals(e.sel):n.ranges);l++);if(l!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(n=a.pop()).ranges){if(i)return void a.push(n);break}if(Fn(n,c),r&&!n.equals(e.sel))return void Jn(e,n,{clearRedo:!1});s=n}var p=[];Fn(s,c),c.push({changes:p,generation:o.generation}),o.generation=n.generation||++o.maxGeneration;for(var u=me(e,"beforeChange")||e.cm&&me(e.cm,"beforeChange"),f=function(r){var i=n.changes[r];if(i.origin=t,u&&!co(e,i,!1))return a.length=0,{};p.push(Rn(e,i));var o=r?Tn(e,i):W(a);ho(e,i,o,jn(e,i)),!r&&e.cm&&e.cm.scrollIntoView({from:i.from,to:wn(i)});var s=[];On(e,(function(e,t){t||-1!=U(s,e.history)||(go(e.history,i),s.push(e.history)),ho(e,i,null,jn(e,i))}))},d=n.changes.length-1;d>=0;--d){var h=f(d);if(h)return h.v}}}}function fo(e,t){if(0!=t&&(e.first+=t,e.sel=new _n(Y(e.sel.ranges,(function(e){return new En(et(e.anchor.line+t,e.anchor.ch),et(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){pi(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,i=r.viewFrom;i<r.viewTo;i++)ui(e.cm,i,"gutter")}}function ho(e,t,r,i){if(e.cm&&!e.cm.curOp)return Ji(e.cm,ho)(e,t,r,i);if(t.to.line<e.first)fo(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var n=t.text.length-1-(e.first-t.from.line);fo(e,n),t={from:et(e.first,0),to:et(t.to.line+n,t.to.ch),text:[W(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:et(o,He(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Xe(e,t.from,t.to),r||(r=Tn(e,t)),e.cm?function(e,t,r){var i=e.doc,n=e.display,o=t.from,s=t.to,a=!1,c=o.line;e.options.lineWrapping||(c=Ze(Rt(He(i,o.line))),i.iter(c,s.line+1,(function(e){if(e==n.maxLine)return a=!0,!0})));i.sel.contains(t.from,t.to)>-1&&$e(e);Nn(i,t,r,si(e)),e.options.lineWrapping||(i.iter(c,o.line+t.text.length,(function(e){var t=Vt(e);t>n.maxLineLength&&(n.maxLine=e,n.maxLineLength=t,n.maxLineChanged=!0,a=!1)})),a&&(e.curOp.updateMaxLine=!0));(function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,i=t-1;i>r;i--){var n=He(e,i).stateAfter;if(n&&(!(n instanceof lt)||i+n.lookAhead<t)){r=i+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}})(i,o.line),rn(e,400);var l=t.text.length-(s.line-o.line)-1;t.full?pi(e):o.line!=s.line||1!=t.text.length||In(e.doc,t)?pi(e,o.line,s.line+1,l):ui(e,o.line,"text");var p=me(e,"changes"),u=me(e,"change");if(u||p){var f={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};u&&ar(e,"change",e,f),p&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}(e.cm,t,i):Nn(e,t,i),eo(e,r,F),e.cantEdit&&oo(e,et(e.firstLine(),0))&&(e.cantEdit=!1)}}function bo(e,t,r,i,n){var o;i||(i=r),tt(i,r)<0&&(r=(o=[i,r])[0],i=o[1]),"string"==typeof t&&(t=e.splitLines(t)),lo(e,{from:r,to:i,text:t,origin:n})}function $o(e,t,r,i){r<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function mo(e,t,r,i){for(var n=0;n<e.length;++n){var o=e[n],s=!0;if(o.ranges){o.copied||((o=e[n]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)$o(o.ranges[a].anchor,t,r,i),$o(o.ranges[a].head,t,r,i)}else{for(var c=0;c<o.changes.length;++c){var l=o.changes[c];if(r<l.from.line)l.from=et(l.from.line+i,l.from.ch),l.to=et(l.to.line+i,l.to.ch);else if(t<=l.to.line){s=!1;break}}s||(e.splice(0,n+1),n=0)}}}function go(e,t){var r=t.from.line,i=t.to.line,n=t.text.length-(i-r)-1;mo(e.done,r,i,n),mo(e.undone,r,i,n)}function xo(e,t,r,i){var n=t,o=t;return"number"==typeof t?o=He(e,st(e,t)):n=Ze(t),null==n?null:(i(o,n)&&e.cm&&ui(e.cm,n,r),o)}function vo(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function yo(e){this.children=e;for(var t=0,r=0,i=0;i<e.length;++i){var n=e[i];t+=n.chunkSize(),r+=n.height,n.parent=this}this.size=t,this.height=r,this.parent=null}En.prototype.from=function(){return ot(this.anchor,this.head)},En.prototype.to=function(){return nt(this.anchor,this.head)},En.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},vo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,i=e+t;r<i;++r){var n=this.lines[r];this.height-=n.height,Xt(n),ar(n,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,r){for(var i=e+t;e<i;++e)if(r(this.lines[e]))return!0}},yo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var i=this.children[r],n=i.chunkSize();if(e<n){var o=Math.min(t,n-e),s=i.height;if(i.removeInner(e,o),this.height-=s-i.height,n==o&&(this.children.splice(r--,1),i.parent=null),0==(t-=o))break;e=0}else e-=n}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof vo))){var a=[];this.collapse(a),this.children=[new vo(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var i=0;i<this.children.length;++i){var n=this.children[i],o=n.chunkSize();if(e<=o){if(n.insertInner(e,t,r),n.lines&&n.lines.length>50){for(var s=n.lines.length%25+25,a=s;a<n.lines.length;){var c=new vo(n.lines.slice(a,a+=25));n.height-=c.height,this.children.splice(++i,0,c),c.parent=this}n.lines=n.lines.slice(0,s),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new yo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=U(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var i=new yo(e.children);i.parent=e,e.children=[i,t],e=i}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var i=0;i<this.children.length;++i){var n=this.children[i],o=n.chunkSize();if(e<o){var s=Math.min(t,o-e);if(n.iterN(e,s,r))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var _o=function(e,t,r){if(r)for(var i in r)r.hasOwnProperty(i)&&(this[i]=r[i]);this.doc=e,this.node=t};function Eo(e,t,r){zt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Mi(e,r)}_o.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,i=Ze(r);if(null!=i&&t){for(var n=0;n<t.length;++n)t[n]==this&&t.splice(n--,1);t.length||(r.widgets=null);var o=vr(this);Ye(r,Math.max(0,r.height-o)),e&&(Ki(e,(function(){Eo(e,r,-o),ui(e,i,"widget")})),ar(e,"lineWidgetCleared",e,this,i))}},_o.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,i=this.line;this.height=null;var n=vr(this)-t;n&&(Gt(this.doc,i)||Ye(i,i.height+n),r&&Ki(r,(function(){r.curOp.forceUpdate=!0,Eo(r,i,n),ar(r,"lineWidgetChanged",r,e,Ze(i))})))},ge(_o);var ko=0,So=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ko};function wo(e,t,r,i,n){if(i&&i.shared)return function(e,t,r,i,n){(i=D(i)).shared=!1;var o=[wo(e,t,r,i,n)],s=o[0],a=i.widgetNode;return On(e,(function(e){a&&(i.widgetNode=a.cloneNode(!0)),o.push(wo(e,at(e,t),at(e,r),i,n));for(var c=0;c<e.linked.length;++c)if(e.linked[c].isParent)return;s=W(o)})),new Ao(o,s)}(e,t,r,i,n);if(e.cm&&!e.cm.curOp)return Ji(e.cm,wo)(e,t,r,i,n);var o=new So(e,n),s=tt(t,r);if(i&&D(i,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=C("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Dt(e,t.line,t,r,o)||t.line!=r.line&&Dt(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");_t=!0}o.addToHistory&&Un(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var a,c=t.line,l=e.cm;if(e.iter(c,r.line+1,(function(e){l&&o.collapsed&&!l.options.lineWrapping&&Rt(e)==l.display.maxLine&&(a=!0),o.collapsed&&c!=t.line&&Ye(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new Et(o,c==t.line?t.ch:null,c==r.line?r.ch:null)),++c})),o.collapsed&&e.iter(t.line,r.line+1,(function(t){Gt(e,t)&&Ye(t,0)})),o.clearOnEnter&&ue(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(yt=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++ko,o.atomic=!0),l){if(a&&(l.curOp.updateMaxLine=!0),o.collapsed)pi(l,t.line,r.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var p=t.line;p<=r.line;p++)ui(l,p,"text");o.atomic&&ro(l.doc),ar(l,"markerAdded",l,o)}return o}So.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&ji(e),me(this,"clear")){var r=this.find();r&&ar(this,"clear",r.from,r.to)}for(var i=null,n=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=kt(s.markedSpans,this);e&&!this.collapsed?ui(e,Ze(s),"text"):e&&(null!=a.to&&(n=Ze(s)),null!=a.from&&(i=Ze(s))),s.markedSpans=St(s.markedSpans,a),null==a.from&&this.collapsed&&!Gt(this.doc,s)&&e&&Ye(s,ri(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var l=Rt(this.lines[c]),p=Vt(l);p>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=p,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&pi(e,i,n+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&ro(e.doc)),e&&ar(e,"markerCleared",e,this,i,n),t&&Hi(e),this.parent&&this.parent.clear()}},So.prototype.find=function(e,t){var r,i;null==e&&"bookmark"==this.type&&(e=1);for(var n=0;n<this.lines.length;++n){var o=this.lines[n],s=kt(o.markedSpans,this);if(null!=s.from&&(r=et(t?o:Ze(o),s.from),-1==e))return r;if(null!=s.to&&(i=et(t?o:Ze(o),s.to),1==e))return i}return r&&{from:r,to:i}},So.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,i=this.doc.cm;t&&i&&Ki(i,(function(){var n=t.line,o=Ze(t.line),s=Cr(i,o);if(s&&(Dr(s),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!Gt(r.doc,n)&&null!=r.height){var a=r.height;r.height=null;var c=vr(r)-a;c&&Ye(n,n.height+c)}ar(i,"markerChanged",i,e)}))},So.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=U(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},So.prototype.detachLine=function(e){if(this.lines.splice(U(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},ge(So);var Ao=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function To(e){return e.findMarks(et(e.first,0),e.clipPos(et(e.lastLine())),(function(e){return e.parent}))}function Mo(e){for(var t=function(t){var r=e[t],i=[r.primary.doc];On(r.primary.doc,(function(e){return i.push(e)}));for(var n=0;n<r.markers.length;n++){var o=r.markers[n];-1==U(i,o.doc)&&(o.parent=null,r.markers.splice(n--,1))}},r=0;r<e.length;r++)t(r)}Ao.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ar(this,"clear")}},Ao.prototype.find=function(e,t){return this.primary.find(e,t)},ge(Ao);var Co=0,Po=function(e,t,r,i,n){if(!(this instanceof Po))return new Po(e,t,r,i,n);null==r&&(r=0),yo.call(this,[new vo([new Ht("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=et(r,0);this.sel=Sn(o),this.history=new Dn(null),this.id=++Co,this.modeOption=t,this.lineSep=i,this.direction="rtl"==n?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Nn(this,{from:o,to:o,text:e}),Jn(this,Sn(o),F)};Po.prototype=Q(yo.prototype,{constructor:Po,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,i=0;i<t.length;++i)r+=t[i].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=We(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:tn((function(e){var t=et(this.first,0),r=this.first+this.size-1;lo(this,{from:t,to:et(r,He(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Pi(this.cm,0,0),Jn(this,Sn(t),F)})),replaceRange:function(e,t,r,i){bo(this,e,t=at(this,t),r=r?at(this,r):t,i)},getRange:function(e,t,r){var i=Xe(this,at(this,e),at(this,t));return!1===r?i:i.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Ke(this,e))return He(this,e)},getLineNumber:function(e){return Ze(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=He(this,e)),Rt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return at(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:tn((function(e,t,r){Qn(this,at(this,"number"==typeof e?et(e,t||0):e),null,r)})),setSelection:tn((function(e,t,r){Qn(this,at(this,e),at(this,t||e),r)})),extendSelection:tn((function(e,t,r){Wn(this,at(this,e),t&&at(this,t),r)})),extendSelections:tn((function(e,t){Yn(this,ct(this,e),t)})),extendSelectionsBy:tn((function(e,t){Yn(this,ct(this,Y(this.sel.ranges,e)),t)})),setSelections:tn((function(e,t,r){if(e.length){for(var i=[],n=0;n<e.length;n++)i[n]=new En(at(this,e[n].anchor),at(this,e[n].head||e[n].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Jn(this,kn(this.cm,i,t),r)}})),addSelection:tn((function(e,t,r){var i=this.sel.ranges.slice(0);i.push(new En(at(this,e),at(this,t||e))),Jn(this,kn(this.cm,i,i.length-1),r)})),getSelection:function(e){for(var t,r=this.sel.ranges,i=0;i<r.length;i++){var n=Xe(this,r[i].from(),r[i].to());t=t?t.concat(n):n}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,i=0;i<r.length;i++){var n=Xe(this,r[i].from(),r[i].to());!1!==e&&(n=n.join(e||this.lineSeparator())),t[i]=n}return t},replaceSelection:function(e,t,r){for(var i=[],n=0;n<this.sel.ranges.length;n++)i[n]=e;this.replaceSelections(i,t,r||"+input")},replaceSelections:tn((function(e,t,r){for(var i=[],n=this.sel,o=0;o<n.ranges.length;o++){var s=n.ranges[o];i[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:r}}for(var a=t&&"end"!=t&&function(e,t,r){for(var i=[],n=et(e.first,0),o=n,s=0;s<t.length;s++){var a=t[s],c=Mn(a.from,n,o),l=Mn(wn(a),n,o);if(n=a.to,o=l,"around"==r){var p=e.sel.ranges[s],u=tt(p.head,p.anchor)<0;i[s]=new En(u?l:c,u?c:l)}else i[s]=new En(c,c)}return new _n(i,e.sel.primIndex)}(this,i,t),c=i.length-1;c>=0;c--)lo(this,i[c]);a?Kn(this,a):this.cm&&Ci(this.cm)})),undo:tn((function(){uo(this,"undo")})),redo:tn((function(){uo(this,"redo")})),undoSelection:tn((function(){uo(this,"undo",!0)})),redoSelection:tn((function(){uo(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var n=0;n<e.undone.length;n++)e.undone[n].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new Dn(this.history),On(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Hn(this.history.done),undone:Hn(this.history.undone)}},setHistory:function(e){var t=this.history=new Dn(this.history);t.done=Hn(e.done.slice(0),null,!0),t.undone=Hn(e.undone.slice(0),null,!0)},setGutterMarker:tn((function(e,t,r){return xo(this,e,"gutter",(function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=r,!r&&te(i)&&(e.gutterMarkers=null),!0}))})),clearGutter:tn((function(e){var t=this;this.iter((function(r){r.gutterMarkers&&r.gutterMarkers[e]&&xo(t,r,"gutter",(function(){return r.gutterMarkers[e]=null,te(r.gutterMarkers)&&(r.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!Ke(this,e))return null;if(t=e,!(e=He(this,e)))return null}else if(null==(t=Ze(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:tn((function(e,t,r){return xo(this,e,"gutter"==t?"gutter":"class",(function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[i]){if(k(r).test(e[i]))return!1;e[i]+=" "+r}else e[i]=r;return!0}))})),removeLineClass:tn((function(e,t,r){return xo(this,e,"gutter"==t?"gutter":"class",(function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",n=e[i];if(!n)return!1;if(null==r)e[i]=null;else{var o=n.match(k(r));if(!o)return!1;var s=o.index+o[0].length;e[i]=n.slice(0,o.index)+(o.index&&s!=n.length?" ":"")+n.slice(s)||null}return!0}))})),addLineWidget:tn((function(e,t,r){return function(e,t,r,i){var n=new _o(e,r,i),o=e.cm;return o&&n.noHScroll&&(o.display.alignWidgets=!0),xo(e,t,"widget",(function(t){var r=t.widgets||(t.widgets=[]);if(null==n.insertAt?r.push(n):r.splice(Math.min(r.length,Math.max(0,n.insertAt)),0,n),n.line=t,o&&!Gt(e,t)){var i=zt(t)<e.scrollTop;Ye(t,t.height+vr(n)),i&&Mi(o,n.height),o.curOp.forceUpdate=!0}return!0})),o&&ar(o,"lineWidgetAdded",o,n,"number"==typeof t?t:Ze(t)),n}(this,e,t,r)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return wo(this,at(this,e),at(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return wo(this,e=at(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=He(this,(e=at(this,e)).line).markedSpans;if(r)for(var i=0;i<r.length;++i){var n=r[i];(null==n.from||n.from<=e.ch)&&(null==n.to||n.to>=e.ch)&&t.push(n.marker.parent||n.marker)}return t},findMarks:function(e,t,r){e=at(this,e),t=at(this,t);var i=[],n=e.line;return this.iter(e.line,t.line+1,(function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var c=s[a];null!=c.to&&n==e.line&&e.ch>=c.to||null==c.from&&n!=e.line||null!=c.from&&n==t.line&&c.from>=t.ch||r&&!r(c.marker)||i.push(c.marker.parent||c.marker)}++n})),i},getAllMarks:function(){var e=[];return this.iter((function(t){var r=t.markedSpans;if(r)for(var i=0;i<r.length;++i)null!=r[i].from&&e.push(r[i].marker)})),e},posFromIndex:function(e){var t,r=this.first,i=this.lineSeparator().length;return this.iter((function(n){var o=n.text.length+i;if(o>e)return t=e,!0;e-=o,++r})),at(this,et(r,t))},indexFromPos:function(e){var t=(e=at(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+r})),t},copy:function(e){var t=new Po(We(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var i=new Po(We(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var r=0;r<t.length;r++){var i=t[r],n=i.find(),o=e.clipPos(n.from),s=e.clipPos(n.to);if(tt(o,s)){var a=wo(e,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}(i,To(this)),i},unlinkDoc:function(e){if(e instanceof As&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Mo(To(this));break}}if(e.history==this.history){var r=[e.id];On(e,(function(e){return r.push(e.id)}),!0),e.history=new Dn(null),e.history.done=Hn(this.history.done,r),e.history.undone=Hn(this.history.undone,r)}},iterLinkedDocs:function(e){On(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Pe(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:tn((function(e){var t;("rtl"!=e&&(e="ltr"),e!=this.direction)&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&Ki(t=this.cm,(function(){qn(t),pi(t)})))}))}),Po.prototype.eachLine=Po.prototype.iter;var Io=0;function No(e){var t=this;if(Oo(t),!be(t,e)&&!yr(t.display,e)){xe(e),s&&(Io=+new Date);var r=ci(t,e,!0),i=e.dataTransfer.files;if(r&&!t.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var n=i.length,o=Array(n),a=0,c=function(){++a==n&&Ji(t,(function(){var e={from:r=at(t.doc,r),to:r,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};lo(t.doc,e),Kn(t.doc,Sn(at(t.doc,r),at(t.doc,wn(e))))}))()},l=function(e,r){if(t.options.allowDropFileTypes&&-1==U(t.options.allowDropFileTypes,e.type))c();else{var i=new FileReader;i.onerror=function(){return c()},i.onload=function(){var e=i.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[r]=e),c()},i.readAsText(e)}},p=0;p<i.length;p++)l(i[p],p);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var u=e.dataTransfer.getData("Text");if(u){var f;if(t.state.draggingText&&!t.state.draggingText.copy&&(f=t.listSelections()),eo(t.doc,Sn(r,r)),f)for(var d=0;d<f.length;++d)bo(t.doc,"",f[d].anchor,f[d].head,"drag");t.replaceSelection(u,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Oo(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Lo(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],i=0;i<t.length;i++){var n=t[i].CodeMirror;n&&r.push(n)}r.length&&r[0].operation((function(){for(var t=0;t<r.length;t++)e(r[t])}))}}var qo=!1;function Do(){var e;qo||(ue(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Lo(Ro)}),100))})),ue(window,"blur",(function(){return Lo(ki)})),qo=!0)}function Ro(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Bo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Uo=0;Uo<10;Uo++)Bo[Uo+48]=Bo[Uo+96]=String(Uo);for(var Go=65;Go<=90;Go++)Bo[Go]=String.fromCharCode(Go);for(var Fo=1;Fo<=12;Fo++)Bo[Fo+111]=Bo[Fo+63235]="F"+Fo;var zo={};function Vo(e){var t,r,i,n,o=e.split(/-(?!$)/);e=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))n=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),n&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function jo(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==i){delete e[r];continue}for(var n=Y(r.split(" "),Vo),o=0;o<n.length;o++){var s=void 0,a=void 0;o==n.length-1?(a=n.join(" "),s=i):(a=n.slice(0,o+1).join(" "),s="...");var c=t[a];if(c){if(c!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[r]}for(var l in t)e[l]=t[l];return e}function Ho(e,t,r,i){var n=(t=Zo(t)).call?t.call(e,i):t[e];if(!1===n)return"nothing";if("..."===n)return"multi";if(null!=n&&r(n))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Ho(e,t.fallthrough,r,i);for(var o=0;o<t.fallthrough.length;o++){var s=Ho(e,t.fallthrough[o],r,i);if(s)return s}}}function Xo(e){var t="string"==typeof e?e:Bo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Wo(e,t,r){var i=e;return t.altKey&&"Alt"!=i&&(e="Alt-"+e),(_?t.metaKey:t.ctrlKey)&&"Ctrl"!=i&&(e="Ctrl-"+e),(_?t.ctrlKey:t.metaKey)&&"Mod"!=i&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=i&&(e="Shift-"+e),e}function Yo(e,t){if(u&&34==e.keyCode&&e.char)return!1;var r=Bo[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),Wo(r,e,t))}function Zo(e){return"string"==typeof e?zo[e]:e}function Qo(e,t){for(var r=e.doc.sel.ranges,i=[],n=0;n<r.length;n++){for(var o=t(r[n]);i.length&&tt(o.from,W(i).to)<=0;){var s=i.pop();if(tt(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}Ki(e,(function(){for(var t=i.length-1;t>=0;t--)bo(e.doc,"",i[t].from,i[t].to,"+delete");Ci(e)}))}function Ko(e,t,r){var i=ne(e.text,t+r,r);return i<0||i>e.text.length?null:i}function Jo(e,t,r){var i=Ko(e,t.ch,r);return null==i?null:new et(t.line,i,r<0?"after":"before")}function es(e,t,r,i,n){if(e){"rtl"==t.doc.direction&&(n=-n);var o=le(r,t.doc.direction);if(o){var s,a=n<0?W(o):o[0],c=n<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==t.doc.direction){var l=Pr(t,r);s=n<0?r.text.length-1:0;var p=Ir(t,l,s).top;s=oe((function(e){return Ir(t,l,e).top==p}),n<0==(1==a.level)?a.from:a.to-1,s),"before"==c&&(s=Ko(r,s,1))}else s=n<0?a.to:a.from;return new et(i,s,c)}}return new et(i,n<0?r.text.length:0,n<0?"before":"after")}zo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},zo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},zo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},zo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},zo.default=g?zo.macDefault:zo.pcDefault;var ts={selectAll:ao,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),F)},killLine:function(e){return Qo(e,(function(t){if(t.empty()){var r=He(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:et(t.head.line+1,0)}:{from:t.head,to:et(t.head.line,r)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Qo(e,(function(t){return{from:et(t.from().line,0),to:at(e.doc,et(t.to().line+1,0))}}))},delLineLeft:function(e){return Qo(e,(function(e){return{from:et(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Qo(e,(function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return Qo(e,(function(t){var r=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:i}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(et(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(et(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return rs(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return is(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var r=He(e.doc,t),i=function(e){for(var t;t=Lt(e);)e=t.find(1,!0).line;return e}(r);i!=r&&(t=Ze(i));return es(!0,e,r,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")}),V)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")}),V)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:r},"div");return i.ch<e.getLine(i.line).search(/\S/)?is(e,t.head):i}),V)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),i=e.options.tabSize,n=0;n<r.length;n++){var o=r[n].from(),s=R(e.getLine(o.line),o.ch,i);t.push(X(i-s%i))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Ki(e,(function(){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++)if(t[i].empty()){var n=t[i].head,o=He(e.doc,n.line).text;if(o)if(n.ch==o.length&&(n=new et(n.line,n.ch-1)),n.ch>0)n=new et(n.line,n.ch+1),e.replaceRange(o.charAt(n.ch-1)+o.charAt(n.ch-2),et(n.line,n.ch-2),n,"+transpose");else if(n.line>e.doc.first){var s=He(e.doc,n.line-1).text;s&&(n=new et(n.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),et(n.line-1,s.length-1),n,"+transpose"))}r.push(new En(n,n))}e.setSelections(r)}))},newlineAndIndent:function(e){return Ki(e,(function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var i=0;i<t.length;i++)e.indentLine(t[i].from().line,null,!0);Ci(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function rs(e,t){var r=He(e.doc,t),i=Rt(r);return i!=r&&(t=Ze(i)),es(!0,e,i,t,1)}function is(e,t){var r=rs(e,t.line),i=He(e.doc,r.line),n=le(i,e.doc.direction);if(!n||0==n[0].level){var o=Math.max(r.ch,i.text.search(/\S/)),s=t.line==r.line&&t.ch<=o&&t.ch;return et(r.line,s?0:o,r.sticky)}return r}function ns(e,t,r){if("string"==typeof t&&!(t=ts[t]))return!1;e.display.input.ensurePolled();var i=e.display.shift,n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),n=t(e)!=G}finally{e.display.shift=i,e.state.suppressEdits=!1}return n}var os=new B;function ss(e,t,r,i){var n=e.state.keySeq;if(n){if(Xo(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:os.set(50,(function(){e.state.keySeq==n&&(e.state.keySeq=null,e.display.input.reset())})),as(e,n+" "+t,r,i))return!0}return as(e,t,r,i)}function as(e,t,r,i){var n=function(e,t,r){for(var i=0;i<e.state.keyMaps.length;i++){var n=Ho(t,e.state.keyMaps[i],r,e);if(n)return n}return e.options.extraKeys&&Ho(t,e.options.extraKeys,r,e)||Ho(t,e.options.keyMap,r,e)}(e,t,i);return"multi"==n&&(e.state.keySeq=t),"handled"==n&&ar(e,"keyHandled",e,t,r),"handled"!=n&&"multi"!=n||(xe(r),vi(e)),!!n}function cs(e,t){var r=Yo(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?ss(e,"Shift-"+r,t,(function(t){return ns(e,t,!0)}))||ss(e,r,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ns(e,t)})):ss(e,r,t,(function(t){return ns(e,t)})))}var ls=null;function ps(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=I(),be(t,e)))){s&&a<11&&27==e.keyCode&&(e.returnValue=!1);var i=e.keyCode;t.display.shift=16==i||e.shiftKey;var n=cs(t,e);u&&(ls=n?i:null,n||88!=i||Ne||!(g?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),r&&!g&&!n&&46==i&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=i||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function r(e){18!=e.keyCode&&e.altKey||(w(t,"CodeMirror-crosshair"),de(document,"keyup",r),de(document,"mouseover",r))}N(t,"CodeMirror-crosshair"),ue(document,"keyup",r),ue(document,"mouseover",r)}(t)}}function us(e){16==e.keyCode&&(this.doc.sel.shift=!1),be(this,e)}function fs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||yr(t.display,e)||be(t,e)||e.ctrlKey&&!e.altKey||g&&e.metaKey)){var r=e.keyCode,i=e.charCode;if(u&&r==ls)return ls=null,void xe(e);if(!u||e.which&&!(e.which<10)||!cs(t,e)){var n=String.fromCharCode(null==i?r:i);"\b"!=n&&(function(e,t,r){return ss(e,"'"+r+"'",t,(function(t){return ns(e,t,!0)}))}(t,e,n)||t.display.input.onKeyPress(e))}}}var ds,hs,bs=function(e,t,r){this.time=e,this.pos=t,this.button=r};function $s(e){var t=this,r=t.display;if(!(be(t,e)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=e.shiftKey,yr(r,e))c||(r.scroller.draggable=!1,setTimeout((function(){return r.scroller.draggable=!0}),100));else if(!xs(t,e)){var i=ci(t,e),n=ke(e),o=i?function(e,t){var r=+new Date;return hs&&hs.compare(r,e,t)?(ds=hs=null,"triple"):ds&&ds.compare(r,e,t)?(hs=new bs(r,e,t),ds=null,"double"):(ds=new bs(r,e,t),hs=null,"single")}(i,n):"single";window.focus(),1==n&&t.state.selectingText&&t.state.selectingText(e),i&&function(e,t,r,i,n){var o="Click";"double"==i?o="Double"+o:"triple"==i&&(o="Triple"+o);return ss(e,Wo(o=(1==t?"Left":2==t?"Middle":"Right")+o,n),n,(function(t){if("string"==typeof t&&(t=ts[t]),!t)return!1;var i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i=t(e,r)!=G}finally{e.state.suppressEdits=!1}return i}))}(t,n,i,o,e)||(1==n?i?function(e,t,r,i){s?setTimeout(q(yi,e),0):e.curOp.focus=I();var n,o=function(e,t,r){var i=e.getOption("configureMouse"),n=i?i(e,t,r):{};if(null==n.unit){var o=x?r.shiftKey&&r.metaKey:r.altKey;n.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}(null==n.extend||e.doc.extend)&&(n.extend=e.doc.extend||r.shiftKey);null==n.addNew&&(n.addNew=g?r.metaKey:r.ctrlKey);null==n.moveOnDrag&&(n.moveOnDrag=!(g?r.altKey:r.ctrlKey));return n}(e,r,i),l=e.doc.sel;e.options.dragDrop&&Ae&&!e.isReadOnly()&&"single"==r&&(n=l.contains(t))>-1&&(tt((n=l.ranges[n]).from(),t)<0||t.xRel>0)&&(tt(n.to(),t)>0||t.xRel<0)?function(e,t,r,i){var n=e.display,o=!1,l=Ji(e,(function(t){c&&(n.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:_i(e)),de(n.wrapper.ownerDocument,"mouseup",l),de(n.wrapper.ownerDocument,"mousemove",p),de(n.scroller,"dragstart",u),de(n.scroller,"drop",l),o||(xe(t),i.addNew||Wn(e.doc,r,null,null,i.extend),c&&!f||s&&9==a?setTimeout((function(){n.wrapper.ownerDocument.body.focus({preventScroll:!0}),n.input.focus()}),20):n.input.focus())})),p=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},u=function(){return o=!0};c&&(n.scroller.draggable=!0);e.state.draggingText=l,l.copy=!i.moveOnDrag,ue(n.wrapper.ownerDocument,"mouseup",l),ue(n.wrapper.ownerDocument,"mousemove",p),ue(n.scroller,"dragstart",u),ue(n.scroller,"drop",l),e.state.delayingBlurEvent=!0,setTimeout((function(){return n.input.focus()}),20),n.scroller.dragDrop&&n.scroller.dragDrop()}(e,i,t,o):function(e,t,r,i){s&&_i(e);var n=e.display,o=e.doc;xe(t);var a,c,l=o.sel,p=l.ranges;i.addNew&&!i.extend?(c=o.sel.contains(r),a=c>-1?p[c]:new En(r,r)):(a=o.sel.primary(),c=o.sel.primIndex);if("rectangle"==i.unit)i.addNew||(a=new En(r,r)),r=ci(e,t,!0,!0),c=-1;else{var u=ms(e,r,i.unit);a=i.extend?Xn(a,u.anchor,u.head,i.extend):u}i.addNew?-1==c?(c=p.length,Jn(o,kn(e,p.concat([a]),c),{scroll:!1,origin:"*mouse"})):p.length>1&&p[c].empty()&&"char"==i.unit&&!i.extend?(Jn(o,kn(e,p.slice(0,c).concat(p.slice(c+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Zn(o,c,a,z):(c=0,Jn(o,new _n([a],0),z),l=o.sel);var f=r;function d(t){if(0!=tt(f,t))if(f=t,"rectangle"==i.unit){for(var n=[],s=e.options.tabSize,p=R(He(o,r.line).text,r.ch,s),u=R(He(o,t.line).text,t.ch,s),d=Math.min(p,u),h=Math.max(p,u),b=Math.min(r.line,t.line),$=Math.min(e.lastLine(),Math.max(r.line,t.line));b<=$;b++){var m=He(o,b).text,g=j(m,d,s);d==h?n.push(new En(et(b,g),et(b,g))):m.length>g&&n.push(new En(et(b,g),et(b,j(m,h,s))))}n.length||n.push(new En(r,r)),Jn(o,kn(e,l.ranges.slice(0,c).concat(n),c),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x,v=a,y=ms(e,t,i.unit),_=v.anchor;tt(y.anchor,_)>0?(x=y.head,_=ot(v.from(),y.anchor)):(x=y.anchor,_=nt(v.to(),y.head));var E=l.ranges.slice(0);E[c]=function(e,t){var r=t.anchor,i=t.head,n=He(e.doc,r.line);if(0==tt(r,i)&&r.sticky==i.sticky)return t;var o=le(n);if(!o)return t;var s=ae(o,r.ch,r.sticky),a=o[s];if(a.from!=r.ch&&a.to!=r.ch)return t;var c,l=s+(a.from==r.ch==(1!=a.level)?0:1);if(0==l||l==o.length)return t;if(i.line!=r.line)c=(i.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var p=ae(o,i.ch,i.sticky),u=p-s||(i.ch-r.ch)*(1==a.level?-1:1);c=p==l-1||p==l?u<0:u>0}var f=o[l+(c?-1:0)],d=c==(1==f.level),h=d?f.from:f.to,b=d?"after":"before";return r.ch==h&&r.sticky==b?t:new En(new et(r.line,h,b),i)}(e,new En(at(o,_),x)),Jn(o,kn(e,E,c),z)}}var h=n.wrapper.getBoundingClientRect(),b=0;function $(t){var r=++b,s=ci(e,t,!0,"rectangle"==i.unit);if(s)if(0!=tt(s,f)){e.curOp.focus=I(),d(s);var a=Ai(n,o);(s.line>=a.to||s.line<a.from)&&setTimeout(Ji(e,(function(){b==r&&$(t)})),150)}else{var c=t.clientY<h.top?-20:t.clientY>h.bottom?20:0;c&&setTimeout(Ji(e,(function(){b==r&&(n.scroller.scrollTop+=c,$(t))})),50)}}function m(t){e.state.selectingText=!1,b=1/0,t&&(xe(t),n.input.focus()),de(n.wrapper.ownerDocument,"mousemove",g),de(n.wrapper.ownerDocument,"mouseup",x),o.history.lastSelOrigin=null}var g=Ji(e,(function(e){0!==e.buttons&&ke(e)?$(e):m(e)})),x=Ji(e,m);e.state.selectingText=x,ue(n.wrapper.ownerDocument,"mousemove",g),ue(n.wrapper.ownerDocument,"mouseup",x)}(e,i,t,o)}(t,i,o,e):Ee(e)==r.scroller&&xe(e):2==n?(i&&Wn(t.doc,i),setTimeout((function(){return r.input.focus()}),20)):3==n&&(E?t.display.input.onContextMenu(e):_i(t)))}}function ms(e,t,r){if("char"==r)return new En(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new En(et(t.line,0),at(e.doc,et(t.line+1,0)));var i=r(e,t);return new En(i.from,i.to)}function gs(e,t,r,i){var n,o;if(t.touches)n=t.touches[0].clientX,o=t.touches[0].clientY;else try{n=t.clientX,o=t.clientY}catch(e){return!1}if(n>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&xe(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!me(e,r))return ye(t);o-=a.top-s.viewOffset;for(var c=0;c<e.display.gutterSpecs.length;++c){var l=s.gutters.childNodes[c];if(l&&l.getBoundingClientRect().right>=n)return he(e,r,e,Qe(e.doc,o),e.display.gutterSpecs[c].className,t),ye(t)}}function xs(e,t){return gs(e,t,"gutterClick",!0)}function vs(e,t){yr(e.display,t)||function(e,t){if(!me(e,"gutterContextMenu"))return!1;return gs(e,t,"gutterContextMenu",!1)}(e,t)||be(e,t,"contextmenu")||E||e.display.input.onContextMenu(t)}function ys(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Br(e)}bs.prototype.compare=function(e,t,r){return this.time+400>e&&0==tt(t,this.pos)&&r==this.button};var _s={toString:function(){return"CodeMirror.Init"}},Es={},ks={};function Ss(e,t,r){if(!t!=!(r&&r!=_s)){var i=e.display.dragFunctions,n=t?ue:de;n(e.display.scroller,"dragstart",i.start),n(e.display.scroller,"dragenter",i.enter),n(e.display.scroller,"dragover",i.over),n(e.display.scroller,"dragleave",i.leave),n(e.display.scroller,"drop",i.drop)}}function ws(e){e.options.lineWrapping?(N(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(w(e.display.wrapper,"CodeMirror-wrap"),jt(e)),ai(e),pi(e),Br(e),setTimeout((function(){return Ui(e)}),100)}function As(e,t){var r=this;if(!(this instanceof As))return new As(e,t);this.options=t=t?D(t):{},D(Es,t,!1);var i=t.value;"string"==typeof i?i=new Po(i,t.mode,null,t.lineSeparator,t.direction):t.mode&&(i.modeOption=t.mode),this.doc=i;var n=new As.inputStyles[t.inputStyle](this),o=this.display=new $n(e,i,n,t);for(var l in o.wrapper.CodeMirror=this,ys(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),zi(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new B,keySeq:null,specialChars:null},t.autofocus&&!m&&o.input.focus(),s&&a<11&&setTimeout((function(){return r.display.input.reset(!0)}),20),function(e){var t=e.display;ue(t.scroller,"mousedown",Ji(e,$s)),ue(t.scroller,"dblclick",s&&a<11?Ji(e,(function(t){if(!be(e,t)){var r=ci(e,t);if(r&&!xs(e,t)&&!yr(e.display,t)){xe(t);var i=e.findWordAt(r);Wn(e.doc,i.anchor,i.head)}}})):function(t){return be(e,t)||xe(t)});ue(t.scroller,"contextmenu",(function(t){return vs(e,t)})),ue(t.input.getField(),"contextmenu",(function(r){t.scroller.contains(r.target)||vs(e,r)}));var r,i={end:0};function n(){t.activeTouch&&(r=setTimeout((function(){return t.activeTouch=null}),1e3),(i=t.activeTouch).end=+new Date)}function o(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function c(e,t){if(null==t.left)return!0;var r=t.left-e.left,i=t.top-e.top;return r*r+i*i>400}ue(t.scroller,"touchstart",(function(n){if(!be(e,n)&&!o(n)&&!xs(e,n)){t.input.ensurePolled(),clearTimeout(r);var s=+new Date;t.activeTouch={start:s,moved:!1,prev:s-i.end<=300?i:null},1==n.touches.length&&(t.activeTouch.left=n.touches[0].pageX,t.activeTouch.top=n.touches[0].pageY)}})),ue(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),ue(t.scroller,"touchend",(function(r){var i=t.activeTouch;if(i&&!yr(t,r)&&null!=i.left&&!i.moved&&new Date-i.start<300){var o,s=e.coordsChar(t.activeTouch,"page");o=!i.prev||c(i,i.prev)?new En(s,s):!i.prev.prev||c(i,i.prev.prev)?e.findWordAt(s):new En(et(s.line,0),at(e.doc,et(s.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),xe(r)}n()})),ue(t.scroller,"touchcancel",n),ue(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(Oi(e,t.scroller.scrollTop),qi(e,t.scroller.scrollLeft,!0),he(e,"scroll",e))})),ue(t.scroller,"mousewheel",(function(t){return yn(e,t)})),ue(t.scroller,"DOMMouseScroll",(function(t){return yn(e,t)})),ue(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){be(e,t)||_e(t)},over:function(t){be(e,t)||(!function(e,t){var r=ci(e,t);if(r){var i=document.createDocumentFragment();mi(e,r,i),e.display.dragCursor||(e.display.dragCursor=M("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),T(e.display.dragCursor,i)}}(e,t),_e(t))},start:function(t){return function(e,t){if(s&&(!e.state.draggingText||+new Date-Io<100))_e(t);else if(!be(e,t)&&!yr(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var r=M("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",u&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),u&&r.parentNode.removeChild(r)}}(e,t)},drop:Ji(e,No),leave:function(t){be(e,t)||Oo(e)}};var l=t.input.getField();ue(l,"keyup",(function(t){return us.call(e,t)})),ue(l,"keydown",Ji(e,ps)),ue(l,"keypress",Ji(e,fs)),ue(l,"focus",(function(t){return Ei(e,t)})),ue(l,"blur",(function(t){return ki(e,t)}))}(this),Do(),ji(this),this.curOp.forceUpdate=!0,Ln(this,i),t.autofocus&&!m||this.hasFocus()?setTimeout((function(){r.hasFocus()&&!r.state.focused&&Ei(r)}),20):ki(this),ks)ks.hasOwnProperty(l)&&ks[l](this,t[l],_s);fn(this),t.finishInit&&t.finishInit(this);for(var p=0;p<Ts.length;++p)Ts[p](this);Hi(this),c&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}As.defaults=Es,As.optionHandlers=ks;var Ts=[];function Ms(e,t,r,i){var n,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?n=dt(e,t).state:r="prev");var s=e.options.tabSize,a=He(o,t),c=R(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var l,p=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==r&&((l=o.mode.indent(n,a.text.slice(p.length),a.text))==G||l>150)){if(!i)return;r="prev"}}else l=0,r="not";"prev"==r?l=t>o.first?R(He(o,t-1).text,null,s):0:"add"==r?l=c+e.options.indentUnit:"subtract"==r?l=c-e.options.indentUnit:"number"==typeof r&&(l=c+r),l=Math.max(0,l);var u="",f=0;if(e.options.indentWithTabs)for(var d=Math.floor(l/s);d;--d)f+=s,u+="\t";if(f<l&&(u+=X(l-f)),u!=p)return bo(o,u,et(t,0),et(t,p.length),"+input"),a.stateAfter=null,!0;for(var h=0;h<o.sel.ranges.length;h++){var b=o.sel.ranges[h];if(b.head.line==t&&b.head.ch<p.length){var $=et(t,p.length);Zn(o,h,new En($,$));break}}}As.defineInitHook=function(e){return Ts.push(e)};var Cs=null;function Ps(e){Cs=e}function Is(e,t,r,i,n){var o=e.doc;e.display.shift=!1,i||(i=o.sel);var s=+new Date-200,a="paste"==n||e.state.pasteIncoming>s,c=Pe(t),l=null;if(a&&i.ranges.length>1)if(Cs&&Cs.text.join("\n")==t){if(i.ranges.length%Cs.text.length==0){l=[];for(var p=0;p<Cs.text.length;p++)l.push(o.splitLines(Cs.text[p]))}}else c.length==i.ranges.length&&e.options.pasteLinesPerSelection&&(l=Y(c,(function(e){return[e]})));for(var u=e.curOp.updateInput,f=i.ranges.length-1;f>=0;f--){var d=i.ranges[f],h=d.from(),b=d.to();d.empty()&&(r&&r>0?h=et(h.line,h.ch-r):e.state.overwrite&&!a?b=et(b.line,Math.min(He(o,b.line).text.length,b.ch+W(c).length)):a&&Cs&&Cs.lineWise&&Cs.text.join("\n")==c.join("\n")&&(h=b=et(h.line,0)));var $={from:h,to:b,text:l?l[f%l.length]:c,origin:n||(a?"paste":e.state.cutIncoming>s?"cut":"+input")};lo(e.doc,$),ar(e,"inputRead",e,$)}t&&!a&&Os(e,t),Ci(e),e.curOp.updateInput<2&&(e.curOp.updateInput=u),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Ns(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Ki(t,(function(){return Is(t,r,0,null,"paste")})),!0}function Os(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,i=r.ranges.length-1;i>=0;i--){var n=r.ranges[i];if(!(n.head.ch>100||i&&r.ranges[i-1].head.line==n.head.line)){var o=e.getModeAt(n.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=Ms(e,n.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(He(e.doc,n.head.line).text.slice(0,n.head.ch))&&(s=Ms(e,n.head.line,"smart"));s&&ar(e,"electricInput",e,n.head.line)}}}function Ls(e){for(var t=[],r=[],i=0;i<e.doc.sel.ranges.length;i++){var n=e.doc.sel.ranges[i].head.line,o={anchor:et(n,0),head:et(n+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function qs(e,t,r,i){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",i?"":"off"),e.setAttribute("spellcheck",!!t)}function Ds(){var e=M("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=M("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return c?e.style.width="1000px":e.setAttribute("wrap","off"),b&&(e.style.border="1px solid black"),qs(e),t}function Rs(e,t,r,i,n){var o=t,s=r,a=He(e,t.line),c=n&&"rtl"==e.direction?-r:r;function l(o){var s,l;if("codepoint"==i){var p=a.text.charCodeAt(t.ch+(r>0?0:-1));if(isNaN(p))s=null;else{var u=r>0?p>=55296&&p<56320:p>=56320&&p<57343;s=new et(t.line,Math.max(0,Math.min(a.text.length,t.ch+r*(u?2:1))),-r)}}else s=n?function(e,t,r,i){var n=le(t,e.doc.direction);if(!n)return Jo(t,r,i);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=ae(n,r.ch,r.sticky),s=n[o];if("ltr"==e.doc.direction&&s.level%2==0&&(i>0?s.to>r.ch:s.from<r.ch))return Jo(t,r,i);var a,c=function(e,r){return Ko(t,e instanceof et?e.ch:e,r)},l=function(r){return e.options.lineWrapping?(a=a||Pr(e,t),Qr(e,t,a,r)):{begin:0,end:t.text.length}},p=l("before"==r.sticky?c(r,-1):r.ch);if("rtl"==e.doc.direction||1==s.level){var u=1==s.level==i<0,f=c(r,u?1:-1);if(null!=f&&(u?f<=s.to&&f<=p.end:f>=s.from&&f>=p.begin)){var d=u?"before":"after";return new et(r.line,f,d)}}var h=function(e,t,i){for(var o=function(e,t){return t?new et(r.line,c(e,1),"before"):new et(r.line,e,"after")};e>=0&&e<n.length;e+=t){var s=n[e],a=t>0==(1!=s.level),l=a?i.begin:c(i.end,-1);if(s.from<=l&&l<s.to)return o(l,a);if(l=a?s.from:c(s.to,-1),i.begin<=l&&l<i.end)return o(l,a)}},b=h(o+i,i,p);if(b)return b;var $=i>0?p.end:c(p.begin,-1);return null==$||i>0&&$==t.text.length||!(b=h(i>0?0:n.length-1,i,l($)))?null:b}(e.cm,a,t,r):Jo(a,t,r);if(null==s){if(o||(l=t.line+c)<e.first||l>=e.first+e.size||(t=new et(l,t.ch,t.sticky),!(a=He(e,l))))return!1;t=es(n,e.cm,a,t.line,c)}else t=s;return!0}if("char"==i||"codepoint"==i)l();else if("column"==i)l(!0);else if("word"==i||"group"==i)for(var p=null,u="group"==i,f=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(r<0)||l(!d);d=!1){var h=a.text.charAt(t.ch)||"\n",b=ee(h,f)?"w":u&&"\n"==h?"n":!u||/\s/.test(h)?null:"p";if(!u||d||b||(b="s"),p&&p!=b){r<0&&(r=1,l(),t.sticky="after");break}if(b&&(p=b),r>0&&!l(!d))break}var $=oo(e,t,o,s,!0);return rt(o,$)&&($.hitSide=!0),$}function Bs(e,t,r,i){var n,o,s=e.doc,a=t.left;if("page"==i){var c=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(c-.5*ri(e.display),3);n=(r>0?t.bottom:t.top)+r*l}else"line"==i&&(n=r>0?t.bottom+3:t.top-3);for(;(o=Yr(e,a,n)).outside;){if(r<0?n<=0:n>=s.height){o.hitSide=!0;break}n+=5*r}return o}var Us=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new B,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Gs(e,t){var r=Cr(e,t.line);if(!r||r.hidden)return null;var i=He(e.doc,t.line),n=Tr(r,i,t.line),o=le(i,e.doc.direction),s="left";o&&(s=ae(o,t.ch)%2?"right":"left");var a=Lr(n.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function Fs(e,t){return t&&(e.bad=!0),e}function zs(e,t,r){var i;if(t==e.display.lineDiv){if(!(i=e.display.lineDiv.childNodes[r]))return Fs(e.clipPos(et(e.display.viewTo-1)),!0);t=null,r=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var n=0;n<e.display.view.length;n++){var o=e.display.view[n];if(o.node==i)return Vs(o,t,r)}}function Vs(e,t,r){var i=e.text.firstChild,n=!1;if(!t||!P(i,t))return Fs(et(Ze(e.line),0),!0);if(t==i&&(n=!0,t=i.childNodes[r],r=0,!t)){var o=e.rest?W(e.rest):e.line;return Fs(et(Ze(o),o.text.length),n)}var s=3==t.nodeType?t:null,a=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,r&&(r=s.nodeValue.length));a.parentNode!=i;)a=a.parentNode;var c=e.measure,l=c.maps;function p(t,r,i){for(var n=-1;n<(l?l.length:0);n++)for(var o=n<0?c.map:l[n],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==r){var p=Ze(n<0?e.line:e.rest[n]),u=o[s]+i;return(i<0||a!=t)&&(u=o[s+(i?1:0)]),et(p,u)}}}var u=p(s,a,r);if(u)return Fs(u,n);for(var f=a.nextSibling,d=s?s.nodeValue.length-r:0;f;f=f.nextSibling){if(u=p(f,f.firstChild,0))return Fs(et(u.line,u.ch-d),n);d+=f.textContent.length}for(var h=a.previousSibling,b=r;h;h=h.previousSibling){if(u=p(h,h.firstChild,-1))return Fs(et(u.line,u.ch+b),n);b+=h.textContent.length}}Us.prototype.init=function(e){var t=this,r=this,i=r.cm,n=r.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==n)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function s(e){if(o(e)&&!be(i,e)){if(i.somethingSelected())Ps({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=Ls(i);Ps({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation((function(){i.setSelections(t.ranges,0,F),i.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var s=Cs.text.join("\n");if(e.clipboardData.setData("Text",s),e.clipboardData.getData("Text")==s)return void e.preventDefault()}var a=Ds(),c=a.firstChild;i.display.lineSpace.insertBefore(a,i.display.lineSpace.firstChild),c.value=Cs.text.join("\n");var l=document.activeElement;L(c),setTimeout((function(){i.display.lineSpace.removeChild(a),l.focus(),l==n&&r.showPrimarySelection()}),50)}}n.contentEditable=!0,qs(n,i.options.spellcheck,i.options.autocorrect,i.options.autocapitalize),ue(n,"paste",(function(e){!o(e)||be(i,e)||Ns(e,i)||a<=11&&setTimeout(Ji(i,(function(){return t.updateFromDOM()})),20)})),ue(n,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),ue(n,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),ue(n,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),ue(n,"touchstart",(function(){return r.forceCompositionEnd()})),ue(n,"input",(function(){t.composing||t.readFromDOMSoon()})),ue(n,"copy",s),ue(n,"cut",s)},Us.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Us.prototype.prepareSelection=function(){var e=$i(this.cm,!1);return e.focus=document.activeElement==this.div,e},Us.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Us.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Us.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,i=t.doc.sel.primary(),n=i.from(),o=i.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var s=zs(t,e.anchorNode,e.anchorOffset),a=zs(t,e.focusNode,e.focusOffset);if(!s||s.bad||!a||a.bad||0!=tt(ot(s,a),n)||0!=tt(nt(s,a),o)){var c=t.display.view,l=n.line>=t.display.viewFrom&&Gs(t,n)||{node:c[0].measure.map[2],offset:0},p=o.line<t.display.viewTo&&Gs(t,o);if(!p){var u=c[c.length-1].measure,f=u.maps?u.maps[u.maps.length-1]:u.map;p={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(l&&p){var d,h=e.rangeCount&&e.getRangeAt(0);try{d=S(l.node,l.offset,p.offset,p.node)}catch(e){}d&&(!r&&t.state.focused?(e.collapse(l.node,l.offset),d.collapsed||(e.removeAllRanges(),e.addRange(d))):(e.removeAllRanges(),e.addRange(d)),h&&null==e.anchorNode?e.addRange(h):r&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Us.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Us.prototype.showMultipleSelections=function(e){T(this.cm.display.cursorDiv,e.cursors),T(this.cm.display.selectionDiv,e.selection)},Us.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Us.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return P(this.div,t)},Us.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Us.prototype.blur=function(){this.div.blur()},Us.prototype.getField=function(){return this.div},Us.prototype.supportsTouch=function(){return!0},Us.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Ki(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},Us.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Us.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if($&&p&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=zs(t,e.anchorNode,e.anchorOffset),i=zs(t,e.focusNode,e.focusOffset);r&&i&&Ki(t,(function(){Jn(t.doc,Sn(r,i),F),(r.bad||i.bad)&&(t.curOp.selectionChanged=!0)}))}}},Us.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,i=this.cm,n=i.display,o=i.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>i.firstLine()&&(s=et(s.line-1,He(i.doc,s.line-1).length)),a.ch==He(i.doc,a.line).text.length&&a.line<i.lastLine()&&(a=et(a.line+1,0)),s.line<n.viewFrom||a.line>n.viewTo-1)return!1;s.line==n.viewFrom||0==(e=li(i,s.line))?(t=Ze(n.view[0].line),r=n.view[0].node):(t=Ze(n.view[e].line),r=n.view[e-1].node.nextSibling);var c,l,p=li(i,a.line);if(p==n.view.length-1?(c=n.viewTo-1,l=n.lineDiv.lastChild):(c=Ze(n.view[p+1].line)-1,l=n.view[p+1].node.previousSibling),!r)return!1;for(var u=i.doc.splitLines(function(e,t,r,i,n){var o="",s=!1,a=e.doc.lineSeparator(),c=!1;function l(e){return function(t){return t.id==e}}function p(){s&&(o+=a,c&&(o+=a),s=c=!1)}function u(e){e&&(p(),o+=e)}function f(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(r)return void u(r);var o,d=t.getAttribute("cm-marker");if(d){var h=e.findMarks(et(i,0),et(n+1,0),l(+d));return void(h.length&&(o=h[0].find(0))&&u(Xe(e.doc,o.from,o.to).join(a)))}if("false"==t.getAttribute("contenteditable"))return;var b=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;b&&p();for(var $=0;$<t.childNodes.length;$++)f(t.childNodes[$]);/^(pre|p)$/i.test(t.nodeName)&&(c=!0),b&&(s=!0)}else 3==t.nodeType&&u(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;f(t),t!=r;)t=t.nextSibling,c=!1;return o}(i,r,l,t,c)),f=Xe(i.doc,et(t,0),et(c,He(i.doc,c).text.length));u.length>1&&f.length>1;)if(W(u)==W(f))u.pop(),f.pop(),c--;else{if(u[0]!=f[0])break;u.shift(),f.shift(),t++}for(var d=0,h=0,b=u[0],$=f[0],m=Math.min(b.length,$.length);d<m&&b.charCodeAt(d)==$.charCodeAt(d);)++d;for(var g=W(u),x=W(f),v=Math.min(g.length-(1==u.length?d:0),x.length-(1==f.length?d:0));h<v&&g.charCodeAt(g.length-h-1)==x.charCodeAt(x.length-h-1);)++h;if(1==u.length&&1==f.length&&t==s.line)for(;d&&d>s.ch&&g.charCodeAt(g.length-h-1)==x.charCodeAt(x.length-h-1);)d--,h++;u[u.length-1]=g.slice(0,g.length-h).replace(/^\u200b+/,""),u[0]=u[0].slice(d).replace(/\u200b+$/,"");var y=et(t,d),_=et(c,f.length?W(f).length-h:0);return u.length>1||u[0]||tt(y,_)?(bo(i.doc,u,y,_,"+input"),!0):void 0},Us.prototype.ensurePolled=function(){this.forceCompositionEnd()},Us.prototype.reset=function(){this.forceCompositionEnd()},Us.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Us.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Us.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Ki(this.cm,(function(){return pi(e.cm)}))},Us.prototype.setUneditable=function(e){e.contentEditable="false"},Us.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Ji(this.cm,Is)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Us.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Us.prototype.onContextMenu=function(){},Us.prototype.resetPosition=function(){},Us.prototype.needsContentAttribute=!0;var js=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new B,this.hasSelection=!1,this.composing=null};js.prototype.init=function(e){var t=this,r=this,i=this.cm;this.createField(e);var n=this.textarea;function o(e){if(!be(i,e)){if(i.somethingSelected())Ps({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=Ls(i);Ps({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,F):(r.prevInput="",n.value=t.text.join("\n"),L(n))}"cut"==e.type&&(i.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),b&&(n.style.width="0px"),ue(n,"input",(function(){s&&a>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()})),ue(n,"paste",(function(e){be(i,e)||Ns(e,i)||(i.state.pasteIncoming=+new Date,r.fastPoll())})),ue(n,"cut",o),ue(n,"copy",o),ue(e.scroller,"paste",(function(t){if(!yr(e,t)&&!be(i,t)){if(!n.dispatchEvent)return i.state.pasteIncoming=+new Date,void r.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,n.dispatchEvent(o)}})),ue(e.lineSpace,"selectstart",(function(t){yr(e,t)||xe(t)})),ue(n,"compositionstart",(function(){var e=i.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}})),ue(n,"compositionend",(function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)}))},js.prototype.createField=function(e){this.wrapper=Ds(),this.textarea=this.wrapper.firstChild},js.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},js.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,i=$i(e);if(e.options.moveInputWithCursor){var n=Hr(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,n.top+s.top-o.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,n.left+s.left-o.left))}return i},js.prototype.showSelection=function(e){var t=this.cm.display;T(t.cursorDiv,e.cursors),T(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},js.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&L(this.textarea),s&&a>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},js.prototype.getField=function(){return this.textarea},js.prototype.supportsTouch=function(){return!1},js.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!m||I()!=this.textarea))try{this.textarea.focus()}catch(e){}},js.prototype.blur=function(){this.textarea.blur()},js.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},js.prototype.receivedFocus=function(){this.slowPoll()},js.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},js.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))}))},js.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,i=this.prevInput;if(this.contextMenuPending||!t.state.focused||Ie(r)&&!i&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var n=r.value;if(n==i&&!t.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===n||g&&/[\uf700-\uf7ff]/.test(n))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=n.charCodeAt(0);if(8203!=o||i||(i="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var c=0,l=Math.min(i.length,n.length);c<l&&i.charCodeAt(c)==n.charCodeAt(c);)++c;return Ki(t,(function(){Is(t,n.slice(c),i.length-c,null,e.composing?"*compose":null),n.length>1e3||n.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=n,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},js.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},js.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},js.prototype.onContextMenu=function(e){var t=this,r=t.cm,i=r.display,n=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=ci(r,e),l=i.scroller.scrollTop;if(o&&!u){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(o)&&Ji(r,Jn)(r.doc,Sn(o),F);var p,f=n.style.cssText,d=t.wrapper.style.cssText,h=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",n.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",c&&(p=window.scrollY),i.input.focus(),c&&window.scrollTo(null,p),i.input.reset(),r.somethingSelected()||(n.value=t.prevInput=" "),t.contextMenuPending=m,i.selForContextMenu=r.doc.sel,clearTimeout(i.detectingSelectAll),s&&a>=9&&$(),E){_e(e);var b=function(){de(window,"mouseup",b),setTimeout(m,20)};ue(window,"mouseup",b)}else setTimeout(m,50)}function $(){if(null!=n.selectionStart){var e=r.somethingSelected(),o="​"+(e?n.value:"");n.value="⇚",n.value=o,t.prevInput=e?"":"​",n.selectionStart=1,n.selectionEnd=o.length,i.selForContextMenu=r.doc.sel}}function m(){if(t.contextMenuPending==m&&(t.contextMenuPending=!1,t.wrapper.style.cssText=d,n.style.cssText=f,s&&a<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=l),null!=n.selectionStart)){(!s||s&&a<9)&&$();var e=0,o=function(){i.selForContextMenu==r.doc.sel&&0==n.selectionStart&&n.selectionEnd>0&&"​"==t.prevInput?Ji(r,ao)(r):e++<10?i.detectingSelectAll=setTimeout(o,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(o,200)}}},js.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},js.prototype.setUneditable=function(){},js.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function r(r,i,n,o){e.defaults[r]=i,n&&(t[r]=o?function(e,t,r){r!=_s&&n(e,t,r)}:n)}e.defineOption=r,e.Init=_s,r("value","",(function(e,t){return e.setValue(t)}),!0),r("mode",null,(function(e,t){e.doc.modeOption=t,Cn(e)}),!0),r("indentUnit",2,Cn,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,(function(e){Pn(e),Br(e),pi(e)}),!0),r("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var r=[],i=e.doc.first;e.doc.iter((function(e){for(var n=0;;){var o=e.text.indexOf(t,n);if(-1==o)break;n=o+t.length,r.push(et(i,o))}i++}));for(var n=r.length-1;n>=0;n--)bo(e.doc,t,r[n],et(r[n].line,r[n].ch+t.length))}})),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=_s&&e.refresh()})),r("specialCharPlaceholder",Kt,(function(e){return e.refresh()}),!0),r("electricChars",!0),r("inputStyle",m?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),r("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),r("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),r("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),r("rtlMoveVisually",!v),r("wholeLineUpdateBefore",!0),r("theme","default",(function(e){ys(e),bn(e)}),!0),r("keyMap","default",(function(e,t,r){var i=Zo(t),n=r!=_s&&Zo(r);n&&n.detach&&n.detach(e,i),i.attach&&i.attach(e,n||null)})),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,ws,!0),r("gutters",[],(function(e,t){e.display.gutterSpecs=dn(t,e.options.lineNumbers),bn(e)}),!0),r("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?oi(e.display)+"px":"0",e.refresh()}),!0),r("coverGutterNextToScrollbar",!1,(function(e){return Ui(e)}),!0),r("scrollbarStyle","native",(function(e){zi(e),Ui(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),r("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=dn(e.options.gutters,t),bn(e)}),!0),r("firstLineNumber",1,bn,!0),r("lineNumberFormatter",(function(e){return e}),bn,!0),r("showCursorWhenSelecting",!1,bi,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,(function(e,t){"nocursor"==t&&(ki(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),r("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),r("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),r("dragDrop",!0,Ss),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,bi,!0),r("singleCursorHeightPerLine",!0,bi,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,Pn,!0),r("addModeClass",!1,Pn,!0),r("pollInterval",100),r("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),r("historyEventDelay",1250),r("viewportMargin",10,(function(e){return e.refresh()}),!0),r("maxHighlightLength",1e4,Pn,!0),r("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),r("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),r("autofocus",null),r("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),r("phrases",null)}(As),function(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,r){var i=this.options,n=i[e];i[e]==r&&"mode"!=e||(i[e]=r,t.hasOwnProperty(e)&&Ji(this,t[e])(this,r,n),he(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Zo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:en((function(t,r){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");!function(e,t,r){for(var i=0,n=r(t);i<e.length&&r(e[i])<=n;)i++;e.splice(i,0,t)}(this.state.overlays,{mode:i,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},(function(e){return e.priority})),this.state.modeGen++,pi(this)})),removeOverlay:en((function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var i=t[r].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(r,1),this.state.modeGen++,void pi(this)}})),indentLine:en((function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Ke(this.doc,e)&&Ms(this,e,t,r)})),indentSelection:en((function(e){for(var t=this.doc.sel.ranges,r=-1,i=0;i<t.length;i++){var n=t[i];if(n.empty())n.head.line>r&&(Ms(this,n.head.line,e,!0),r=n.head.line,i==this.doc.sel.primIndex&&Ci(this));else{var o=n.from(),s=n.to(),a=Math.max(r,o.line);r=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var c=a;c<r;++c)Ms(this,c,e);var l=this.doc.sel.ranges;0==o.ch&&t.length==l.length&&l[i].from().ch>0&&Zn(this.doc,i,new En(o,l[i].to()),F)}}})),getTokenAt:function(e,t){return gt(this,e,t)},getLineTokens:function(e,t){return gt(this,et(e),t,!0)},getTokenTypeAt:function(e){e=at(this.doc,e);var t,r=ft(this,He(this.doc,e.line)),i=0,n=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var s=i+n>>1;if((s?r[2*s-1]:0)>=o)n=s;else{if(!(r[2*s+1]<o)){t=r[2*s+2];break}i=s+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=[];if(!r.hasOwnProperty(t))return i;var n=r[t],o=this.getModeAt(e);if("string"==typeof o[t])n[o[t]]&&i.push(n[o[t]]);else if(o[t])for(var s=0;s<o[t].length;s++){var a=n[o[t][s]];a&&i.push(a)}else o.helperType&&n[o.helperType]?i.push(n[o.helperType]):n[o.name]&&i.push(n[o.name]);for(var c=0;c<n._global.length;c++){var l=n._global[c];l.pred(o,this)&&-1==U(i,l.val)&&i.push(l.val)}return i},getStateAfter:function(e,t){var r=this.doc;return dt(this,(e=st(r,null==e?r.first+r.size-1:e))+1,t).state},cursorCoords:function(e,t){var r=this.doc.sel.primary();return Hr(this,null==e?r.head:"object"==typeof e?at(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return jr(this,at(this.doc,e),t||"page")},coordsChar:function(e,t){return Yr(this,(e=Vr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Vr(this,{top:e,left:0},t||"page").top,Qe(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var i,n=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,n=!0),i=He(this.doc,e)}else i=e;return zr(this,i,{top:0,left:0},t||"page",r||n).top+(n?this.doc.height-zt(i):0)},defaultTextHeight:function(){return ri(this.display)},defaultCharWidth:function(){return ii(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,i,n){var o,s,a,c=this.display,l=(e=Hr(this,at(this.doc,e))).bottom,p=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),c.sizer.appendChild(t),"over"==i)l=e.top;else if("above"==i||"near"==i){var u=Math.max(c.wrapper.clientHeight,this.doc.height),f=Math.max(c.sizer.clientWidth,c.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>u)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=u&&(l=e.bottom),p+t.offsetWidth>f&&(p=f-t.offsetWidth)}t.style.top=l+"px",t.style.left=t.style.right="","right"==n?(p=c.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==n?p=0:"middle"==n&&(p=(c.sizer.clientWidth-t.offsetWidth)/2),t.style.left=p+"px"),r&&(o=this,s={left:p,top:l,right:p+t.offsetWidth,bottom:l+t.offsetHeight},null!=(a=Ti(o,s)).scrollTop&&Oi(o,a.scrollTop),null!=a.scrollLeft&&qi(o,a.scrollLeft))},triggerOnKeyDown:en(ps),triggerOnKeyPress:en(fs),triggerOnKeyUp:us,triggerOnMouseDown:en($s),execCommand:function(e){if(ts.hasOwnProperty(e))return ts[e].call(null,this)},triggerElectric:en((function(e){Os(this,e)})),findPosH:function(e,t,r,i){var n=1;t<0&&(n=-1,t=-t);for(var o=at(this.doc,e),s=0;s<t&&!(o=Rs(this.doc,o,n,r,i)).hitSide;++s);return o},moveH:en((function(e,t){var r=this;this.extendSelectionsBy((function(i){return r.display.shift||r.doc.extend||i.empty()?Rs(r.doc,i.head,e,t,r.options.rtlMoveVisually):e<0?i.from():i.to()}),V)})),deleteH:en((function(e,t){var r=this.doc.sel,i=this.doc;r.somethingSelected()?i.replaceSelection("",null,"+delete"):Qo(this,(function(r){var n=Rs(i,r.head,e,t,!1);return e<0?{from:n,to:r.head}:{from:r.head,to:n}}))})),findPosV:function(e,t,r,i){var n=1,o=i;t<0&&(n=-1,t=-t);for(var s=at(this.doc,e),a=0;a<t;++a){var c=Hr(this,s,"div");if(null==o?o=c.left:c.left=o,(s=Bs(this,c,n,r)).hitSide)break}return s},moveV:en((function(e,t){var r=this,i=this.doc,n=[],o=!this.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy((function(s){if(o)return e<0?s.from():s.to();var a=Hr(r,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),n.push(a.left);var c=Bs(r,a,e,t);return"page"==t&&s==i.sel.primary()&&Mi(r,jr(r,c,"div").top-a.top),c}),V),n.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=n[s]})),findWordAt:function(e){var t=He(this.doc,e.line).text,r=e.ch,i=e.ch;if(t){var n=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=t.length||!r?++i:--r;for(var o=t.charAt(r),s=ee(o,n)?function(e){return ee(e,n)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ee(e)};r>0&&s(t.charAt(r-1));)--r;for(;i<t.length&&s(t.charAt(i));)++i}return new En(et(e.line,r),et(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?N(this.display.cursorDiv,"CodeMirror-overwrite"):w(this.display.cursorDiv,"CodeMirror-overwrite"),he(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==I()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:en((function(e,t){Pi(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Sr(this)-this.display.barHeight,width:e.scrollWidth-Sr(this)-this.display.barWidth,clientHeight:Ar(this),clientWidth:wr(this)}},scrollIntoView:en((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:et(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Ii(e),e.curOp.scrollToPos=t}(this,e):Ni(this,e.from,e.to,e.margin)})),setSize:en((function(e,t){var r=this,i=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=i(e)),null!=t&&(this.display.wrapper.style.height=i(t)),this.options.lineWrapping&&Rr(this);var n=this.display.viewFrom;this.doc.iter(n,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){ui(r,n,"widget");break}++n})),this.curOp.forceUpdate=!0,he(this,"refresh",this)})),operation:function(e){return Ki(this,e)},startOperation:function(){return ji(this)},endOperation:function(){return Hi(this)},refresh:en((function(){var e=this.display.cachedTextHeight;pi(this),this.curOp.forceUpdate=!0,Br(this),Pi(this,this.doc.scrollLeft,this.doc.scrollTop),ln(this.display),(null==e||Math.abs(e-ri(this.display))>.5||this.options.lineWrapping)&&ai(this),he(this,"refresh",this)})),swapDoc:en((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Ln(this,e),Br(this),this.display.input.reset(),Pi(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ar(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ge(e),e.registerHelper=function(t,i,n){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][i]=n},e.registerGlobalHelper=function(t,i,n,o){e.registerHelper(t,i,o),r[t]._global.push({pred:n,val:o})}}(As);var Hs="iter insert remove copy getEditor constructor".split(" ");for(var Xs in Po.prototype)Po.prototype.hasOwnProperty(Xs)&&U(Hs,Xs)<0&&(As.prototype[Xs]=function(e){return function(){return e.apply(this.doc,arguments)}}(Po.prototype[Xs]));return ge(Po),As.inputStyles={textarea:js,contenteditable:Us},As.defineMode=function(e){As.defaults.mode||"null"==e||(As.defaults.mode=e),De.apply(this,arguments)},As.defineMIME=function(e,t){qe[e]=t},As.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),As.defineMIME("text/plain","null"),As.defineExtension=function(e,t){As.prototype[e]=t},As.defineDocExtension=function(e,t){Po.prototype[e]=t},As.fromTextArea=function(e,t){if((t=t?D(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=I();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}function i(){e.value=a.getValue()}var n;if(e.form&&(ue(e.form,"submit",i),!t.leaveSubmitMethodAlone)){var o=e.form;n=o.submit;try{var s=o.submit=function(){i(),o.submit=n,o.submit(),o.submit=s}}catch(e){}}t.finishInit=function(r){r.save=i,r.getTextArea=function(){return e},r.toTextArea=function(){r.toTextArea=isNaN,i(),e.parentNode.removeChild(r.getWrapperElement()),e.style.display="",e.form&&(de(e.form,"submit",i),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=n))}},e.style.display="none";var a=As((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return a},function(e){e.off=de,e.on=ue,e.wheelEventPixels=vn,e.Doc=Po,e.splitLines=Pe,e.countColumn=R,e.findColumn=j,e.isWordChar=J,e.Pass=G,e.signal=he,e.Line=Ht,e.changeEnd=wn,e.scrollbarModel=Fi,e.Pos=et,e.cmpPos=tt,e.modes=Le,e.mimeModes=qe,e.resolveMode=Re,e.getMode=Be,e.modeExtensions=Ue,e.extendMode=Ge,e.copyState=Fe,e.startState=Ve,e.innerMode=ze,e.commands=ts,e.keyMap=zo,e.keyName=Yo,e.isModifierKey=Xo,e.lookupKey=Ho,e.normalizeKeyMap=jo,e.StringStream=je,e.SharedTextMarker=Ao,e.TextMarker=So,e.LineWidget=_o,e.e_preventDefault=xe,e.e_stopPropagation=ve,e.e_stop=_e,e.addClass=N,e.contains=P,e.rmClass=w,e.keyNames=Bo}(As),As.version="5.60.0",As})),$499ee97013f78e63604049576c09a820$$interop$default=$parcel$interopDefault($499ee97013f78e63604049576c09a820$exports)}function $499ee97013f78e63604049576c09a820$init(){return $499ee97013f78e63604049576c09a820$executed||($499ee97013f78e63604049576c09a820$executed=!0,$499ee97013f78e63604049576c09a820$exec()),$499ee97013f78e63604049576c09a820$exports}$499ee97013f78e63604049576c09a820$init();var $61fa364299a137889547b0bdee9d9e79$exports,$61fa364299a137889547b0bdee9d9e79$var$define,$61fa364299a137889547b0bdee9d9e79$executed=!1;function $61fa364299a137889547b0bdee9d9e79$exec(){var e;e=function(e){e.defineMode("javascript",(function(t,r){var i,n,o=t.indentUnit,s=r.statementIndent,a=r.jsonld,c=r.json||a,l=r.typescript,p=r.wordCharacters||/[\w$\xa1-\uffff]/,u=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),i=e("keyword c"),n=e("keyword d"),o=e("operator"),s={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:r,do:r,try:r,finally:r,return:n,break:n,continue:n,new:e("new"),delete:i,void:i,throw:i,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:s,false:s,null:s,undefined:s,NaN:s,Infinity:s,this:e("this"),class:e("class"),super:e("atom"),yield:i,export:e("export"),import:e("import"),extends:i,await:i}}(),f=/[+\-*&%=<>!?|~^@]/,d=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function h(e,t,r){return i=e,n=r,t}function b(e,t){var r,i=e.next();if('"'==i||"'"==i)return t.tokenize=(r=i,function(e,t){var i,n=!1;if(a&&"@"==e.peek()&&e.match(d))return t.tokenize=b,h("jsonld-keyword","meta");for(;null!=(i=e.next())&&(i!=r||n);)n=!n&&"\\"==i;return n||(t.tokenize=b),h("string","string")}),t.tokenize(e,t);if("."==i&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return h("number","number");if("."==i&&e.match(".."))return h("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return h(i);if("="==i&&e.eat(">"))return h("=>","operator");if("0"==i&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return h("number","number");if(/\d/.test(i))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),h("number","number");if("/"==i)return e.eat("*")?(t.tokenize=$,$(e,t)):e.eat("/")?(e.skipToEnd(),h("comment","comment")):Ye(e,t,1)?(function(e){for(var t,r=!1,i=!1;null!=(t=e.next());){if(!r){if("/"==t&&!i)return;"["==t?i=!0:i&&"]"==t&&(i=!1)}r=!r&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),h("regexp","string-2")):(e.eat("="),h("operator","operator",e.current()));if("`"==i)return t.tokenize=m,m(e,t);if("#"==i&&"!"==e.peek())return e.skipToEnd(),h("meta","meta");if("#"==i&&e.eatWhile(p))return h("variable","property");if("<"==i&&e.match("!--")||"-"==i&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),h("comment","comment");if(f.test(i))return">"==i&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=i&&"="!=i||e.eat("="):/[<>*+\-|&?]/.test(i)&&(e.eat(i),">"==i&&e.eat(i))),"?"==i&&e.eat(".")?h("."):h("operator","operator",e.current());if(p.test(i)){e.eatWhile(p);var n=e.current();if("."!=t.lastType){if(u.propertyIsEnumerable(n)){var o=u[n];return h(o.type,o.style,n)}if("async"==n&&e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return h("async","keyword",n)}return h("variable","variable",n)}}function $(e,t){for(var r,i=!1;r=e.next();){if("/"==r&&i){t.tokenize=b;break}i="*"==r}return h("comment","comment")}function m(e,t){for(var r,i=!1;null!=(r=e.next());){if(!i&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=b;break}i=!i&&"\\"==r}return h("quasi","string-2",e.current())}function g(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(r<0)){if(l){var i=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,r));i&&(r=i.index)}for(var n=0,o=!1,s=r-1;s>=0;--s){var a=e.string.charAt(s),c="([{}])".indexOf(a);if(c>=0&&c<3){if(!n){++s;break}if(0==--n){"("==a&&(o=!0);break}}else if(c>=3&&c<6)++n;else if(p.test(a))o=!0;else if(/["'\/`]/.test(a))for(;;--s){if(0==s)return;if(e.string.charAt(s-1)==a&&"\\"!=e.string.charAt(s-2)){s--;break}}else if(o&&!n){++s;break}}o&&!n&&(t.fatArrowAt=s)}}var x={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function v(e,t,r,i,n,o){this.indented=e,this.column=t,this.type=r,this.prev=n,this.info=o,null!=i&&(this.align=i)}function y(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var i=e.context;i;i=i.prev)for(r=i.vars;r;r=r.next)if(r.name==t)return!0}var _={state:null,column:null,marked:null,cc:null};function E(){for(var e=arguments.length-1;e>=0;e--)_.cc.push(arguments[e])}function k(){return E.apply(null,arguments),!0}function S(e,t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}function w(e){var t=_.state;if(_.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var i=A(e,t.context);if(null!=i)return void(t.context=i)}else if(!S(e,t.localVars))return void(t.localVars=new C(e,t.localVars));r.globalVars&&!S(e,t.globalVars)&&(t.globalVars=new C(e,t.globalVars))}function A(e,t){if(t){if(t.block){var r=A(e,t.prev);return r?r==t.prev?t:new M(r,t.vars,!0):null}return S(e,t.vars)?t:new M(t.prev,new C(e,t.vars),!1)}return null}function T(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function M(e,t,r){this.prev=e,this.vars=t,this.block=r}function C(e,t){this.name=e,this.next=t}var P=new C("this",new C("arguments",null));function I(){_.state.context=new M(_.state.context,_.state.localVars,!1),_.state.localVars=P}function N(){_.state.context=new M(_.state.context,_.state.localVars,!0),_.state.localVars=null}function O(){_.state.localVars=_.state.context.vars,_.state.context=_.state.context.prev}function L(e,t){var r=function(){var r=_.state,i=r.indented;if("stat"==r.lexical.type)i=r.lexical.indented;else for(var n=r.lexical;n&&")"==n.type&&n.align;n=n.prev)i=n.indented;r.lexical=new v(i,_.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function q(){var e=_.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function D(e){return function t(r){return r==e?k():";"==e||"}"==r||")"==r||"]"==r?E():k(t)}}function R(e,t){return"var"==e?k(L("vardef",t),ve,D(";"),q):"keyword a"==e?k(L("form"),F,R,q):"keyword b"==e?k(L("form"),R,q):"keyword d"==e?_.stream.match(/^\s*$/,!1)?k():k(L("stat"),V,D(";"),q):"debugger"==e?k(D(";")):"{"==e?k(L("}"),N,se,q,O):";"==e?k():"if"==e?("else"==_.state.lexical.info&&_.state.cc[_.state.cc.length-1]==q&&_.state.cc.pop()(),k(L("form"),F,R,q,we)):"function"==e?k(Ce):"for"==e?k(L("form"),Ae,R,q):"class"==e||l&&"interface"==t?(_.marked="keyword",k(L("form","class"==e?e:t),Le,q)):"variable"==e?l&&"declare"==t?(_.marked="keyword",k(R)):l&&("module"==t||"enum"==t||"type"==t)&&_.stream.match(/^\s*\w/,!1)?(_.marked="keyword","enum"==t?k(Xe):"type"==t?k(Ie,D("operator"),ue,D(";")):k(L("form"),ye,D("{"),L("}"),se,q,q)):l&&"namespace"==t?(_.marked="keyword",k(L("form"),U,R,q)):l&&"abstract"==t?(_.marked="keyword",k(R)):k(L("stat"),J):"switch"==e?k(L("form"),F,D("{"),L("}","switch"),N,se,q,q,O):"case"==e?k(U,D(":")):"default"==e?k(D(":")):"catch"==e?k(L("form"),I,B,R,q,O):"export"==e?k(L("stat"),Be,q):"import"==e?k(L("stat"),Ge,q):"async"==e?k(R):"@"==t?k(U,R):E(L("stat"),U,D(";"),q)}function B(e){if("("==e)return k(Ne,D(")"))}function U(e,t){return z(e,t,!1)}function G(e,t){return z(e,t,!0)}function F(e){return"("!=e?E():k(L(")"),V,D(")"),q)}function z(e,t,r){if(_.state.fatArrowAt==_.stream.start){var i=r?Z:Y;if("("==e)return k(I,L(")"),ne(Ne,")"),q,D("=>"),i,O);if("variable"==e)return E(I,ye,D("=>"),i,O)}var n=r?H:j;return x.hasOwnProperty(e)?k(n):"function"==e?k(Ce,n):"class"==e||l&&"interface"==t?(_.marked="keyword",k(L("form"),Oe,q)):"keyword c"==e||"async"==e?k(r?G:U):"("==e?k(L(")"),V,D(")"),q,n):"operator"==e||"spread"==e?k(r?G:U):"["==e?k(L("]"),He,q,n):"{"==e?oe(te,"}",null,n):"quasi"==e?E(X,n):"new"==e?k(function(e){return function(t){return"."==t?k(e?K:Q):"variable"==t&&l?k(me,e?H:j):E(e?G:U)}}(r)):k()}function V(e){return e.match(/[;\}\)\],]/)?E():E(U)}function j(e,t){return","==e?k(V):H(e,t,!1)}function H(e,t,r){var i=0==r?j:H,n=0==r?U:G;return"=>"==e?k(I,r?Z:Y,O):"operator"==e?/\+\+|--/.test(t)||l&&"!"==t?k(i):l&&"<"==t&&_.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?k(L(">"),ne(ue,">"),q,i):"?"==t?k(U,D(":"),n):k(n):"quasi"==e?E(X,i):";"!=e?"("==e?oe(G,")","call",i):"."==e?k(ee,i):"["==e?k(L("]"),V,D("]"),q,i):l&&"as"==t?(_.marked="keyword",k(ue,i)):"regexp"==e?(_.state.lastType=_.marked="operator",_.stream.backUp(_.stream.pos-_.stream.start-1),k(n)):void 0:void 0}function X(e,t){return"quasi"!=e?E():"${"!=t.slice(t.length-2)?k(X):k(U,W)}function W(e){if("}"==e)return _.marked="string-2",_.state.tokenize=m,k(X)}function Y(e){return g(_.stream,_.state),E("{"==e?R:U)}function Z(e){return g(_.stream,_.state),E("{"==e?R:G)}function Q(e,t){if("target"==t)return _.marked="keyword",k(j)}function K(e,t){if("target"==t)return _.marked="keyword",k(H)}function J(e){return":"==e?k(q,R):E(j,D(";"),q)}function ee(e){if("variable"==e)return _.marked="property",k()}function te(e,t){return"async"==e?(_.marked="property",k(te)):"variable"==e||"keyword"==_.style?(_.marked="property","get"==t||"set"==t?k(re):(l&&_.state.fatArrowAt==_.stream.start&&(r=_.stream.match(/^\s*:\s*/,!1))&&(_.state.fatArrowAt=_.stream.pos+r[0].length),k(ie))):"number"==e||"string"==e?(_.marked=a?"property":_.style+" property",k(ie)):"jsonld-keyword"==e?k(ie):l&&T(t)?(_.marked="keyword",k(te)):"["==e?k(U,ae,D("]"),ie):"spread"==e?k(G,ie):"*"==t?(_.marked="keyword",k(te)):":"==e?E(ie):void 0;var r}function re(e){return"variable"!=e?E(ie):(_.marked="property",k(Ce))}function ie(e){return":"==e?k(G):"("==e?E(Ce):void 0}function ne(e,t,r){function i(n,o){if(r?r.indexOf(n)>-1:","==n){var s=_.state.lexical;return"call"==s.info&&(s.pos=(s.pos||0)+1),k((function(r,i){return r==t||i==t?E():E(e)}),i)}return n==t||o==t?k():r&&r.indexOf(";")>-1?E(e):k(D(t))}return function(r,n){return r==t||n==t?k():E(e,i)}}function oe(e,t,r){for(var i=3;i<arguments.length;i++)_.cc.push(arguments[i]);return k(L(t,r),ne(e,t),q)}function se(e){return"}"==e?k():E(R,se)}function ae(e,t){if(l){if(":"==e)return k(ue);if("?"==t)return k(ae)}}function ce(e,t){if(l&&(":"==e||"in"==t))return k(ue)}function le(e){if(l&&":"==e)return _.stream.match(/^\s*\w+\s+is\b/,!1)?k(U,pe,ue):k(ue)}function pe(e,t){if("is"==t)return _.marked="keyword",k()}function ue(e,t){return"keyof"==t||"typeof"==t||"infer"==t||"readonly"==t?(_.marked="keyword",k("typeof"==t?G:ue)):"variable"==e||"void"==t?(_.marked="type",k($e)):"|"==t||"&"==t?k(ue):"string"==e||"number"==e||"atom"==e?k($e):"["==e?k(L("]"),ne(ue,"]",","),q,$e):"{"==e?k(L("}"),de,q,$e):"("==e?k(ne(be,")"),fe,$e):"<"==e?k(ne(ue,">"),ue):void 0}function fe(e){if("=>"==e)return k(ue)}function de(e){return e.match(/[\}\)\]]/)?k():","==e||";"==e?k(de):E(he,de)}function he(e,t){return"variable"==e||"keyword"==_.style?(_.marked="property",k(he)):"?"==t||"number"==e||"string"==e?k(he):":"==e?k(ue):"["==e?k(D("variable"),ce,D("]"),he):"("==e?E(Pe,he):e.match(/[;\}\)\],]/)?void 0:k()}function be(e,t){return"variable"==e&&_.stream.match(/^\s*[?:]/,!1)||"?"==t?k(be):":"==e?k(ue):"spread"==e?k(be):E(ue)}function $e(e,t){return"<"==t?k(L(">"),ne(ue,">"),q,$e):"|"==t||"."==e||"&"==t?k(ue):"["==e?k(ue,D("]"),$e):"extends"==t||"implements"==t?(_.marked="keyword",k(ue)):"?"==t?k(ue,D(":"),ue):void 0}function me(e,t){if("<"==t)return k(L(">"),ne(ue,">"),q,$e)}function ge(){return E(ue,xe)}function xe(e,t){if("="==t)return k(ue)}function ve(e,t){return"enum"==t?(_.marked="keyword",k(Xe)):E(ye,ae,ke,Se)}function ye(e,t){return l&&T(t)?(_.marked="keyword",k(ye)):"variable"==e?(w(t),k()):"spread"==e?k(ye):"["==e?oe(Ee,"]"):"{"==e?oe(_e,"}"):void 0}function _e(e,t){return"variable"!=e||_.stream.match(/^\s*:/,!1)?("variable"==e&&(_.marked="property"),"spread"==e?k(ye):"}"==e?E():"["==e?k(U,D("]"),D(":"),_e):k(D(":"),ye,ke)):(w(t),k(ke))}function Ee(){return E(ye,ke)}function ke(e,t){if("="==t)return k(G)}function Se(e){if(","==e)return k(ve)}function we(e,t){if("keyword b"==e&&"else"==t)return k(L("form","else"),R,q)}function Ae(e,t){return"await"==t?k(Ae):"("==e?k(L(")"),Te,q):void 0}function Te(e){return"var"==e?k(ve,Me):"variable"==e?k(Me):E(Me)}function Me(e,t){return")"==e?k():";"==e?k(Me):"in"==t||"of"==t?(_.marked="keyword",k(U,Me)):E(U,Me)}function Ce(e,t){return"*"==t?(_.marked="keyword",k(Ce)):"variable"==e?(w(t),k(Ce)):"("==e?k(I,L(")"),ne(Ne,")"),q,le,R,O):l&&"<"==t?k(L(">"),ne(ge,">"),q,Ce):void 0}function Pe(e,t){return"*"==t?(_.marked="keyword",k(Pe)):"variable"==e?(w(t),k(Pe)):"("==e?k(I,L(")"),ne(Ne,")"),q,le,O):l&&"<"==t?k(L(">"),ne(ge,">"),q,Pe):void 0}function Ie(e,t){return"keyword"==e||"variable"==e?(_.marked="type",k(Ie)):"<"==t?k(L(">"),ne(ge,">"),q):void 0}function Ne(e,t){return"@"==t&&k(U,Ne),"spread"==e?k(Ne):l&&T(t)?(_.marked="keyword",k(Ne)):l&&"this"==e?k(ae,ke):E(ye,ae,ke)}function Oe(e,t){return"variable"==e?Le(e,t):qe(e,t)}function Le(e,t){if("variable"==e)return w(t),k(qe)}function qe(e,t){return"<"==t?k(L(">"),ne(ge,">"),q,qe):"extends"==t||"implements"==t||l&&","==e?("implements"==t&&(_.marked="keyword"),k(l?ue:U,qe)):"{"==e?k(L("}"),De,q):void 0}function De(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||l&&T(t))&&_.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(_.marked="keyword",k(De)):"variable"==e||"keyword"==_.style?(_.marked="property",k(Re,De)):"number"==e||"string"==e?k(Re,De):"["==e?k(U,ae,D("]"),Re,De):"*"==t?(_.marked="keyword",k(De)):l&&"("==e?E(Pe,De):";"==e||","==e?k(De):"}"==e?k():"@"==t?k(U,De):void 0}function Re(e,t){if("?"==t)return k(Re);if(":"==e)return k(ue,ke);if("="==t)return k(G);var r=_.state.lexical.prev;return E(r&&"interface"==r.info?Pe:Ce)}function Be(e,t){return"*"==t?(_.marked="keyword",k(je,D(";"))):"default"==t?(_.marked="keyword",k(U,D(";"))):"{"==e?k(ne(Ue,"}"),je,D(";")):E(R)}function Ue(e,t){return"as"==t?(_.marked="keyword",k(D("variable"))):"variable"==e?E(G,Ue):void 0}function Ge(e){return"string"==e?k():"("==e?E(U):"."==e?E(j):E(Fe,ze,je)}function Fe(e,t){return"{"==e?oe(Fe,"}"):("variable"==e&&w(t),"*"==t&&(_.marked="keyword"),k(Ve))}function ze(e){if(","==e)return k(Fe,ze)}function Ve(e,t){if("as"==t)return _.marked="keyword",k(Fe)}function je(e,t){if("from"==t)return _.marked="keyword",k(U)}function He(e){return"]"==e?k():E(ne(G,"]"))}function Xe(){return E(L("form"),ye,D("{"),L("}"),ne(We,"}"),q,q)}function We(){return E(ye,ke)}function Ye(e,t,r){return t.tokenize==b&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(r||0)))}return O.lex=!0,q.lex=!0,{startState:function(e){var t={tokenize:b,lastType:"sof",cc:[],lexical:new v((e||0)-o,0,"block",!1),localVars:r.localVars,context:r.localVars&&new M(null,null,!1),indented:e||0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),g(e,t)),t.tokenize!=$&&e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==i?r:(t.lastType="operator"!=i||"++"!=n&&"--"!=n?i:"incdec",function(e,t,r,i,n){var o=e.cc;for(_.state=e,_.stream=n,_.marked=null,_.cc=o,_.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():c?U:R)(r,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return _.marked?_.marked:"variable"==r&&y(e,i)?"variable-2":t}}(t,r,i,n,e))},indent:function(t,i){if(t.tokenize==$||t.tokenize==m)return e.Pass;if(t.tokenize!=b)return 0;var n,a=i&&i.charAt(0),c=t.lexical;if(!/^\s*else\b/.test(i))for(var l=t.cc.length-1;l>=0;--l){var p=t.cc[l];if(p==q)c=c.prev;else if(p!=we)break}for(;("stat"==c.type||"form"==c.type)&&("}"==a||(n=t.cc[t.cc.length-1])&&(n==j||n==H)&&!/^[,\.=+\-*:?[\(]/.test(i));)c=c.prev;s&&")"==c.type&&"stat"==c.prev.type&&(c=c.prev);var u=c.type,d=a==u;return"vardef"==u?c.indented+("operator"==t.lastType||","==t.lastType?c.info.length+1:0):"form"==u&&"{"==a?c.indented:"form"==u?c.indented+o:"stat"==u?c.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||f.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,i)?s||o:0):"switch"!=c.info||d||0==r.doubleIndentSwitch?c.align?c.column+(d?0:1):c.indented+(d?0:o):c.indented+(/^(?:case|default)\b/.test(i)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:c?null:"/*",blockCommentEnd:c?null:"*/",blockCommentContinue:c?null:" * ",lineComment:c?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:c?"json":"javascript",jsonldMode:a,jsonMode:c,expressionAllowed:Ye,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=U&&t!=G||e.cc.pop()}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})},"object"==typeof($61fa364299a137889547b0bdee9d9e79$exports={})?e($499ee97013f78e63604049576c09a820$init()):"function"==typeof $61fa364299a137889547b0bdee9d9e79$var$define&&$61fa364299a137889547b0bdee9d9e79$var$define.amd?$61fa364299a137889547b0bdee9d9e79$var$define(["../../lib/codemirror"],e):e(CodeMirror)}function $61fa364299a137889547b0bdee9d9e79$init(){return $61fa364299a137889547b0bdee9d9e79$executed||($61fa364299a137889547b0bdee9d9e79$executed=!0,$61fa364299a137889547b0bdee9d9e79$exec()),$61fa364299a137889547b0bdee9d9e79$exports}$61fa364299a137889547b0bdee9d9e79$init();var $d7ecf6e3c16531db4dce92429eef5025$exports,$d7ecf6e3c16531db4dce92429eef5025$var$define,$d7ecf6e3c16531db4dce92429eef5025$executed=!1;function $d7ecf6e3c16531db4dce92429eef5025$exec(){var e;e=function(e){var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},r={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",(function(i,n){var o,s,a=i.indentUnit,c={},l=n.htmlMode?t:r;for(var p in l)c[p]=l[p];for(var p in n)c[p]=n[p];function u(e,t){function r(r){return t.tokenize=r,r(e,t)}var i=e.next();return"<"==i?e.eat("!")?e.eat("[")?e.match("CDATA[")?r(d("atom","]]>")):null:e.match("--")?r(d("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),r(h(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=d("meta","?>"),"meta"):(o=e.eat("/")?"closeTag":"openTag",t.tokenize=f,"tag bracket"):"&"==i?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function f(e,t){var r,i,n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=u,o=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return o="equals",null;if("<"==n){t.tokenize=u,t.state=g,t.tagName=t.tagStart=null;var s=t.tokenize(e,t);return s?s+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=(r=n,(i=function(e,t){for(;!e.eol();)if(e.next()==r){t.tokenize=f;break}return"string"}).isInAttribute=!0,i),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function d(e,t){return function(r,i){for(;!r.eol();){if(r.match(t)){i.tokenize=u;break}r.next()}return e}}function h(e){return function(t,r){for(var i;null!=(i=t.next());){if("<"==i)return r.tokenize=h(e+1),r.tokenize(t,r);if(">"==i){if(1==e){r.tokenize=u;break}return r.tokenize=h(e-1),r.tokenize(t,r)}}return"meta"}}function b(e,t,r){this.prev=e.context,this.tagName=t||"",this.indent=e.indented,this.startOfLine=r,(c.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function $(e){e.context&&(e.context=e.context.prev)}function m(e,t){for(var r;;){if(!e.context)return;if(r=e.context.tagName,!c.contextGrabbers.hasOwnProperty(r)||!c.contextGrabbers[r].hasOwnProperty(t))return;$(e)}}function g(e,t,r){return"openTag"==e?(r.tagStart=t.column(),x):"closeTag"==e?v:g}function x(e,t,r){return"word"==e?(r.tagName=t.current(),s="tag",E):c.allowMissingTagName&&"endTag"==e?(s="tag bracket",E(e,0,r)):(s="error",x)}function v(e,t,r){if("word"==e){var i=t.current();return r.context&&r.context.tagName!=i&&c.implicitlyClosed.hasOwnProperty(r.context.tagName)&&$(r),r.context&&r.context.tagName==i||!1===c.matchClosing?(s="tag",y):(s="tag error",_)}return c.allowMissingTagName&&"endTag"==e?(s="tag bracket",y(e,0,r)):(s="error",_)}function y(e,t,r){return"endTag"!=e?(s="error",y):($(r),g)}function _(e,t,r){return s="error",y(e,0,r)}function E(e,t,r){if("word"==e)return s="attribute",k;if("endTag"==e||"selfcloseTag"==e){var i=r.tagName,n=r.tagStart;return r.tagName=r.tagStart=null,"selfcloseTag"==e||c.autoSelfClosers.hasOwnProperty(i)?m(r,i):(m(r,i),r.context=new b(r,i,n==r.indented)),g}return s="error",E}function k(e,t,r){return"equals"==e?S:(c.allowMissing||(s="error"),E(e,0,r))}function S(e,t,r){return"string"==e?w:"word"==e&&c.allowUnquoted?(s="string",E):(s="error",E(e,0,r))}function w(e,t,r){return"string"==e?w:E(e,0,r)}return u.isInText=!0,{startState:function(e){var t={tokenize:u,state:g,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var r=t.tokenize(e,t);return(r||o)&&"comment"!=r&&(s=null,t.state=t.state(o||r,e,t),s&&(r="error"==s?r+" error":s)),r},indent:function(t,r,i){var n=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+a;if(n&&n.noIndent)return e.Pass;if(t.tokenize!=f&&t.tokenize!=u)return i?i.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==c.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+a*(c.multilineTagIndentFactor||1);if(c.alignCDATA&&/<!\[CDATA\[/.test(r))return 0;var o=r&&/^<(\/)?([\w_:\.-]*)/.exec(r);if(o&&o[1])for(;n;){if(n.tagName==o[2]){n=n.prev;break}if(!c.implicitlyClosed.hasOwnProperty(n.tagName))break;n=n.prev}else if(o)for(;n;){var s=c.contextGrabbers[n.tagName];if(!s||!s.hasOwnProperty(o[2]))break;n=n.prev}for(;n&&n.prev&&!n.startOfLine;)n=n.prev;return n?n.indent+a:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:c.htmlMode?"html":"xml",helperType:c.htmlMode?"html":"xml",skipAttribute:function(e){e.state==S&&(e.state=E)},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:"closeTag"==e.type}:null},xmlCurrentContext:function(e){for(var t=[],r=e.context;r;r=r.prev)t.push(r.tagName);return t.reverse()}}})),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})},"object"==typeof($d7ecf6e3c16531db4dce92429eef5025$exports={})?e($499ee97013f78e63604049576c09a820$init()):"function"==typeof $d7ecf6e3c16531db4dce92429eef5025$var$define&&$d7ecf6e3c16531db4dce92429eef5025$var$define.amd?$d7ecf6e3c16531db4dce92429eef5025$var$define(["../../lib/codemirror"],e):e(CodeMirror)}function $d7ecf6e3c16531db4dce92429eef5025$init(){return $d7ecf6e3c16531db4dce92429eef5025$executed||($d7ecf6e3c16531db4dce92429eef5025$executed=!0,$d7ecf6e3c16531db4dce92429eef5025$exec()),$d7ecf6e3c16531db4dce92429eef5025$exports}$d7ecf6e3c16531db4dce92429eef5025$init();var $682bf47a1fb762ec1c525c5c5510cd4b$exports={},$682bf47a1fb762ec1c525c5c5510cd4b$var$define,$846af9ac39fb202131b92d839fece1d5$exports,$846af9ac39fb202131b92d839fece1d5$var$define,$846af9ac39fb202131b92d839fece1d5$executed=!1,mod;function $846af9ac39fb202131b92d839fece1d5$exec(){var e;e=function(e){function t(e){for(var t={},r=0;r<e.length;++r)t[e[r].toLowerCase()]=!0;return t}e.defineMode("css",(function(t,r){var i=r.inline;r.propertyKeywords||(r=e.resolveMode("text/css"));var n,o,s=t.indentUnit,a=r.tokenHooks,c=r.documentTypes||{},l=r.mediaTypes||{},p=r.mediaFeatures||{},u=r.mediaValueKeywords||{},f=r.propertyKeywords||{},d=r.nonStandardPropertyKeywords||{},h=r.fontProperties||{},b=r.counterDescriptors||{},$=r.colorKeywords||{},m=r.valueKeywords||{},g=r.allowNested,x=r.lineComment,v=!0===r.supportsAtComponent,y=!1!==t.highlightNonStandardPropertyKeywords;function _(e,t){return n=t,e}function E(e,t){var r=e.next();if(a[r]){var i=a[r](e,t);if(!1!==i)return i}return"@"==r?(e.eatWhile(/[\w\\\-]/),_("def",e.current())):"="==r||("~"==r||"|"==r)&&e.eat("=")?_(null,"compare"):'"'==r||"'"==r?(t.tokenize=k(r),t.tokenize(e,t)):"#"==r?(e.eatWhile(/[\w\\\-]/),_("atom","hash")):"!"==r?(e.match(/^\s*\w*/),_("keyword","important")):/\d/.test(r)||"."==r&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),_("number","unit")):"-"!==r?/[,+>*\/]/.test(r)?_(null,"select-op"):"."==r&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?_("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(r)?_(null,r):e.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(e.current())&&(t.tokenize=S),_("variable callee","variable")):/[\w\\\-]/.test(r)?(e.eatWhile(/[\w\\\-]/),_("property","word")):_(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),_("number","unit")):e.match(/^-[\w\\\-]*/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?_("variable-2","variable-definition"):_("variable-2","variable")):e.match(/^\w+-/)?_("meta","meta"):void 0}function k(e){return function(t,r){for(var i,n=!1;null!=(i=t.next());){if(i==e&&!n){")"==e&&t.backUp(1);break}n=!n&&"\\"==i}return(i==e||!n&&")"!=e)&&(r.tokenize=null),_("string","string")}}function S(e,t){return e.next(),e.match(/^\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=k(")"),_(null,"(")}function w(e,t,r){this.type=e,this.indent=t,this.prev=r}function A(e,t,r,i){return e.context=new w(r,t.indentation()+(!1===i?0:s),e.context),r}function T(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function M(e,t,r){return I[r.context.type](e,t,r)}function C(e,t,r,i){for(var n=i||1;n>0;n--)r.context=r.context.prev;return M(e,t,r)}function P(e){var t=e.current().toLowerCase();o=m.hasOwnProperty(t)?"atom":$.hasOwnProperty(t)?"keyword":"variable"}var I={top:function(e,t,r){if("{"==e)return A(r,t,"block");if("}"==e&&r.context.prev)return T(r);if(v&&/@component/i.test(e))return A(r,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return A(r,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return A(r,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return r.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return A(r,t,"at");if("hash"==e)o="builtin";else if("word"==e)o="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return A(r,t,"interpolation");if(":"==e)return"pseudo";if(g&&"("==e)return A(r,t,"parens")}return r.context.type},block:function(e,t,r){if("word"==e){var i=t.current().toLowerCase();return f.hasOwnProperty(i)?(o="property","maybeprop"):d.hasOwnProperty(i)?(o=y?"string-2":"property","maybeprop"):g?(o=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(o+=" error","maybeprop")}return"meta"==e?"block":g||"hash"!=e&&"qualifier"!=e?I.top(e,t,r):(o="error","block")},maybeprop:function(e,t,r){return":"==e?A(r,t,"prop"):M(e,t,r)},prop:function(e,t,r){if(";"==e)return T(r);if("{"==e&&g)return A(r,t,"propBlock");if("}"==e||"{"==e)return C(e,t,r);if("("==e)return A(r,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)P(t);else if("interpolation"==e)return A(r,t,"interpolation")}else o+=" error";return"prop"},propBlock:function(e,t,r){return"}"==e?T(r):"word"==e?(o="property","maybeprop"):r.context.type},parens:function(e,t,r){return"{"==e||"}"==e?C(e,t,r):")"==e?T(r):"("==e?A(r,t,"parens"):"interpolation"==e?A(r,t,"interpolation"):("word"==e&&P(t),"parens")},pseudo:function(e,t,r){return"meta"==e?"pseudo":"word"==e?(o="variable-3",r.context.type):M(e,t,r)},documentTypes:function(e,t,r){return"word"==e&&c.hasOwnProperty(t.current())?(o="tag",r.context.type):I.atBlock(e,t,r)},atBlock:function(e,t,r){if("("==e)return A(r,t,"atBlock_parens");if("}"==e||";"==e)return C(e,t,r);if("{"==e)return T(r)&&A(r,t,g?"block":"top");if("interpolation"==e)return A(r,t,"interpolation");if("word"==e){var i=t.current().toLowerCase();o="only"==i||"not"==i||"and"==i||"or"==i?"keyword":l.hasOwnProperty(i)?"attribute":p.hasOwnProperty(i)?"property":u.hasOwnProperty(i)?"keyword":f.hasOwnProperty(i)?"property":d.hasOwnProperty(i)?y?"string-2":"property":m.hasOwnProperty(i)?"atom":$.hasOwnProperty(i)?"keyword":"error"}return r.context.type},atComponentBlock:function(e,t,r){return"}"==e?C(e,t,r):"{"==e?T(r)&&A(r,t,g?"block":"top",!1):("word"==e&&(o="error"),r.context.type)},atBlock_parens:function(e,t,r){return")"==e?T(r):"{"==e||"}"==e?C(e,t,r,2):I.atBlock(e,t,r)},restricted_atBlock_before:function(e,t,r){return"{"==e?A(r,t,"restricted_atBlock"):"word"==e&&"@counter-style"==r.stateArg?(o="variable","restricted_atBlock_before"):M(e,t,r)},restricted_atBlock:function(e,t,r){return"}"==e?(r.stateArg=null,T(r)):"word"==e?(o="@font-face"==r.stateArg&&!h.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==r.stateArg&&!b.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,r){return"word"==e?(o="variable","keyframes"):"{"==e?A(r,t,"top"):M(e,t,r)},at:function(e,t,r){return";"==e?T(r):"{"==e||"}"==e?C(e,t,r):("word"==e?o="tag":"hash"==e&&(o="builtin"),"at")},interpolation:function(e,t,r){return"}"==e?T(r):"{"==e||";"==e?C(e,t,r):("word"==e?o="variable":"variable"!=e&&"("!=e&&")"!=e&&(o="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:i?"block":"top",stateArg:null,context:new w(i?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var r=(t.tokenize||E)(e,t);return r&&"object"==typeof r&&(n=r[1],r=r[0]),o=r,"comment"!=n&&(t.state=I[t.state](n,e,t)),o},indent:function(e,t){var r=e.context,i=t&&t.charAt(0),n=r.indent;return"prop"!=r.type||"}"!=i&&")"!=i||(r=r.prev),r.prev&&("}"!=i||"block"!=r.type&&"top"!=r.type&&"interpolation"!=r.type&&"restricted_atBlock"!=r.type?(")"!=i||"parens"!=r.type&&"atBlock_parens"!=r.type)&&("{"!=i||"at"!=r.type&&"atBlock"!=r.type)||(n=Math.max(0,r.indent-s)):n=(r=r.prev).indent),n},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:x,fold:"brace"}}));var r=["domain","regexp","url","url-prefix"],i=t(r),n=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=t(n),s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],a=t(s),c=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],l=t(c),p=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],u=t(p),f=["border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],d=t(f),h=t(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),b=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),$=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],m=t($),g=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],x=t(g),v=r.concat(n).concat(s).concat(c).concat(p).concat(f).concat($).concat(g);function y(e,t){for(var r,i=!1;null!=(r=e.next());){if(i&&"/"==r){t.tokenize=null;break}i="*"==r}return["comment","comment"]}e.registerHelper("hintWords","css",v),e.defineMIME("text/css",{documentTypes:i,mediaTypes:o,mediaFeatures:a,mediaValueKeywords:l,propertyKeywords:u,nonStandardPropertyKeywords:d,fontProperties:h,counterDescriptors:b,colorKeywords:m,valueKeywords:x,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=y,y(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:a,mediaValueKeywords:l,propertyKeywords:u,nonStandardPropertyKeywords:d,colorKeywords:m,valueKeywords:x,fontProperties:h,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=y,y(e,t)):["operator","operator"]},":":function(e){return!!e.match(/^\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:a,mediaValueKeywords:l,propertyKeywords:u,nonStandardPropertyKeywords:d,colorKeywords:m,valueKeywords:x,fontProperties:h,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=y,y(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:i,mediaTypes:o,mediaFeatures:a,propertyKeywords:u,nonStandardPropertyKeywords:d,fontProperties:h,counterDescriptors:b,colorKeywords:m,valueKeywords:x,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=y,y(e,t))}},name:"css",helperType:"gss"})},"object"==typeof($846af9ac39fb202131b92d839fece1d5$exports={})?e($499ee97013f78e63604049576c09a820$init()):"function"==typeof $846af9ac39fb202131b92d839fece1d5$var$define&&$846af9ac39fb202131b92d839fece1d5$var$define.amd?$846af9ac39fb202131b92d839fece1d5$var$define(["../../lib/codemirror"],e):e(CodeMirror)}function $846af9ac39fb202131b92d839fece1d5$init(){return $846af9ac39fb202131b92d839fece1d5$executed||($846af9ac39fb202131b92d839fece1d5$executed=!0,$846af9ac39fb202131b92d839fece1d5$exec()),$846af9ac39fb202131b92d839fece1d5$exports}mod=function(e){var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},r={};function i(e,t){var i=e.match(function(e){return r[e]||(r[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}(t));return i?/^\s*(.*?)\s*$/.exec(i[2])[1]:""}function n(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function o(e,t){for(var r in e)for(var i=t[r]||(t[r]=[]),n=e[r],o=n.length-1;o>=0;o--)i.unshift(n[o])}e.defineMode("htmlmixed",(function(r,s){var a=e.getMode(r,{name:"xml",htmlMode:!0,multilineTagIndentFactor:s.multilineTagIndentFactor,multilineTagIndentPastTag:s.multilineTagIndentPastTag,allowMissingTagName:s.allowMissingTagName}),c={},l=s&&s.tags,p=s&&s.scriptTypes;if(o(t,c),l&&o(l,c),p)for(var u=p.length-1;u>=0;u--)c.script.unshift(["type",p[u].matches,p[u].mode]);function f(t,o){var s,l=a.token(t,o.htmlState),p=/\btag\b/.test(l);if(p&&!/[<>\s\/]/.test(t.current())&&(s=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&c.hasOwnProperty(s))o.inTag=s+" ";else if(o.inTag&&p&&/>$/.test(t.current())){var u=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var d=">"==t.current()&&function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!n[0]||n[1].test(i(t,n[0])))return n[2]}}(c[u[1]],u[2]),h=e.getMode(r,d),b=n(u[1],!0),$=n(u[1],!1);o.token=function(e,t){return e.match(b,!1)?(t.token=f,t.localState=t.localMode=null,null):function(e,t,r){var i=e.current(),n=i.search(t);return n>-1?e.backUp(i.length-n):i.match(/<\/?$/)&&(e.backUp(i.length),e.match(t,!1)||e.match(i)),r}(e,$,t.localMode.token(e,t.localState))},o.localMode=h,o.localState=e.startState(h,a.indent(o.htmlState,"",""))}else o.inTag&&(o.inTag+=t.current(),t.eol()&&(o.inTag+=" "));return l}return{startState:function(){return{token:f,inTag:null,localMode:null,localState:null,htmlState:e.startState(a)}},copyState:function(t){var r;return t.localState&&(r=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:r,htmlState:e.copyState(a,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,r,i){return!t.localMode||/^\s*<\//.test(r)?a.indent(t.htmlState,r,i):t.localMode.indent?t.localMode.indent(t.localState,r,i):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||a}}}}),"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")},"object"==typeof $682bf47a1fb762ec1c525c5c5510cd4b$exports?mod($499ee97013f78e63604049576c09a820$init(),$d7ecf6e3c16531db4dce92429eef5025$init(),$61fa364299a137889547b0bdee9d9e79$init(),$846af9ac39fb202131b92d839fece1d5$init()):"function"==typeof $682bf47a1fb762ec1c525c5c5510cd4b$var$define&&$682bf47a1fb762ec1c525c5c5510cd4b$var$define.amd?$682bf47a1fb762ec1c525c5c5510cd4b$var$define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],mod):mod(CodeMirror);var $ea974a5a8cf41375c06036b4e0e39ca8$exports={},$ea974a5a8cf41375c06036b4e0e39ca8$var$define;!function(e){"object"==typeof $ea974a5a8cf41375c06036b4e0e39ca8$exports?e($499ee97013f78e63604049576c09a820$init()):"function"==typeof $ea974a5a8cf41375c06036b4e0e39ca8$var$define&&$ea974a5a8cf41375c06036b4e0e39ca8$var$define.amd?$ea974a5a8cf41375c06036b4e0e39ca8$var$define(["../../lib/codemirror"],e):e(CodeMirror)}((function(e){e.defineMode("stex",(function(e,t){function r(e,t){e.cmdState.push(t)}function i(e){return e.cmdState.length>0?e.cmdState[e.cmdState.length-1]:null}function n(e,t,r){return function(){this.name=e,this.bracketNo=0,this.style=t,this.styles=r,this.argument=null,this.styleIdentifier=function(){return this.styles[this.bracketNo-1]||null},this.openBracket=function(){return this.bracketNo++,"bracket"},this.closeBracket=function(){}}}var o={};function s(e,t){e.f=t}function a(e,t){var n;if(e.match(/^\\[a-zA-Z@]+/)){var a=e.current().slice(1);return r(t,n=new(n=o.hasOwnProperty(a)?o[a]:o.DEFAULT)),s(t,l),n.style}if(e.match(/^\\[$&%#{}_]/))return"tag";if(e.match(/^\\[,;!\/\\]/))return"tag";if(e.match("\\["))return s(t,(function(e,t){return c(e,t,"\\]")})),"keyword";if(e.match("\\("))return s(t,(function(e,t){return c(e,t,"\\)")})),"keyword";if(e.match("$$"))return s(t,(function(e,t){return c(e,t,"$$")})),"keyword";if(e.match("$"))return s(t,(function(e,t){return c(e,t,"$")})),"keyword";var p=e.next();return"%"==p?(e.skipToEnd(),"comment"):"}"==p||"]"==p?(n=i(t))?(n.closeBracket(p),s(t,l),"bracket"):"error":"{"==p||"["==p?(r(t,n=new(n=o.DEFAULT)),"bracket"):/\d/.test(p)?(e.eatWhile(/[\w.%]/),"atom"):(e.eatWhile(/[\w\-_]/),"begin"==(n=function(e){for(var t=e.cmdState,r=t.length-1;r>=0;r--){var i=t[r];if("DEFAULT"!=i.name)return i}return{styleIdentifier:function(){return null}}}(t)).name&&(n.argument=e.current()),n.styleIdentifier())}function c(e,t,r){if(e.eatSpace())return null;if(r&&e.match(r))return s(t,a),"keyword";if(e.match(/^\\[a-zA-Z@]+/))return"tag";if(e.match(/^[a-zA-Z]+/))return"variable-2";if(e.match(/^\\[$&%#{}_]/))return"tag";if(e.match(/^\\[,;!\/]/))return"tag";if(e.match(/^[\^_&]/))return"tag";if(e.match(/^[+\-<>|=,\/@!*:;'"`~#?]/))return null;if(e.match(/^(\d+\.\d*|\d*\.\d+|\d+)/))return"number";var i=e.next();return"{"==i||"}"==i||"["==i||"]"==i||"("==i||")"==i?"bracket":"%"==i?(e.skipToEnd(),"comment"):"error"}function l(e,t){var r=e.peek();return"{"==r||"["==r?(i(t).openBracket(r),e.eat(r),s(t,a),"bracket"):/[ \t\r]/.test(r)?(e.eat(r),null):(s(t,a),function(e){var t=e.cmdState.pop();t&&t.closeBracket()}(t),a(e,t))}return o.importmodule=n("importmodule","tag",["string","builtin"]),o.documentclass=n("documentclass","tag",["","atom"]),o.usepackage=n("usepackage","tag",["atom"]),o.begin=n("begin","tag",["atom"]),o.end=n("end","tag",["atom"]),o.label=n("label","tag",["atom"]),o.ref=n("ref","tag",["atom"]),o.eqref=n("eqref","tag",["atom"]),o.cite=n("cite","tag",["atom"]),o.bibitem=n("bibitem","tag",["atom"]),o.Bibitem=n("Bibitem","tag",["atom"]),o.RBibitem=n("RBibitem","tag",["atom"]),o.DEFAULT=function(){this.name="DEFAULT",this.style="tag",this.styleIdentifier=this.openBracket=this.closeBracket=function(){}},{startState:function(){return{cmdState:[],f:t.inMathMode?function(e,t){return c(e,t)}:a}},copyState:function(e){return{cmdState:e.cmdState.slice(),f:e.f}},token:function(e,t){return t.f(e,t)},blankLine:function(e){e.f=a,e.cmdState.length=0},lineComment:"%"}})),e.defineMIME("text/x-stex","stex"),e.defineMIME("text/x-latex","stex")}));var $90c63aa0a3c2e8f9611f4798343d40b1$exports={},$90c63aa0a3c2e8f9611f4798343d40b1$var$define;!function(e){"object"==typeof $90c63aa0a3c2e8f9611f4798343d40b1$exports?e($499ee97013f78e63604049576c09a820$init()):"function"==typeof $90c63aa0a3c2e8f9611f4798343d40b1$var$define&&$90c63aa0a3c2e8f9611f4798343d40b1$var$define.amd?$90c63aa0a3c2e8f9611f4798343d40b1$var$define(["../../lib/codemirror"],e):e(CodeMirror)}((function(e){var t=e.Pos;function r(e,t){for(var r=0,i=e.length;r<i;++r)t(e[r])}function i(r,i,n,o){var s=r.getCursor(),a=n(r,s);if(!/\b(?:string|comment)\b/.test(a.type)){var c=e.innerMode(r.getMode(),a.state);if("json"!==c.mode.helperType){a.state=c.state,/^[\w$_]*$/.test(a.string)?a.end>s.ch&&(a.end=s.ch,a.string=a.string.slice(0,s.ch-a.start)):a={start:s.ch,end:s.ch,string:"",state:a.state,type:"."==a.string?"property":null};for(var l=a;"property"==l.type;){if("."!=(l=n(r,t(s.line,l.start))).string)return;if(l=n(r,t(s.line,l.start)),!u)var u=[];u.push(l)}return{list:p(a,u,i,o),from:t(s.line,a.start),to:t(s.line,a.end)}}}}function n(e,t){var r=e.getTokenAt(t);return t.ch==r.start+1&&"."==r.string.charAt(0)?(r.end=r.start,r.string=".",r.type="property"):/^\.[\w$_]*$/.test(r.string)&&(r.type="property",r.start++,r.string=r.string.replace(/\./,"")),r}e.registerHelper("hint","javascript",(function(e,t){return i(e,c,(function(e,t){return e.getTokenAt(t)}),t)})),e.registerHelper("hint","coffeescript",(function(e,t){return i(e,l,n,t)}));var o="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),s="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),a="prototype apply call bind".split(" "),c="break case catch class const continue debugger default delete do else export extends false finally for function if in import instanceof new null return super switch this throw true try typeof var void while with yield".split(" "),l="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ");function p(e,t,i,n){var c=[],l=e.string,p=n&&n.globalScope||window;function u(e){0!=e.lastIndexOf(l,0)||function(e,t){if(!Array.prototype.indexOf){for(var r=e.length;r--;)if(e[r]===t)return!0;return!1}return-1!=e.indexOf(t)}(c,e)||c.push(e)}function f(e){"string"==typeof e?r(o,u):e instanceof Array?r(s,u):e instanceof Function&&r(a,u),function(e,t){if(Object.getOwnPropertyNames&&Object.getPrototypeOf)for(var r=e;r;r=Object.getPrototypeOf(r))Object.getOwnPropertyNames(r).forEach(t);else for(var i in e)t(i)}(e,u)}if(t&&t.length){var d,h=t.pop();for(h.type&&0===h.type.indexOf("variable")?(n&&n.additionalContext&&(d=n.additionalContext[h.string]),n&&!1===n.useGlobalScope||(d=d||p[h.string])):"string"==h.type?d="":"atom"==h.type?d=1:"function"==h.type&&(null==p.jQuery||"$"!=h.string&&"jQuery"!=h.string||"function"!=typeof p.jQuery?null!=p._&&"_"==h.string&&"function"==typeof p._&&(d=p._()):d=p.jQuery());null!=d&&t.length;)d=d[t.pop().string];null!=d&&f(d)}else{for(var b=e.state.localVars;b;b=b.next)u(b.name);for(var $=e.state.context;$;$=$.prev)for(b=$.vars;b;b=b.next)u(b.name);for(b=e.state.globalVars;b;b=b.next)u(b.name);if(n&&null!=n.additionalContext)for(var m in n.additionalContext)u(m);n&&!1===n.useGlobalScope||f(p),r(i,u)}return c}}));var $3852f435c81b058774c85acddea39f35$exports={},$3852f435c81b058774c85acddea39f35$var$define;!function(e){"object"==typeof $3852f435c81b058774c85acddea39f35$exports?e($499ee97013f78e63604049576c09a820$init()):"function"==typeof $3852f435c81b058774c85acddea39f35$var$define&&$3852f435c81b058774c85acddea39f35$var$define.amd?$3852f435c81b058774c85acddea39f35$var$define(["../../lib/codemirror"],e):e(CodeMirror)}((function(e){function t(e,t){if(this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var r=this;e.on("cursorActivity",this.activityFunc=function(){r.cursorActivity()})}}e.showHint=function(e,t,r){if(!t)return e.showHint(r);r&&r.async&&(t.async=!0);var i={hint:t};if(r)for(var n in r)i[n]=r[n];return e.showHint(i)},e.defineExtension("showHint",(function(r){r=function(e,t,r){var i=e.options.hintOptions,n={};for(var o in c)n[o]=c[o];if(i)for(var o in i)void 0!==i[o]&&(n[o]=i[o]);if(r)for(var o in r)void 0!==r[o]&&(n[o]=r[o]);n.hint.resolve&&(n.hint=n.hint.resolve(e,t));return n}(this,this.getCursor("start"),r);var i=this.listSelections();if(!(i.length>1)){if(this.somethingSelected()){if(!r.hint.supportsSelection)return;for(var n=0;n<i.length;n++)if(i[n].head.line!=i[n].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new t(this,r);o.options.hint&&(e.signal(this,"startCompletion",this),o.update(!0))}})),e.defineExtension("closeHint",(function(){this.state.completionActive&&this.state.completionActive.close()}));var r=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},i=window.cancelAnimationFrame||clearTimeout;function n(e){return"string"==typeof e?e:e.text}function o(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function s(t,r){this.completion=t,this.data=r,this.picked=!1;var i=this,s=t.cm,a=s.getInputField().ownerDocument,c=a.defaultView||a.parentWindow,l=this.hints=a.createElement("ul"),p=t.cm.options.theme;l.className="CodeMirror-hints "+p,this.selectedHint=r.selectedHint||0;for(var u=r.list,f=0;f<u.length;++f){var d=l.appendChild(a.createElement("li")),h=u[f],b="CodeMirror-hint"+(f!=this.selectedHint?"":" CodeMirror-hint-active");null!=h.className&&(b=h.className+" "+b),d.className=b,h.render?h.render(d,r,h):d.appendChild(a.createTextNode(h.displayText||n(h))),d.hintId=f}var $=t.options.container||a.body,m=s.cursorCoords(t.options.alignWithWord?r.from:null),g=m.left,x=m.bottom,v=!0,y=0,_=0;if($!==a.body){var E=-1!==["absolute","relative","fixed"].indexOf(c.getComputedStyle($).position)?$:$.offsetParent,k=E.getBoundingClientRect(),S=a.body.getBoundingClientRect();y=k.left-S.left-E.scrollLeft,_=k.top-S.top-E.scrollTop}l.style.left=g-y+"px",l.style.top=x-_+"px";var w=c.innerWidth||Math.max(a.body.offsetWidth,a.documentElement.offsetWidth),A=c.innerHeight||Math.max(a.body.offsetHeight,a.documentElement.offsetHeight);$.appendChild(l);var T,M=t.options.moveOnOverlap?l.getBoundingClientRect():new DOMRect,C=!!t.options.paddingForScrollbar&&l.scrollHeight>l.clientHeight+1;if(setTimeout((function(){T=s.getScrollInfo()})),M.bottom-A>0){var P=M.bottom-M.top;if(m.top-(m.bottom-M.top)-P>0)l.style.top=(x=m.top-P-_)+"px",v=!1;else if(P>A){l.style.height=A-5+"px",l.style.top=(x=m.bottom-M.top-_)+"px";var I=s.getCursor();r.from.ch!=I.ch&&(m=s.cursorCoords(I),l.style.left=(g=m.left-y)+"px",M=l.getBoundingClientRect())}}var N,O=M.right-w;if(O>0&&(M.right-M.left>w&&(l.style.width=w-5+"px",O-=M.right-M.left-w),l.style.left=(g=m.left-O-y)+"px"),C)for(var L=l.firstChild;L;L=L.nextSibling)L.style.paddingRight=s.display.nativeBarWidth+"px";(s.addKeyMap(this.keyMap=function(e,t){var r={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close};/Mac/.test(navigator.platform)&&(r["Ctrl-P"]=function(){t.moveFocus(-1)},r["Ctrl-N"]=function(){t.moveFocus(1)});var i=e.options.customKeys,n=i?{}:r;function o(e,i){var o;o="string"!=typeof i?function(e){return i(e,t)}:r.hasOwnProperty(i)?r[i]:i,n[e]=o}if(i)for(var s in i)i.hasOwnProperty(s)&&o(s,i[s]);var a=e.options.extraKeys;if(a)for(var s in a)a.hasOwnProperty(s)&&o(s,a[s]);return n}(t,{moveFocus:function(e,t){i.changeActive(i.selectedHint+e,t)},setFocus:function(e){i.changeActive(e)},menuSize:function(){return i.screenAmount()},length:u.length,close:function(){t.close()},pick:function(){i.pick()},data:r})),t.options.closeOnUnfocus)&&(s.on("blur",this.onBlur=function(){N=setTimeout((function(){t.close()}),100)}),s.on("focus",this.onFocus=function(){clearTimeout(N)}));s.on("scroll",this.onScroll=function(){var e=s.getScrollInfo(),r=s.getWrapperElement().getBoundingClientRect(),i=x+T.top-e.top,n=i-(c.pageYOffset||(a.documentElement||a.body).scrollTop);if(v||(n+=l.offsetHeight),n<=r.top||n>=r.bottom)return t.close();l.style.top=i+"px",l.style.left=g+T.left-e.left+"px"}),e.on(l,"dblclick",(function(e){var t=o(l,e.target||e.srcElement);t&&null!=t.hintId&&(i.changeActive(t.hintId),i.pick())})),e.on(l,"click",(function(e){var r=o(l,e.target||e.srcElement);r&&null!=r.hintId&&(i.changeActive(r.hintId),t.options.completeOnSingleClick&&i.pick())})),e.on(l,"mousedown",(function(){setTimeout((function(){s.focus()}),20)}));var q=this.getSelectedHintRange();return 0===q.from&&0===q.to||this.scrollToActive(),e.signal(r,"select",u[this.selectedHint],l.childNodes[this.selectedHint]),!0}function a(e,t,r,i){if(e.async)e(t,i,r);else{var n=e(t,r);n&&n.then?n.then(i):i(n)}}t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,r){var i=t.list[r],o=this;this.cm.operation((function(){i.hint?i.hint(o.cm,t,i):o.cm.replaceRange(n(i),i.from||t.from,i.to||t.to,"complete"),e.signal(t,"pick",i),o.cm.scrollIntoView()})),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(i(this.debounce),this.debounce=0);var e=this.startPos;this.data&&(e=this.data.from);var t=this.cm.getCursor(),n=this.cm.getLine(t.line);if(t.line!=this.startPos.line||n.length-t.ch!=this.startLen-this.startPos.ch||t.ch<e.ch||this.cm.somethingSelected()||!t.ch||this.options.closeCharacters.test(n.charAt(t.ch-1)))this.close();else{var o=this;this.debounce=r((function(){o.update()})),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,r=++this.tick;a(this.options.hint,this.cm,this.options,(function(i){t.tick==r&&t.finishUpdate(i,e)}))}},finishUpdate:function(t,r){this.data&&e.signal(this.data,"update");var i=this.widget&&this.widget.picked||r&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=t,t&&t.list.length&&(i&&1==t.list.length?this.pick(t,0):(this.widget=new s(this,t),e.signal(t,"shown")))}},s.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,r){if(t>=this.data.list.length?t=r?this.data.list.length-1:0:t<0&&(t=r?0:this.data.list.length-1),this.selectedHint!=t){var i=this.hints.childNodes[this.selectedHint];i&&(i.className=i.className.replace(" CodeMirror-hint-active","")),(i=this.hints.childNodes[this.selectedHint=t]).className+=" CodeMirror-hint-active",this.scrollToActive(),e.signal(this.data,"select",this.data.list[this.selectedHint],i)}},scrollToActive:function(){var e=this.getSelectedHintRange(),t=this.hints.childNodes[e.from],r=this.hints.childNodes[e.to],i=this.hints.firstChild;t.offsetTop<this.hints.scrollTop?this.hints.scrollTop=t.offsetTop-i.offsetTop:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+i.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var e=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-e),to:Math.min(this.data.list.length-1,this.selectedHint+e)}}},e.registerHelper("hint","auto",{resolve:function(t,r){var i,n=t.getHelpers(r,"hint");if(n.length){var o=function(e,t,r){var i=function(e,t){if(!e.somethingSelected())return t;for(var r=[],i=0;i<t.length;i++)t[i].supportsSelection&&r.push(t[i]);return r}(e,n);!function n(o){if(o==i.length)return t(null);a(i[o],e,r,(function(e){e&&e.list.length>0?t(e):n(o+1)}))}(0)};return o.async=!0,o.supportsSelection=!0,o}return(i=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:i})}:e.hint.anyword?function(t,r){return e.hint.anyword(t,r)}:function(){}}}),e.registerHelper("hint","fromList",(function(t,r){var i,n=t.getCursor(),o=t.getTokenAt(n),s=e.Pos(n.line,o.start),a=n;o.start<n.ch&&/\w/.test(o.string.charAt(n.ch-o.start-1))?i=o.string.substr(0,n.ch-o.start):(i="",s=n);for(var c=[],l=0;l<r.words.length;l++){var p=r.words[l];p.slice(0,i.length)==i&&c.push(p)}if(c.length)return{list:c,from:s,to:a}})),e.commands.autocomplete=e.showHint;var c={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};e.defineOption("hintOptions",null)}));var $2a5bdc125dae46a620c0ab6ef8a8aee1$exports={},$2a5bdc125dae46a620c0ab6ef8a8aee1$var$define;!function(e){"object"==typeof $2a5bdc125dae46a620c0ab6ef8a8aee1$exports?e($499ee97013f78e63604049576c09a820$init()):"function"==typeof $2a5bdc125dae46a620c0ab6ef8a8aee1$var$define&&$2a5bdc125dae46a620c0ab6ef8a8aee1$var$define.amd?$2a5bdc125dae46a620c0ab6ef8a8aee1$var$define(["../../lib/codemirror"],e):e(CodeMirror)}((function(e){var t={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},r=e.Pos;function i(e,r){return"pairs"==r&&"string"==typeof e?e:"object"==typeof e&&null!=e[r]?e[r]:t[r]}e.defineOption("autoCloseBrackets",!1,(function(t,r,s){s&&s!=e.Init&&(t.removeKeyMap(n),t.state.closeBrackets=null),r&&(o(i(r,"pairs")),t.state.closeBrackets=r,t.addKeyMap(n))}));var n={Backspace:function(t){var n=a(t);if(!n||t.getOption("disableInput"))return e.Pass;for(var o=i(n,"pairs"),s=t.listSelections(),c=0;c<s.length;c++){if(!s[c].empty())return e.Pass;var l=p(t,s[c].head);if(!l||o.indexOf(l)%2!=0)return e.Pass}for(c=s.length-1;c>=0;c--){var u=s[c].head;t.replaceRange("",r(u.line,u.ch-1),r(u.line,u.ch+1),"+delete")}},Enter:function(t){var r=a(t),n=r&&i(r,"explode");if(!n||t.getOption("disableInput"))return e.Pass;for(var o=t.listSelections(),s=0;s<o.length;s++){if(!o[s].empty())return e.Pass;var l=p(t,o[s].head);if(!l||n.indexOf(l)%2!=0)return e.Pass}t.operation((function(){var e=t.lineSeparator()||"\n";t.replaceSelection(e+e,null),c(t,-1),o=t.listSelections();for(var r=0;r<o.length;r++){var i=o[r].head.line;t.indentLine(i,null,!0),t.indentLine(i+1,null,!0)}}))}};function o(e){for(var t=0;t<e.length;t++){var r=e.charAt(t),i="'"+r+"'";n[i]||(n[i]=s(r))}}function s(t){return function(n){return function(t,n){var o=a(t);if(!o||t.getOption("disableInput"))return e.Pass;var s=i(o,"pairs"),p=s.indexOf(n);if(-1==p)return e.Pass;for(var f,d=i(o,"closeBefore"),h=i(o,"triples"),b=s.charAt(p+1)==n,$=t.listSelections(),m=p%2==0,g=0;g<$.length;g++){var x,v=$[g],y=v.head,_=t.getRange(y,r(y.line,y.ch+1));if(m&&!v.empty())x="surround";else if(!b&&m||_!=n)if(b&&y.ch>1&&h.indexOf(n)>=0&&t.getRange(r(y.line,y.ch-2),y)==n+n){if(y.ch>2&&/\bstring/.test(t.getTokenTypeAt(r(y.line,y.ch-2))))return e.Pass;x="addFour"}else if(b){var E=0==y.ch?" ":t.getRange(r(y.line,y.ch-1),y);if(e.isWordChar(_)||E==n||e.isWordChar(E))return e.Pass;x="both"}else{if(!m||!(0===_.length||/\s/.test(_)||d.indexOf(_)>-1))return e.Pass;x="both"}else x=b&&u(t,y)?"both":h.indexOf(n)>=0&&t.getRange(y,r(y.line,y.ch+3))==n+n+n?"skipThree":"skip";if(f){if(f!=x)return e.Pass}else f=x}var k=p%2?s.charAt(p-1):n,S=p%2?n:s.charAt(p+1);t.operation((function(){if("skip"==f)c(t,1);else if("skipThree"==f)c(t,3);else if("surround"==f){for(var e=t.getSelections(),r=0;r<e.length;r++)e[r]=k+e[r]+S;t.replaceSelections(e,"around"),e=t.listSelections().slice();for(r=0;r<e.length;r++)e[r]=l(e[r]);t.setSelections(e)}else"both"==f?(t.replaceSelection(k+S,null),t.triggerElectric(k+S),c(t,-1)):"addFour"==f&&(t.replaceSelection(k+k+k+k,"before"),c(t,1))}))}(n,t)}}function a(e){var t=e.state.closeBrackets;return!t||t.override?t:e.getModeAt(e.getCursor()).closeBrackets||t}function c(e,t){for(var r=[],i=e.listSelections(),n=0,o=0;o<i.length;o++){var s=i[o];s.head==e.getCursor()&&(n=o);var a=s.head.ch||t>0?{line:s.head.line,ch:s.head.ch+t}:{line:s.head.line-1};r.push({anchor:a,head:a})}e.setSelections(r,n)}function l(t){var i=e.cmpPos(t.anchor,t.head)>0;return{anchor:new r(t.anchor.line,t.anchor.ch+(i?-1:1)),head:new r(t.head.line,t.head.ch+(i?1:-1))}}function p(e,t){var i=e.getRange(r(t.line,t.ch-1),r(t.line,t.ch+1));return 2==i.length?i:null}function u(e,t){var i=e.getTokenAt(r(t.line,t.ch+1));return/\bstring/.test(i.type)&&i.start==t.ch&&(0==t.ch||!/\bstring/.test(e.getTokenTypeAt(t)))}o(t.pairs+"`")}));class $34e3df2664569815f6bf71b80d92c5f7$var$ListeFraction{constructor(...e){function t([...e]){return parseInt(Algebrite.run(`lcm(${e})`))}this.liste=e,this.denominateurs_amis=[];let r,i=[],n=[];for(let e=0;e<this.liste.length;e++)r=this.liste[e].den,n.push(r),i=$cf7a0e0dfc1e90c0e915b74752829335$export$liste_diviseurs(r),i.splice(0,1),this.denominateurs_amis.push(i);r=t(n),this.listeMemeDenominateur=[];for(let e=0;e<this.liste.length;e++)this.listeMemeDenominateur.push(this.liste[e].fractionEgale($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r/this.liste[e].den)));this.sortFractions=function(e){let t,r,i=[];for(let t=0;t<e.length;t++)i.push(e[t]);do{t=!1;for(let e=0;e<i.length-1;e++)i[e].superieurstrict(i[e+1])&&(r=i[e],i[e]=i[e+1],i[e+1]=r,t=!0)}while(t);return i},this.listeRangee=this.sortFractions(this.liste),this.listeRangeeMemeDenominateur=this.sortFractions(this.listeMemeDenominateur),this.listeSimplifiee=[];for(let e=0;e<this.liste.length;e++)this.listeSimplifiee.push(this.liste[e].simplifie());this.listeRangeeSimplifiee=this.sortFractions(this.listeSimplifiee),this.texListe="";for(let e=0;e<this.liste.length-1;e++)this.texListe+=this.liste[e].texFraction+" ; ";this.texListe+=this.liste[this.liste.length-1].texFraction,this.completeListe=function(...e){n=[this.listeMemeDenominateur[0].den];for(let t=0;t<e.length;t++)i=[],this.liste.push(e[t]),n.push(e[t].den),i=$cf7a0e0dfc1e90c0e915b74752829335$export$liste_diviseurs(e[t].den),i.splice(0,1),this.denominateurs_amis.push(i);console.log(n),r=t(n),this.listeMemeDenominateur=[];for(let e=0;e<this.liste.length;e++)this.listeMemeDenominateur.push(this.liste[e].fractionEgale($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r/this.liste[e].den)));this.listeSimplifiee=[];for(let e=0;e<this.liste.length;e++)this.listeSimplifiee.push(this.liste[e].simplifie());this.texListe="";for(let e=0;e<this.liste.length-1;e++)this.texListe+=this.liste[e].texFraction+" ; ";this.texListe+=this.liste[this.liste.length-1].texFraction,this.listeRangee=this.sortFractions(this.liste),this.listeRangeeMmeDenominateur=this.sortFractions(this.listeMemeDenominateur),this.listeRangeeSimplifiee=this.sortFractions(this.listeSimplifiee)}}}function $34e3df2664569815f6bf71b80d92c5f7$export$fraction(e,t){return new $34e3df2664569815f6bf71b80d92c5f7$var$Fraction(e,t)}class $34e3df2664569815f6bf71b80d92c5f7$var$Fraction{constructor(e,t){function r(e,t){return 1!=t?e*t>0?"\\dfrac{"+Math.abs(e)+"}{"+Math.abs(t)+"}":e*t<0?"-\\dfrac{"+Math.abs(e)+"}{"+Math.abs(t)+"}":"0":`${e}`}this.num=e||0,this.den=t||1,this.numIrred=$cf7a0e0dfc1e90c0e915b74752829335$export$fraction_simplifiee(this.num,this.den)[0],this.denIrred=$cf7a0e0dfc1e90c0e915b74752829335$export$fraction_simplifiee(this.num,this.den)[1],this.pourcentage=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(100*this.numIrred/this.denIrred),0==this.num?this.signe=0:this.signe=$cf7a0e0dfc1e90c0e915b74752829335$export$unSiPositifMoinsUnSinon(this.num*this.den),this.texFraction=r(this.num,this.den),-1==this.signe?this.texFractionSignee=this.texFraction:this.texFractionSignee="+"+this.texFraction,this.signe>=0?this.texFractionSigneeParentheses=this.texFraction:this.texFractionSigneeParentheses="("+this.texFractionSignee+")",this.simplifie=function(){return $34e3df2664569815f6bf71b80d92c5f7$export$fraction(this.numIrred,this.denIrred)},this.texFractionSimplifiee=r(this.numIrred,this.denIrred),this.valeurDecimale=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(this.num/this.den,6),this.fractionEgale=function(e){return $34e3df2664569815f6bf71b80d92c5f7$export$fraction($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.num*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.den*e))},this.oppose=function(){return $34e3df2664569815f6bf71b80d92c5f7$export$fraction(-this.num,this.den)},this.opposeIrred=function(){return $34e3df2664569815f6bf71b80d92c5f7$export$fraction(-this.numIrred,this.denIrred)},this.inverse=function(){return $34e3df2664569815f6bf71b80d92c5f7$export$fraction(this.den,this.num)},this.inverseIrrred=function(){return $34e3df2664569815f6bf71b80d92c5f7$export$fraction(this.denIrred,this.numIrred)},this.sommeFraction=function(e){return $34e3df2664569815f6bf71b80d92c5f7$export$fraction(this.num*e.den+e.num*this.den,this.den*e.den)},this.sommeFractions=function(...e){let t=$34e3df2664569815f6bf71b80d92c5f7$export$fraction(this.num,this.den);for(let r of e)t=t.sommeFraction(r);return t},this.produitFraction=function(e){return $34e3df2664569815f6bf71b80d92c5f7$export$fraction(this.num*e.num,this.den*e.den)},this.texProduitFraction=function(e){return`${this.texFraction}\\times ${e.texFraction}=${$cf7a0e0dfc1e90c0e915b74752829335$export$tex_fraction(this.num+"\\times"+e.num,this.den+"\\times"+e.den)}=${$cf7a0e0dfc1e90c0e915b74752829335$export$tex_fraction(this.num*e.num,this.den*e.den)}`},this.puissanceFraction=function(e){return $34e3df2664569815f6bf71b80d92c5f7$export$fraction(this.num**e,this.den**e)},this.produitFractions=function(...e){let t=$34e3df2664569815f6bf71b80d92c5f7$export$fraction(this.num,this.den);for(let r of e)t=t.produitFraction(r);return t},this.differenceFraction=function(e){return this.sommeFraction(e.oppose())},this.diviseFraction=function(e){return this.produitFraction(e.inverse())},this.texQuotientFraction=function(e){return`${this.texFraction}\\div ${e.texFraction}=${this.texFraction}\\times ${e.inverse().texFraction}=${$cf7a0e0dfc1e90c0e915b74752829335$export$tex_fraction(this.num+"\\times"+e.den,this.den+"\\times"+e.num)}=${$cf7a0e0dfc1e90c0e915b74752829335$export$tex_fraction(this.num*e.den,this.den*e.num)}`},this.fractionDecimale=function(){let e=$cf7a0e0dfc1e90c0e915b74752829335$export$obtenir_liste_facteurs_premiers(this.denIrred),t=0,r=0;for(let i of e)if(2==i)t++;else{if(5!=i)return"NaN";r++}return r==t?$34e3df2664569815f6bf71b80d92c5f7$export$fraction(this.numIrred,this.fractionDecimale.denIrred):r>t?$34e3df2664569815f6bf71b80d92c5f7$export$fraction(this.numIrred*2**(r-t),this.denIrred*2**(r-t)):$34e3df2664569815f6bf71b80d92c5f7$export$fraction(this.numIrred*5**(t-r),this.denIrred*5**(t-r))},this.multiplieEntier=function(e){return $34e3df2664569815f6bf71b80d92c5f7$export$fraction(e*this.num,this.den)},this.multiplieEntierIrred=function(e){return $34e3df2664569815f6bf71b80d92c5f7$export$fraction(e*this.num,this.den).simplifie()},this.entierDivise=function(e){return $34e3df2664569815f6bf71b80d92c5f7$export$fraction(this.num,e*this.den)},this.entierDiviseIrred=function(e){return $34e3df2664569815f6bf71b80d92c5f7$export$fraction(this.num,e*this.den).simplifie()},this.diviseEntier=function(e){return $34e3df2664569815f6bf71b80d92c5f7$export$fraction(e*this.den,this.num)},this.diviseEntierIrred=function(e){return $34e3df2664569815f6bf71b80d92c5f7$export$fraction(e*this.den,this.num).simplifie()},this.ajouteEntier=function(e){return $34e3df2664569815f6bf71b80d92c5f7$export$fraction(this.num+this.den*e,this.den)},this.entierMoinsFraction=function(e){return $34e3df2664569815f6bf71b80d92c5f7$export$fraction(e*this.den-this.num,this.den)},this.superieurstrict=function(e){return this.num/this.den>e.num/e.den},this.superieurlarge=function(e){return this.num/this.den>=e.num/e.den},this.inferieurstrict=function(e){return this.num/this.den<e.num/e.den},this.inferieurlarge=function(e){return this.num/this.den<e.num/e.den},this.egal=function(e){return this.num/this.den==e.num/e.den},this.representationIrred=function(e,t,r,i=0,n="gateau",o="gray",s=0,a=1,c=1,l=""){let p,u,f,d,h,b,$,m,g=[];p=$cf7a0e0dfc1e90c0e915b74752829335$export$quotientier(this.numIrred,this.denIrred),u=this.numIrred;if("gateau"==n){for(f=0;f<p;f++){$=$459103e30f4604971e030953f4b52e1b$export$point(e+2*f*(r+.5),t),m=$459103e30f4604971e030953f4b52e1b$export$cercle($,r),g.push(m);for(let i=0;i<this.denIrred;i++)h=$459103e30f4604971e030953f4b52e1b$export$segment($,$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$point(e+r+2*f*(r+.5),t),$,90-360*i/this.denIrred)),g.push(h);d=$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$point(e+r+2*f*(r+.5),t),$,90-360*i/this.denIrred);for(let e=0;e<Math.min(this.denIrred,u);e++)b=$459103e30f4604971e030953f4b52e1b$export$arc(d,$,-360/this.denIrred,!0,fill=o),b.opacite=.3,d=$459103e30f4604971e030953f4b52e1b$export$rotation(d,$,-360/this.denIrred),g.push(b);u-=this.denIrred}if(this.num%this.den!=0){$=$459103e30f4604971e030953f4b52e1b$export$point(e+2*f*(r+.5),t),m=$459103e30f4604971e030953f4b52e1b$export$cercle($,r),g.push(m);for(let i=0;i<this.denIrred;i++)h=$459103e30f4604971e030953f4b52e1b$export$segment($,$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$point(e+r+2*f*(r+.5),t),$,90-360*i/this.denIrred)),g.push(h);d=$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$point(e+r+2*f*(r+.5),t),$,90-360*i/this.denIrred);for(let e=0;e<Math.min(this.denIrred,u);e++)b=$459103e30f4604971e030953f4b52e1b$export$arc(d,$,-360/this.denIrred,!0,fill=o),b.opacite=.3,d=$459103e30f4604971e030953f4b52e1b$export$rotation(d,$,-360/this.denIrred),g.push(b)}}else if("segment"==n){for(f=0;f<p;f++){$=$459103e30f4604971e030953f4b52e1b$export$point(e+f*r,t),m=$459103e30f4604971e030953f4b52e1b$export$translation($,$459103e30f4604971e030953f4b52e1b$export$vecteur(r,0)),h=$459103e30f4604971e030953f4b52e1b$export$segment($,m),h.styleExtremites="-|",g.push(h);for(let e=0;e<this.denIrred;e++)h=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$translation($,$459103e30f4604971e030953f4b52e1b$export$vecteur(e*r/this.denIrred,0)),$459103e30f4604971e030953f4b52e1b$export$translation($,$459103e30f4604971e030953f4b52e1b$export$vecteur((e+1)*r/this.denIrred,0))),h.styleExtremites="|-",g.push(h);b=$459103e30f4604971e030953f4b52e1b$export$segment($,$459103e30f4604971e030953f4b52e1b$export$point($.x+Math.min(u,this.denIrred)*r/this.denIrred,$.y)),b.color=o,b.opacite=.4,b.epaisseur=6,g.push(b),u-=this.denIrred}$=$459103e30f4604971e030953f4b52e1b$export$point(e+f*r,t),m=$459103e30f4604971e030953f4b52e1b$export$translation($,$459103e30f4604971e030953f4b52e1b$export$vecteur(r,0)),h=$459103e30f4604971e030953f4b52e1b$export$segment($,m),h.styleExtremites="-|",g.push(h);for(let e=0;e<this.denIrred;e++)h=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$translation($,$459103e30f4604971e030953f4b52e1b$export$vecteur(e*r/this.denIrred,0)),$459103e30f4604971e030953f4b52e1b$export$translation($,$459103e30f4604971e030953f4b52e1b$export$vecteur((e+1)*r/this.denIrred,0))),h.styleExtremites="|-",g.push(h);if(b=$459103e30f4604971e030953f4b52e1b$export$segment($,$459103e30f4604971e030953f4b52e1b$export$point($.x+Math.min(this.numIrred,this.denIrred)*r/this.denIrred,$.y)),b.color=o,b.opacite=.4,b.epaisseur=6,g.push(b),g.push(function(e,t,r="black",i=1){let n=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(e,t+.2),$459103e30f4604971e030953f4b52e1b$export$point(e,t-.2));return n.color=r,n.epaisseur=i,n}(e,t)),"number"==typeof s&&"number"==typeof a)for(f=0;f<=p+1;f++)g.push($459103e30f4604971e030953f4b52e1b$export$texteParPosition(s+f*(a-s),e+r*f,t-.6,"milieu","black",c));else""!=s&&g.push($459103e30f4604971e030953f4b52e1b$export$texteParPosition(s,e,t-.6,"milieu","black",c)),""!=a&&g.push($459103e30f4604971e030953f4b52e1b$export$texteParPosition(a,e+r,t-.6,"milieu","black",c)),""!=l&&g.push($459103e30f4604971e030953f4b52e1b$export$texteParPosition(l,e+r*this.numIrred/this.denIrred,t-.6,"milieu","black",c))}else{let i;for(i=this.denIrred%6==0?6:this.denIrred%5==0?5:this.denIrred%4==0?4:this.denIrred%3==0?3:this.denIrred%2==0?2:1,f=0;f<p;f++){for(let n=0;n<i;n++)for(let s=0;s<$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.denIrred/i);s++)$=$459103e30f4604971e030953f4b52e1b$export$point(e+f*(r+1)+n*r/i,t+s*r/i),m=$459103e30f4604971e030953f4b52e1b$export$translation($,$459103e30f4604971e030953f4b52e1b$export$vecteur(r/i,0)),d=$459103e30f4604971e030953f4b52e1b$export$carre($,m),d.color="black",d.couleurDeRemplissage=o,d.opaciteDeRemplissage=.4,g.push(d);u-=this.den}if(u>0){for(let n=0;n<i;n++)for(let o=0;o<$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.denIrred/i);o++)$=$459103e30f4604971e030953f4b52e1b$export$point(e+f*(r+1)+n*r/i,t+o*r/i),m=$459103e30f4604971e030953f4b52e1b$export$translation($,$459103e30f4604971e030953f4b52e1b$export$vecteur(r/i,0)),d=$459103e30f4604971e030953f4b52e1b$export$carre($,m),d.color="black",g.push(d);for(let n=0;n<u;n++)$=$459103e30f4604971e030953f4b52e1b$export$point(e+f*(r+1)+n%i*r/i,t+$cf7a0e0dfc1e90c0e915b74752829335$export$quotientier(n,i)*r/i),m=$459103e30f4604971e030953f4b52e1b$export$translation($,$459103e30f4604971e030953f4b52e1b$export$vecteur(r/i,0)),d=$459103e30f4604971e030953f4b52e1b$export$carre($,m),d.color="black",d.couleurDeRemplissage=o,d.opaciteDeRemplissage=.4,g.push(d)}}return g},this.representation=function(e,t,r,i=0,n="gateau",o="gray",s=0,a=1,c=1,l=""){let p,u,f,d,h,b,m,g,x=[];p=$cf7a0e0dfc1e90c0e915b74752829335$export$quotientier(this.num,this.den),u=this.num;if("gateau"==n){for(f=0;f<p;f++){let n,s,a=$459103e30f4604971e030953f4b52e1b$export$point(e+2*f*(r+.5),t),c=$459103e30f4604971e030953f4b52e1b$export$cercle(a,r);x.push(c);for(let i=0;i<this.den;i++)n=$459103e30f4604971e030953f4b52e1b$export$segment(a,$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$point(e+r+2*f*(r+.5),t),a,90-360*i/this.den)),x.push(n);d=$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$point(e+r+2*f*(r+.5),t),a,90-360*i/this.den);for(let e=0;e<Math.min(this.den,u);e++)s=$459103e30f4604971e030953f4b52e1b$export$arc(d,a,-360/this.den,!0,o),s.opacite=.3,d=$459103e30f4604971e030953f4b52e1b$export$rotation(d,a,-360/this.den),x.push(s);u-=this.den}if(this.num%this.den!=0){$;let n=$459103e30f4604971e030953f4b52e1b$export$point(e+2*f*(r+.5),t),s=$459103e30f4604971e030953f4b52e1b$export$cercle(n,r);x.push(s);for(let i=0;i<this.den;i++)h=$459103e30f4604971e030953f4b52e1b$export$segment(n,$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$point(e+r+2*f*(r+.5),t),n,90-360*i/this.den)),x.push(h);if(d=$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$point(e+r+2*f*(r+.5),t),n,90-360*i/this.den),this.num%this.den!=0)for(let e=0;e<Math.min(this.den,u);e++)b=$459103e30f4604971e030953f4b52e1b$export$arc(d,n,-360/this.den,!0,o),b.opacite=.3,d=$459103e30f4604971e030953f4b52e1b$export$rotation(d,n,-360/this.den),x.push(b)}}else if("segment"==n){for(f=0;f<p;f++){m=$459103e30f4604971e030953f4b52e1b$export$point(e+f*r,t),g=$459103e30f4604971e030953f4b52e1b$export$translation(m,$459103e30f4604971e030953f4b52e1b$export$vecteur(r,0)),h=$459103e30f4604971e030953f4b52e1b$export$segment(m,g),h.styleExtremites="-|",x.push(h);for(let e=0;e<this.den;e++)h=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$translation(m,$459103e30f4604971e030953f4b52e1b$export$vecteur(e*r/this.den,0)),$459103e30f4604971e030953f4b52e1b$export$translation(m,$459103e30f4604971e030953f4b52e1b$export$vecteur((e+1)*r/this.den,0))),h.styleExtremites="|-",x.push(h);b=$459103e30f4604971e030953f4b52e1b$export$segment(m,$459103e30f4604971e030953f4b52e1b$export$point(m.x+Math.min(u,this.den)*r/this.den,m.y)),b.color=o,b.opacite=.4,b.epaisseur=6,x.push(b),u-=this.den}m=$459103e30f4604971e030953f4b52e1b$export$point(e+f*r,t),g=$459103e30f4604971e030953f4b52e1b$export$translation(m,$459103e30f4604971e030953f4b52e1b$export$vecteur(r,0)),h=$459103e30f4604971e030953f4b52e1b$export$segment(m,g),h.styleExtremites="-|",x.push(h);for(let e=0;e<this.den;e++)h=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$translation(m,$459103e30f4604971e030953f4b52e1b$export$vecteur(e*r/this.den,0)),$459103e30f4604971e030953f4b52e1b$export$translation(m,$459103e30f4604971e030953f4b52e1b$export$vecteur((e+1)*r/this.den,0))),h.styleExtremites="|-",x.push(h);if(b=$459103e30f4604971e030953f4b52e1b$export$segment(m,$459103e30f4604971e030953f4b52e1b$export$point(m.x+Math.min(u,this.den)*r/this.den,m.y)),b.color=o,b.opacite=.4,b.epaisseur=6,x.push(b),x.push(function(e,t,r="black",i=1){let n=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(e,t+.2),$459103e30f4604971e030953f4b52e1b$export$point(e,t-.2));return n.color=r,n.epaisseur=i,n}(e,t)),"number"==typeof s&&"number"==typeof a)for(f=0;f<=p+1;f++)x.push($459103e30f4604971e030953f4b52e1b$export$texteParPosition(s+f*(a-s),e+r*f,t-.6,"milieu","black",c));else""!=s&&x.push($459103e30f4604971e030953f4b52e1b$export$texteParPosition(s,e,t-.6,"milieu","black",c)),""!=a&&x.push($459103e30f4604971e030953f4b52e1b$export$texteParPosition(a,e+r,t-.6,"milieu","black",c)),""!=l&&x.push($459103e30f4604971e030953f4b52e1b$export$texteParPosition(l,e+r*this.num/this.den,t-.6,"milieu","black",c))}else{let i;for(i=this.den%6==0?6:this.den%5==0?5:this.den%4==0?4:this.den%3==0?3:this.den%2==0?2:1,f=0;f<p;f++){for(let n=0;n<i;n++)for(let s=0;s<$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.den/i);s++)m=$459103e30f4604971e030953f4b52e1b$export$point(e+f*(r+1)+n*r/i,t+s*r/i),g=$459103e30f4604971e030953f4b52e1b$export$translation(m,$459103e30f4604971e030953f4b52e1b$export$vecteur(r/i,0)),d=$459103e30f4604971e030953f4b52e1b$export$carre(m,g),d.color="black",d.couleurDeRemplissage=o,d.opaciteDeRemplissage=.4,x.push(d);u-=this.den}if(u>0){for(let n=0;n<i;n++)for(let o=0;o<$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.den/i);o++)m=$459103e30f4604971e030953f4b52e1b$export$point(e+f*(r+1)+n*r/i,t+o*r/i),g=$459103e30f4604971e030953f4b52e1b$export$translation(m,$459103e30f4604971e030953f4b52e1b$export$vecteur(r/i,0)),d=$459103e30f4604971e030953f4b52e1b$export$carre(m,g),d.color="black",x.push(d);for(let n=0;n<u;n++)m=$459103e30f4604971e030953f4b52e1b$export$point(e+f*(r+1)+n%i*r/i,t+$cf7a0e0dfc1e90c0e915b74752829335$export$quotientier(n,i)*r/i),g=$459103e30f4604971e030953f4b52e1b$export$translation(m,$459103e30f4604971e030953f4b52e1b$export$vecteur(r/i,0)),d=$459103e30f4604971e030953f4b52e1b$export$carre(m,g),d.color="black",d.couleurDeRemplissage=o,d.opaciteDeRemplissage=.4,x.push(d)}}return x}}}var $35f96633f7bb2eb5ba7c72b1731fe12e$exports,$35f96633f7bb2eb5ba7c72b1731fe12e$var$define,$35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt,$35f96633f7bb2eb5ba7c72b1731fe12e$executed=!1;function $35f96633f7bb2eb5ba7c72b1731fe12e$exec(){$35f96633f7bb2eb5ba7c72b1731fe12e$exports={},$35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt=function(e){var t=1e7,r=9007199254740992,i=u(r),n="0123456789abcdefghijklmnopqrstuvwxyz",o="function"==typeof BigInt;function s(e,t,r,i){return void 0===e?s[0]:void 0!==t&&(10!=+t||r)?z(e,t,r,i):W(e)}function a(e,t){this.value=e,this.sign=t,this.isSmall=!1}function c(e){this.value=e,this.sign=e<0,this.isSmall=!0}function l(e){this.value=e}function p(e){return-r<e&&e<r}function u(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function f(e){d(e);var r=e.length;if(r<4&&M(e,i)<0)switch(r){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*t;default:return e[0]+(e[1]+e[2]*t)*t}return e}function d(e){for(var t=e.length;0===e[--t];);e.length=t+1}function h(e){for(var t=new Array(e),r=-1;++r<e;)t[r]=0;return t}function b(e){return e>0?Math.floor(e):Math.ceil(e)}function $(e,r){var i,n,o=e.length,s=r.length,a=new Array(o),c=0,l=t;for(n=0;n<s;n++)c=(i=e[n]+r[n]+c)>=l?1:0,a[n]=i-c*l;for(;n<o;)c=(i=e[n]+c)===l?1:0,a[n++]=i-c*l;return c>0&&a.push(c),a}function m(e,t){return e.length>=t.length?$(e,t):$(t,e)}function g(e,r){var i,n,o=e.length,s=new Array(o),a=t;for(n=0;n<o;n++)i=e[n]-a+r,r=Math.floor(i/a),s[n]=i-r*a,r+=1;for(;r>0;)s[n++]=r%a,r=Math.floor(r/a);return s}function x(e,r){var i,n,o=e.length,s=r.length,a=new Array(o),c=0,l=t;for(i=0;i<s;i++)(n=e[i]-c-r[i])<0?(n+=l,c=1):c=0,a[i]=n;for(i=s;i<o;i++){if(!((n=e[i]-c)<0)){a[i++]=n;break}n+=l,a[i]=n}for(;i<o;i++)a[i]=e[i];return d(a),a}function v(e,r,i){var n,o,s=e.length,l=new Array(s),p=-r,u=t;for(n=0;n<s;n++)o=e[n]+p,p=Math.floor(o/u),o%=u,l[n]=o<0?o+u:o;return"number"==typeof(l=f(l))?(i&&(l=-l),new c(l)):new a(l,i)}function y(e,r){var i,n,o,s,a=e.length,c=r.length,l=h(a+c),p=t;for(o=0;o<a;++o){s=e[o];for(var u=0;u<c;++u)i=s*r[u]+l[o+u],n=Math.floor(i/p),l[o+u]=i-n*p,l[o+u+1]+=n}return d(l),l}function _(e,r){var i,n,o=e.length,s=new Array(o),a=t,c=0;for(n=0;n<o;n++)i=e[n]*r+c,c=Math.floor(i/a),s[n]=i-c*a;for(;c>0;)s[n++]=c%a,c=Math.floor(c/a);return s}function E(e,t){for(var r=[];t-- >0;)r.push(0);return r.concat(e)}function k(e,t){var r=Math.max(e.length,t.length);if(r<=30)return y(e,t);r=Math.ceil(r/2);var i=e.slice(r),n=e.slice(0,r),o=t.slice(r),s=t.slice(0,r),a=k(n,s),c=k(i,o),l=k(m(n,i),m(s,o)),p=m(m(a,E(x(x(l,a),c),r)),E(c,2*r));return d(p),p}function S(e,r,i){return new a(e<t?_(r,e):y(r,u(e)),i)}function w(e){var r,i,n,o,s=e.length,a=h(s+s),c=t;for(n=0;n<s;n++){i=0-(o=e[n])*o;for(var l=n;l<s;l++)r=o*e[l]*2+a[n+l]+i,i=Math.floor(r/c),a[n+l]=r-i*c;a[n+s]=i}return d(a),a}function A(e,t){var r,i,n,o,s=e.length,a=h(s);for(n=0,r=s-1;r>=0;--r)n=(o=1e7*n+e[r])-(i=b(o/t))*t,a[r]=0|i;return[a,0|n]}function T(e,r){var i,n=W(r);if(o)return[new l(e.value/n.value),new l(e.value%n.value)];var p,$=e.value,m=n.value;if(0===m)throw new Error("Cannot divide by zero");if(e.isSmall)return n.isSmall?[new c(b($/m)),new c($%m)]:[s[0],e];if(n.isSmall){if(1===m)return[e,s[0]];if(-1==m)return[e.negate(),s[0]];var g=Math.abs(m);if(g<t){p=f((i=A($,g))[0]);var v=i[1];return e.sign&&(v=-v),"number"==typeof p?(e.sign!==n.sign&&(p=-p),[new c(p),new c(v)]):[new a(p,e.sign!==n.sign),new c(v)]}m=u(g)}var y=M($,m);if(-1===y)return[s[0],e];if(0===y)return[s[e.sign===n.sign?1:-1],s[0]];p=(i=$.length+m.length<=200?function(e,r){var i,n,o,s,a,c,l,p=e.length,u=r.length,d=t,b=h(r.length),$=r[u-1],m=Math.ceil(d/(2*$)),g=_(e,m),x=_(r,m);for(g.length<=p&&g.push(0),x.push(0),$=x[u-1],n=p-u;n>=0;n--){for(i=d-1,g[n+u]!==$&&(i=Math.floor((g[n+u]*d+g[n+u-1])/$)),o=0,s=0,c=x.length,a=0;a<c;a++)o+=i*x[a],l=Math.floor(o/d),s+=g[n+a]-(o-l*d),o=l,s<0?(g[n+a]=s+d,s=-1):(g[n+a]=s,s=0);for(;0!==s;){for(i-=1,o=0,a=0;a<c;a++)(o+=g[n+a]-d+x[a])<0?(g[n+a]=o+d,o=0):(g[n+a]=o,o=1);s+=o}b[n]=i}return g=A(g,m)[0],[f(b),f(g)]}($,m):function(e,r){for(var i,n,o,s,a,c=e.length,l=r.length,p=[],u=[],h=t;c;)if(u.unshift(e[--c]),d(u),M(u,r)<0)p.push(0);else{o=u[(n=u.length)-1]*h+u[n-2],s=r[l-1]*h+r[l-2],n>l&&(o=(o+1)*h),i=Math.ceil(o/s);do{if(M(a=_(r,i),u)<=0)break;i--}while(i);p.push(i),u=x(u,a)}return p.reverse(),[f(p),f(u)]}($,m))[0];var E=e.sign!==n.sign,k=i[1],S=e.sign;return"number"==typeof p?(E&&(p=-p),p=new c(p)):p=new a(p,E),"number"==typeof k?(S&&(k=-k),k=new c(k)):k=new a(k,S),[p,k]}function M(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var r=e.length-1;r>=0;r--)if(e[r]!==t[r])return e[r]>t[r]?1:-1;return 0}function C(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(49)||void 0))}function P(e,t){for(var r,i,n,o=e.prev(),s=o,a=0;s.isEven();)s=s.divide(2),a++;e:for(i=0;i<t.length;i++)if(!e.lesser(t[i])&&!(n=$35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt(t[i]).modPow(s,e)).isUnit()&&!n.equals(o)){for(r=a-1;0!=r;r--){if((n=n.square().mod(e)).isUnit())return!1;if(n.equals(o))continue e}return!1}return!0}a.prototype=Object.create(s.prototype),c.prototype=Object.create(s.prototype),l.prototype=Object.create(s.prototype),a.prototype.add=function(e){var t=W(e);if(this.sign!==t.sign)return this.subtract(t.negate());var r=this.value,i=t.value;return t.isSmall?new a(g(r,Math.abs(i)),this.sign):new a(m(r,i),this.sign)},a.prototype.plus=a.prototype.add,c.prototype.add=function(e){var t=W(e),r=this.value;if(r<0!==t.sign)return this.subtract(t.negate());var i=t.value;if(t.isSmall){if(p(r+i))return new c(r+i);i=u(Math.abs(i))}return new a(g(i,Math.abs(r)),r<0)},c.prototype.plus=c.prototype.add,l.prototype.add=function(e){return new l(this.value+W(e).value)},l.prototype.plus=l.prototype.add,a.prototype.subtract=function(e){var t=W(e);if(this.sign!==t.sign)return this.add(t.negate());var r=this.value,i=t.value;return t.isSmall?v(r,Math.abs(i),this.sign):function(e,t,r){var i;return M(e,t)>=0?i=x(e,t):(i=x(t,e),r=!r),"number"==typeof(i=f(i))?(r&&(i=-i),new c(i)):new a(i,r)}(r,i,this.sign)},a.prototype.minus=a.prototype.subtract,c.prototype.subtract=function(e){var t=W(e),r=this.value;if(r<0!==t.sign)return this.add(t.negate());var i=t.value;return t.isSmall?new c(r-i):v(i,Math.abs(r),r>=0)},c.prototype.minus=c.prototype.subtract,l.prototype.subtract=function(e){return new l(this.value-W(e).value)},l.prototype.minus=l.prototype.subtract,a.prototype.negate=function(){return new a(this.value,!this.sign)},c.prototype.negate=function(){var e=this.sign,t=new c(-this.value);return t.sign=!e,t},l.prototype.negate=function(){return new l(-this.value)},a.prototype.abs=function(){return new a(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},l.prototype.abs=function(){return new l(this.value>=0?this.value:-this.value)},a.prototype.multiply=function(e){var r,i,n,o=W(e),c=this.value,l=o.value,p=this.sign!==o.sign;if(o.isSmall){if(0===l)return s[0];if(1===l)return this;if(-1===l)return this.negate();if((r=Math.abs(l))<t)return new a(_(c,r),p);l=u(r)}return i=c.length,n=l.length,new a(-.012*i-.012*n+15e-6*i*n>0?k(c,l):y(c,l),p)},a.prototype.times=a.prototype.multiply,c.prototype._multiplyBySmall=function(e){return p(e.value*this.value)?new c(e.value*this.value):S(Math.abs(e.value),u(Math.abs(this.value)),this.sign!==e.sign)},a.prototype._multiplyBySmall=function(e){return 0===e.value?s[0]:1===e.value?this:-1===e.value?this.negate():S(Math.abs(e.value),this.value,this.sign!==e.sign)},c.prototype.multiply=function(e){return W(e)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,l.prototype.multiply=function(e){return new l(this.value*W(e).value)},l.prototype.times=l.prototype.multiply,a.prototype.square=function(){return new a(w(this.value),!1)},c.prototype.square=function(){var e=this.value*this.value;return p(e)?new c(e):new a(w(u(Math.abs(this.value))),!1)},l.prototype.square=function(e){return new l(this.value*this.value)},a.prototype.divmod=function(e){var t=T(this,e);return{quotient:t[0],remainder:t[1]}},l.prototype.divmod=c.prototype.divmod=a.prototype.divmod,a.prototype.divide=function(e){return T(this,e)[0]},l.prototype.over=l.prototype.divide=function(e){return new l(this.value/W(e).value)},c.prototype.over=c.prototype.divide=a.prototype.over=a.prototype.divide,a.prototype.mod=function(e){return T(this,e)[1]},l.prototype.mod=l.prototype.remainder=function(e){return new l(this.value%W(e).value)},c.prototype.remainder=c.prototype.mod=a.prototype.remainder=a.prototype.mod,a.prototype.pow=function(e){var t,r,i,n=W(e),o=this.value,a=n.value;if(0===a)return s[1];if(0===o)return s[0];if(1===o)return s[1];if(-1===o)return n.isEven()?s[1]:s[-1];if(n.sign)return s[0];if(!n.isSmall)throw new Error("The exponent "+n.toString()+" is too large.");if(this.isSmall&&p(t=Math.pow(o,a)))return new c(b(t));for(r=this,i=s[1];!0&a&&(i=i.times(r),--a),0!==a;)a/=2,r=r.square();return i},c.prototype.pow=a.prototype.pow,l.prototype.pow=function(e){var t=W(e),r=this.value,i=t.value,n=BigInt(0),o=BigInt(1),a=BigInt(2);if(i===n)return s[1];if(r===n)return s[0];if(r===o)return s[1];if(r===BigInt(-1))return t.isEven()?s[1]:s[-1];if(t.isNegative())return new l(n);for(var c=this,p=s[1];(i&o)===o&&(p=p.times(c),--i),i!==n;)i/=a,c=c.square();return p},a.prototype.modPow=function(e,t){if(e=W(e),(t=W(t)).isZero())throw new Error("Cannot take modPow with modulus 0");var r=s[1],i=this.mod(t);for(e.isNegative()&&(e=e.multiply(s[-1]),i=i.modInv(t));e.isPositive();){if(i.isZero())return s[0];e.isOdd()&&(r=r.multiply(i).mod(t)),e=e.divide(2),i=i.square().mod(t)}return r},l.prototype.modPow=c.prototype.modPow=a.prototype.modPow,a.prototype.compareAbs=function(e){var t=W(e),r=this.value,i=t.value;return t.isSmall?1:M(r,i)},c.prototype.compareAbs=function(e){var t=W(e),r=Math.abs(this.value),i=t.value;return t.isSmall?r===(i=Math.abs(i))?0:r>i?1:-1:-1},l.prototype.compareAbs=function(e){var t=this.value,r=W(e).value;return(t=t>=0?t:-t)===(r=r>=0?r:-r)?0:t>r?1:-1},a.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=W(e),r=this.value,i=t.value;return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:M(r,i)*(this.sign?-1:1)},a.prototype.compareTo=a.prototype.compare,c.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=W(e),r=this.value,i=t.value;return t.isSmall?r==i?0:r>i?1:-1:r<0!==t.sign?r<0?-1:1:r<0?1:-1},c.prototype.compareTo=c.prototype.compare,l.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=this.value,r=W(e).value;return t===r?0:t>r?1:-1},l.prototype.compareTo=l.prototype.compare,a.prototype.equals=function(e){return 0===this.compare(e)},l.prototype.eq=l.prototype.equals=c.prototype.eq=c.prototype.equals=a.prototype.eq=a.prototype.equals,a.prototype.notEquals=function(e){return 0!==this.compare(e)},l.prototype.neq=l.prototype.notEquals=c.prototype.neq=c.prototype.notEquals=a.prototype.neq=a.prototype.notEquals,a.prototype.greater=function(e){return this.compare(e)>0},l.prototype.gt=l.prototype.greater=c.prototype.gt=c.prototype.greater=a.prototype.gt=a.prototype.greater,a.prototype.lesser=function(e){return this.compare(e)<0},l.prototype.lt=l.prototype.lesser=c.prototype.lt=c.prototype.lesser=a.prototype.lt=a.prototype.lesser,a.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},l.prototype.geq=l.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals=a.prototype.geq=a.prototype.greaterOrEquals,a.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},l.prototype.leq=l.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals=a.prototype.leq=a.prototype.lesserOrEquals,a.prototype.isEven=function(){return 0==(1&this.value[0])},c.prototype.isEven=function(){return 0==(1&this.value)},l.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},a.prototype.isOdd=function(){return 1==(1&this.value[0])},c.prototype.isOdd=function(){return 1==(1&this.value)},l.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},a.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},l.prototype.isPositive=c.prototype.isPositive,a.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},l.prototype.isNegative=c.prototype.isNegative,a.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return 1===Math.abs(this.value)},l.prototype.isUnit=function(){return this.abs().value===BigInt(1)},a.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return 0===this.value},l.prototype.isZero=function(){return this.value===BigInt(0)},a.prototype.isDivisibleBy=function(e){var t=W(e);return!t.isZero()&&(!!t.isUnit()||(0===t.compareAbs(2)?this.isEven():this.mod(t).isZero()))},l.prototype.isDivisibleBy=c.prototype.isDivisibleBy=a.prototype.isDivisibleBy,a.prototype.isPrime=function(t){var r=C(this);if(r!==e)return r;var i=this.abs(),n=i.bitLength();if(n<=64)return P(i,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var o=Math.log(2)*n.toJSNumber(),s=Math.ceil(!0===t?2*Math.pow(o,2):o),a=[],c=0;c<s;c++)a.push($35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt(c+2));return P(i,a)},l.prototype.isPrime=c.prototype.isPrime=a.prototype.isPrime,a.prototype.isProbablePrime=function(t,r){var i=C(this);if(i!==e)return i;for(var n=this.abs(),o=t===e?5:t,s=[],a=0;a<o;a++)s.push($35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt.randBetween(2,n.minus(2),r));return P(n,s)},l.prototype.isProbablePrime=c.prototype.isProbablePrime=a.prototype.isProbablePrime,a.prototype.modInv=function(e){for(var t,r,i,n=$35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt.zero,o=$35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt.one,s=W(e),a=this.abs();!a.isZero();)t=s.divide(a),r=n,i=s,n=o,s=a,o=r.subtract(t.multiply(o)),a=i.subtract(t.multiply(a));if(!s.isUnit())throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===n.compare(0)&&(n=n.add(e)),this.isNegative()?n.negate():n},l.prototype.modInv=c.prototype.modInv=a.prototype.modInv,a.prototype.next=function(){var e=this.value;return this.sign?v(e,1,this.sign):new a(g(e,1),this.sign)},c.prototype.next=function(){var e=this.value;return e+1<r?new c(e+1):new a(i,!1)},l.prototype.next=function(){return new l(this.value+BigInt(1))},a.prototype.prev=function(){var e=this.value;return this.sign?new a(g(e,1),!0):v(e,1,this.sign)},c.prototype.prev=function(){var e=this.value;return e-1>-r?new c(e-1):new a(i,!0)},l.prototype.prev=function(){return new l(this.value-BigInt(1))};for(var I=[1];2*I[I.length-1]<=t;)I.push(2*I[I.length-1]);var N=I.length,O=I[N-1];function L(e){return Math.abs(e)<=t}function q(e,t,r){t=W(t);for(var i=e.isNegative(),n=t.isNegative(),o=i?e.not():e,s=n?t.not():t,a=0,c=0,l=null,p=null,u=[];!o.isZero()||!s.isZero();)a=(l=T(o,O))[1].toJSNumber(),i&&(a=O-1-a),c=(p=T(s,O))[1].toJSNumber(),n&&(c=O-1-c),o=l[0],s=p[0],u.push(r(a,c));for(var f=0!==r(i?1:0,n?1:0)?$35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt(-1):$35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt(0),d=u.length-1;d>=0;d-=1)f=f.multiply(O).add($35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt(u[d]));return f}a.prototype.shiftLeft=function(e){var t=W(e).toJSNumber();if(!L(t))throw new Error(String(t)+" is too large for shifting.");if(t<0)return this.shiftRight(-t);var r=this;if(r.isZero())return r;for(;t>=N;)r=r.multiply(O),t-=N-1;return r.multiply(I[t])},l.prototype.shiftLeft=c.prototype.shiftLeft=a.prototype.shiftLeft,a.prototype.shiftRight=function(e){var t,r=W(e).toJSNumber();if(!L(r))throw new Error(String(r)+" is too large for shifting.");if(r<0)return this.shiftLeft(-r);for(var i=this;r>=N;){if(i.isZero()||i.isNegative()&&i.isUnit())return i;i=(t=T(i,O))[1].isNegative()?t[0].prev():t[0],r-=N-1}return(t=T(i,I[r]))[1].isNegative()?t[0].prev():t[0]},l.prototype.shiftRight=c.prototype.shiftRight=a.prototype.shiftRight,a.prototype.not=function(){return this.negate().prev()},l.prototype.not=c.prototype.not=a.prototype.not,a.prototype.and=function(e){return q(this,e,(function(e,t){return e&t}))},l.prototype.and=c.prototype.and=a.prototype.and,a.prototype.or=function(e){return q(this,e,(function(e,t){return e|t}))},l.prototype.or=c.prototype.or=a.prototype.or,a.prototype.xor=function(e){return q(this,e,(function(e,t){return e^t}))},l.prototype.xor=c.prototype.xor=a.prototype.xor;var D=1<<30;function R(e){var r=e.value,i="number"==typeof r?r|D:"bigint"==typeof r?r|BigInt(D):r[0]+r[1]*t|1073758208;return i&-i}function B(e,t){if(t.compareTo(e)<=0){var r=B(e,t.square(t)),i=r.p,n=r.e,o=i.multiply(t);return o.compareTo(e)<=0?{p:o,e:2*n+1}:{p:i,e:2*n}}return{p:$35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt(1),e:0}}function U(e,t){return e=W(e),t=W(t),e.greater(t)?e:t}function G(e,t){return e=W(e),t=W(t),e.lesser(t)?e:t}function F(e,t){if(e=W(e).abs(),t=W(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var r,i,n=s[1];e.isEven()&&t.isEven();)r=G(R(e),R(t)),e=e.divide(r),t=t.divide(r),n=n.multiply(r);for(;e.isEven();)e=e.divide(R(e));do{for(;t.isEven();)t=t.divide(R(t));e.greater(t)&&(i=t,t=e,e=i),t=t.subtract(e)}while(!t.isZero());return n.isUnit()?e:e.multiply(n)}a.prototype.bitLength=function(){var e=this;return e.compareTo($35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt(0))<0&&(e=e.negate().subtract($35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt(1))),0===e.compareTo($35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt(0))?$35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt(0):$35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt(B(e,$35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt(2)).e).add($35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt(1))},l.prototype.bitLength=c.prototype.bitLength=a.prototype.bitLength;var z=function(e,t,r,i){r=r||n,e=String(e),i||(e=e.toLowerCase(),r=r.toLowerCase());var o,s=e.length,a=Math.abs(t),c={};for(o=0;o<r.length;o++)c[r[o]]=o;for(o=0;o<s;o++){if("-"!==(u=e[o])&&(u in c&&c[u]>=a)){if("1"===u&&1===a)continue;throw new Error(u+" is not a valid digit in base "+t+".")}}t=W(t);var l=[],p="-"===e[0];for(o=p?1:0;o<e.length;o++){var u;if((u=e[o])in c)l.push(W(c[u]));else{if("<"!==u)throw new Error(u+" is not a valid character");var f=o;do{o++}while(">"!==e[o]&&o<e.length);l.push(W(e.slice(f+1,o)))}}return V(l,t,p)};function V(e,t,r){var i,n=s[0],o=s[1];for(i=e.length-1;i>=0;i--)n=n.add(e[i].times(o)),o=o.times(t);return r?n.negate():n}function j(e,t){if((t=$35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(e.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var i=!1;if(e.isNegative()&&t.isPositive()&&(i=!0,e=e.abs()),t.isUnit())return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(e.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:i};for(var n,o=[],s=e;s.isNegative()||s.compareAbs(t)>=0;){n=s.divmod(t),s=n.quotient;var a=n.remainder;a.isNegative()&&(a=t.minus(a).abs(),s=s.next()),o.push(a.toJSNumber())}return o.push(s.toJSNumber()),{value:o.reverse(),isNegative:i}}function H(e,t,r){var i=j(e,t);return(i.isNegative?"-":"")+i.value.map((function(e){return function(e,t){return e<(t=t||n).length?t[e]:"<"+e+">"}(e,r)})).join("")}function X(e){if(p(+e)){var t=+e;if(t===b(t))return o?new l(BigInt(t)):new c(t);throw new Error("Invalid integer: "+e)}var r="-"===e[0];r&&(e=e.slice(1));var i=e.split(/e/i);if(i.length>2)throw new Error("Invalid integer: "+i.join("e"));if(2===i.length){var n=i[1];if("+"===n[0]&&(n=n.slice(1)),(n=+n)!==b(n)||!p(n))throw new Error("Invalid integer: "+n+" is not a valid exponent.");var s=i[0],u=s.indexOf(".");if(u>=0&&(n-=s.length-u-1,s=s.slice(0,u)+s.slice(u+1)),n<0)throw new Error("Cannot include negative exponent part for integers");e=s+=new Array(n+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);if(o)return new l(BigInt(r?"-"+e:e));for(var f=[],h=e.length,$=h-7;h>0;)f.push(+e.slice($,h)),($-=7)<0&&($=0),h-=7;return d(f),new a(f,r)}function W(e){return"number"==typeof e?function(e){if(o)return new l(BigInt(e));if(p(e)){if(e!==b(e))throw new Error(e+" is not an integer.");return new c(e)}return X(e.toString())}(e):"string"==typeof e?X(e):"bigint"==typeof e?new l(e):e}a.prototype.toArray=function(e){return j(this,e)},c.prototype.toArray=function(e){return j(this,e)},l.prototype.toArray=function(e){return j(this,e)},a.prototype.toString=function(t,r){if(t===e&&(t=10),10!==t)return H(this,t,r);for(var i,n=this.value,o=n.length,s=String(n[--o]);--o>=0;)i=String(n[o]),s+="0000000".slice(i.length)+i;return(this.sign?"-":"")+s},c.prototype.toString=function(t,r){return t===e&&(t=10),10!=t?H(this,t,r):String(this.value)},l.prototype.toString=c.prototype.toString,l.prototype.toJSON=a.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},a.prototype.valueOf=function(){return parseInt(this.toString(),10)},a.prototype.toJSNumber=a.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf,l.prototype.valueOf=l.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var Y=0;Y<1e3;Y++)s[Y]=W(Y),Y>0&&(s[-Y]=W(-Y));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=U,s.min=G,s.gcd=F,s.lcm=function(e,t){return e=W(e).abs(),t=W(t).abs(),e.divide(F(e,t)).multiply(t)},s.isInstance=function(e){return e instanceof a||e instanceof c||e instanceof l},s.randBetween=function(e,r,i){e=W(e),r=W(r);var n=i||Math.random,o=G(e,r),a=U(e,r).subtract(o).add(1);if(a.isSmall)return o.add(Math.floor(n()*a));for(var c=j(a,t).value,l=[],p=!0,u=0;u<c.length;u++){var f=p?c[u]:t,d=b(n()*f);l.push(d),d<f&&(p=!1)}return o.add(s.fromArray(l,t,!1))},s.fromArray=function(e,t,r){return V(e.map(W),W(t||10),r)},s}(),module.hasOwnProperty("exports")&&($35f96633f7bb2eb5ba7c72b1731fe12e$exports=$35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt),"function"==typeof $35f96633f7bb2eb5ba7c72b1731fe12e$var$define&&$35f96633f7bb2eb5ba7c72b1731fe12e$var$define.amd&&$35f96633f7bb2eb5ba7c72b1731fe12e$var$define((function(){return $35f96633f7bb2eb5ba7c72b1731fe12e$var$bigInt}))}function $35f96633f7bb2eb5ba7c72b1731fe12e$init(){return $35f96633f7bb2eb5ba7c72b1731fe12e$executed||($35f96633f7bb2eb5ba7c72b1731fe12e$executed=!0,$35f96633f7bb2eb5ba7c72b1731fe12e$exec()),$35f96633f7bb2eb5ba7c72b1731fe12e$exports}var $32cd25236d43f1b3a1781e9ee2d34286$exports=function(){var exports=this,module={exports:this};return function(){var $,ABS,ADD,ADJ,AND,APPROXRATIO,ARCCOS,ARCCOSH,ARCSIN,ARCSINH,ARCTAN,ARCTANH,ARG,ASSUME_REAL_VARIABLES,ATOMIZE,AUTOEXPAND,BAKE,BESSELJ,BESSELY,BINDING,BINOMIAL,BINOM_check_args,BUF,C1,C2,C3,C4,C5,C6,CEILING,CHECK,CHOOSE,CIRCEXP,CLEAR,CLEARALL,CLEARPATTERNS,CLOCK,COEFF,COFACTOR,CONDENSE,CONJ,CONS,CONTRACT,COS,COSH,Condense,DEBUG,DEBUG_ABS,DEBUG_ARG,DEBUG_CLOCKFORM,DEBUG_IMAG,DEBUG_IS,DEBUG_MULTIPLY,DEBUG_POWER,DEBUG_RATIONALIZE,DEBUG_RECT,DEBUG_SIMPLIFY,DECOMP,DEFINT,DEGREE,DENOMINATOR,DERIVATIVE,DET,DET_check_arg,DIM,DIRAC,DIVISORS,DO,DOT,DOUBLE,DRAW,DRAWX,DSOLVE,E,EIGEN,EIGENVAL,EIGENVEC,EIG_N,EIG_check_arg,EIG_yydd,EIG_yyqq,ERF,ERFC,EVAL,EXP,EXPAND,EXPCOS,EXPSIN,Eval,Eval_Eval,Eval_abs,Eval_add,Eval_adj,Eval_and,Eval_approxratio,Eval_arccos,Eval_arccosh,Eval_arcsin,Eval_arcsinh,Eval_arctan,Eval_arctanh,Eval_arg,Eval_besselj,Eval_bessely,Eval_binding,Eval_binomial,Eval_ceiling,Eval_check,Eval_choose,Eval_circexp,Eval_clear,Eval_clearall,Eval_clearpatterns,Eval_clock,Eval_coeff,Eval_cofactor,Eval_condense,Eval_conj,Eval_cons,Eval_contract,Eval_cos,Eval_cosh,Eval_decomp,Eval_defint,Eval_degree,Eval_denominator,Eval_derivative,Eval_det,Eval_dim,Eval_dirac,Eval_divisors,Eval_do,Eval_dsolve,Eval_eigen,Eval_eigenval,Eval_eigenvec,Eval_erf,Eval_erfc,Eval_exp,Eval_expand,Eval_expcos,Eval_expsin,Eval_factor,Eval_factorial,Eval_factorpoly,Eval_filter,Eval_float,Eval_floor,Eval_for,Eval_function_reference,Eval_gamma,Eval_gcd,Eval_hermite,Eval_hilbert,Eval_imag,Eval_index,Eval_inner,Eval_integral,Eval_inv,Eval_invg,Eval_isinteger,Eval_isprime,Eval_laguerre,Eval_lcm,Eval_leading,Eval_legendre,Eval_log,Eval_lookup,Eval_mod,Eval_multiply,Eval_noexpand,Eval_not,Eval_nroots,Eval_number,Eval_numerator,Eval_operator,Eval_or,Eval_outer,Eval_pattern,Eval_patternsinfo,Eval_polar,Eval_power,Eval_predicate,Eval_prime,Eval_print,Eval_print2dascii,Eval_printcomputer,Eval_printhuman,Eval_printlatex,Eval_printlist,Eval_product,Eval_quote,Eval_quotient,Eval_rank,Eval_rationalize,Eval_real,Eval_rect,Eval_roots,Eval_round,Eval_setq,Eval_sgn,Eval_shape,Eval_silentpattern,Eval_simfac,Eval_simplify,Eval_sin,Eval_sinh,Eval_sqrt,Eval_stop,Eval_subst,Eval_sum,Eval_sym,Eval_symbolsinfo,Eval_tan,Eval_tanh,Eval_taylor,Eval_tensor,Eval_test,Eval_testeq,Eval_testge,Eval_testgt,Eval_testle,Eval_testlt,Eval_transpose,Eval_unit,Eval_user_function,Eval_zero,Evalpoly,FACTOR,FACTORIAL,FACTORPOLY,FILTER,FLOATF,FLOOR,FOR,FORCE_FIXED_PRINTOUT,FUNCTION,Find,GAMMA,GCD,HERMITE,HILBERT,IMAG,INDEX,INNER,INTEGRAL,INV,INVG,INV_check_arg,INV_decomp,ISINTEGER,ISPRIME,LAGUERRE,LAST,LAST_2DASCII_PRINT,LAST_FULL_PRINT,LAST_LATEX_PRINT,LAST_LIST_PRINT,LAST_PLAIN_PRINT,LAST_PRINT,LCM,LEADING,LEGENDRE,LOG,LOOKUP,M,MAXDIM,MAXPRIMETAB,MAX_CONSECUTIVE_APPLICATIONS_OF_ALL_RULES,MAX_CONSECUTIVE_APPLICATIONS_OF_SINGLE_RULE,MAX_FIXED_PRINTOUT_DIGITS,MAX_PROGRAM_SIZE,MEQUAL,METAA,METAB,METAX,MLENGTH,MOD,MSIGN,MULTIPLY,MZERO,N,NIL,NOT,NROOTS,NROOTS_ABS,NROOTS_DELTA,NROOTS_EPSILON,NROOTS_RANDOM,NROOTS_YMAX,NROOTS_divpoly,NSYM,NUM,NUMBER,NUMERATOR,OPERATOR,OR,OUTER,PATTERN,PATTERNSINFO,PI,POLAR,POWER,PRIME,PRINT,PRINT2DASCII,PRINTFULL,PRINTLATEX,PRINTLIST,PRINTMODE_2DASCII,PRINTMODE_COMPUTER,PRINTMODE_HUMAN,PRINTMODE_LATEX,PRINTMODE_LIST,PRINTOUTRESULT,PRINTPLAIN,PRINT_LEAVE_E_ALONE,PRINT_LEAVE_X_ALONE,PRODUCT,QUOTE,QUOTIENT,RANK,RATIONALIZE,REAL,ROOTS,ROUND,SECRETX,SELFTEST,SETQ,SGN,SHAPE,SILENTPATTERN,SIMPLIFY,SIN,SINH,SPACE_BETWEEN_COLUMNS,SPACE_BETWEEN_ROWS,SQRT,STOP,STR,SUBST,SUM,SYM,SYMBOLSINFO,SYMBOL_A,SYMBOL_A_UNDERSCORE,SYMBOL_B,SYMBOL_B_UNDERSCORE,SYMBOL_C,SYMBOL_D,SYMBOL_I,SYMBOL_IDENTITY_MATRIX,SYMBOL_J,SYMBOL_N,SYMBOL_R,SYMBOL_S,SYMBOL_T,SYMBOL_X,SYMBOL_X_UNDERSCORE,SYMBOL_Y,SYMBOL_Z,TAN,TANH,TAYLOR,TENSOR,TEST,TESTEQ,TESTGE,TESTGT,TESTLE,TESTLT,TIMING_DEBUGS,TOS,TRACE,TRANSPOSE,T_DOUBLE,T_EQ,T_FUNCTION,T_GTEQ,T_INTEGER,T_LTEQ,T_NEQ,T_NEWLINE,T_QUOTASSIGN,T_STRING,T_SYMBOL,U,UNIT,USR_SYMBOLS,VERSION,YMAX,YYE,YYRECT,ZERO,__emit_char,__emit_str,__factor_add,__factorial,__is_negative,__is_radical_number,__lcm,__legendre,__legendre2,__legendre3,__normalize_radical_factors,__rationalize_tensor,_print,abs,absValFloat,absval,absval_tensor,add,addSymbolLeftOfAssignment,addSymbolRightOfAssignment,add_all,add_factor_to_accumulator,add_numbers,add_terms,addf,adj,alloc_tensor,allocatedId,any_denominators,approxAll,approxLogs,approxLogsOfRationals,approxOneRatioOnly,approxRadicals,approxRadicalsOfRationals,approxRationalsOfLogs,approxRationalsOfPowersOfE,approxRationalsOfPowersOfPI,approxRationalsOfRadicals,approxSineOfRationalMultiplesOfPI,approxSineOfRationals,approxTrigonometric,approx_just_an_integer,approx_logarithmsOfRationals,approx_nothingUseful,approx_radicalOfRatio,approx_ratioOfRadical,approx_rationalOfE,approx_rationalOfPi,approx_rationalsOfLogarithms,approx_sine_of_pi_times_rational,approx_sine_of_rational,approxratioRecursive,arccos,arccosh,arcsin,arcsinh,arctan,arctanh,areunivarpolysfactoredorexpandedform,arg,arglist,assignmentFound,avoidCalculatingPowersIntoArctans,bake,bake_poly,bake_poly_term,besselj,bessely,bigInt,bignum_factorial,bignum_float,bignum_power_number,bignum_scan_float,bignum_scan_integer,bignum_truncate,binding,binomial,buffer,build_tensor,caaddr,caadr,caar,cadaddr,cadadr,cadar,caddaddr,caddadr,caddar,caddddr,cadddr,caddr,cadr,called_from_Algebra_block,car,cdaddr,cdadr,cdar,cddaddr,cddar,cdddaddr,cddddr,cdddr,cddr,cdr,ceiling,chainOfUserSymbolsNotFunctionsBeingEvaluated,charTabIndex,chartab,checkFloatHasWorkedOutCompletely,check_esc_flag,check_stack,check_tensor_dimensions,choose,choose_check_args,circexp,clearAlgebraEnvironment,clearRenamedVariablesToAvoidBindingToExternalScope,clear_symbols,clear_term,clearall,clockform,cmpGlyphs,cmp_args,cmp_expr,cmp_terms,cmp_terms_count,codeGen,coeff,cofactor,collectLatexStringFromReturnValue,collectUserSymbols,combine_factors,combine_gammas,combine_terms,compareState,compare_numbers,compare_rationals,compare_tensors,compatible,computeDependenciesFromAlgebra,computeResultsAndJavaScriptFromAlgebra,compute_fa,conjugate,cons,consCount,contract,convert_bignum_to_double,convert_rational_to_double,copy_tensor,cosine,cosine_of_angle,cosine_of_angle_sum,count,countOccurrencesOfSymbol,count_denominators,counter,countsize,d_scalar_scalar,d_scalar_scalar_1,d_scalar_tensor,d_tensor_scalar,d_tensor_tensor,dabs,darccos,darccosh,darcsin,darcsinh,darctan,darctanh,dbesselj0,dbesseljn,dbessely0,dbesselyn,dcos,dcosh,dd,decomp,decomp_product,decomp_sum,defineSomeHandyConstants,define_user_function,defn,defn_str,degree,denominator,derf,derfc,derivative,derivative_of_integral,det,determinant,detg,dfunction,dhermite,dirac,display,display_flag,displaychar,divide,divide_numbers,divisors,divisors_onstack,divpoly,dlog,do_clearPatterns,do_clearall,do_simplify_nested_radicals,dontCreateNewRadicalsInDenominatorWhenEvalingMultiplication,dotprod_unicode,doubleToReasonableString,dpow,dpower,dproduct,draw_flag,draw_stop_return,dsgn,dsin,dsinh,dsum,dtan,dtanh,dupl,eigen,elelmIndex,elem,emit_denominator,emit_denominators,emit_expr,emit_factor,emit_factorial_function,emit_flat_tensor,emit_fraction,emit_function,emit_index_function,emit_multiply,emit_number,emit_numerators,emit_numerical_fraction,emit_power,emit_string,emit_subexpr,emit_symbol,emit_tensor,emit_tensor_inner,emit_term,emit_top_expr,emit_unsigned_expr,emit_x,equal,equaln,equalq,erfc,errorMessage,esc_flag,evaluatingAsFloats,evaluatingPolar,exec,expand,expand_get_A,expand_get_AF,expand_get_B,expand_get_C,expand_get_CF,expand_tensor,expanding,expcos,exponential,expr_level,expsin,f1,f10,f2,f3,f4,f5,f9,f_equals_a,factor,factor_a,factor_again,factor_b,factor_number,factor_small_number,factor_term,factorial,factorpoly,factors,fill_buf,filter,filter_main,filter_sum,filter_tensor,findDependenciesInScript,findPossibleClockForm,findPossibleExponentialForm,findroot,fixup_fraction,fixup_power,flag,floatToRatioRoutine,fmt_index,fmt_level,fmt_x,frame,freeze,functionInvokationsScanningStack,gamma,gamma_of_sum,gammaf,gcd,gcd_main,gcd_numbers,gcd_polys,gcd_powers_with_same_base,gcd_product_product,gcd_product_sum,gcd_sum,gcd_sum_product,gcd_sum_sum,gen,getSimpleRoots,getStateHash,get_binding,get_factor_from_complex_root,get_factor_from_real_root,get_innerprod_factors,get_next_token,get_printname,get_size,get_token,getdisplaystr,glyph,gp,guess,hasImaginaryCoeff,hasNegativeRationalExponent,hash_addition,hash_function,hash_multiplication,hash_power,hashcode_values,hashed_itab,hermite,hilbert,i1,imag,imaginaryunit,index_function,init,initNRoots,inited,inner,inner_f,input_str,integral,integral_of_form,integral_of_product,integral_of_sum,inv,inverse,invert_number,invg,isNumberOneOverSomething,isNumericAtom,isNumericAtomOrTensor,isSimpleRoot,isSmall,isSymbolLeftOfAssignment,isSymbolReclaimable,isZeroAtom,isZeroAtomOrTensor,isZeroLikeOrNonZeroLikeOrUndetermined,isZeroTensor,is_denominator,is_factor,is_small_integer,is_square_matrix,is_usr_symbol,isadd,isalnumorunderscore,isalpha,isalphaOrUnderscore,iscomplexnumber,iscomplexnumberdouble,iscons,isdenominator,isdigit,isdouble,iseveninteger,isfactor,isfactorial,isfloating,isfraction,isidentitymatrix,isimaginarynumber,isimaginarynumberdouble,isimaginaryunit,isinnerordot,isinteger,isintegerfactor,isintegerorintegerfloat,isinv,iskeyword,isminusone,isminusoneoversqrttwo,isminusoneovertwo,isminussqrtthreeovertwo,ismultiply,isnegative,isnegativenumber,isnegativeterm,isnonnegativeinteger,isnpi,isone,isoneover,isoneoversqrttwo,isoneovertwo,isplusone,isplustwo,ispolyexpandedform,ispolyexpandedform_expr,ispolyexpandedform_factor,ispolyexpandedform_term,ispolyfactoredorexpandedform,ispolyfactoredorexpandedform_factor,ispolyfactoredorexpandedform_power,isposint,ispositivenumber,ispower,isquarterturn,isrational,isspace,issqrtthree,issqrtthreeovertwo,isstr,issymbol,issymbolic,istensor,istranspose,isunderscore,isunivarpolyfactoredorexpandedform,itab,italu_hashcode,j1,laguerre,laguerre2,lastFoundSymbol,latexErrorSign,lcm,leading,legendre,length,lessp,level,list,listLength,logarithm,logbuf,lookupsTotal,lu_decomp,madd,makePositive,makeSignSameAs,make_hashed_itab,mask,mcmp,mcmpint,mdiv,mdivrem,meta_mode,mgcd,mini_solve,mint,mmod,mmul,mod,monic,move,moveTos,mp_clr_bit,mp_denominator,mp_numerator,mp_set_bit,mpow,mprime,mroot,mshiftright,msub,mtotal,multinomial_sum,multiply,multiply_all,multiply_all_noexpand,multiply_consecutive_constants,multiply_denominators,multiply_denominators_factor,multiply_denominators_term,multiply_noexpand,multiply_numbers,n_factor_number,negate,negate_expand,negate_noexpand,negate_number,new_integer,new_string,newline_flag,nil_symbols,normaliseDots,normalisedCoeff,normalize_angle,nroots_a,nroots_b,nroots_c,nroots_df,nroots_dx,nroots_fa,nroots_fb,nroots_x,nroots_y,nterms,nthCadr,numerator,numericRootOfPolynomial,o,one,oneElement,one_as_double,out_buf,out_count,out_of_memory,outer,p0,p1,p2,p3,p4,p5,p6,p7,p8,p9,parse,parse_internal,parse_p1,parse_p2,parse_time_simplifications,partition,patternHasBeenFound,patternsinfo,performing_roots,polar,polarRectAMinusOneBase,polyform,pop,pop_double,pop_frame,pop_integer,power,power_str,power_sum,power_tensor,predefinedSymbolsInGlobalScope_doNotTrackInDependencies,prime,primetab,print2dascii,printMode,print_ABS_latex,print_ARCCOS_codegen,print_ARCSIN_codegen,print_ARCTAN_codegen,print_BINOMIAL_latex,print_COS_codegen,print_DEFINT_latex,print_DOT_codegen,print_DOT_latex,print_DO_codegen,print_FOR_codegen,print_INV_codegen,print_INV_latex,print_PRODUCT_codegen,print_PRODUCT_latex,print_SETQ_codegen,print_SIN_codegen,print_SQRT_latex,print_SUM_codegen,print_SUM_latex,print_TAN_codegen,print_TESTEQ_latex,print_TESTGE_latex,print_TESTGT_latex,print_TESTLE_latex,print_TESTLT_latex,print_TEST_codegen,print_TEST_latex,print_TRANSPOSE_codegen,print_TRANSPOSE_latex,print_UNIT_codegen,print_a_over_b,print_base,print_base_of_denom,print_char,print_denom,print_double,print_expo_of_denom,print_exponent,print_expr,print_factor,print_factorial_function,print_glyphs,print_index_function,print_list,print_multiply_sign,print_number,print_power,print_str,print_subexpr,print_tensor,print_tensor_inner,print_tensor_inner_latex,print_tensor_latex,print_term,printchar,printchar_nowrap,printline,program_buf,promote_tensor,push,pushTryNotToDuplicate,push_cars,push_double,push_factor,push_frame,push_identity_matrix,push_integer,push_rational,push_symbol,push_term_factors,push_terms,push_zero_matrix,qadd,qdiv,qmul,qpow,qpowf,quickfactor,quickpower,rational,rationalize,rationalize_coefficients,real,reciprocate,rect,recursionLevelNestedRadicalsRemoval,recursiveDependencies,ref,ref1,rememberPrint,remove_negative_exponents,reset_after_error,restore,restoreMetaBindings,rewrite_args,rewrite_args_tensor,roots,roots2,roots3,run,runUserDefinedSimplifications,save,saveMetaBindings,scalar_times_tensor,scan,scan_error,scan_expression,scan_factor,scan_function_call_with_function_name,scan_function_call_without_function_name,scan_index,scan_meta,scan_power,scan_relation,scan_stmt,scan_str,scan_string,scan_subexpr,scan_symbol,scan_tensor,scan_term,scanned,scanningParameters,setM,setSignTo,set_binding,set_component,setq_indexed,sfac_product,sfac_product_f,sgn,shape,show_power_debug,sign,sign_of_term,simfac,simfac_term,simpleComplexityMeasure,simplify,simplifyForCodeGeneration,simplify_1_in_products,simplify_main,simplify_nested_radicals,simplify_polar,simplify_polarRect,simplify_rational_expressions,simplify_rectToClock,simplify_tensor,simplify_trig,simplifyfactorials,sine,sine_of_angle,sine_of_angle_sum,skipRootVariableToBeSolved,sort_stack,square,ssqrt,stack,stackAddsCount,std_symbol,step,step2,stop,strcmp,stringsEmittedByUserPrintouts,subf,subst,subtract,subtract_numbers,swap,symbol,symbolsDependencies,symbolsHavingReassignments,symbolsInExpressionsWithoutAssignments,symbolsLeftOfAssignment,symbolsRightOfAssignment,symbolsinfo,symnum,symtab,take_care_of_nested_radicals,tangent,taylor,tensor,tensor_plus_tensor,tensor_times_scalar,testApprox,test_flag,text_metric,theRandom,token,token_buf,token_str,top,top_level_eval,tos,transform,transpose,transpose_unicode,trigmode,trivial_divide,try_kth_prime,turnErrorMessageToLatex,ucmp,unfreeze,unique,unique_f,update_token_buf,userSimplificationsInListForm,userSimplificationsInStringForm,usr_symbol,verbosing,version,will_be_displayed_as_fraction,ybinomial,ycosh,ydirac,yerf,yerfc,yfloor,yindex,yround,ysinh,yyarg,yybesselj,yybessely,yyceiling,yycondense,yycontract,yycosh,yydegree,yydetg,yydivpoly,yyerf,yyerfc,yyexpand,yyfactorpoly,yyfloat,yyfloor,yyhermite,yyhermite2,yyinvg,yylcm,yylog,yymultiply,yyouter,yypower,yyrationalize,yyround,yysgn,yysimfac,yysinh,yytangent,zero,zzfloat,hasProp={}.hasOwnProperty;for(bigInt=$35f96633f7bb2eb5ba7c72b1731fe12e$init(),version="1.4.0",SELFTEST=1,NSYM=1e3,DEBUG=!1,PRINTOUTRESULT=!1,PRINTMODE_LATEX="PRINTMODE_LATEX",PRINTMODE_2DASCII="PRINTMODE_2DASCII",PRINTMODE_COMPUTER="PRINTMODE_COMPUTER",PRINTMODE_HUMAN="PRINTMODE_HUMAN",PRINTMODE_LIST="PRINTMODE_LIST",printMode=PRINTMODE_COMPUTER,dontCreateNewRadicalsInDenominatorWhenEvalingMultiplication=!0,recursionLevelNestedRadicalsRemoval=0,do_simplify_nested_radicals=!0,avoidCalculatingPowersIntoArctans=!0,rational=function(){class e{}return e.prototype.a=null,e.prototype.b=null,e}.call(this),U=function(){class e{toString(){return print_expr(this)}toLatexString(){return collectLatexStringFromReturnValue(this)}constructor(){this.cons={},this.cons.car=null,this.cons.cdr=null,this.q=new rational}}return e.prototype.cons=null,e.prototype.printname="",e.prototype.str="",e.prototype.tensor=null,e.prototype.q=null,e.prototype.d=0,e.prototype.k=0,e.prototype.tag=0,e}.call(this),errorMessage="",CONS=0,NUM=1,DOUBLE=2,STR=3,TENSOR=4,SYM=5,counter=0,ABS=counter++,ADD=counter++,ADJ=counter++,AND=counter++,APPROXRATIO=counter++,ARCCOS=counter++,ARCCOSH=counter++,ARCSIN=counter++,ARCSINH=counter++,ARCTAN=counter++,ARCTANH=counter++,ARG=counter++,ATOMIZE=counter++,BESSELJ=counter++,BESSELY=counter++,BINDING=counter++,BINOMIAL=counter++,CEILING=counter++,CHECK=counter++,CHOOSE=counter++,CIRCEXP=counter++,CLEAR=counter++,CLEARALL=counter++,CLEARPATTERNS=counter++,CLOCK=counter++,COEFF=counter++,COFACTOR=counter++,CONDENSE=counter++,CONJ=counter++,CONTRACT=counter++,COS=counter++,COSH=counter++,DECOMP=counter++,DEFINT=counter++,DEGREE=counter++,DENOMINATOR=counter++,DERIVATIVE=counter++,DET=counter++,DIM=counter++,DIRAC=counter++,DIVISORS=counter++,DO=counter++,DOT=counter++,DRAW=counter++,DSOLVE=counter++,EIGEN=counter++,EIGENVAL=counter++,EIGENVEC=counter++,ERF=counter++,ERFC=counter++,EVAL=counter++,EXP=counter++,EXPAND=counter++,EXPCOS=counter++,EXPSIN=counter++,FACTOR=counter++,FACTORIAL=counter++,FACTORPOLY=counter++,FILTER=counter++,FLOATF=counter++,FLOOR=counter++,FOR=counter++,FUNCTION=counter++,GAMMA=counter++,GCD=counter++,HERMITE=counter++,HILBERT=counter++,IMAG=counter++,INDEX=counter++,INNER=counter++,INTEGRAL=counter++,INV=counter++,INVG=counter++,ISINTEGER=counter++,ISPRIME=counter++,LAGUERRE=counter++,LCM=counter++,LEADING=counter++,LEGENDRE=counter++,LOG=counter++,LOOKUP=counter++,MOD=counter++,MULTIPLY=counter++,NOT=counter++,NROOTS=counter++,NUMBER=counter++,NUMERATOR=counter++,OPERATOR=counter++,OR=counter++,OUTER=counter++,PATTERN=counter++,PATTERNSINFO=counter++,POLAR=counter++,POWER=counter++,PRIME=counter++,PRINT_LEAVE_E_ALONE=counter++,PRINT_LEAVE_X_ALONE=counter++,PRINT=counter++,PRINT2DASCII=counter++,PRINTFULL=counter++,PRINTLATEX=counter++,PRINTLIST=counter++,PRINTPLAIN=counter++,PRODUCT=counter++,QUOTE=counter++,QUOTIENT=counter++,RANK=counter++,RATIONALIZE=counter++,REAL=counter++,ROUND=counter++,YYRECT=counter++,ROOTS=counter++,SETQ=counter++,SGN=counter++,SILENTPATTERN=counter++,SIMPLIFY=counter++,SIN=counter++,SINH=counter++,SHAPE=counter++,SQRT=counter++,STOP=counter++,SUBST=counter++,SUM=counter++,SYMBOLSINFO=counter++,TAN=counter++,TANH=counter++,TAYLOR=counter++,TEST=counter++,TESTEQ=counter++,TESTGE=counter++,TESTGT=counter++,TESTLE=counter++,TESTLT=counter++,TRANSPOSE=counter++,UNIT=counter++,ZERO=counter++,NIL=counter++,LAST=counter++,LAST_PRINT=counter++,LAST_2DASCII_PRINT=counter++,LAST_FULL_PRINT=counter++,LAST_LATEX_PRINT=counter++,LAST_LIST_PRINT=counter++,LAST_PLAIN_PRINT=counter++,AUTOEXPAND=counter++,BAKE=counter++,ASSUME_REAL_VARIABLES=counter++,TRACE=counter++,FORCE_FIXED_PRINTOUT=counter++,MAX_FIXED_PRINTOUT_DIGITS=counter++,YYE=counter++,DRAWX=counter++,METAA=counter++,METAB=counter++,METAX=counter++,SECRETX=counter++,VERSION=counter++,PI=counter++,SYMBOL_A=counter++,SYMBOL_B=counter++,SYMBOL_C=counter++,SYMBOL_D=counter++,SYMBOL_I=counter++,SYMBOL_J=counter++,SYMBOL_N=counter++,SYMBOL_R=counter++,SYMBOL_S=counter++,SYMBOL_T=counter++,SYMBOL_X=counter++,SYMBOL_Y=counter++,SYMBOL_Z=counter++,SYMBOL_IDENTITY_MATRIX=counter++,SYMBOL_A_UNDERSCORE=counter++,SYMBOL_B_UNDERSCORE=counter++,SYMBOL_X_UNDERSCORE=counter++,C1=counter++,C2=counter++,C3=counter++,C4=counter++,C5=counter++,C6=counter++,USR_SYMBOLS=counter++,E=YYE,TOS=1e5,BUF=1e4,MAX_PROGRAM_SIZE=100001,MAXPRIMETAB=1e4,MAX_CONSECUTIVE_APPLICATIONS_OF_ALL_RULES=5,MAX_CONSECUTIVE_APPLICATIONS_OF_SINGLE_RULE=10,MAXDIM=24,symbolsDependencies={},symbolsHavingReassignments=[],symbolsInExpressionsWithoutAssignments=[],patternHasBeenFound=!1,predefinedSymbolsInGlobalScope_doNotTrackInDependencies=["rationalize","abs","e","i","pi","sin","ceiling","cos","roots","integral","derivative","defint","sqrt","eig","cov","deig","dcov","float","floor","product","root","round","sum","test","unit"],parse_time_simplifications=!0,chainOfUserSymbolsNotFunctionsBeingEvaluated=[],stringsEmittedByUserPrintouts="",called_from_Algebra_block=!1,tensor=function(){class e{constructor(){this.dim=function(){var e,t,r;for(r=[],e=0,t=MAXDIM;0<=t?e<=t:e>=t;0<=t?e++:e--)r.push(0);return r}(),this.elem=[]}}return e.prototype.ndim=0,e.prototype.dim=null,e.prototype.nelem=0,e.prototype.elem=null,e}.call(this),display=function(){class e{}return e.prototype.h=0,e.prototype.w=0,e.prototype.n=0,e.prototype.a=[],e}.call(this),text_metric=function(){class e{}return e.prototype.ascent=0,e.prototype.descent=0,e.prototype.width=0,e}.call(this),tos=0,expanding=0,evaluatingAsFloats=0,evaluatingPolar=0,fmt_x=0,fmt_index=0,fmt_level=0,verbosing=0,primetab=function(){var e,t,r,i;for(i=[2],t=3;i.length<MAXPRIMETAB;){for(r=0,e=Math.sqrt(t);r<i.length&&i[r]<=e;){if(t%i[r]==0){r=-1;break}r++}-1!==r&&i.push(t),t+=2}return i[MAXPRIMETAB]=0,i}(),esc_flag=0,draw_flag=0,mtotal=0,trigmode=0,logbuf="",program_buf="",symtab=[],binding=[],isSymbolReclaimable=[],arglist=[],stack=[],frame=0,p0=null,p1=null,p2=null,p3=null,p4=null,p5=null,p6=null,p7=null,p8=null,p9=null,zero=null,one=null,one_as_double=null,imaginaryunit=null,out_buf="",out_count=0,test_flag=0,codeGen=!1,draw_stop_return=null,userSimplificationsInListForm=[],userSimplificationsInStringForm=[],transpose_unicode=7488,dotprod_unicode=183,symbol=function(e){return symtab[e]},iscons=function(e){return e.k===CONS},isrational=function(e){return e.k===NUM},isdouble=function(e){return e.k===DOUBLE},isNumericAtom=function(e){return isrational(e)||isdouble(e)},isstr=function(e){return e.k===STR},istensor=function(e){if(null!=e)return e.k===TENSOR},isNumericAtomOrTensor=function(e){var t,r,i,n,o;if(isNumericAtom(e)||e===symbol(SYMBOL_IDENTITY_MATRIX))return 1;if(!istensor(e)&&!isNumericAtom(e))return 0;for(i=e.tensor.nelem,t=e.tensor.elem,r=n=0,o=i;0<=o?n<o:n>o;r=0<=o?++n:--n)if(!isNumericAtomOrTensor(t[r]))return 0;return 1},issymbol=function(e){return e.k===SYM},iskeyword=function(e){return issymbol(e)&&symnum(e)<NIL},car=function(e){return iscons(e)?e.cons.car:symbol(NIL)},cdr=function(e){return iscons(e)?e.cons.cdr:symbol(NIL)},caar=function(e){return car(car(e))},cadr=function(e){return car(cdr(e))},cdar=function(e){return cdr(car(e))},cddr=function(e){return cdr(cdr(e))},caadr=function(e){return car(car(cdr(e)))},caddr=function(e){return car(cdr(cdr(e)))},cadar=function(e){return car(cdr(car(e)))},cdadr=function(e){return cdr(car(cdr(e)))},cddar=function(e){return cdr(cdr(car(e)))},cdddr=function(e){return cdr(cdr(cdr(e)))},caaddr=function(e){return car(car(cdr(cdr(e))))},cadadr=function(e){return car(cdr(car(cdr(e))))},caddar=function(e){return car(cdr(cdr(car(e))))},cdaddr=function(e){return cdr(car(cdr(cdr(e))))},cadddr=function(e){return car(cdr(cdr(cdr(e))))},cddddr=function(e){return cdr(cdr(cdr(cdr(e))))},caddddr=function(e){return car(cdr(cdr(cdr(cdr(e)))))},cadaddr=function(e){return car(cdr(car(cdr(cdr(e)))))},cddaddr=function(e){return cdr(cdr(car(cdr(cdr(e)))))},caddadr=function(e){return car(cdr(cdr(car(cdr(e)))))},cdddaddr=function(e){return cdr(cdr(cdr(car(cdr(cdr(e))))))},caddaddr=function(e){return car(cdr(cdr(car(cdr(cdr(e))))))},listLength=function(e){var t;for(t=-1;iscons(e);)e=cdr(e),t++;return t},nthCadr=function(e,t){var r;for(r=0;r<=t;)e=cdr(e),r++;return car(e)},isadd=function(e){return car(e)===symbol(ADD)},ismultiply=function(e){return car(e)===symbol(MULTIPLY)},ispower=function(e){return car(e)===symbol(POWER)},isfactorial=function(e){return car(e)===symbol(FACTORIAL)},isinnerordot=function(e){return car(e)===symbol(INNER)||car(e)===symbol(DOT)},istranspose=function(e){return car(e)===symbol(TRANSPOSE)},isinv=function(e){return car(e)===symbol(INV)},isidentitymatrix=function(e){return e===symbol(SYMBOL_IDENTITY_MATRIX)},MSIGN=function(e){return e.isPositive()?1:e.isZero()?0:-1},MLENGTH=function(e){return e.toString().length},MZERO=function(e){return e.isZero()},MEQUAL=function(e,t){return e.equals(t)},reset_after_error=function(){return moveTos(0),esc_flag=0,draw_flag=0,frame=TOS,evaluatingAsFloats=0,evaluatingPolar=0},$=null!=exports?exports:this,$.version=version,$.isadd=isadd,$.ismultiply=ismultiply,$.ispower=ispower,$.isfactorial=isfactorial,$.car=car,$.cdr=cdr,$.caar=caar,$.cadr=cadr,$.cdar=cdar,$.cddr=cddr,$.caadr=caadr,$.caddr=caddr,$.cadar=cadar,$.cdadr=cdadr,$.cddar=cddar,$.cdddr=cdddr,$.caaddr=caaddr,$.cadadr=cadadr,$.caddar=caddar,$.cdaddr=cdaddr,$.cadddr=cadddr,$.cddddr=cddddr,$.caddddr=caddddr,$.cadaddr=cadaddr,$.cddaddr=cddaddr,$.caddadr=caddadr,$.cdddaddr=cdddaddr,$.caddaddr=caddaddr,$.symbol=symbol,$.iscons=iscons,$.isrational=isrational,$.isdouble=isdouble,$.isNumericAtom=isNumericAtom,$.isstr=isstr,$.istensor=istensor,$.issymbol=issymbol,$.iskeyword=iskeyword,$.CONS=CONS,$.NUM=NUM,$.DOUBLE=DOUBLE,$.STR=STR,$.TENSOR=TENSOR,$.SYM=SYM,DEBUG_ABS=!1,Eval_abs=function(){return push(cadr(p1)),Eval(),abs()},absValFloat=function(){return Eval(),absval(),Eval(),zzfloat()},abs=function(){var e;if(e=top(),DEBUG_ABS&&console.trace(">>>>  ABS of "+e),numerator(),DEBUG_ABS&&console.log("ABS numerator "+stack[tos-1]),absval(),DEBUG_ABS&&console.log("ABSVAL numerator: "+stack[tos-1]),push(e),denominator(),DEBUG_ABS&&console.log("ABS denominator: "+stack[tos-1]),absval(),DEBUG_ABS&&console.log("ABSVAL denominator: "+stack[tos-1]),divide(),DEBUG_ABS&&console.log("ABSVAL divided: "+stack[tos-1]),DEBUG_ABS)return console.log("<<<<<<<  ABS")},absval=function(){var e,t;if(save(),t=p1=pop(),DEBUG_ABS&&console.log("ABS of "+p1),isZeroAtomOrTensor(p1))return DEBUG_ABS&&console.log(" abs: "+p1+" just zero"),push(zero),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore();if(isnegativenumber(p1))return DEBUG_ABS&&console.log(" abs: "+p1+" just a negative"),push(p1),negate(),void restore();if(ispositivenumber(p1))return DEBUG_ABS&&console.log(" abs: "+p1+" just a positive"),push(p1),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore();if(p1===symbol(PI))return DEBUG_ABS&&console.log(" abs: "+p1+" of PI"),push(p1),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore();if(car(p1)===symbol(ADD)&&(findPossibleClockForm(p1)||findPossibleExponentialForm(p1)||Find(p1,imaginaryunit)))return DEBUG_ABS&&console.log(" abs: "+p1+" is a sum"),DEBUG_ABS&&console.log("abs of a sum"),push(p1),rect(),p1=pop(),push(p1),real(),push_integer(2),power(),push(p1),imag(),push_integer(2),power(),add(),push_rational(1,2),power(),simplify_trig(),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore();if(car(p1)===symbol(POWER)&&equaln(cadr(p1),-1))return DEBUG_ABS&&console.log(" abs: "+p1+" is -1 to any power"),evaluatingAsFloats?(DEBUG_ABS&&console.log(" abs: numeric, so result is 1.0"),push_double(1)):(DEBUG_ABS&&console.log(" abs: symbolic, so result is 1"),push_integer(1)),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore();if(car(p1)===symbol(POWER)&&ispositivenumber(caddr(p1)))return DEBUG_ABS&&console.log(" abs: "+p1+" is something to the power of a positive number"),push(cadr(p1)),abs(),push(caddr(p1)),power(),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore();if(car(p1)===symbol(POWER)&&cadr(p1)===symbol(E))return DEBUG_ABS&&console.log(" abs: "+p1+" is an exponential"),push(caddr(p1)),real(),exponential(),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore();if(car(p1)===symbol(MULTIPLY)){for(DEBUG_ABS&&console.log(" abs: "+p1+" is a product"),e=!1,p1=cdr(p1);iscons(p1);)push(car(p1)),absval(),e&&multiply(),e=!0,p1=cdr(p1);return DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore()}return car(p1)===symbol(ABS)?(DEBUG_ABS&&console.log(" abs: "+p1+" is abs of a abs"),push_symbol(ABS),push(cadr(p1)),list(2),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore()):istensor(p1)?(absval_tensor(),void restore()):((isnegativeterm(p1)||car(p1)===symbol(ADD)&&isnegativeterm(cadr(p1)))&&(push(p1),negate(),p1=pop()),DEBUG_ABS&&console.log(" abs: "+p1+" is nothing decomposable"),push_symbol(ABS),push(p1),list(2),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),restore())},absval_tensor=function(){return 1!==p1.tensor.ndim&&stop("abs(tensor) with tensor rank > 1"),push(p1),push(p1),conjugate(),inner(),push_rational(1,2),power(),simplify(),Eval()},flag=0,Eval_add=function(){var e;for(e=tos,p1=cdr(p1);iscons(p1);)push(car(p1)),Eval(),p2=pop(),push_terms(p2),p1=cdr(p1);return add_terms(tos-e)},stackAddsCount=0,add_terms=function(e){var t,r,i,n,o,s,a,c,l;if(stackAddsCount++,r=0,t=tos-e,DEBUG&&console.log("stack before adding terms #"+stackAddsCount),DEBUG)for(r=o=0,s=tos;0<=s?o<s:o>s;r=0<=s?++o:--o)console.log(print_list(stack[r]));for(r=i=0;i<10&&!(e<2)&&(flag=0,(l=stack.slice(t,t+e)).sort(cmp_terms),stack=stack.slice(0,t).concat(l).concat(stack.slice(t+e)),0!==flag);r=++i)e=combine_terms(t,e);switch(moveTos(t+e),e){case 0:evaluatingAsFloats?push_double(0):push(zero);break;case 1:break;default:list(e),p1=pop(),push_symbol(ADD),push(p1),cons()}if(DEBUG&&console.log("stack after adding terms #"+stackAddsCount),DEBUG){for(c=[],r=n=0,a=tos;0<=a?n<a:n>a;r=0<=a?++n:--n)c.push(console.log(print_list(stack[r])));return c}},cmp_terms_count=0,cmp_terms=function(e,t){var r,i,n,o;if(cmp_terms_count++,r=0,isNumericAtom(e)&&isNumericAtom(t))return flag=1,0;if(istensor(e)&&istensor(t)){if(e.tensor.ndim<t.tensor.ndim)return-1;if(e.tensor.ndim>t.tensor.ndim)return 1;for(r=i=0,n=e.tensor.ndim;0<=n?i<n:i>n;r=0<=n?++i:--i){if(e.tensor.dim[r]<t.tensor.dim[r])return-1;if(e.tensor.dim[r]>t.tensor.dim[r])return 1}return flag=1,0}return car(e)===symbol(MULTIPLY)&&(e=cdr(e),isNumericAtom(car(e))&&(e=cdr(e),cdr(e)===symbol(NIL)&&(e=car(e)))),car(t)===symbol(MULTIPLY)&&(t=cdr(t),isNumericAtom(car(t))&&(t=cdr(t),cdr(t)===symbol(NIL)&&(t=car(t)))),0===(o=cmp_expr(e,t))&&(flag=1),o},combine_terms=function(e,t){var r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g,x;for(r=0;r<t-1;)if(check_esc_flag(),p3=stack[e+r],p4=stack[e+r+1],istensor(p3)&&istensor(p4)){if(push(p3),push(p4),tensor_plus_tensor(),(p1=pop())!==symbol(NIL)){for(stack[e+r]=p1,n=c=l=r+1,p=t-1;l<=p?c<p:c>p;n=l<=p?++c:--c)stack[e+n]=stack[e+n+1];t--,r--}r++}else if(istensor(p3)||istensor(p4))r++;else if(isNumericAtom(p3)&&isNumericAtom(p4)){if(push(p3),push(p4),add_numbers(),p1=pop(),isZeroAtomOrTensor(p1)){for(n=i=u=r,f=t-2;u<=f?i<f:i>f;n=u<=f?++i:--i)stack[e+n]=stack[e+n+2];t-=2}else{for(stack[e+r]=p1,n=o=d=r+1,h=t-1;d<=h?o<h:o>h;n=d<=h?++o:--o)stack[e+n]=stack[e+n+1];t--}r--,r++}else if(isNumericAtom(p3)||isNumericAtom(p4))r++;else if(evaluatingAsFloats?(p1=one_as_double,p2=one_as_double):(p1=one,p2=one),x=0,car(p3)===symbol(MULTIPLY)&&(p3=cdr(p3),x=1,isNumericAtom(car(p3))&&(p1=car(p3),p3=cdr(p3),cdr(p3)===symbol(NIL)&&(p3=car(p3),x=0))),car(p4)===symbol(MULTIPLY)&&(p4=cdr(p4),isNumericAtom(car(p4))&&(p2=car(p4),p4=cdr(p4),cdr(p4)===symbol(NIL)&&(p4=car(p4)))),equal(p3,p4))if(push(p1),push(p2),add_numbers(),p1=pop(),isZeroAtomOrTensor(p1)){for(n=s=b=r,$=t-2;b<=$?s<$:s>$;n=b<=$?++s:--s)stack[e+n]=stack[e+n+2];t-=2,r--,r++}else{for(push(p1),x?(push(symbol(MULTIPLY)),push(p3),cons()):push(p3),multiply(),stack[e+r]=pop(),n=a=m=r+1,g=t-1;m<=g?a<g:a>g;n=m<=g?++a:--a)stack[e+n]=stack[e+n+1];t--,r--,r++}else r++;return t},push_terms=function(e){var t;if(car(e)===symbol(ADD)){for(e=cdr(e),t=[];iscons(e);)push(car(e)),t.push(e=cdr(e));return t}if(!isZeroAtom(e))return push(e)},add=function(){var e;return save(),p2=pop(),p1=pop(),e=tos,push_terms(p1),push_terms(p2),add_terms(tos-e),restore()},add_all=function(e){var t,r,i,n,o;for(r=0,save(),o=tos-e,t=tos,r=i=0,n=e;0<=n?i<n:i>n;r=0<=n?++i:--i)push_terms(stack[o+r]);return add_terms(tos-t),p1=pop(),moveTos(tos-e),push(p1),restore()},subtract=function(){return negate(),add()},Eval_adj=function(){return push(cadr(p1)),Eval(),adj()},adj=function(){var e,t,r,i,n,o,s;for(e=0,r=0,0,save(),p1=pop(),istensor(p1)&&2===p1.tensor.ndim&&p1.tensor.dim[0]===p1.tensor.dim[1]?1:stop("adj: square matrix expected"),i=p1.tensor.dim[0],(p2=alloc_tensor(i*i)).tensor.ndim=2,p2.tensor.dim[0]=i,p2.tensor.dim[1]=i,e=n=0,o=i;0<=o?n<o:n>o;e=0<=o?++n:--n)for(r=t=0,s=i;0<=s?t<s:t>s;r=0<=s?++t:--t)cofactor(p1,i,e,r),p2.tensor.elem[i*r+e]=pop();return push(p2),restore()},Eval_approxratio=function(){var e;return e=cadr(p1),push(e),approxratioRecursive()},approxratioRecursive=function(){var e,t,r,i,n;if(e=0,save(),p1=pop(),istensor(p1)){for((p4=alloc_tensor(p1.tensor.nelem)).tensor.ndim=p1.tensor.ndim,e=r=0,i=p1.tensor.ndim;0<=i?r<i:r>i;e=0<=i?++r:--r)p4.tensor.dim[e]=p1.tensor.dim[e];for(e=t=0,n=p1.tensor.nelem;0<=n?t<n:t>n;e=0<=n?++t:--t)push(p1.tensor.elem[e]),approxratioRecursive(),p4.tensor.elem[e]=pop(),check_tensor_dimensions(p4);push(p4)}else p1.k===DOUBLE?(push(p1),approxOneRatioOnly()):iscons(p1)?(push(car(p1)),approxratioRecursive(),push(cdr(p1)),approxratioRecursive(),cons()):push(p1);return restore()},approxOneRatioOnly=function(){var e,t,r,i,n,o;if(zzfloat(),(i=pop()).k!==DOUBLE)return push_symbol(APPROXRATIO),push(theArgument),list(2);2===(r=(n=i.d).toString().split(".")).length?(e=r[1].length,t=1/Math.pow(10,e),o=floatToRatioRoutine(n,t),push_rational(o[0],o[1])):push_integer(n)},floatToRatioRoutine=function(e,t){var r,i,n,o,s,a,c;if(n=void 0,i=void 0,r=void 0,a=void 0,o=void 0,s=void 0,c=[0,0],isNaN(e))return c;if(Infinity===e)return c[0]=1,c[1]=0,c;if(-Infinity===e)return c[0]=-1,c[1]=0,c;if(r=e<0?-1:1,e=Math.abs(e),Math.abs(e-Math.floor(e))<t)return n=e*r,i=1,c[0]=n,c[1]=i,c;if(e<1e-19)return n=r,i=1e19,c[0]=n,c[1]=i,c;if(e>1e19)return n=1e19*r,i=1,c[0]=n,c[1]=i,c;for(a=e,o=0,i=1;a=1/(a-Math.floor(a)),s=i,i=i*Math.floor(a)+o,o=s,n=Math.floor(e*i+.5),Math.abs(e-n/i)>t&&a!==Math.floor(a););return n*=r,c[0]=n,c[1]=i,c},approx_just_an_integer=0,approx_sine_of_rational=1,approx_sine_of_pi_times_rational=2,approx_rationalOfPi=3,approx_radicalOfRatio=4,approx_nothingUseful=5,approx_ratioOfRadical=6,approx_rationalOfE=7,approx_logarithmsOfRationals=8,approx_rationalsOfLogarithms=9,approxRationalsOfRadicals=function(e){var t,r,i,n,o,s,a,c,l,p,u,f,d,h,b,$;if(2!==($=e.toString().split(".")).length)return[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2];for(u=$[1].length,d=1/Math.pow(10,u),console.log("precision: "+d),t=null,p=Number.MAX_VALUE,f=0,c=(b=[2,3,5,6,7,8,10]).length;f<c;f++)for(o=b[f],a=s=1;s<=10;a=++s)n=Math.sqrt(o)/a,Math.abs(n)>1e-10?(h=e/n,l=Math.round(h),i=Math.abs(1-h/l)):(h=1,l=1,i=Math.abs(e-n)),i<2*d&&(r=simpleComplexityMeasure(l,o,a))<p&&(p=r,t=[l+" * sqrt( "+o+" ) / "+a,approx_ratioOfRadical,l,o,a]);return t},approxRadicalsOfRationals=function(e){var t,r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g;if(2!==(g=e.toString().split(".")).length)return[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2];for(f=g[1].length,h=1/Math.pow(10,f),console.log("precision: "+h),t=null,u=Number.MAX_VALUE,d=0,c=($=[1,2,3,5,6,7,8,10]).length;d<c;d++)for(o=$[d],s=0,l=(m=[1,2,3,5,6,7,8,10]).length;s<l;s++)a=m[s],n=Math.sqrt(o/a),Math.abs(n)>1e-10?(b=e/n,p=Math.round(b),i=Math.abs(1-b/p)):(b=1,p=1,i=Math.abs(e-n)),i<2*h&&(r=simpleComplexityMeasure(p,o,a))<u&&(u=r,t=[p+" * (sqrt( "+o+" / "+a+" )",approx_radicalOfRatio,p,o,a]);return t},approxRadicals=function(e){var t,r,i,n,o;return 2!==(o=e.toString().split(".")).length?[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2]:(i=o[1].length,n=1/Math.pow(10,i),console.log("precision: "+n),null!=(r=approxRationalsOfRadicals(e))?r:null!=(t=approxRadicalsOfRationals(e))?t:null)},approxLogs=function(e){var t,r,i,n,o;return 2!==(o=e.toString().split(".")).length?[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2]:(i=o[1].length,n=1/Math.pow(10,i),console.log("precision: "+n),null!=(r=approxRationalsOfLogs(e))?r:null!=(t=approxLogsOfRationals(e))?t:null)},approxRationalsOfLogs=function(e){var t,r,i,n,o,s,a,c,l,p,u,f,d,h;if(2!==(h=e.toString().split(".")).length)return[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2];for(p=h[1].length,f=1/Math.pow(10,p),console.log("precision: "+f),t=null,l=Number.MAX_VALUE,o=u=2;u<=5;o=++u)for(a=s=1;s<=5;a=++s)n=Math.log(o)/a,Math.abs(n)>1e-10?(d=e/n,c=Math.round(d),i=Math.abs(1-d/c)):(d=1,c=1,i=Math.abs(e-n)),1!==c&&Math.abs(Math.floor(c/a))===Math.abs(c/a)||i<2.2*f&&(r=simpleComplexityMeasure(c,o,a))<l&&(l=r,t=[c+" * log( "+o+" ) / "+a,approx_rationalsOfLogarithms,c,o,a]);return t},approxLogsOfRationals=function(e){var t,r,i,n,o,s,a,c,l,p,u,f,d,h;if(2!==(h=e.toString().split(".")).length)return[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2];for(p=h[1].length,f=1/Math.pow(10,p),console.log("precision: "+f),t=null,l=Number.MAX_VALUE,o=u=1;u<=5;o=++u)for(a=s=1;s<=5;a=++s)n=Math.log(o/a),Math.abs(n)>1e-10?(d=e/n,c=Math.round(d),i=Math.abs(1-d/c)):(d=1,c=1,i=Math.abs(e-n)),i<1.96*f&&(r=simpleComplexityMeasure(c,o,a))<l&&(l=r,t=[c+" * log( "+o+" / "+a+" )",approx_logarithmsOfRationals,c,o,a]);return t},approxRationalsOfPowersOfE=function(e){var t,r,i,n,o,s,a,c,l,p,u,f,d,h;if(2!==(h=e.toString().split(".")).length)return[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2];for(p=h[1].length,f=1/Math.pow(10,p),console.log("precision: "+f),t=null,l=Number.MAX_VALUE,o=u=1;u<=2;o=++u)for(a=s=1;s<=12;a=++s)n=Math.pow(Math.E,o)/a,Math.abs(n)>1e-10?(d=e/n,c=Math.round(d),i=Math.abs(1-d/c)):(d=1,c=1,i=Math.abs(e-n)),i<2*f&&(r=simpleComplexityMeasure(c,o,a))<l&&(l=r,t=[c+" * (e ^ "+o+" ) / "+a,approx_rationalOfE,c,o,a]);return t},approxRationalsOfPowersOfPI=function(e){var t,r,i,n,o,s,a,c,l,p,u,f,d,h;if(2!==(h=e.toString().split(".")).length)return[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2];for(p=h[1].length,f=1/Math.pow(10,p),console.log("precision: "+f),t=null,l=Number.MAX_VALUE,o=u=1;u<=5;o=++u)for(a=s=1;s<=12;a=++s)n=Math.pow(Math.PI,o)/a,Math.abs(n)>1e-10?(d=e/n,c=Math.round(d),i=Math.abs(1-d/c)):(d=1,c=1,i=Math.abs(e-n)),i<2*f&&(r=simpleComplexityMeasure(c,o,a))<l&&(l=r,t=[c+" * (pi ^ "+o+" ) / "+a+" )",approx_rationalOfPi,c,o,a]);return t},approxTrigonometric=function(e){var t,r,i,n,o;return 2!==(o=e.toString().split(".")).length?[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2]:(i=o[1].length,n=1/Math.pow(10,i),console.log("precision: "+n),null!=(r=approxSineOfRationals(e))?r:null!=(t=approxSineOfRationalMultiplesOfPI(e))?t:null)},approxSineOfRationals=function(e){var t,r,i,n,o,s,a,c,l,p,u,f,d,h,b;if(2!==(b=e.toString().split(".")).length)return[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2];for(u=b[1].length,d=1/Math.pow(10,u),console.log("precision: "+d),t=null,p=Number.MAX_VALUE,s=f=1;f<=4;s=++f)for(c=a=1;a<=4;c=++a)n=s/c,o=Math.sin(n),Math.abs(o)>1e-10?(h=e/o,l=Math.round(h),i=Math.abs(1-h/l)):(h=1,l=1,i=Math.abs(e-o)),i<2*d&&(r=simpleComplexityMeasure(l,s,c))<p&&(p=r,t=[l+" * sin( "+s+"/"+c+" )",approx_sine_of_rational,l,s,c]);return t},approxSineOfRationalMultiplesOfPI=function(e){var t,r,i,n,o,s,a,c,l,p,u,f,d,h,b;if(2!==(b=e.toString().split(".")).length)return[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2];for(u=b[1].length,d=1/Math.pow(10,u),console.log("precision: "+d),t=null,p=Number.MAX_VALUE,s=f=1;f<=13;s=++f)for(c=a=1;a<=13;c=++a)n=s/c,o=Math.sin(Math.PI*n),Math.abs(o)>1e-10?(h=e/o,l=Math.round(h),i=Math.abs(1-h/l)):(h=1,l=1,i=Math.abs(e-o)),i<23*d&&(r=simpleComplexityMeasure(l,s,c))<p&&(p=r,t=[l+" * sin( "+s+"/"+c+" * pi )",approx_sine_of_pi_times_rational,l,s,c]);return t},approxAll=function(e){var t,r,i,n,o,s,a,c,l,p,u;return 2!==(u=e.toString().split(".")).length?[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2]:(l=u[1].length,p=1/Math.pow(10,l),console.log("precision: "+p),c=Number.MAX_VALUE,a=0,s=null,!0,null!=(r=approxRadicals(e))&&((a=simpleComplexityMeasure(r))<c?(console.log("better explanation by approxRadicals: "+r+" complexity: "+a),c=a,s=r):console.log("subpar explanation by approxRadicals: "+r+" complexity: "+a)),null!=(t=approxLogs(e))&&((a=simpleComplexityMeasure(t))<c?(console.log("better explanation by approxLogs: "+t+" complexity: "+a),c=a,s=t):console.log("subpar explanation by approxLogs: "+t+" complexity: "+a)),null!=(i=approxRationalsOfPowersOfE(e))&&((a=simpleComplexityMeasure(i))<c?(console.log("better explanation by approxRationalsOfPowersOfE: "+i+" complexity: "+a),c=a,s=i):console.log("subpar explanation by approxRationalsOfPowersOfE: "+i+" complexity: "+a)),null!=(n=approxRationalsOfPowersOfPI(e))&&((a=simpleComplexityMeasure(n))<c?(console.log("better explanation by approxRationalsOfPowersOfPI: "+n+" complexity: "+a),c=a,s=n):console.log("subpar explanation by approxRationalsOfPowersOfPI: "+n+" complexity: "+a)),null!=(o=approxTrigonometric(e))&&((a=simpleComplexityMeasure(o))<c?(console.log("better explanation by approxTrigonometric: "+o+" complexity: "+a),c=a,s=o):console.log("subpar explanation by approxTrigonometric: "+o+" complexity: "+a)),s)},simpleComplexityMeasure=function(e,t,r){var i;if(i=null,e instanceof Array){switch(e[1]){case approx_sine_of_pi_times_rational:i=4;break;case approx_rationalOfPi:i=Math.pow(4,Math.abs(e[3]))*Math.abs(e[2]);break;case approx_rationalOfE:i=Math.pow(3,Math.abs(e[3]))*Math.abs(e[2]);break;default:i=0}i+=Math.abs(e[2])*(Math.abs(e[3])+Math.abs(e[4]))}else i+=Math.abs(e)*(Math.abs(t)+Math.abs(r));return 1===e[2]?i-=1:i+=1,1===e[3]?i-=1:i+=1,1===e[4]?i-=1:i+=1,i<0&&(i=0),i},testApprox=function(){var e,t,r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g,x,v,y,_,E,k,S,w,A,T,M,C,P,I,N,O,L,q,D,R,B,U,G,F,z,V,j,H,X,W,Y,Z,Q,K,J,ee,te,re,ie,ne;for(A=0,h=(L=[2,3,5,6,7,8,10]).length;A<h;A++)for(r=L[A],i=0,b=(q=[2,3,5,6,7,8,10]).length;i<b;i++)r!==(s=q[i])&&(console.log("testapproxRadicals testing: 1 * sqrt( "+r+" ) / "+s),t=r/s,ee=Math.sqrt(r)/s,j=(z=approxRadicals(ee))[2]*Math.sqrt(z[3])/z[4],Math.abs(ee-j)>1e-15&&console.log("fail testapproxRadicals: 1 * sqrt( "+r+" ) / "+s+" . obtained: "+z));for(a=0,$=(D=[2,3,5,6,7,8,10]).length;a<$;a++)for(r=D[a],u=0,m=(R=[2,3,5,6,7,8,10]).length;u<m;u++)r!==(s=R[u])&&(console.log("testapproxRadicals testing with 4 digits: 1 * sqrt( "+r+" ) / "+s),t=r/s,ee=(C=Math.sqrt(r)/s).toFixed(4),j=(z=approxRadicals(ee))[2]*Math.sqrt(z[3])/z[4],Math.abs(C-j)>1e-15&&console.log("fail testapproxRadicals with 4 digits: 1 * sqrt( "+r+" ) / "+s+" . obtained: "+z));for(_=0,g=(B=[2,3,5,6,7,8,10]).length;_<g;_++)for(r=B[_],S=0,x=(U=[2,3,5,6,7,8,10]).length;S<x;S++)r!==(s=U[S])&&(console.log("testapproxRadicals testing: 1 * sqrt( "+r+" / "+s+" )"),t=r/s,ee=Math.sqrt(r/s),null!=(z=approxRadicals(ee))&&(j=z[2]*Math.sqrt(z[3]/z[4]),z[1]===approx_radicalOfRatio&&Math.abs(ee-j)>1e-15&&console.log("fail testapproxRadicals: 1 * sqrt( "+r+" / "+s+" ) . obtained: "+z)));for(T=0,v=(G=[1,2,3,5,6,7,8,10]).length;T<v;T++)for(r=G[T],P=0,y=(F=[1,2,3,5,6,7,8,10]).length;P<y;P++)s=F[P],1===r&&1===s||(console.log("testapproxRadicals testing with 4 digits:: 1 * sqrt( "+r+" / "+s+" )"),t=r/s,ee=(C=Math.sqrt(r/s)).toFixed(4),j=(z=approxRadicals(ee))[2]*Math.sqrt(z[3]/z[4]),z[1]===approx_radicalOfRatio&&Math.abs(C-j)>1e-15&&console.log("fail testapproxRadicals with 4 digits:: 1 * sqrt( "+r+" / "+s+" ) . obtained: "+z));for(r=N=1;N<=5;r=++N)for(s=H=1;H<=5;s=++H)console.log("testApproxAll testing: 1 * log("+r+" ) / "+s),t=r/s,ee=Math.log(r)/s,j=(z=approxAll(ee))[2]*Math.log(z[3])/z[4],Math.abs(ee-j)>1e-15&&console.log("fail testApproxAll: 1 * log("+r+" ) / "+s+" . obtained: "+z);for(r=W=1;W<=5;r=++W)for(s=Z=1;Z<=5;s=++Z)console.log("testApproxAll testing with 4 digits: 1 * log("+r+" ) / "+s),t=r/s,ee=(C=Math.log(r)/s).toFixed(4),j=(z=approxAll(ee))[2]*Math.log(z[3])/z[4],Math.abs(C-j)>1e-15&&console.log("fail testApproxAll with 4 digits: 1 * log("+r+" ) / "+s+" . obtained: "+z);for(r=K=1;K<=5;r=++K)for(s=te=1;te<=5;s=++te)console.log("testApproxAll testing: 1 * log("+r+" / "+s+" )"),t=r/s,ee=Math.log(r/s),j=(z=approxAll(ee))[2]*Math.log(z[3]/z[4]),Math.abs(ee-j)>1e-15&&console.log("fail testApproxAll: 1 * log("+r+" / "+s+" ) . obtained: "+z);for(r=ie=1;ie<=5;r=++ie)for(s=n=1;n<=5;s=++n)console.log("testApproxAll testing with 4 digits: 1 * log("+r+" / "+s+" )"),t=r/s,ee=(C=Math.log(r/s)).toFixed(4),j=(z=approxAll(ee))[2]*Math.log(z[3]/z[4]),Math.abs(C-j)>1e-15&&console.log("fail testApproxAll with 4 digits: 1 * log("+r+" / "+s+" ) . obtained: "+z);for(r=c=1;c<=2;r=++c)for(s=f=1;f<=12;s=++f)console.log("testApproxAll testing: 1 * (e ^ "+r+" ) / "+s),t=r/s,ee=Math.pow(Math.E,r)/s,j=(z=approxAll(ee))[2]*Math.pow(Math.E,z[3])/z[4],Math.abs(ee-j)>1e-15&&console.log("fail testApproxAll: 1 * (e ^ "+r+" ) / "+s+" . obtained: "+z);for(r=E=1;E<=2;r=++E)for(s=w=1;w<=12;s=++w)console.log("approxRationalsOfPowersOfE testing with 4 digits: 1 * (e ^ "+r+" ) / "+s),t=r/s,ee=(C=Math.pow(Math.E,r)/s).toFixed(4),j=(z=approxRationalsOfPowersOfE(ee))[2]*Math.pow(Math.E,z[3])/z[4],Math.abs(C-j)>1e-15&&console.log("fail approxRationalsOfPowersOfE with 4 digits: 1 * (e ^ "+r+" ) / "+s+" . obtained: "+z);for(r=M=1;M<=2;r=++M)for(s=I=1;I<=12;s=++I)console.log("testApproxAll testing: 1 * pi ^ "+r+" / "+s),t=r/s,ee=Math.pow(Math.PI,r)/s,j=(z=approxAll(ee))[2]*Math.pow(Math.PI,z[3])/z[4],Math.abs(ee-j)>1e-15&&console.log("fail testApproxAll: 1 * pi ^ "+r+" / "+s+" ) . obtained: "+z);for(r=O=1;O<=2;r=++O)for(s=X=1;X<=12;s=++X)console.log("approxRationalsOfPowersOfPI testing with 4 digits: 1 * pi ^ "+r+" / "+s),t=r/s,ee=(C=Math.pow(Math.PI,r)/s).toFixed(4),j=(z=approxRationalsOfPowersOfPI(ee))[2]*Math.pow(Math.PI,z[3])/z[4],Math.abs(C-j)>1e-15&&console.log("fail approxRationalsOfPowersOfPI with 4 digits: 1 * pi ^ "+r+" / "+s+" ) . obtained: "+z);for(r=Y=1;Y<=4;r=++Y)for(s=Q=1;Q<=4;s=++Q)console.log("testApproxAll testing: 1 * sin( "+r+"/"+s+" )"),t=r/s,ee=Math.sin(t),V=(z=approxAll(ee))[3]/z[4],j=z[2]*Math.sin(V),Math.abs(ee-j)>1e-15&&console.log("fail testApproxAll: 1 * sin( "+r+"/"+s+" ) . obtained: "+z);for(r=J=1;J<=4;r=++J)for(s=re=1;re<=4;s=++re)console.log("testApproxAll testing with 5 digits: 1 * sin( "+r+"/"+s+" )"),t=r/s,ee=(C=Math.sin(t)).toFixed(5),null==(z=approxAll(ee))&&console.log("fail testApproxAll with 5 digits: 1 * sin( "+r+"/"+s+" ) . obtained:  undefined "),V=z[3]/z[4],j=z[2]*Math.sin(V),(e=Math.abs(C-j))>1e-14&&console.log("fail testApproxAll with 5 digits: 1 * sin( "+r+"/"+s+" ) . obtained: "+z+" error: "+e);for(r=ne=1;ne<=4;r=++ne)for(s=o=1;o<=4;s=++o)console.log("testApproxAll testing with 4 digits: 1 * sin( "+r+"/"+s+" )"),t=r/s,ee=(C=Math.sin(t)).toFixed(4),null==(z=approxAll(ee))&&console.log("fail testApproxAll with 4 digits: 1 * sin( "+r+"/"+s+" ) . obtained:  undefined "),V=z[3]/z[4],j=z[2]*Math.sin(V),(e=Math.abs(C-j))>1e-14&&console.log("fail testApproxAll with 4 digits: 1 * sin( "+r+"/"+s+" ) . obtained: "+z+" error: "+e);for("0"!==approxAll(ee=0)[0]&&console.log("fail testApproxAll: 0"),"0"!==approxAll(ee=0)[0]&&console.log("fail testApproxAll: 0.0"),"0"!==approxAll(ee=0)[0]&&console.log("fail testApproxAll: 0.00"),"0"!==approxAll(ee=0)[0]&&console.log("fail testApproxAll: 0.000"),"0"!==approxAll(ee=0)[0]&&console.log("fail testApproxAll: 0.0000"),"1"!==approxAll(ee=1)[0]&&console.log("fail testApproxAll: 1"),"1"!==approxAll(ee=1)[0]&&console.log("fail testApproxAll: 1.0"),"1"!==approxAll(ee=1)[0]&&console.log("fail testApproxAll: 1.00"),"1"!==approxAll(ee=1)[0]&&console.log("fail testApproxAll: 1.000"),"1"!==approxAll(ee=1)[0]&&console.log("fail testApproxAll: 1.0000"),"1"!==approxAll(ee=1)[0]&&console.log("fail testApproxAll: 1.00000"),ee=Math.sqrt(2),"1 * sqrt( 2 ) / 1"!==approxAll(ee)[0]&&console.log("fail testApproxAll: Math.sqrt(2)"),"1 * sqrt( 2 ) / 1"!==approxAll(ee=1.41)[0]&&console.log("fail testApproxAll: 1.41"),"1 * sqrt( 2 ) / 1"!==approxRadicals(ee=1.4)[0]&&console.log("fail approxRadicals: 1.4"),"1 * log( 2 ) / 1"!==approxLogs(ee=.6)[0]&&console.log("fail approxLogs: 0.6"),"1 * log( 2 ) / 1"!==approxLogs(ee=.69)[0]&&console.log("fail approxLogs: 0.69"),"1 * log( 2 ) / 1"!==approxLogs(ee=.7)[0]&&console.log("fail approxLogs: 0.7"),"1 * log( 3 ) / 1"!==approxLogs(ee=1.09)[0]&&console.log("fail approxLogs: 1.09"),"1 * log( 3 ) / 1"!==approxAll(ee=1.09)[0]&&console.log("fail approxAll: 1.09"),"1 * log( 3 ) / 1"!==approxAll(ee=1.098)[0]&&console.log("fail approxAll: 1.098"),"1 * log( 3 ) / 1"!==approxAll(ee=1.1)[0]&&console.log("fail approxAll: 1.1"),"1 * log( 3 ) / 1"!==approxAll(ee=1.11)[0]&&console.log("fail approxAll: 1.11"),ee=Math.sqrt(3),"1 * sqrt( 3 ) / 1"!==approxAll(ee)[0]&&console.log("fail testApproxAll: Math.sqrt(3)"),"1"!==approxAll(ee=1)[0]&&console.log("fail testApproxAll: 1.0000"),"1 * (pi ^ 1 ) / 1 )"!==approxAll(ee=3.141592)[0]&&console.log("fail testApproxAll: 3.141592"),"10 * (pi ^ 1 ) / 1 )"!==approxAll(ee=31.41592)[0]&&console.log("fail testApproxAll: 31.41592"),"100 * (pi ^ 1 ) / 1 )"!==approxAll(ee=314.1592)[0]&&console.log("fail testApproxAll: 314.1592"),"10000000 * (pi ^ 1 ) / 1 )"!==approxAll(ee=31415926.53589793)[0]&&console.log("fail testApproxAll: 31415926.53589793"),ee=Math.sqrt(2),"2 * sin( 1/4 * pi )"!==approxTrigonometric(ee)[0]&&console.log("fail approxTrigonometric: Math.sqrt(2)"),ee=Math.sqrt(3),"2 * sin( 1/3 * pi )"!==approxTrigonometric(ee)[0]&&console.log("fail approxTrigonometric: Math.sqrt(3)"),ee=(Math.sqrt(6)-Math.sqrt(2))/4,"1 * sin( 1/12 * pi )"!==approxAll(ee)[0]&&console.log("fail testApproxAll: (Math.sqrt(6) - Math.sqrt(2))/4"),ee=Math.sqrt(2-Math.sqrt(2))/2,"1 * sin( 1/8 * pi )"!==approxAll(ee)[0]&&console.log("fail testApproxAll: Math.sqrt(2 - Math.sqrt(2))/2"),ee=(Math.sqrt(6)+Math.sqrt(2))/4,"1 * sin( 5/12 * pi )"!==approxAll(ee)[0]&&console.log("fail testApproxAll: (Math.sqrt(6) + Math.sqrt(2))/4"),ee=Math.sqrt(2+Math.sqrt(3))/2,"1 * sin( 5/12 * pi )"!==approxAll(ee)[0]&&console.log("fail testApproxAll: Math.sqrt(2 + Math.sqrt(3))/2"),ee=(Math.sqrt(5)-1)/4,"1 * sin( 1/10 * pi )"!==approxAll(ee)[0]&&console.log("fail testApproxAll: (Math.sqrt(5) - 1)/4"),ee=Math.sqrt(10-2*Math.sqrt(5))/4,"1 * sin( 1/5 * pi )"!==approxAll(ee)[0]&&console.log("fail testApproxAll: Math.sqrt(10 - 2*Math.sqrt(5))/4"),ee=Math.sin(Math.PI/7),"1 * sin( 1/7 * pi )"!==approxAll(ee)[0]&&console.log("fail testApproxAll: Math.sin(Math.PI/7)"),ee=Math.sin(Math.PI/9),"1 * sin( 1/9 * pi )"!==approxAll(ee)[0]&&console.log("fail testApproxAll: Math.sin(Math.PI/9)"),"6 * (pi ^ 5 ) / 1 )"!==approxRationalsOfPowersOfPI(ee=1836.15267)[0]&&console.log("fail approxRationalsOfPowersOfPI: 1836.15267"),r=l=1;l<=13;r=++l)for(s=p=1;p<=13;s=++p)console.log("approxTrigonometric testing: 1 * sin( "+r+"/"+s+" * pi )"),t=r/s,ee=Math.sin(Math.PI*t),V=(z=approxTrigonometric(ee))[3]/z[4],j=z[2]*Math.sin(Math.PI*V),Math.abs(ee-j)>1e-15&&console.log("fail approxTrigonometric: 1 * sin( "+r+"/"+s+" * pi ) . obtained: "+z);for(r=d=1;d<=13;r=++d)for(s=k=1;k<=13;s=++k)5===r&&11===s||6===r&&11===s||(console.log("approxTrigonometric testing with 4 digits: 1 * sin( "+r+"/"+s+" * pi )"),t=r/s,ee=(C=Math.sin(Math.PI*t)).toFixed(4),V=(z=approxTrigonometric(ee))[3]/z[4],j=z[2]*Math.sin(Math.PI*V),(e=Math.abs(C-j))>1e-14&&console.log("fail approxTrigonometric with 4 digits: 1 * sin( "+r+"/"+s+" * pi ) . obtained: "+z+" error: "+e));return console.log("testApprox done")},$.approxRadicals=approxRadicals,$.approxRationalsOfLogs=approxRationalsOfLogs,$.approxAll=approxAll,$.testApprox=testApprox,Eval_arccos=function(){return push(cadr(p1)),Eval(),arccos()},arccos=function(){var e;if(0,e=0,save(),p1=pop(),car(p1)===symbol(COS))return push(cadr(p1)),void restore();if(isdouble(p1))return 0,e=Math.acos(p1.d),push_double(e),void restore();if(isoneoversqrttwo(p1)||car(p1)===symbol(MULTIPLY)&&equalq(car(cdr(p1)),1,2)&&car(car(cdr(cdr(p1))))===symbol(POWER)&&equaln(car(cdr(car(cdr(cdr(p1))))),2)&&equalq(car(cdr(cdr(car(cdr(cdr(p1)))))),1,2))return evaluatingAsFloats?push_double(Math.PI/4):(push_rational(1,4),push_symbol(PI),multiply()),void restore();if(isminusoneoversqrttwo(p1)||car(p1)===symbol(MULTIPLY)&&equalq(car(cdr(p1)),-1,2)&&car(car(cdr(cdr(p1))))===symbol(POWER)&&equaln(car(cdr(car(cdr(cdr(p1))))),2)&&equalq(car(cdr(cdr(car(cdr(cdr(p1)))))),1,2))return evaluatingAsFloats?push_double(3*Math.PI/4):(push_rational(3,4),push_symbol(PI),multiply()),void restore();if(issqrtthreeovertwo(p1))return evaluatingAsFloats?push_double(Math.PI/6):(push_rational(1,6),push_symbol(PI),multiply()),void restore();if(isminussqrtthreeovertwo(p1))return evaluatingAsFloats?push_double(5*Math.PI/6):(push_rational(5,6),push_symbol(PI),multiply()),void restore();if(!isrational(p1))return push_symbol(ARCCOS),push(p1),list(2),void restore();switch(push(p1),push_integer(2),multiply(),pop_integer()){case-2:evaluatingAsFloats?push_double(Math.PI):push_symbol(PI);break;case-1:evaluatingAsFloats?push_double(2*Math.PI/3):(push_rational(2,3),push_symbol(PI),multiply());break;case 0:evaluatingAsFloats?push_double(Math.PI/2):(push_rational(1,2),push_symbol(PI),multiply());break;case 1:evaluatingAsFloats?push_double(Math.PI/3):(push_rational(1,3),push_symbol(PI),multiply());break;case 2:evaluatingAsFloats?push_double(0):push(zero);break;default:push_symbol(ARCCOS),push(p1),list(2)}return restore()},Eval_arccosh=function(){return push(cadr(p1)),Eval(),arccosh()},arccosh=function(){var e;return e=0,save(),p1=pop(),car(p1)===symbol(COSH)?(push(cadr(p1)),void restore()):isdouble(p1)?((e=p1.d)<1&&stop("arccosh function argument is less than 1.0"),e=Math.log(e+Math.sqrt(e*e-1)),push_double(e),void restore()):isplusone(p1)?(push(zero),void restore()):(push_symbol(ARCCOSH),push(p1),list(2),restore())},Eval_arcsin=function(){return push(cadr(p1)),Eval(),arcsin()},arcsin=function(){var e;if(0,e=0,save(),p1=pop(),car(p1)===symbol(SIN))return push(cadr(p1)),void restore();if(isdouble(p1))return 0,e=Math.asin(p1.d),push_double(e),void restore();if(isoneoversqrttwo(p1)||car(p1)===symbol(MULTIPLY)&&equalq(car(cdr(p1)),1,2)&&car(car(cdr(cdr(p1))))===symbol(POWER)&&equaln(car(cdr(car(cdr(cdr(p1))))),2)&&equalq(car(cdr(cdr(car(cdr(cdr(p1)))))),1,2))return push_rational(1,4),push_symbol(PI),multiply(),void restore();if(isminusoneoversqrttwo(p1)||car(p1)===symbol(MULTIPLY)&&equalq(car(cdr(p1)),-1,2)&&car(car(cdr(cdr(p1))))===symbol(POWER)&&equaln(car(cdr(car(cdr(cdr(p1))))),2)&&equalq(car(cdr(cdr(car(cdr(cdr(p1)))))),1,2))return evaluatingAsFloats?push_double(-Math.PI/4):(push_rational(-1,4),push_symbol(PI),multiply()),void restore();if(issqrtthreeovertwo(p1))return evaluatingAsFloats?push_double(Math.PI/3):(push_rational(1,3),push_symbol(PI),multiply()),void restore();if(isminussqrtthreeovertwo(p1))return evaluatingAsFloats?push_double(-Math.PI/3):(push_rational(-1,3),push_symbol(PI),multiply()),void restore();if(!isrational(p1))return push_symbol(ARCSIN),push(p1),list(2),void restore();switch(push(p1),push_integer(2),multiply(),pop_integer()){case-2:evaluatingAsFloats?push_double(-Math.PI/2):(push_rational(-1,2),push_symbol(PI),multiply());break;case-1:evaluatingAsFloats?push_double(-Math.PI/6):(push_rational(-1,6),push_symbol(PI),multiply());break;case 0:evaluatingAsFloats?push_double(0):push(zero);break;case 1:evaluatingAsFloats?push_double(Math.PI/6):(push_rational(1,6),push_symbol(PI),multiply());break;case 2:evaluatingAsFloats?push_double(Math.PI/2):(push_rational(1,2),push_symbol(PI),multiply());break;default:push_symbol(ARCSIN),push(p1),list(2)}return restore()},Eval_arcsinh=function(){return push(cadr(p1)),Eval(),arcsinh()},arcsinh=function(){var e;return e=0,save(),p1=pop(),car(p1)===symbol(SINH)?(push(cadr(p1)),void restore()):isdouble(p1)?(e=p1.d,e=Math.log(e+Math.sqrt(e*e+1)),push_double(e),void restore()):isZeroAtomOrTensor(p1)?(push(zero),void restore()):(push_symbol(ARCSINH),push(p1),list(2),restore())},Eval_arctan=function(){return push(cadr(p1)),Eval(),arctan()},arctan=function(){var e;return e=0,save(),p1=pop(),car(p1)===symbol(TAN)?(push(cadr(p1)),void restore()):isdouble(p1)?(0,e=Math.atan(p1.d),push_double(e),void restore()):isZeroAtomOrTensor(p1)?(push(zero),void restore()):isnegative(p1)?(push(p1),negate(),arctan(),negate(),void restore()):Find(p1,symbol(SIN))&&Find(p1,symbol(COS))&&(push(p1),numerator(),p2=pop(),push(p1),denominator(),p3=pop(),car(p2)===symbol(SIN)&&car(p3)===symbol(COS)&&equal(cadr(p2),cadr(p3)))?(push(cadr(p2)),void restore()):car(p1)===symbol(POWER)&&equaln(cadr(p1),3)&&equalq(caddr(p1),-1,2)||car(p1)===symbol(MULTIPLY)&&equalq(car(cdr(p1)),1,3)&&car(car(cdr(cdr(p1))))===symbol(POWER)&&equaln(car(cdr(car(cdr(cdr(p1))))),3)&&equalq(car(cdr(cdr(car(cdr(cdr(p1)))))),1,2)?(push_rational(1,6),evaluatingAsFloats?push_double(Math.PI):push(symbol(PI)),multiply(),void restore()):equaln(p1,1)?(push_rational(1,4),evaluatingAsFloats?push_double(Math.PI):push(symbol(PI)),multiply(),void restore()):car(p1)===symbol(POWER)&&equaln(cadr(p1),3)&&equalq(caddr(p1),1,2)?(push_rational(1,3),evaluatingAsFloats?push_double(Math.PI):push(symbol(PI)),multiply(),void restore()):(push_symbol(ARCTAN),push(p1),list(2),restore())},Eval_arctanh=function(){return push(cadr(p1)),Eval(),arctanh()},arctanh=function(){var e;return e=0,save(),p1=pop(),car(p1)===symbol(TANH)?(push(cadr(p1)),void restore()):isdouble(p1)?(((e=p1.d)<-1||e>1)&&stop("arctanh function argument is not in the interval [-1,1]"),e=Math.log((1+e)/(1-e))/2,push_double(e),void restore()):isZeroAtomOrTensor(p1)?(push(zero),void restore()):(push_symbol(ARCTANH),push(p1),list(2),restore())},DEBUG_ARG=!1,Eval_arg=function(){return push(cadr(p1)),Eval(),arg()},arg=function(){return save(),p1=pop(),push(p1),numerator(),yyarg(),push(p1),denominator(),yyarg(),subtract(),restore()},yyarg=function(){if(save(),p1=pop(),ispositivenumber(p1)||p1===symbol(PI))isdouble(p1)||evaluatingAsFloats?push_double(0):push_integer(0);else if(isnegativenumber(p1))isdouble(p1)||evaluatingAsFloats?push_double(Math.PI):push(symbol(PI)),negate();else if(issymbol(p1))push_symbol(ARG),push(p1),list(2);else if(car(p1)===symbol(POWER)&&equaln(cadr(p1),-1))evaluatingAsFloats?push_double(Math.PI):push(symbol(PI)),push(caddr(p1)),multiply();else if(car(p1)===symbol(POWER)&&cadr(p1)===symbol(E))push(caddr(p1)),imag();else if(car(p1)===symbol(POWER)&&isoneovertwo(caddr(p1)))DEBUG_ARG&&console.log("arg of a sqrt: "+p1),push(cadr(p1)),arg(),DEBUG_ARG&&console.log(" = 1/2 * "+stack[tos-1]),push(caddr(p1)),multiply();else if(car(p1)===symbol(MULTIPLY))for(push_integer(0),p1=cdr(p1);iscons(p1);)push(car(p1)),arg(),add(),p1=cdr(p1);else car(p1)===symbol(ADD)?(push(p1),rect(),p1=pop(),push(p1),real(),p2=pop(),push(p1),imag(),p3=pop(),isZeroAtomOrTensor(p2)?(evaluatingAsFloats?push_double(Math.PI):push(symbol(PI)),isnegative(p3)&&negate()):(push(p3),push(p2),divide(),arctan(),isnegative(p2)&&(evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),isnegative(p3)?subtract():add()))):isZeroAtomOrTensor(get_binding(symbol(ASSUME_REAL_VARIABLES)))?(push_symbol(ARG),push(p1),list(2)):push_integer(0);return restore()},bake=function(){var e,t,r,i,n,o;if(e=0,0,0,0,0,0,expanding++,save(),p1=pop(),t=ispolyexpandedform(p1,symbol(SYMBOL_S)),r=ispolyexpandedform(p1,symbol(SYMBOL_T)),i=ispolyexpandedform(p1,symbol(SYMBOL_X)),n=ispolyexpandedform(p1,symbol(SYMBOL_Y)),o=ispolyexpandedform(p1,symbol(SYMBOL_Z)),1===t&&0===r&&0===i&&0===n&&0===o)p2=symbol(SYMBOL_S),bake_poly();else if(0===t&&1===r&&0===i&&0===n&&0===o)p2=symbol(SYMBOL_T),bake_poly();else if(0===t&&0===r&&1===i&&0===n&&0===o)p2=symbol(SYMBOL_X),bake_poly();else if(0===t&&0===r&&0===i&&1===n&&0===o)p2=symbol(SYMBOL_Y),bake_poly();else if(0===t&&0===r&&0===i&&0===n&&1===o)p2=symbol(SYMBOL_Z),bake_poly();else if(iscons(p1)&&car(p1)!==symbol(FOR)){for(e=tos,push(car(p1)),p1=cdr(p1);iscons(p1);)push(car(p1)),bake(),p1=cdr(p1);list(tos-e)}else push(p1);return restore(),expanding--},polyform=function(){var e;if(e=0,save(),p2=pop(),p1=pop(),ispolyexpandedform(p1,p2))bake_poly();else if(iscons(p1)){for(e=tos,push(car(p1)),p1=cdr(p1);iscons(p1);)push(car(p1)),push(p2),polyform(),p1=cdr(p1);list(tos-e)}else push(p1);return restore()},bake_poly=function(){var e,t,r,i,n,o;for(0,r=0,0,0,e=tos,i=coeff(p2,p1),t=tos,r=o=i-1;o>=0;r=o+=-1)p1=stack[e+r],bake_poly_term(r);return(n=tos-t)>1&&(list(n),push(symbol(ADD)),swap(),cons()),p1=pop(),moveTos(tos-i),push(p1)},bake_poly_term=function(e){var t,r;if(0,0,!isZeroAtomOrTensor(p1)){if(0!==e){if(t=tos,car(p1)===symbol(MULTIPLY))for(p1=cdr(p1);iscons(p1);)push(car(p1)),p1=cdr(p1);else equaln(p1,1)||push(p1);return 1===e?push(p2):(push(symbol(POWER)),push(p2),push_integer(e),list(3)),(r=tos-t)>1?(list(r),push(symbol(MULTIPLY)),swap(),cons()):void 0}if(car(p1)===symbol(ADD))for(p1=cdr(p1);iscons(p1);)push(car(p1)),p1=cdr(p1);else push(p1)}},Eval_besselj=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),besselj()},besselj=function(){return save(),yybesselj(),restore()},yybesselj=function(){var e,t;if(e=0,0,p2=pop(),p1=pop(),push(p2),t=pop_integer(),isdouble(p1)&&!isNaN(t))return e=jn(t,p1.d),void push_double(e);if(isZeroAtomOrTensor(p1)&&isZeroAtomOrTensor(p2))push_integer(1);else{if(!isZeroAtomOrTensor(p1)||isNaN(t))return p2.k===NUM&&MEQUAL(p2.q.b,2)?MEQUAL(p2.q.a,1)?(evaluatingAsFloats?push_double(2/Math.PI):(push_integer(2),push_symbol(PI),divide()),push(p1),divide(),push_rational(1,2),power(),push(p1),sine(),void multiply()):MEQUAL(p2.q.a,-1)?(evaluatingAsFloats?push_double(2/Math.PI):(push_integer(2),push_symbol(PI),divide()),push(p1),divide(),push_rational(1,2),power(),push(p1),cosine(),void multiply()):(push_integer(MSIGN(p2.q.a)),p3=pop(),push_integer(2),push(p1),divide(),push(p2),push(p3),subtract(),multiply(),push(p1),push(p2),push(p3),subtract(),besselj(),multiply(),push(p1),push(p2),push_integer(2),push(p3),multiply(),subtract(),besselj(),void subtract()):isnegativeterm(p1)?(push(p1),negate(),push(p2),power(),push(p1),push(p2),negate(),power(),multiply(),push_symbol(BESSELJ),push(p1),negate(),push(p2),list(3),void multiply()):isnegativeterm(p2)?(push_integer(-1),push(p2),power(),push_symbol(BESSELJ),push(p1),push(p2),negate(),list(3),void multiply()):(push(symbol(BESSELJ)),push(p1),push(p2),list(3));push_integer(0)}},Eval_bessely=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),bessely()},bessely=function(){return save(),yybessely(),restore()},yybessely=function(){var e,t;return e=0,0,p2=pop(),p1=pop(),push(p2),t=pop_integer(),isdouble(p1)&&!isNaN(t)?(e=yn(t,p1.d),void push_double(e)):isnegativeterm(p2)?(push_integer(-1),push(p2),power(),push_symbol(BESSELY),push(p1),push(p2),negate(),list(3),void multiply()):(push_symbol(BESSELY),push(p1),push(p2),void list(3))},mint=function(e){return bigInt(e)},isSmall=function(e){return e.geq(Number.MIN_SAFE_INTEGER)&&e.leq(Number.MAX_SAFE_INTEGER)},setSignTo=function(e,t){if(e.isPositive()){if(t<0)return e.multiply(bigInt(-1))}else if(t>0)return e.multiply(bigInt(-1));return e},makeSignSameAs=function(e,t){if(e.isPositive()){if(t.isNegative())return e.multiply(bigInt(-1))}else if(t.isPositive())return e.multiply(bigInt(-1));return e},makePositive=function(e){return e.isNegative()?e.multiply(bigInt(-1)):e},add_numbers=function(){var e,t;if(e=1,t=1,!isrational(stack[tos-1])||!isrational(stack[tos-2]))return save(),p2=pop(),p1=pop(),e=isdouble(p1)?p1.d:convert_rational_to_double(p1),t=isdouble(p2)?p2.d:convert_rational_to_double(p2),push_double(e+t),restore();qadd()},subtract_numbers=function(){var e,t;if(e=0,t=0,!isrational(stack[tos-1])||!isrational(stack[tos-2]))return save(),p2=pop(),p1=pop(),e=isdouble(p1)?p1.d:convert_rational_to_double(p1),t=isdouble(p2)?p2.d:convert_rational_to_double(p2),push_double(e-t),restore();qsub()},multiply_numbers=function(){var e,t;if(e=0,t=0,!isrational(stack[tos-1])||!isrational(stack[tos-2]))return save(),p2=pop(),p1=pop(),e=isdouble(p1)?p1.d:convert_rational_to_double(p1),t=isdouble(p2)?p2.d:convert_rational_to_double(p2),push_double(e*t),restore();qmul()},divide_numbers=function(){var e,t;if(e=0,t=0,!isrational(stack[tos-1])||!isrational(stack[tos-2]))return save(),p2=pop(),p1=pop(),isZeroAtomOrTensor(p2)&&stop("divide by zero"),e=isdouble(p1)?p1.d:convert_rational_to_double(p1),t=isdouble(p2)?p2.d:convert_rational_to_double(p2),push_double(e/t),restore();qdiv()},invert_number=function(){var e,t;return save(),p1=pop(),isZeroAtomOrTensor(p1)&&stop("divide by zero"),isdouble(p1)?(push_double(1/p1.d),void restore()):(e=bigInt(p1.q.a),t=bigInt(p1.q.b),t=makeSignSameAs(t,e),e=setSignTo(e,1),(p1=new U).k=NUM,p1.q.a=t,p1.q.b=e,push(p1),restore())},compare_rationals=function(e,t){var r,i;return 0,r=mmul(e.q.a,t.q.b),i=mmul(e.q.b,t.q.a),mcmp(r,i)},compare_numbers=function(e,t){var r,i;return r=0,i=0,isrational(e)&&isrational(t)?compare_rationals(e,t):(r=isdouble(e)?e.d:convert_rational_to_double(e))<(i=isdouble(t)?t.d:convert_rational_to_double(t))?-1:r>i?1:0},negate_number=function(){if(save(),p1=pop(),isZeroAtomOrTensor(p1))return push(p1),void restore();switch(p1.k){case NUM:(p2=new U).k=NUM,p2.q.a=bigInt(p1.q.a.multiply(bigInt.minusOne)),p2.q.b=bigInt(p1.q.b),push(p2);break;case DOUBLE:push_double(-p1.d);break;default:stop("bug caught in mp_negate_number")}return restore()},bignum_truncate=function(){var e;return save(),p1=pop(),e=mdiv(p1.q.a,p1.q.b),(p1=new U).k=NUM,p1.q.a=e,p1.q.b=bigInt(1),push(p1),restore()},mp_numerator=function(){return save(),(p1=pop()).k!==NUM?(push(one),void restore()):((p2=new U).k=NUM,p2.q.a=bigInt(p1.q.a),p2.q.b=bigInt(1),push(p2),restore())},mp_denominator=function(){return save(),(p1=pop()).k!==NUM?(push(one),void restore()):((p2=new U).k=NUM,p2.q.a=bigInt(p1.q.b),p2.q.b=bigInt(1),push(p2),restore())},bignum_power_number=function(e){var t,r,i;return save(),p1=pop(),t=mpow(p1.q.a,Math.abs(e)),r=mpow(p1.q.b,Math.abs(e)),e<0&&(i=t,t=makeSignSameAs(t=r,r=i),r=setSignTo(r,1)),(p1=new U).k=NUM,p1.q.a=t,p1.q.b=r,push(p1),restore()},convert_bignum_to_double=function(e){return e.toJSNumber()},convert_rational_to_double=function(e){var t;return e.q,(t=e.q.a.divmod(e.q.b)).quotient+t.remainder/e.q.b.toJSNumber()},new_integer=function(e){var t;return(t=new U).k=NUM,t.q.a=bigInt(e),t.q.b=bigInt(1),t},push_integer=function(e){return DEBUG&&console.log("pushing integer "+e),push(new_integer(e))},push_double=function(e){return save(),(p1=new U).k=DOUBLE,p1.d=e,push(p1),restore()},push_rational=function(e,t){var r;return(r=new U).k=NUM,r.q.a=bigInt(e),r.q.b=bigInt(t),push(r)},pop_integer=function(){var e;switch(e=NaN,save(),(p1=pop()).k){case NUM:isinteger(p1)&&isSmall(p1.q.a)&&(e=p1.q.a.toJSNumber());break;case DOUBLE:DEBUG&&console.log("popping integer but double is found"),Math.floor(p1.d)===p1.d&&(DEBUG&&console.log("...altough it's an integer"),e=p1.d)}return restore(),e},print_double=function(e,t){var r,i;return r="",i=doubleToReasonableString(e.d),r+=print_str(1===t&&"-"===i?i+1:i)},bignum_scan_integer=function(e){var t,r,i;return save(),"+"!==(i=e[r=0])&&"-"!==i||r++,t=bigInt(e.substring(r)),(p1=new U).k=NUM,p1.q.a=t,p1.q.b=bigInt(1),push(p1),"-"===i&&negate(),restore()},bignum_scan_float=function(e){return push_double(parseFloat(e))},print_number=function(e,t){var r,i,n;switch(i="",n="","",e.k){case NUM:r=e.q.a.toString(),t||"-"===r[0]&&(r=r.substring(1)),printMode===PRINTMODE_LATEX&&isfraction(e)&&(r="\\frac{"+r+"}{"),i+=r,isfraction(e)&&(printMode!==PRINTMODE_LATEX&&(i+="/"),n=e.q.b.toString(),printMode===PRINTMODE_LATEX&&(n+="}"),i+=n);break;case DOUBLE:r=doubleToReasonableString(e.d),t||"-"===r[0]&&(r=r.substring(1)),i+=r}return i},gcd_numbers=function(){return save(),p2=pop(),p1=pop(),(p3=new U).k=NUM,p3.q.a=mgcd(p1.q.a,p2.q.a),p3.q.b=mgcd(p1.q.b,p2.q.b),p3.q.a=setSignTo(p3.q.a,1),push(p3),restore()},pop_double=function(){var e;switch(e=0,save(),(p1=pop()).k){case NUM:e=convert_rational_to_double(p1);break;case DOUBLE:e=p1.d;break;default:e=0}return restore(),e},bignum_float=function(){var e;return 0,e=convert_rational_to_double(pop()),push_double(e)},bignum_factorial=function(e){return save(),(p1=new U).k=NUM,p1.q.a=__factorial(e),p1.q.b=bigInt(1),push(p1),restore()},__factorial=function(e){var t,r,i,n,o;if(i=0,0===e||1===e)return t=bigInt(1);if(t=bigInt(2),r=bigInt(0),3<=e)for(i=n=3,o=e;3<=o?n<=o:n>=o;i=3<=o?++n:--n)r=bigInt(i),t=mmul(t,r);return t},mask=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152,4194304,8388608,16777216,33554432,67108864,134217728,268435456,536870912,1073741824,2147483648],mp_set_bit=function(e,t){return console.log("not implemented yet"),e[t/32]|=mask[t%32]},mp_clr_bit=function(e,t){return console.log("not implemented yet"),e[t/32]&=~mask[t%32]},mshiftright=function(e){return e.shiftRight()},Eval_binomial=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),binomial()},binomial=function(){return save(),ybinomial(),restore()},ybinomial=function(){if(p2=pop(),p1=pop(),0!==BINOM_check_args())return push(p1),factorial(),push(p2),factorial(),divide(),push(p1),push(p2),subtract(),factorial(),divide();push(zero)},BINOM_check_args=function(){return isNumericAtom(p1)&&lessp(p1,zero)||isNumericAtom(p2)&&lessp(p2,zero)||isNumericAtom(p1)&&isNumericAtom(p2)&&lessp(p1,p2)?0:1},Eval_ceiling=function(){return push(cadr(p1)),Eval(),ceiling()},ceiling=function(){return save(),yyceiling(),restore()},yyceiling=function(){var e;return e=0,p1=pop(),isNumericAtom(p1)?isdouble(p1)?(e=Math.ceil(p1.d),void push_double(e)):isinteger(p1)?void push(p1):((p3=new U).k=NUM,p3.q.a=mdiv(p1.q.a,p1.q.b),p3.q.b=mint(1),push(p3),isnegativenumber(p1)?1:(push_integer(1),add())):(push_symbol(CEILING),push(p1),void list(2))},Eval_choose=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),choose()},choose=function(){return save(),p2=pop(),p1=pop(),0===choose_check_args()?(push_integer(0),void restore()):(push(p1),factorial(),push(p2),factorial(),divide(),push(p1),push(p2),subtract(),factorial(),divide(),restore())},choose_check_args=function(){return isNumericAtom(p1)&&lessp(p1,zero)||isNumericAtom(p2)&&lessp(p2,zero)||isNumericAtom(p1)&&isNumericAtom(p2)&&lessp(p1,p2)?0:1},Eval_circexp=function(){return push(cadr(p1)),Eval(),circexp(),Eval()},circexp=function(){var e,t,r,i;if(t=0,e=0,save(),p1=pop(),car(p1)===symbol(COS))return push(cadr(p1)),expcos(),void restore();if(car(p1)===symbol(SIN))return push(cadr(p1)),expsin(),void restore();if(car(p1)===symbol(TAN))return p1=cadr(p1),push(imaginaryunit),push(p1),multiply(),exponential(),p2=pop(),push(imaginaryunit),push(p1),multiply(),negate(),exponential(),p3=pop(),push(p3),push(p2),subtract(),push(imaginaryunit),multiply(),push(p2),push(p3),add(),divide(),void restore();if(car(p1)===symbol(COSH))return p1=cadr(p1),push(p1),exponential(),push(p1),negate(),exponential(),add(),push_rational(1,2),multiply(),void restore();if(car(p1)===symbol(SINH))return p1=cadr(p1),push(p1),exponential(),push(p1),negate(),exponential(),subtract(),push_rational(1,2),multiply(),void restore();if(car(p1)===symbol(TANH))return p1=cadr(p1),push(p1),push_integer(2),multiply(),exponential(),p1=pop(),push(p1),push_integer(1),subtract(),push(p1),push_integer(1),add(),divide(),void restore();if(iscons(p1)){for(e=tos;iscons(p1);)push(car(p1)),circexp(),p1=cdr(p1);return list(tos-e),void restore()}if(p1.k===TENSOR){for(push(p1),copy_tensor(),t=r=0,i=(p1=pop()).tensor.nelem;0<=i?r<i:r>i;t=0<=i?++r:--r)push(p1.tensor.elem[t]),circexp(),p1.tensor.elem[t]=pop();return push(p1),void restore()}return push(p1),restore()},Eval_clearall=function(){return do_clearall(),push(symbol(NIL))},do_clearall=function(){return 0===test_flag&&clear_term(),do_clearPatterns(),clear_symbols(),defn(),codeGen=!1},clearall=function(){return run("clearall")},clearRenamedVariablesToAvoidBindingToExternalScope=function(){var e,t,r,i;for(i=[],e=t=0,r=symtab.length;0<=r?t<r:t>r;e=0<=r?++t:--t)-1!==symtab[e].printname.indexOf("AVOID_BINDING_TO_EXTERNAL_SCOPE_VALUE")?(symtab[e].k=SYM,symtab[e].printname="",binding[e]=symtab[e],i.push(isSymbolReclaimable[e]=!0)):i.push(void 0);return i},Eval_clear=function(){var e,t;for(p2=cdr(p1);iscons(p2);)(t=car(p2)).k!==SYM&&stop("symbol error"),e=symtab.indexOf(t),symtab[e].k=SYM,symtab[e].printname="",binding[e]=symtab[e],isSymbolReclaimable[e]=!0,p2=cdr(p2);return push(symbol(NIL))},DEBUG_CLOCKFORM=!1,Eval_clock=function(){return push(cadr(p1)),Eval(),clockform()},clockform=function(){return save(),p1=pop(),push(p1),abs(),DEBUG_CLOCKFORM&&console.log("clockform: abs of "+p1+" : "+stack[tos-1]),push_symbol(POWER),push_integer(-1),push(p1),arg(),DEBUG_CLOCKFORM&&console.log("clockform: arg of "+p1+" : "+stack[tos-1]),evaluatingAsFloats?push_double(Math.PI):push(symbol(PI)),divide(),DEBUG_CLOCKFORM&&console.log("clockform: divide : "+stack[tos-1]),list(3),DEBUG_CLOCKFORM&&console.log("clockform: power : "+stack[tos-1]),multiply(),DEBUG_CLOCKFORM&&console.log("clockform: multiply : "+stack[tos-1]),restore()},Eval_coeff=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),push(cadddr(p1)),Eval(),p3=pop(),p2=pop(),p1=pop(),p3===symbol(NIL)&&(p3=p2,p2=symbol(SYMBOL_X)),push(p1),push(p2),push(p3),power(),divide(),push(p2),filter()},coeff=function(e,t){var r,i,n,o;for(DEBUG&&console.log("coeff: "+e+" "+t),r=0;;){if(push(t),push(e),push(zero),subst(),Eval(),i=pop(),push(i),r++,push(t),push(i),subtract(),n=pop(),equal(n,zero))return DEBUG&&console.log("coeff: result: "+r),r;push(n),push(e),o=expanding,expanding=1,divide(),expanding=o,t=pop()}},Eval_cofactor=function(){var e,t,r;return 0,0,0,push(cadr(p1)),Eval(),p2=pop(),istensor(p2)&&2===p2.tensor.ndim&&p2.tensor.dim[0]===p2.tensor.dim[1]?1:stop("cofactor: 1st arg: square matrix expected"),r=p2.tensor.dim[0],push(caddr(p1)),Eval(),((e=pop_integer())<1||e>r)&&stop("cofactor: 2nd arg: row index expected"),push(cadddr(p1)),Eval(),((t=pop_integer())<1||t>r)&&stop("cofactor: 3rd arg: column index expected"),cofactor(p2,r,e-1,t-1)},cofactor=function(e,t,r,i){var n,o,s,a,c,l;for(n=0,s=0,n=a=0,c=t;0<=c?a<c:a>c;n=0<=c?++a:--a)for(s=o=0,l=t;0<=l?o<l:o>l;s=0<=l?++o:--o)n!==r&&s!==i&&push(e.tensor.elem[t*n+s]);if(determinant(t-1),(r+i)%2)return negate()},Eval_condense=function(){return push(cadr(p1)),Eval(),Condense()},Condense=function(){var e;return e=expanding,expanding=0,save(),yycondense(),restore(),expanding=e},yycondense=function(){if(p1=pop(),car(p1)===symbol(ADD)){for(p3=cdr(p1),push(car(p3)),p3=cdr(p3);iscons(p3);)push(car(p3)),DEBUG&&console.log("calculating gcd between: "+stack[tos-1]+" and "+stack[tos-2]),gcd(),DEBUG&&console.log("partial gcd: "+stack[tos-1]),p3=cdr(p3);for(DEBUG&&console.log("condense: this is the gcd of all the terms: "+stack[tos-1]),inverse(),p2=pop(),push(zero),p3=cdr(p1);iscons(p3);)push(p2),push(car(p3)),multiply_noexpand(),add(),p3=cdr(p3);return yyexpand(),push(p2),divide()}push(p1)},Eval_conj=function(){return push(cadr(p1)),Eval(),p1=pop(),push(p1),Find(p1,imaginaryunit)?conjugate():(polar(),conjugate(),clockform())},conjugate=function(){return push(imaginaryunit),push(imaginaryunit),negate(),subst(),Eval()},consCount=0,cons=function(){var e;return consCount++,DEBUG&&console.log("cons tos: "+tos+" # "+consCount),(e=new U).k=CONS,e.cons.cdr=pop(),e===e.cons.cdr&&console.log("something wrong p == its cdr"),e.cons.car=pop(),push(e)},Eval_contract=function(){return push(cadr(p1)),Eval(),cddr(p1)===symbol(NIL)?(push_integer(1),push_integer(2)):(push(caddr(p1)),Eval(),push(cadddr(p1)),Eval()),contract()},contract=function(){return save(),yycontract(),restore()},yycontract=function(){var e,t,r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g,x,v,y,_,E,k,S,w;if(n=0,o=0,a=0,l=0,p=0,f=0,0,0,m=0,t=[],r=[],p3=pop(),p2=pop(),p1=pop(),!istensor(p1))return isZeroAtomOrTensor(p1)||stop("contract: tensor expected, 1st arg is not a tensor"),void push(zero);for(push(p2),p=pop_integer(),push(p3),f=pop_integer(),$=p1.tensor.ndim,(p<1||p>$||f<1||f>$||p===f||p1.tensor.dim[p-1]!==p1.tensor.dim[f-1])&&stop("contract: index out of range"),p--,f--,h=p1.tensor.dim[p],m=1,o=g=0,v=$;0<=v?g<v:g>v;o=0<=v?++g:--g)o!==p&&o!==f&&(m*=p1.tensor.dim[o]);for((p2=alloc_tensor(m)).tensor.ndim=$-2,a=0,o=s=0,y=$;0<=y?s<y:s>y;o=0<=y?++s:--s)o!==p&&o!==f&&(p2.tensor.dim[a++]=p1.tensor.dim[o]);for(e=p1.tensor.elem,i=p2.tensor.elem,o=c=0,_=$;0<=_?c<_:c>_;o=0<=_?++c:--c)t[o]=0,r[o]=p1.tensor.dim[o];for(o=u=0,E=m;0<=E?u<E:u>E;o=0<=E?++u:--u){for(push(zero),a=d=0,k=h;0<=k?d<k:d>k;a=0<=k?++d:--d){for(t[p]=a,t[f]=a,n=0,l=b=0,S=$;0<=S?b<S:b>S;l=0<=S?++b:--b)n=n*r[l]+t[l];push(e[n]),add()}for(i[o]=pop(),a=x=w=$-1;w<=0?x<=0:x>=0;a=w<=0?++x:--x)if(a!==p&&a!==f){if(++t[a]<r[a])break;t[a]=0}}return push(1===m?i[0]:p2)},Eval_cos=function(){return push(cadr(p1)),Eval(),cosine()},cosine=function(){return save(),p1=pop(),car(p1)===symbol(ADD)?cosine_of_angle_sum():cosine_of_angle(),restore()},cosine_of_angle_sum=function(){for(p2=cdr(p1);iscons(p2);){if(p4=car(p2),isnpi(p4))return push(p1),push(p4),subtract(),p3=pop(),push(p3),cosine(),push(p4),cosine(),multiply(),push(p3),sine(),push(p4),sine(),multiply(),void subtract();p2=cdr(p2)}return cosine_of_angle()},cosine_of_angle=function(){var e,t;if(car(p1)!==symbol(ARCCOS)){if(isdouble(p1))return e=Math.cos(p1.d),Math.abs(e)<1e-10&&(e=0),void push_double(e);if(isnegative(p1)&&(push(p1),negate(),p1=pop()),car(p1)===symbol(ARCTAN))return push_integer(1),push(cadr(p1)),push_integer(2),power(),add(),push_rational(-1,2),void power();if(push(p1),push_integer(180),multiply(),evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),divide(),(t=pop_integer())<0||isNaN(t))return push(symbol(COS)),push(p1),void list(2);switch(t%360){case 90:case 270:return push_integer(0);case 60:case 300:return push_rational(1,2);case 120:case 240:return push_rational(-1,2);case 45:case 315:return push_rational(1,2),push_integer(2),push_rational(1,2),power(),multiply();case 135:case 225:return push_rational(-1,2),push_integer(2),push_rational(1,2),power(),multiply();case 30:case 330:return push_rational(1,2),push_integer(3),push_rational(1,2),power(),multiply();case 150:case 210:return push_rational(-1,2),push_integer(3),push_rational(1,2),power(),multiply();case 0:return push_integer(1);case 180:return push_integer(-1);default:return push(symbol(COS)),push(p1),list(2)}}else push(cadr(p1))},Eval_cosh=function(){return push(cadr(p1)),Eval(),ycosh()},ycosh=function(){return save(),yycosh(),restore()},yycosh=function(){var e;if(e=0,p1=pop(),car(p1)!==symbol(ARCCOSH)){if(isdouble(p1))return e=Math.cosh(p1.d),Math.abs(e)<1e-10&&(e=0),void push_double(e);if(!isZeroAtomOrTensor(p1))return push_symbol(COSH),push(p1),list(2);push(one)}else push(cadr(p1))},Eval_decomp=function(){var e;return save(),console.log("Eval_decomp is being called!!!!!!!!!!!!!!!!!!!!"),e=tos,push(symbol(NIL)),push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),(p1=pop())===symbol(NIL)?guess():push(p1),decomp(!1),list(tos-e),restore()},pushTryNotToDuplicate=function(e){if(!(tos>0&&(DEBUG&&console.log("comparing "+e+" to: "+stack[tos-1]),equal(e,stack[tos-1]))))return push(e);DEBUG&&console.log("skipping "+e+" because it's already on stack ")},decomp=function(e){if(save(),p2=pop(),p1=pop(),DEBUG&&console.log("DECOMPOSING "+p1),e){if(!iscons(p1))return DEBUG&&console.log(" ground thing: "+p1),pushTryNotToDuplicate(p1),void restore()}else if(0===Find(p1,p2))return DEBUG&&console.log(" entire expression is constant"),pushTryNotToDuplicate(p1),void restore();if(isadd(p1))return decomp_sum(e),void restore();if(ismultiply(p1))return decomp_product(e),void restore();for(DEBUG&&console.log(" naive decomp"),p3=cdr(p1),DEBUG&&console.log("startig p3: "+p3);iscons(p3);)e&&push(car(p3)),DEBUG&&console.log("recursive decomposition"),push(car(p3)),DEBUG&&console.log("car(p3): "+car(p3)),push(p2),DEBUG&&console.log("p2: "+p2),decomp(e),p3=cdr(p3);return restore()},decomp_sum=function(e){var t;for(DEBUG&&console.log(" decomposing the sum "),0,p3=cdr(p1);iscons(p3);)(Find(car(p3),p2)||e)&&(push(car(p3)),push(p2),decomp(e)),p3=cdr(p3);for(t=tos,p3=cdr(p1);iscons(p3);)0===Find(car(p3),p2)&&pushTryNotToDuplicate(car(p3)),p3=cdr(p3);if(tos-t)return add_all(tos-t),p3=pop(),pushTryNotToDuplicate(p3),push(p3),negate()},decomp_product=function(e){var t;for(DEBUG&&console.log(" decomposing the product "),0,p3=cdr(p1);iscons(p3);)(Find(car(p3),p2)||e)&&(push(car(p3)),push(p2),decomp(e)),p3=cdr(p3);for(t=tos,p3=cdr(p1);iscons(p3);)0===Find(car(p3),p2)&&pushTryNotToDuplicate(car(p3)),p3=cdr(p3);if(tos-t)return multiply_all(tos-t)},define_user_function=function(){return p3=caadr(p1),p4=cdadr(p1),p5=caddr(p1),issymbol(p3)||stop("function name?"),car(p5)===symbol(EVAL)&&(push(cadr(p5)),Eval(),p5=pop()),push_symbol(FUNCTION),push(p5),push(p4),list(3),p5=pop(),set_binding(p3,p5),push_symbol(NIL)},Eval_function_reference=function(){return push(p1)},Eval_defint=function(){for(push(cadr(p1)),Eval(),p2=pop(),p1=cddr(p1);iscons(p1);)push(car(p1)),p1=cdr(p1),Eval(),p3=pop(),push(car(p1)),p1=cdr(p1),Eval(),p4=pop(),push(car(p1)),p1=cdr(p1),Eval(),p5=pop(),push(p2),push(p3),integral(),p2=pop(),push(p2),push(p3),push(p5),subst(),Eval(),push(p2),push(p3),push(p4),subst(),Eval(),subtract(),p2=pop();return push(p2)},Eval_degree=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),(p1=pop())===symbol(NIL)?guess():push(p1),degree()},degree=function(){return save(),p2=pop(),p1=pop(),p3=zero,yydegree(p1),push(p3),restore()},yydegree=function(e){var t;if(equal(e,p2)){if(isZeroAtomOrTensor(p3))return p3=one}else if(car(e)===symbol(POWER)){if(equal(cadr(e),p2)&&isNumericAtom(caddr(e))&&lessp(p3,caddr(e)))return p3=caddr(e)}else if(iscons(e)){for(e=cdr(e),t=[];iscons(e);)yydegree(car(e)),t.push(e=cdr(e));return t}},Eval_denominator=function(){return push(cadr(p1)),Eval(),denominator()},denominator=function(){var e,t;if(e=0,t=pop(),car(t)===symbol(ADD)&&(push(t),rationalize(),t=pop()),car(t)!==symbol(MULTIPLY)||isplusone(car(cdr(t))))return isrational(t)?(push(t),mp_denominator()):car(t)===symbol(POWER)&&isnegativeterm(caddr(t))?(push(t),reciprocate()):push(one);for(e=tos,t=cdr(t);iscons(t);)push(car(t)),denominator(),t=cdr(t);return multiply_all(tos-e)},Eval_derivative=function(){var e,t,r,i,n;for(0,p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),push(car(p1)),Eval(),(p2=pop())===symbol(NIL)?(guess(),push(symbol(NIL))):isNumericAtom(p2)?(guess(),push(p2)):(push(p2),p1=cdr(p1),push(car(p1)),Eval()),p5=pop(),p4=pop(),p3=pop();;){if(isNumericAtom(p5)?(push(p5),t=pop_integer(),isNaN(t)&&stop("nth derivative: check n")):t=1,push(p3),t>=0)for(r=0,i=t;0<=i?r<i:r>i;0<=i?++r:--r)push(p4),derivative();else for(e=0,n=t=-t;0<=n?e<n:e>n;0<=n?++e:--e)push(p4),integral();if(p3=pop(),p5===symbol(NIL))break;if(isNumericAtom(p5)){if(p1=cdr(p1),push(car(p1)),Eval(),(p5=pop())===symbol(NIL))break;isNumericAtom(p5)?1:(p4=p5,p1=cdr(p1),push(car(p1)),Eval(),p5=pop())}else p4=p5,p1=cdr(p1),push(car(p1)),Eval(),p5=pop()}return push(p3)},derivative=function(){return save(),p2=pop(),p1=pop(),isNumericAtom(p2)&&stop("undefined function"),istensor(p1)?istensor(p2)?d_tensor_tensor():d_tensor_scalar():istensor(p2)?d_scalar_tensor():d_scalar_scalar(),restore()},d_scalar_scalar=function(){return issymbol(p2)?d_scalar_scalar_1():(push(p1),push(p2),push(symbol(SECRETX)),subst(),push(symbol(SECRETX)),derivative(),push(symbol(SECRETX)),push(p2),subst())},d_scalar_scalar_1=function(){if(equal(p1,p2))push(one);else if(iscons(p1))if(isadd(p1))dsum();else if(car(p1)!==symbol(MULTIPLY))if(car(p1)!==symbol(POWER))if(car(p1)!==symbol(DERIVATIVE))if(car(p1)!==symbol(LOG))if(car(p1)!==symbol(SIN))if(car(p1)!==symbol(COS))if(car(p1)!==symbol(TAN))if(car(p1)!==symbol(ARCSIN))if(car(p1)!==symbol(ARCCOS))if(car(p1)!==symbol(ARCTAN))if(car(p1)!==symbol(SINH))if(car(p1)!==symbol(COSH))if(car(p1)!==symbol(TANH))if(car(p1)!==symbol(ARCSINH))if(car(p1)!==symbol(ARCCOSH))if(car(p1)!==symbol(ARCTANH))if(car(p1)!==symbol(ABS))if(car(p1)!==symbol(SGN))if(car(p1)!==symbol(HERMITE))if(car(p1)!==symbol(ERF))if(car(p1)!==symbol(ERFC))if(car(p1)!==symbol(BESSELJ))if(car(p1)!==symbol(BESSELY)){if(car(p1)!==symbol(INTEGRAL)||caddr(p1)!==p2)return dfunction();derivative_of_integral()}else isZeroAtomOrTensor(caddr(p1))?dbessely0():dbesselyn();else isZeroAtomOrTensor(caddr(p1))?dbesselj0():dbesseljn();else derfc();else derf();else dhermite();else dsgn();else dabs();else darctanh();else darccosh();else darcsinh();else dtanh();else dcosh();else dsinh();else darctan();else darccos();else darcsin();else dtan();else dcos();else dsin();else dlog();else dd();else dpower();else dproduct();else push(zero)},dsum=function(){var e;for(e=tos,p1=cdr(p1);iscons(p1);)push(car(p1)),push(p2),derivative(),p1=cdr(p1);return add_all(tos-e)},dproduct=function(){var e,t,r,i,n,o,s;for(e=0,r=0,0,e=n=0,o=i=length(p1)-1;0<=o?n<o:n>o;e=0<=o?++n:--n){for(p3=cdr(p1),r=t=0,s=i;0<=s?t<s:t>s;r=0<=s?++t:--t)push(car(p3)),e===r&&(push(p2),derivative()),p3=cdr(p3);multiply_all(i)}return add_all(i)},dpower=function(){return push(caddr(p1)),push(cadr(p1)),divide(),push(cadr(p1)),push(p2),derivative(),multiply(),push(cadr(p1)),logarithm(),push(caddr(p1)),push(p2),derivative(),multiply(),add(),push(p1),multiply()},dlog=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),divide()},dd=function(){return push(cadr(p1)),push(p2),derivative(),p3=pop(),car(p3)===symbol(DERIVATIVE)?(push_symbol(DERIVATIVE),push_symbol(DERIVATIVE),push(cadr(p3)),lessp(caddr(p3),caddr(p1))?(push(caddr(p3)),list(3),push(caddr(p1))):(push(caddr(p1)),list(3),push(caddr(p3))),list(3)):(push(p3),push(caddr(p1)),derivative())},dfunction=function(){return(p3=cdr(p1))===symbol(NIL)||Find(p3,p2)?(push_symbol(DERIVATIVE),push(p1),push(p2),list(3)):push(zero)},dsin=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),cosine(),multiply()},dcos=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),sine(),multiply(),negate()},dtan=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),cosine(),push_integer(-2),power(),multiply()},darcsin=function(){return push(cadr(p1)),push(p2),derivative(),push_integer(1),push(cadr(p1)),push_integer(2),power(),subtract(),push_rational(-1,2),power(),multiply()},darccos=function(){return push(cadr(p1)),push(p2),derivative(),push_integer(1),push(cadr(p1)),push_integer(2),power(),subtract(),push_rational(-1,2),power(),multiply(),negate()},darctan=function(){return push(cadr(p1)),push(p2),derivative(),push_integer(1),push(cadr(p1)),push_integer(2),power(),add(),inverse(),multiply(),simplify()},dsinh=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),ycosh(),multiply()},dcosh=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),ysinh(),multiply()},dtanh=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),ycosh(),push_integer(-2),power(),multiply()},darcsinh=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),push_integer(2),power(),push_integer(1),add(),push_rational(-1,2),power(),multiply()},darccosh=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),push_integer(2),power(),push_integer(-1),add(),push_rational(-1,2),power(),multiply()},darctanh=function(){return push(cadr(p1)),push(p2),derivative(),push_integer(1),push(cadr(p1)),push_integer(2),power(),subtract(),inverse(),multiply()},dabs=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),sgn(),multiply()},dsgn=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),dirac(),multiply(),push_integer(2),multiply()},dhermite=function(){return push(cadr(p1)),push(p2),derivative(),push_integer(2),push(caddr(p1)),multiply(),multiply(),push(cadr(p1)),push(caddr(p1)),push_integer(-1),add(),hermite(),multiply()},derf=function(){return push(cadr(p1)),push_integer(2),power(),push_integer(-1),multiply(),exponential(),evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),push_rational(-1,2),power(),multiply(),push_integer(2),multiply(),push(cadr(p1)),push(p2),derivative(),multiply()},derfc=function(){return push(cadr(p1)),push_integer(2),power(),push_integer(-1),multiply(),exponential(),evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),push_rational(-1,2),power(),multiply(),push_integer(-2),multiply(),push(cadr(p1)),push(p2),derivative(),multiply()},dbesselj0=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),push_integer(1),besselj(),multiply(),push_integer(-1),multiply()},dbesseljn=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),push(caddr(p1)),push_integer(-1),add(),besselj(),push(caddr(p1)),push_integer(-1),multiply(),push(cadr(p1)),divide(),push(cadr(p1)),push(caddr(p1)),besselj(),multiply(),add(),multiply()},dbessely0=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),push_integer(1),besselj(),multiply(),push_integer(-1),multiply()},dbesselyn=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),push(caddr(p1)),push_integer(-1),add(),bessely(),push(caddr(p1)),push_integer(-1),multiply(),push(cadr(p1)),divide(),push(cadr(p1)),push(caddr(p1)),bessely(),multiply(),add(),multiply()},derivative_of_integral=function(){return push(cadr(p1))},DET_check_arg=function(){return istensor(p1)?2!==p1.tensor.ndim||p1.tensor.dim[0]!==p1.tensor.dim[1]?0:1:0},det=function(){var e,t,r,i,n,o,s;if(t=0,0,save(),p1=pop(),0===DET_check_arg())return push_symbol(DET),push(p1),list(2),void restore();for(i=p1.tensor.nelem,e=p1.tensor.elem,t=n=0,o=i;(0<=o?n<o:n>o)&&isNumericAtom(e[t]);t=0<=o?++n:--n);if(t===i)yydetg();else{for(t=r=0,s=p1.tensor.nelem;0<=s?r<s:r>s;t=0<=s?++r:--r)push(p1.tensor.elem[t]);determinant(p1.tensor.dim[0])}return restore()},determinant=function(e){var t,r,i,n,o,s,a,c,l,p,u,f,d,h;for(0,n=0,s=0,a=0,l=0,f=0,d=0,h=0,t=[],i=tos-e*e,n=c=0,p=e;0<=p?c<p:c>p;n=0<=p?++c:--c)t[n]=n,t[n+e]=0,t[n+e+e]=1;for(d=1,push(zero);;){for(push_integer(1===d?1:-1),n=o=0,u=e;0<=u?o<u:o>u;n=0<=u?++o:--o)a=e*t[n]+n,push(stack[i+a]),multiply();for(add(),s=e-1,f=0,r=!1;;)if((l=t[e+s]+t[e+e+s])<0)t[e+e+s]=-t[e+e+s],s--;else{if(l!==s+1)break;if(0===s){r=!0;break}f++,t[e+e+s]=-t[e+e+s],s--}if(r)break;h=t[s-t[e+s]+f],t[s-t[e+s]+f]=t[s-l+f],t[s-l+f]=h,t[e+s]=l,d=-d}return stack[i]=stack[tos-1],moveTos(i+1)},detg=function(){return save(),p1=pop(),0===DET_check_arg()?(push_symbol(DET),push(p1),list(2),void restore()):(yydetg(),restore())},yydetg=function(){var e,t,r,i;for(e=0,0,e=r=0,i=(t=p1.tensor.dim[0])*t;0<=i?r<i:r>i;e=0<=i?++r:--r)push(p1.tensor.elem[e]);return lu_decomp(t),moveTos(tos-t*t),push(p1)},M=function(e,t,r,i){return stack[e+t*r+i]},setM=function(e,t,r,i,n){return stack[e+t*r+i]=n},lu_decomp=function(e){var t,r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g;for(t=0,0,i=0,o=0,r=tos-e*e,p1=one,t=l=0,p=e-1;0<=p?l<p:l>p;t=0<=p?++l:--l){if(equal(M(r,e,t,t),zero)){for(i=n=u=t+1,f=e;(u<=f?n<f:n>f)&&equal(M(r,e,i,t),zero);i=u<=f?++n:--n);if(i===e){p1=zero;break}for(o=s=d=t,h=e;d<=h?s<h:s>h;o=d<=h?++s:--s)p2=M(r,e,t,o),setM(r,e,t,o,M(r,e,i,o)),setM(r,e,i,o,p2);push(p1),negate(),p1=pop()}for(push(p1),push(M(r,e,t,t)),multiply(),p1=pop(),i=a=b=t+1,$=e;b<=$?a<$:a>$;i=b<=$?++a:--a)for(push(M(r,e,i,t)),push(M(r,e,t,t)),divide(),negate(),p2=pop(),setM(r,e,i,t,zero),o=c=m=t+1,g=e;m<=g?c<g:c>g;o=m<=g?++c:--c)push(M(r,e,t,o)),push(p2),multiply(),push(M(r,e,i,o)),add(),setM(r,e,i,o,pop())}return push(p1),push(M(r,e,e-1,e-1)),multiply(),p1=pop()},Eval_dirac=function(){return push(cadr(p1)),Eval(),dirac()},dirac=function(){return save(),ydirac(),restore()},ydirac=function(){return p1=pop(),isdouble(p1)?0===p1.d?void push_integer(1):void push_integer(0):isrational(p1)?MZERO(mmul(p1.q.a,p1.q.b))?void push_integer(1):void push_integer(0):car(p1)===symbol(POWER)?(push_symbol(DIRAC),push(cadr(p1)),void list(2)):isnegativeterm(p1)?(push_symbol(DIRAC),push(p1),negate(),void list(2)):((isnegativeterm(p1)||car(p1)===symbol(ADD)&&isnegativeterm(cadr(p1)))&&(push(p1),negate(),p1=pop()),push_symbol(DIRAC),push(p1),list(2))},divisors=function(){var e,t,r,i,n,o;for(t=0,0,0,save(),e=tos-1,divisors_onstack(),r=tos-e,(o=stack.slice(e,e+r)).sort(cmp_expr),stack=stack.slice(0,e).concat(o).concat(stack.slice(e+r)),(p1=alloc_tensor(r)).tensor.ndim=1,p1.tensor.dim[0]=r,t=i=0,n=r;0<=n?i<n:i>n;t=0<=n?++i:--i)p1.tensor.elem[t]=stack[e+t];return moveTos(e),push(p1),restore()},divisors_onstack=function(){var e,t,r,i,n,o;if(0,t=0,0,0,save(),p1=pop(),e=tos,isNumericAtom(p1))push(p1),factor_small_number();else if(car(p1)===symbol(ADD))push(p1),__factor_add();else if(car(p1)===symbol(MULTIPLY))for(p1=cdr(p1),isNumericAtom(car(p1))&&(push(car(p1)),factor_small_number(),p1=cdr(p1));iscons(p1);)p2=car(p1),car(p2)===symbol(POWER)?(push(cadr(p2)),push(caddr(p2))):(push(p2),push(one)),p1=cdr(p1);else car(p1)===symbol(POWER)?(push(cadr(p1)),push(caddr(p1))):(push(p1),push(one));for(r=tos,push(one),gen(e,r),t=n=0,o=i=tos-r;0<=o?n<o:n>o;t=0<=o?++n:--n)stack[e+t]=stack[r+t];return moveTos(e+i),restore()},gen=function(e,t){var r,i,n,o;if(0,i=0,save(),p1=pop(),e===t)return push(p1),void restore();if(p2=stack[e+0],p3=stack[e+1],push(p3),r=pop_integer(),!isNaN(r))for(i=n=0,o=Math.abs(r);0<=o?n<=o:n>=o;i=0<=o?++n:--n)push(p1),push(p2),push_integer(sign(r)*i),power(),multiply(),gen(e+2,t);return restore()},__factor_add=function(){for(save(),p1=pop(),p3=cdr(p1),push(car(p3)),p3=cdr(p3);iscons(p3);)push(car(p3)),gcd(),p3=cdr(p3);if(p2=pop(),isplusone(p2))return push(p1),push(one),void restore();if(isNumericAtom(p2))push(p2),factor_small_number();else if(car(p2)===symbol(MULTIPLY))for(p3=cdr(p2),isNumericAtom(car(p3))?(push(car(p3)),factor_small_number()):(push(car(p3)),push(one)),p3=cdr(p3);iscons(p3);)push(car(p3)),push(one),p3=cdr(p3);else push(p2),push(one);for(push(p2),inverse(),p2=pop(),push(zero),p3=cdr(p1);iscons(p3);)push(p2),push(car(p3)),multiply(),add(),p3=cdr(p3);return push(one),restore()},dpow=function(){var e,t,r,i,n,o;return e=0,t=0,0,0,n=0,0,i=pop_double(),0===(r=pop_double())&&i<0&&stop("divide by zero"),r>=0||i%1==0?(n=Math.pow(r,i),void push_double(n)):(n=Math.pow(Math.abs(r),i),o=Math.PI*i,i%.5==0?(e=0,t=Math.sin(o)):(e=Math.cos(o),t=Math.sin(o)),push_double(e*n),push_double(t*n),push(imaginaryunit),multiply(),add())},EIG_N=0,EIG_yydd=[],EIG_yyqq=[],Eval_eigen=function(){return 0===EIG_check_arg()&&stop("eigen: argument is not a square matrix"),eigen(EIGEN),p1=usr_symbol("D"),set_binding(p1,p2),p1=usr_symbol("Q"),set_binding(p1,p3),push(symbol(NIL))},Eval_eigenval=function(){return 0===EIG_check_arg()?(push_symbol(EIGENVAL),push(p1),void list(2)):(eigen(EIGENVAL),push(p2))},Eval_eigenvec=function(){return 0===EIG_check_arg()?(push_symbol(EIGENVEC),push(p1),void list(2)):(eigen(EIGENVEC),push(p3))},EIG_check_arg=function(){var e,t,r,i,n,o,s,a,c,l,p;if(e=0,r=0,push(cadr(p1)),Eval(),yyfloat(),Eval(),p1=pop(),!istensor(p1))return 0;for(2===p1.tensor.ndim&&p1.tensor.dim[0]===p1.tensor.dim[1]||stop("eigen: argument is not a square matrix"),e=o=0,s=EIG_N=p1.tensor.dim[0];0<=s?o<s:o>s;e=0<=s?++o:--o)for(r=t=0,a=EIG_N;0<=a?t<a:t>a;r=0<=a?++t:--t)isdouble(p1.tensor.elem[EIG_N*e+r])||stop("eigen: matrix is not numerical");for(e=i=0,c=EIG_N-1;0<=c?i<c:i>c;e=0<=c?++i:--i)for(r=n=l=e+1,p=EIG_N;l<=p?n<p:n>p;r=l<=p?++n:--n)Math.abs(p1.tensor.elem[EIG_N*e+r].d-p1.tensor.elem[EIG_N*r+e].d)>1e-10&&stop("eigen: matrix is not symmetrical");return 1},eigen=function(e){var t,r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g,x,v,y,_,E,k;for(t=0,i=0,t=c=0,f=EIG_N*EIG_N;0<=f?c<f:c>f;t=0<=f?++c:--c)EIG_yydd[t]=0;for(t=r=0,d=EIG_N*EIG_N;0<=d?r<d:r>d;t=0<=d?++r:--r)EIG_yyqq[t]=0;for(t=n=0,b=EIG_N;0<=b?n<b:n>b;t=0<=b?++n:--n)for(EIG_yydd[EIG_N*t+t]=p1.tensor.elem[EIG_N*t+t].d,i=o=$=t+1,m=EIG_N;$<=m?o<m:o>m;i=$<=m?++o:--o)EIG_yydd[EIG_N*t+i]=p1.tensor.elem[EIG_N*t+i].d,EIG_yydd[EIG_N*i+t]=p1.tensor.elem[EIG_N*t+i].d;for(t=s=0,g=EIG_N;0<=g?s<g:s>g;t=0<=g?++s:--s)for(EIG_yyqq[EIG_N*t+t]=1,i=a=x=t+1,v=EIG_N;x<=v?a<v:a>v;i=x<=v?++a:--a)EIG_yyqq[EIG_N*t+i]=0,EIG_yyqq[EIG_N*i+t]=0;for(t=l=0;l<100&&0!==step();t=++l);if(100===t&&printstr("\nnote: eigen did not converge\n"),e===EIGEN||e===EIGENVAL)for(push(p1),copy_tensor(),p2=pop(),t=p=0,y=EIG_N;0<=y?p<y:p>y;t=0<=y?++p:--p)for(i=u=0,_=EIG_N;0<=_?u<_:u>_;i=0<=_?++u:--u)push_double(EIG_yydd[EIG_N*t+i]),p2.tensor.elem[EIG_N*t+i]=pop();if(e===EIGEN||e===EIGENVEC){for(push(p1),copy_tensor(),p3=pop(),E=[],t=k=0,h=EIG_N;0<=h?k<h:k>h;t=0<=h?++k:--k)E.push(function(){var e,r,n;for(r=[],i=n=0,e=EIG_N;0<=e?n<e:n>e;i=0<=e?++n:--n)push_double(EIG_yyqq[EIG_N*t+i]),r.push(p3.tensor.elem[EIG_N*t+i]=pop());return r}());return E}},step=function(){var e,t,r,i,n,o,s,a;for(t=0,i=0,e=0,t=n=0,o=EIG_N-1;0<=o?n<o:n>o;t=0<=o?++n:--n)for(i=r=s=t+1,a=EIG_N;s<=a?r<a:r>a;i=s<=a?++r:--r)0!==EIG_yydd[EIG_N*t+i]&&(step2(t,i),e++);return e},step2=function(e,t){var r,i,n,o,s,a,c,l,p,u,f,d,h;for(s=0,d=0,0,0,i=0,0,f=0,h=.5*(EIG_yydd[EIG_N*e+e]-EIG_yydd[EIG_N*t+t])/EIG_yydd[EIG_N*e+t],d=1/(Math.abs(h)+Math.sqrt(h*h+1)),h<0&&(d=-d),u=d*(r=1/Math.sqrt(d*d+1)),s=a=0,c=EIG_N;0<=c?a<c:a>c;s=0<=c?++a:--a)i=EIG_yydd[EIG_N*e+s],f=EIG_yydd[EIG_N*t+s],EIG_yydd[EIG_N*e+s]=r*i+u*f,EIG_yydd[EIG_N*t+s]=r*f-u*i;for(s=n=0,l=EIG_N;0<=l?n<l:n>l;s=0<=l?++n:--n)i=EIG_yydd[EIG_N*s+e],f=EIG_yydd[EIG_N*s+t],EIG_yydd[EIG_N*s+e]=r*i+u*f,EIG_yydd[EIG_N*s+t]=r*f-u*i;for(s=o=0,p=EIG_N;0<=p?o<p:o>p;s=0<=p?++o:--o)i=EIG_yyqq[EIG_N*e+s],f=EIG_yyqq[EIG_N*t+s],EIG_yyqq[EIG_N*e+s]=r*i+u*f,EIG_yyqq[EIG_N*t+s]=r*f-u*i;return EIG_yydd[EIG_N*e+t]=0,EIG_yydd[EIG_N*t+e]=0},Eval_erf=function(){return push(cadr(p1)),Eval(),yerf()},yerf=function(){return save(),yyerf(),restore()},yyerf=function(){var e;if(e=0,p1=pop(),isdouble(p1))return e=1-erfc(p1.d),void push_double(e);if(isZeroAtomOrTensor(p1))push(zero);else{if(isnegativeterm(p1))return push_symbol(ERF),push(p1),negate(),list(2),void negate();push_symbol(ERF),push(p1),list(2)}},Eval_erfc=function(){return push(cadr(p1)),Eval(),yerfc()},yerfc=function(){return save(),yyerfc(),restore()},yyerfc=function(){var e;if(e=0,p1=pop(),isdouble(p1))return e=erfc(p1.d),void push_double(e);isZeroAtomOrTensor(p1)?push(one):(push_symbol(ERFC),push(p1),list(2))},erfc=function(e){var t,r,i;return 0===e?1:(0,0,0,t=(r=1/(1+.5*(i=Math.abs(e))))*Math.exp(-i*i-1.26551223+r*(1.00002368+r*(.37409196+r*(.09678418+r*(r*(.27886807+r*(r*(1.48851587+r*(.17087277*r-.82215223))-1.13520398))-.18628806))))),e>=0?t:2-t)},Eval=function(){var e;switch(check_esc_flag(),save(),p1=pop(),!evaluatingAsFloats&&isfloating(p1)&&(e=!0,evaluatingAsFloats++),p1.k){case CONS:Eval_cons();break;case NUM:evaluatingAsFloats?push_double(convert_rational_to_double(p1)):push(p1);break;case DOUBLE:case STR:push(p1);break;case TENSOR:Eval_tensor();break;case SYM:Eval_sym();break;default:stop("atom?")}return e&&evaluatingAsFloats--,restore()},Eval_sym=function(){var e,t,r,i,n,o;if(iskeyword(p1))return push(p1),push(symbol(LAST)),list(2),void Eval();if(p1===symbol(PI)&&evaluatingAsFloats)push_double(Math.PI);else if(p2=get_binding(p1),DEBUG&&console.log("looked up: "+p1+" which contains: "+p2),push(p2),p1!==p2){if(-1!==(i=chainOfUserSymbolsNotFunctionsBeingEvaluated.indexOf(p1))){for(e="",t=r=n=i,o=chainOfUserSymbolsNotFunctionsBeingEvaluated.length;n<=o?r<o:r>o;t=n<=o?++r:--r)e+=chainOfUserSymbolsNotFunctionsBeingEvaluated[t].printname+" -> ";return e+=p1.printname,void stop("recursive evaluation of symbols: "+e)}return chainOfUserSymbolsNotFunctionsBeingEvaluated.push(p1),Eval(),chainOfUserSymbolsNotFunctionsBeingEvaluated.pop()}},Eval_cons=function(){var e;if(e=car(p1),car(e)!==symbol(EVAL))switch(issymbol(e)||stop("cons?"),symnum(e)){case ABS:return Eval_abs();case ADD:return Eval_add();case ADJ:return Eval_adj();case AND:return Eval_and();case ARCCOS:return Eval_arccos();case ARCCOSH:return Eval_arccosh();case ARCSIN:return Eval_arcsin();case ARCSINH:return Eval_arcsinh();case ARCTAN:return Eval_arctan();case ARCTANH:return Eval_arctanh();case ARG:return Eval_arg();case ATOMIZE:return Eval_atomize();case BESSELJ:return Eval_besselj();case BESSELY:return Eval_bessely();case BINDING:return Eval_binding();case BINOMIAL:return Eval_binomial();case CEILING:return Eval_ceiling();case CHECK:return Eval_check();case CHOOSE:return Eval_choose();case CIRCEXP:return Eval_circexp();case CLEAR:return Eval_clear();case CLEARALL:return Eval_clearall();case CLEARPATTERNS:return Eval_clearpatterns();case CLOCK:return Eval_clock();case COEFF:return Eval_coeff();case COFACTOR:return Eval_cofactor();case CONDENSE:return Eval_condense();case CONJ:return Eval_conj();case CONTRACT:return Eval_contract();case COS:return Eval_cos();case COSH:return Eval_cosh();case DECOMP:return Eval_decomp();case DEGREE:return Eval_degree();case DEFINT:return Eval_defint();case DENOMINATOR:return Eval_denominator();case DERIVATIVE:return Eval_derivative();case DET:return Eval_det();case DIM:return Eval_dim();case DIRAC:return Eval_dirac();case DIVISORS:return Eval_divisors();case DO:return Eval_do();case DOT:return Eval_inner();case DRAW:return Eval_draw();case DSOLVE:return Eval_dsolve();case EIGEN:return Eval_eigen();case EIGENVAL:return Eval_eigenval();case EIGENVEC:return Eval_eigenvec();case ERF:return Eval_erf();case ERFC:return Eval_erfc();case EVAL:return Eval_Eval();case EXP:return Eval_exp();case EXPAND:return Eval_expand();case EXPCOS:return Eval_expcos();case EXPSIN:return Eval_expsin();case FACTOR:return Eval_factor();case FACTORIAL:return Eval_factorial();case FACTORPOLY:return Eval_factorpoly();case FILTER:return Eval_filter();case FLOATF:return Eval_float();case APPROXRATIO:return Eval_approxratio();case FLOOR:return Eval_floor();case FOR:return Eval_for();case FUNCTION:return Eval_function_reference();case GAMMA:return Eval_gamma();case GCD:return Eval_gcd();case HERMITE:return Eval_hermite();case HILBERT:return Eval_hilbert();case IMAG:return Eval_imag();case INDEX:return Eval_index();case INNER:return Eval_inner();case INTEGRAL:return Eval_integral();case INV:return Eval_inv();case INVG:return Eval_invg();case ISINTEGER:return Eval_isinteger();case ISPRIME:return Eval_isprime();case LAGUERRE:return Eval_laguerre();case LCM:return Eval_lcm();case LEADING:return Eval_leading();case LEGENDRE:return Eval_legendre();case LOG:return Eval_log();case LOOKUP:return Eval_lookup();case MOD:return Eval_mod();case MULTIPLY:return Eval_multiply();case NOT:return Eval_not();case NROOTS:return Eval_nroots();case NUMBER:return Eval_number();case NUMERATOR:return Eval_numerator();case OPERATOR:return Eval_operator();case OR:return Eval_or();case OUTER:return Eval_outer();case PATTERN:return Eval_pattern();case PATTERNSINFO:return Eval_patternsinfo();case POLAR:return Eval_polar();case POWER:return Eval_power();case PRIME:return Eval_prime();case PRINT:return Eval_print();case PRINT2DASCII:return Eval_print2dascii();case PRINTFULL:return Eval_printcomputer();case PRINTLATEX:return Eval_printlatex();case PRINTLIST:return Eval_printlist();case PRINTPLAIN:return Eval_printhuman();case PRODUCT:return Eval_product();case QUOTE:return Eval_quote();case QUOTIENT:return Eval_quotient();case RANK:return Eval_rank();case RATIONALIZE:return Eval_rationalize();case REAL:return Eval_real();case ROUND:return Eval_round();case YYRECT:return Eval_rect();case ROOTS:return Eval_roots();case SETQ:return Eval_setq();case SGN:return Eval_sgn();case SILENTPATTERN:return Eval_silentpattern();case SIMPLIFY:return Eval_simplify();case SIN:return Eval_sin();case SINH:return Eval_sinh();case SHAPE:return Eval_shape();case SQRT:return Eval_sqrt();case STOP:return Eval_stop();case SUBST:return Eval_subst();case SUM:return Eval_sum();case SYMBOLSINFO:return Eval_symbolsinfo();case TAN:return Eval_tan();case TANH:return Eval_tanh();case TAYLOR:return Eval_taylor();case TEST:return Eval_test();case TESTEQ:return Eval_testeq();case TESTGE:return Eval_testge();case TESTGT:return Eval_testgt();case TESTLE:return Eval_testle();case TESTLT:return Eval_testlt();case TRANSPOSE:return Eval_transpose();case UNIT:return Eval_unit();case ZERO:return Eval_zero();default:return Eval_user_function()}else Eval_user_function()},Eval_binding=function(){return push(get_binding(cadr(p1)))},Eval_check=function(){var e;return null==(e=isZeroLikeOrNonZeroLikeOrUndetermined(cadr(p1)))?push(p1):push_integer(e)},Eval_det=function(){return push(cadr(p1)),Eval(),det()},Eval_dim=function(){var e;return push(cadr(p1)),Eval(),p2=pop(),iscons(cddr(p1))?(push(caddr(p1)),Eval(),e=pop_integer()):e=1,istensor(p2)?e<1||e>p2.tensor.ndim?push(p1):push_integer(p2.tensor.dim[e-1]):push_integer(1)},Eval_divisors=function(){return push(cadr(p1)),Eval(),divisors()},Eval_do=function(){var e;for(push(car(p1)),p1=cdr(p1),e=[];iscons(p1);)pop(),push(car(p1)),Eval(),e.push(p1=cdr(p1));return e},Eval_dsolve=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),push(cadddr(p1)),Eval(),dsolve()},Eval_Eval=function(){for(push(cadr(p1)),Eval(),p1=cddr(p1);iscons(p1);)push(car(p1)),Eval(),push(cadr(p1)),Eval(),subst(),p1=cddr(p1);return Eval()},Eval_exp=function(){return push(cadr(p1)),Eval(),exponential()},Eval_factorial=function(){return push(cadr(p1)),Eval(),factorial()},Eval_factorpoly=function(){var e;for(p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),push(car(p1)),Eval(),factorpoly(),p1=cdr(p1),e=[];iscons(p1);)push(car(p1)),Eval(),factorpoly(),e.push(p1=cdr(p1));return e},Eval_hermite=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),hermite()},Eval_hilbert=function(){return push(cadr(p1)),Eval(),hilbert()},Eval_index=function(){var e,t,r;if(e=tos,t=p1,p1=cdr(p1),push(car(p1)),Eval(),r=stack[tos-1],isNumericAtom(r)&&stop("trying to access a scalar as a tensor"),!istensor(r))return moveTos(e),void push(t);for(p1=cdr(p1);iscons(p1);){if(push(car(p1)),Eval(),!isintegerorintegerfloat(stack[tos-1]))return moveTos(e),void push(t);p1=cdr(p1)}return index_function(tos-e)},Eval_inv=function(){return push(cadr(p1)),Eval(),inv()},Eval_invg=function(){return push(cadr(p1)),Eval(),invg()},Eval_isinteger=function(){if(push(cadr(p1)),Eval(),p1=pop(),isrational(p1))isinteger(p1)?push(one):push(zero);else{if(!isdouble(p1))return push_symbol(ISINTEGER),push(p1),list(2);Math.floor(p1.d)===p1.d?push(one):push(zero)}},Eval_number=function(){return push(cadr(p1)),Eval(),(p1=pop()).k===NUM||p1.k===DOUBLE?push_integer(1):push_integer(0)},Eval_operator=function(){var e;for(e=tos,push_symbol(OPERATOR),p1=cdr(p1);iscons(p1);)push(car(p1)),Eval(),p1=cdr(p1);return list(tos-e)},Eval_quote=function(){return push(cadr(p1))},Eval_rank=function(){return push(cadr(p1)),Eval(),p1=pop(),istensor(p1)?push_integer(p1.tensor.ndim):push(zero)},Eval_setq=function(){if(caadr(p1)!==symbol(INDEX)){if(!iscons(cadr(p1)))return issymbol(cadr(p1))||stop("symbol assignment: error in symbol"),push(caddr(p1)),Eval(),p2=pop(),set_binding(cadr(p1),p2),push(symbol(NIL));define_user_function()}else setq_indexed()},setq_indexed=function(){var e;for(p4=cadadr(p1),issymbol(p4)||stop("indexed assignment: expected a symbol name"),e=tos,push(caddr(p1)),Eval(),p2=cdadr(p1);iscons(p2);)push(car(p2)),Eval(),p2=cdr(p2);return set_component(tos-e),p3=pop(),set_binding(p4,p3),push(symbol(NIL))},Eval_sqrt=function(){return push(cadr(p1)),Eval(),push_rational(1,2),power()},Eval_stop=function(){return stop("user stop")},Eval_subst=function(){return push(cadddr(p1)),Eval(),push(caddr(p1)),Eval(),push(cadr(p1)),Eval(),subst(),Eval()},Eval_unit=function(){var e,t,r,i;if(e=0,0,push(cadr(p1)),Eval(),t=pop_integer(),isNaN(t))push(p1);else{if(!(t<1)){for((p1=alloc_tensor(t*t)).tensor.ndim=2,p1.tensor.dim[0]=t,p1.tensor.dim[1]=t,e=r=0,i=t;0<=i?r<i:r>i;e=0<=i?++r:--r)p1.tensor.elem[t*e+e]=one;return check_tensor_dimensions(p1),push(p1)}push(p1)}},Eval_noexpand=function(){var e;return e=expanding,expanding=0,Eval(),expanding=e},Eval_predicate=function(){return save(),p1=top(),car(p1)===symbol(SETQ)&&(pop(),push_symbol(TESTEQ),push(cadr(p1)),push(caddr(p1)),list(3)),Eval(),restore()},Eval_expand=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),(p2=pop())===symbol(NIL)?guess():push(p2),expand()},expand=function(){var e;if(save(),p9=pop(),p5=pop(),istensor(p5))return expand_tensor(),void restore();if(car(p5)!==symbol(ADD))return push(p5),numerator(),p3=pop(),push(p5),denominator(),p2=pop(),remove_negative_exponents(),push(p3),push(p2),push(p9),!isone(p3)&&!isone(p2)||ispolyexpandedform(p2,p9)&&!isone(p2)?(divpoly(),p7=pop(),push(p3),push(p2),push(p7),multiply(),subtract(),p3=pop(),isZeroAtomOrTensor(p3)?(push(p7),void restore()):(push(p2),push(p9),factorpoly(),p2=pop(),expand_get_C(),expand_get_B(),expand_get_A(),istensor(p4)?(push(p4),e=expanding,expanding=1,inv(),expanding=e,push(p3),inner(),push(p2),inner()):(push(p3),push(p4),e=expanding,expanding=1,divide(),expanding=e,push(p2),multiply()),push(p7),add(),restore())):(pop(),pop(),pop(),push(p5),void restore());for(push_integer(0),p1=cdr(p5);iscons(p1);)push(car(p1)),push(p9),expand(),add(),p1=cdr(p1);restore()},expand_tensor=function(){var e,t,r;for(e=0,push(p5),copy_tensor(),e=t=0,r=(p5=pop()).tensor.nelem;0<=r?t<r:t>r;e=0<=r?++t:--t)push(p5.tensor.elem[e]),push(p9),expand(),p5.tensor.elem[e]=pop();return push(p5)},remove_negative_exponents=function(){var e,t,r,i,n,o;for(0,t=0,r=0,i=0,0,e=tos,factors(p2),factors(p3),r=0,t=n=0,o=tos-e;0<=o?n<o:n>o;t=0<=o?++n:--n)p1=stack[e+t],car(p1)===symbol(POWER)&&cadr(p1)===p9&&(push(caddr(p1)),i=pop_integer(),isNaN(i)||i<r&&(r=i));if(moveTos(e),0!==r)return push(p2),push(p9),push_integer(-r),power(),multiply(),p2=pop(),push(p3),push(p9),push_integer(-r),power(),multiply(),p3=pop()},expand_get_C=function(){var e,t,r,i,n,o,s,a,c,l;if(0,r=0,n=0,0,t=tos,car(p2)===symbol(MULTIPLY))for(p1=cdr(p2);iscons(p1);)p5=car(p1),expand_get_CF(),p1=cdr(p1);else p5=p2,expand_get_CF();if(1!==(o=tos-t)){for((p4=alloc_tensor(o*o)).tensor.ndim=2,p4.tensor.dim[0]=o,p4.tensor.dim[1]=o,e=t,r=s=0,c=o;0<=c?s<c:s>c;r=0<=c?++s:--s)for(n=i=0,l=o;0<=l?i<l:i>l;n=0<=l?++i:--i)push(stack[e+n]),push(p9),push_integer(r),power(),a=expanding,expanding=1,divide(),expanding=a,push(p9),filter(),p4.tensor.elem[o*r+n]=pop();return moveTos(tos-o)}p4=pop()},expand_get_CF=function(){var e,t,r,i,n,o,s,a;if(0,t=0,r=0,i=0,Find(p5,p9)){for(o=expanding,expanding=1,trivial_divide(),expanding=o,car(p5)===symbol(POWER)?(push(caddr(p5)),i=pop_integer(),p6=cadr(p5)):(i=1,p6=p5),push(p6),push(p9),degree(),e=pop_integer(),a=[],t=n=0,s=i;0<=s?n<s:n>s;t=0<=s?++n:--n)a.push(function(){var i,n,s;for(s=[],r=i=0,n=e;0<=n?i<n:i>n;r=0<=n?++i:--i)push(p8),push(p6),push_integer(t),power(),o=expanding,expanding=1,multiply(),expanding=o,push(p9),push_integer(r),power(),o=expanding,expanding=1,multiply(),s.push(expanding=o);return s}());return a}},trivial_divide=function(){var e;if(e=0,car(p2)===symbol(MULTIPLY)){for(e=tos,p0=cdr(p2);iscons(p0);)equal(car(p0),p5)||(push(car(p0)),Eval()),p0=cdr(p0);multiply_all(tos-e)}else push_integer(1);return p8=pop()},expand_get_B=function(){var e,t,r,i,n;if(e=0,0,istensor(p4)){for(t=p4.tensor.dim[0],(p8=alloc_tensor(t)).tensor.ndim=1,p8.tensor.dim[0]=t,e=r=0,n=t;0<=n?r<n:r>n;e=0<=n?++r:--r)push(p3),push(p9),push_integer(e),power(),i=expanding,expanding=1,divide(),expanding=i,push(p9),filter(),p8.tensor.elem[e]=pop();return p3=p8}},expand_get_A=function(){var e,t,r,i,n;if(0,t=0,0,!istensor(p4))return push(p2),reciprocate(),void(p2=pop());if(e=tos,car(p2)===symbol(MULTIPLY))for(p8=cdr(p2);iscons(p8);)p5=car(p8),expand_get_AF(),p8=cdr(p8);else p5=p2,expand_get_AF();for((p8=alloc_tensor(r=tos-e)).tensor.ndim=1,p8.tensor.dim[0]=r,t=i=0,n=r;0<=n?i<n:i>n;t=0<=n?++i:--i)p8.tensor.elem[t]=stack[e+t];return moveTos(e),p2=p8},expand_get_AF=function(){var e,t,r,i,n,o,s;if(0,t=0,r=0,i=1,Find(p5,p9)){for(car(p5)===symbol(POWER)&&(push(caddr(p5)),i=pop_integer(),p5=cadr(p5)),push(p5),push(p9),degree(),e=pop_integer(),s=[],t=n=o=i;o<=0?n<0:n>0;t=o<=0?++n:--n)s.push(function(){var i,n,o;for(o=[],r=i=0,n=e;0<=n?i<n:i>n;r=0<=n?++i:--i)push(p5),push_integer(t),power(),reciprocate(),push(p9),push_integer(r),power(),o.push(multiply());return o}());return s}},Eval_expcos=function(){return push(cadr(p1)),Eval(),expcos()},expcos=function(){return save(),p1=pop(),push(imaginaryunit),push(p1),multiply(),exponential(),push_rational(1,2),multiply(),push(imaginaryunit),negate(),push(p1),multiply(),exponential(),push_rational(1,2),multiply(),add(),restore()},Eval_expsin=function(){return push(cadr(p1)),Eval(),expsin()},expsin=function(){return save(),p1=pop(),push(imaginaryunit),push(p1),multiply(),exponential(),push(imaginaryunit),divide(),push_rational(1,2),multiply(),push(imaginaryunit),negate(),push(p1),multiply(),exponential(),push(imaginaryunit),divide(),push_rational(1,2),multiply(),subtract(),restore()},Eval_factor=function(){var e;for(push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),(p2=pop())===symbol(NIL)?guess():push(p2),factor(),p1=cdddr(p1),e=[];iscons(p1);)push(car(p1)),Eval(),factor_again(),e.push(p1=cdr(p1));return e},factor_again=function(){var e,t;if(save(),p2=pop(),p1=pop(),e=tos,car(p1)===symbol(MULTIPLY))for(p1=cdr(p1);iscons(p1);)push(car(p1)),push(p2),factor_term(),p1=cdr(p1);else push(p1),push(p2),factor_term();return(t=tos-e)>1&&multiply_all_noexpand(t),restore()},factor_term=function(){if(save(),factorpoly(),p1=pop(),car(p1)===symbol(MULTIPLY))for(p1=cdr(p1);iscons(p1);)push(car(p1)),p1=cdr(p1);else push(p1);return restore()},factor=function(){return save(),p2=pop(),p1=pop(),isinteger(p1)?(push(p1),factor_number()):(push(p1),push(p2),factorpoly()),restore()},factor_small_number=function(){var e,t,r,i,n,o;for(r=0,save(),i=pop_integer(),isNaN(i)&&stop("number too big to factor"),i<0&&(i=-i),r=n=0,o=MAXPRIMETAB;(0<=o?n<o:n>o)&&!((e=primetab[r])>i/e);r=0<=o?++n:--n){for(t=0;i%e==0;)i/=e,t++;t&&(push_integer(e),push_integer(t))}return i>1&&(push_integer(i),push_integer(1)),restore()},factorial=function(){var e;return 0,save(),p1=pop(),push(p1),(e=pop_integer())<0||isNaN(e)?(push_symbol(FACTORIAL),push(p1),list(2),void restore()):(bignum_factorial(e),restore())},simplifyfactorials=function(){var e;if(0,save(),e=expanding,expanding=0,p1=pop(),car(p1)===symbol(ADD)){for(push(zero),p1=cdr(p1);iscons(p1);)push(car(p1)),simplifyfactorials(),add(),p1=cdr(p1);return expanding=e,void restore()}return car(p1)===symbol(MULTIPLY)?(sfac_product(),expanding=e,void restore()):(push(p1),expanding=e,restore())},sfac_product=function(){var e,t,r,i,n,o,s,a,c,l,p;for(e=0,r=0,n=0,p=tos,p1=cdr(p1),n=0;iscons(p1);)push(car(p1)),p1=cdr(p1),n++;for(e=o=0,s=n-1;0<=s?o<s:o>s;e=0<=s?++o:--o)if(stack[p+e]!==symbol(NIL))for(r=t=a=e+1,c=n;a<=c?t<c:t>c;r=a<=c?++t:--t)stack[p+r]!==symbol(NIL)&&sfac_product_f(p,e,r);for(push(one),e=i=0,l=n;0<=l?i<l:i>l;e=0<=l?++i:--i)stack[p+e]!==symbol(NIL)&&(push(stack[p+e]),multiply());return p1=pop(),moveTos(tos-n),push(p1)},sfac_product_f=function(e,t,r){var i,n,o,s;if(i=0,n=0,p1=stack[e+t],p2=stack[e+r],ispower(p1)?(p3=caddr(p1),p1=cadr(p1)):p3=one,ispower(p2)?(p4=caddr(p2),p2=cadr(p2)):p4=one,isfactorial(p1)&&isfactorial(p2)){if(push(p3),push(p4),add(),yyexpand(),0!==(n=pop_integer()))return;if(push(cadr(p1)),push(cadr(p2)),subtract(),yyexpand(),0===(n=pop_integer())||isNaN(n))return;for(n<0&&(n=-n,p5=p1,p1=p2,p2=p5,p5=p3,p3=p4,p4=p5),push(one),i=o=1,s=n;1<=s?o<=s:o>=s;i=1<=s?++o:--o)push(cadr(p2)),push_integer(i),add(),push(p3),power(),multiply();return stack[e+t]=pop(),stack[e+r]=symbol(NIL)}},factorpoly=function(){var e,t;return DEBUG&&console.log("factorpoly: "+stack[tos-1].toString()+" "+stack[tos-2].toString()),save(),t=pop(),e=pop(),Find(e,t)&&ispolyexpandedform(e,t)&&issymbol(t)?yyfactorpoly(t,e):push(e),restore()},yyfactorpoly=function(e,t){var r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g,x,v,y,_,E,k,S,w,A,T;for(DEBUG&&(c=e,A=t,console.log("yyfactorpoly: "+c+" "+A)),save(),u=tos,isfloating(t)&&stop("floating point numbers in polynomial"),g=tos,a=coeff(e,t)-1,DEBUG&&console.log("yyfactorpoly: "+c+" "+A+" factpoly_expo before rationalize_coefficients: "+a),m=rationalize_coefficients(u),DEBUG&&console.log("yyfactorpoly: "+c+" "+A+" factpoly_expo  after rationalize_coefficients: "+a),T="real",S=null;a>0;)if(DEBUG&&console.log("yyfactorpoly: "+c+" "+A+" factpoly_expo inside while loop: "+a),isZeroAtomOrTensor(stack[g+0])?(DEBUG&&console.log("yyfactorpoly: "+c+" "+A+" isZeroAtomOrTensor"),r=one,n=zero):"real"===T?[p,r,n]=get_factor_from_real_root(e,a,g):"complex"===T&&([l,r]=get_factor_from_complex_root(S,a,g)),"real"===T){if(0===p){T="complex";continue}for(push(r),push(e),multiply(),push(n),add(),i=pop(),DEBUG&&console.log("yyfactorpoly: "+c+" "+A+" success\nFACTOR="+i),push(m),push(i),multiply_noexpand(),m=pop(),yydivpoly(a,g,r,n);a&&isZeroAtomOrTensor(stack[g+a]);)a--;for(push(zero),f=$=0,y=a;0<=y?$<=y:$>=y;f=0<=y?++$:--$)push(stack[g+f]),push(e),push_integer(f),power(),multiply(),add();S=pop()}else if("complex"===T){if(0===l)break;if(push(r),push(e),subtract(),push(r),conjugate(),push(e),subtract(),multiply(),w=pop(),DEBUG&&console.log("yyfactorpoly: "+c+" "+A+" success\nFACTOR="+w),push(m),v=pop(),push(m),push(w),multiply_noexpand(),m=pop(),null==S){for(push(zero),f=d=0,_=a;0<=_?d<=_:d>=_;f=0<=_?++d:--d)push(stack[g+f]),push(e),push_integer(f),power(),multiply(),add();S=pop()}if(push(s=S),push(w),push(e),divpoly(),S=pop(),push(S),push(w),multiply(),o=pop(),!equal(o,s))return DEBUG&&console.log("we found a polynomial based on complex root and its conj but it doesn't divide the poly, quitting"),DEBUG&&console.log("so just returning previousFactorisation times dividend: "+v+" * "+s),push(v),push(s),x=expanding,expanding=0,yycondense(),expanding=x,multiply_noexpand(),m=pop(),stack[u]=m,moveTos(u+1),void restore();for(f=h=0,E=a;0<=E?h<=E:h>=E;f=0<=E?++h:--h)pop();coeff(e,S),a-=2}for(DEBUG&&console.log("yyfactorpoly: "+c+" "+A+" building the remaining unfactored part of the polynomial"),push(zero),f=b=0,k=a;0<=k?b<=k:b>=k;f=0<=k?++b:--b)push(stack[g+f]),push(e),push_integer(f),power(),multiply(),add();return t=pop(),DEBUG&&console.log("yyfactorpoly: "+c+" "+A+" remaining unfactored part of the polynomial: "+t.toString()),push(t),x=expanding,expanding=0,yycondense(),expanding=x,t=pop(),DEBUG&&console.log("yyfactorpoly: "+c+" "+A+" new poly with extracted common factor: "+t.toString()),a>0&&isnegativeterm(stack[g+a])&&(push(t),negate(),t=pop(),push(m),negate_noexpand(),m=pop()),push(m),push(t),multiply_noexpand(),m=pop(),DEBUG&&console.log("yyfactorpoly: "+c+" "+A+" result: "+m),stack[u]=m,moveTos(u+1),restore()},rationalize_coefficients=function(e){var t,r,i,n,o,s,a,c,l;for(n=one,t=i=s=e,a=tos;s<=a?i<a:i>a;t=s<=a?++i:--i)push(stack[t]),denominator(),push(n),lcm(),n=pop();for(t=r=c=e,l=tos;c<=l?r<l:r>l;t=c<=l?++r:--r)push(n),push(stack[t]),multiply(),stack[t]=pop();return push(n),reciprocate(),o=pop(),DEBUG&&console.log("rationalize_coefficients result: "+o.toString()),o},get_factor_from_real_root=function(e,t,r){var i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g,x,v,y,_,E,k,S;if(DEBUG&&console.log("get_factor_from_real_root"),a=0,0,0,0,0,0,0,DEBUG){for(push(zero),a=h=0,$=t;0<=$?h<=$:h>=$;a=0<=$?++h:--h)push(stack[r+a]),push(e),push_integer(a),power(),multiply(),add();b=pop(),console.log("POLY="+b)}if(s=tos,n=tos,push(stack[r+t]),divisors_onstack(),d=tos-n,i=tos,push(stack[r+0]),divisors_onstack(),f=tos-i,DEBUG){for(console.log("divisors of base term"),a=c=0,m=f;0<=m?c<m:c>m;a=0<=m?++c:--c)console.log(", "+stack[i+a]);for(console.log("divisors of leading term"),a=l=0,g=d;0<=g?l<g:l>g;a=0<=g?++l:--l)console.log(", "+stack[n+a])}for(y=p=0,x=d;0<=x?p<x:p>x;y=0<=x?++p:--p)for(_=u=0,v=f;0<=v?u<v:u>v;_=0<=v?++u:--u){if(k=stack[n+y],E=stack[i+_],push(E),push(k),divide(),negate(),S=pop(),o=Evalpoly(t,r,S),DEBUG&&(console.log("try A="+k),console.log(", B="+E),console.log(", root "+e),console.log("=-B/A="+S),console.log(", POLY("+S),console.log(")="+o)),isZeroAtomOrTensor(o))return moveTos(s),DEBUG&&console.log("get_factor_from_real_root returning 1"),[1,k,E];if(push(E),negate(),E=pop(),push(S),negate(),S=pop(),o=Evalpoly(t,r,S),DEBUG&&(console.log("try A="+k),console.log(", B="+E),console.log(", root "+e),console.log("=-B/A="+S),console.log(", POLY("+S),console.log(")="+o)),isZeroAtomOrTensor(o))return moveTos(s),DEBUG&&console.log("get_factor_from_real_root returning 1"),[1,k,E]}return moveTos(s),DEBUG&&console.log("get_factor_from_real_root returning"),[0,null,null]},get_factor_from_complex_root=function(e,t,r){var i,n,o,s,a,c,l;if(0,0,0,0,0,0,0,t<=2)return DEBUG&&console.log("no more factoring via complex roots to be found in polynomial of degree <= 2"),[0,null];if(DEBUG&&console.log("complex root finding for POLY="+e),n=tos,tos,push_integer(-1),push_rational(2,3),power(),rect(),l=pop(),DEBUG&&console.log("complex root finding: trying with "+l),push(l),i=Evalpoly(t,r,l),DEBUG&&console.log("complex root finding result: "+i),isZeroAtomOrTensor(i))return moveTos(n),DEBUG&&console.log("get_factor_from_complex_root returning 1"),[1,l];if(push_integer(1),push_rational(2,3),power(),rect(),l=pop(),DEBUG&&console.log("complex root finding: trying with "+l),push(l),i=Evalpoly(t,r,l),DEBUG&&console.log("complex root finding result: "+i),isZeroAtomOrTensor(i))return moveTos(n),DEBUG&&console.log("get_factor_from_complex_root returning 1"),[1,l];for(a=s=-10;s<=10;a=++s)for(c=o=1;o<=5;c=++o)if(push_integer(a),push_integer(c),push(imaginaryunit),multiply(),add(),rect(),l=pop(),DEBUG&&console.log("complex root finding: trying simple complex combination "+l),push(l),i=Evalpoly(t,r,l),isZeroAtomOrTensor(i))return moveTos(n),DEBUG&&console.log("found complex root: "+i),[1,l];return moveTos(n),DEBUG&&console.log("get_factor_from_complex_root returning 0"),[0,null]},yydivpoly=function(e,t,r,i){var n,o,s,a;for(n=zero,o=s=a=e;a<=0?s<0:s>0;o=a<=0?++s:--s)push(stack[t+o]),stack[t+o]=n,push(r),divide(),n=pop(),push(stack[t+o-1]),push(n),push(i),multiply(),subtract(),stack[t+o-1]=pop();if(stack[t+0]=n,DEBUG)return console.log("yydivpoly Q: "+n.toString())},Evalpoly=function(e,t,r){var i,n,o;for(push(zero),i=n=o=e;o<=0?n<=0:n>=0;i=o<=0?++n:--n)push(r),multiply(),push(stack[t+i]),add();return pop()},factors=function(e){var t;if(t=tos,car(e)===symbol(ADD))for(e=cdr(e);iscons(e);)push_term_factors(car(e)),e=cdr(e);else push_term_factors(e);return tos-t},push_term_factors=function(e){var t;if(car(e)===symbol(MULTIPLY)){for(e=cdr(e),t=[];iscons(e);)push(car(e)),t.push(e=cdr(e));return t}return push(e)},Eval_filter=function(){var e;for(p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),e=[];iscons(p1);)push(car(p1)),Eval(),filter(),e.push(p1=cdr(p1));return e},filter=function(){return save(),p2=pop(),p1=pop(),filter_main(),restore()},filter_main=function(){return car(p1)===symbol(ADD)?filter_sum():istensor(p1)?filter_tensor():Find(p1,p2)?push_integer(0):push(p1)},filter_sum=function(){var e;for(push_integer(0),p1=cdr(p1),e=[];iscons(p1);)push(car(p1)),push(p2),filter(),add(),e.push(p1=cdr(p1));return e},filter_tensor=function(){var e,t,r,i,n,o;for(e=0,0,r=p1.tensor.nelem,(p3=alloc_tensor(r)).tensor.ndim=p1.tensor.ndim,e=i=0,n=p1.tensor.ndim;0<=n?i<n:i>n;e=0<=n?++i:--i)p3.tensor.dim[e]=p1.tensor.dim[e];for(e=t=0,o=r;0<=o?t<o:t>o;e=0<=o?++t:--t)push(p1.tensor.elem[e]),push(p2),filter(),p3.tensor.elem[e]=pop();return push(p3)},Eval_float=function(){return evaluatingAsFloats++,push(cadr(p1)),Eval(),yyfloat(),Eval(),evaluatingAsFloats--},checkFloatHasWorkedOutCompletely=function(e){var t,r,i,n,o;if(n=countOccurrencesOfSymbol(symbol(POWER),e),i=countOccurrencesOfSymbol(symbol(PI),e),t=countOccurrencesOfSymbol(symbol(E),e),r=countOccurrencesOfSymbol(symbol(MULTIPLY),e),o=countOccurrencesOfSymbol(symbol(ADD),e),DEBUG&&(console.log("     ... numberOfPowers: "+n),console.log("     ... numberOfPIs: "+i),console.log("     ... numberOfEs: "+t),console.log("     ... numberOfMults: "+r),console.log("     ... numberOfSums: "+o)),n>1||i>0||t>0||r>1||o>1)return stop("float: some unevalued parts in "+e)},zzfloat=function(){return save(),evaluatingAsFloats++,Eval(),yyfloat(),Eval(),evaluatingAsFloats--,restore()},yyfloat=function(){var e,t,r,i;if(t=0,e=0,evaluatingAsFloats++,save(),p1=pop(),iscons(p1)){for(e=tos;iscons(p1);)push(car(p1)),yyfloat(),p1=cdr(p1);list(tos-e)}else if(p1.k===TENSOR){for(push(p1),copy_tensor(),t=r=0,i=(p1=pop()).tensor.nelem;0<=i?r<i:r>i;t=0<=i?++r:--r)push(p1.tensor.elem[t]),yyfloat(),p1.tensor.elem[t]=pop();push(p1)}else p1.k===NUM?(push(p1),bignum_float()):p1===symbol(PI)?push_double(Math.PI):p1===symbol(E)?push_double(Math.E):push(p1);return restore(),evaluatingAsFloats--},Eval_floor=function(){return push(cadr(p1)),Eval(),yfloor()},yfloor=function(){return save(),yyfloor(),restore()},yyfloor=function(){var e;return e=0,p1=pop(),isNumericAtom(p1)?isdouble(p1)?(e=Math.floor(p1.d),void push_double(e)):isinteger(p1)?void push(p1):((p3=new U).k=NUM,p3.q.a=mdiv(p1.q.a,p1.q.b),p3.q.b=mint(1),push(p3),isnegativenumber(p1)?(push_integer(-1),add()):void 0):(push_symbol(FLOOR),push(p1),void list(2))},Eval_for=function(){var e,t,r,i,n,o,s;if(e=0,0,0,i=caddr(p1),issymbol(i)||stop("for: 2nd arg should be the variable to loop over"),push(cadddr(p1)),Eval(),t=pop_integer(),isNaN(t))push(p1);else{if(push(caddddr(p1)),Eval(),r=pop_integer(),!isNaN(r)){for(p4=get_binding(i),e=n=o=t,s=r;o<=s?n<=s:n>=s;e=o<=s?++n:--n)push_integer(e),p5=pop(),set_binding(i,p5),push(cadr(p1)),Eval(),pop();return set_binding(i,p4),push_symbol(NIL)}push(p1)}},Eval_gamma=function(){return push(cadr(p1)),Eval(),gamma()},gamma=function(){return save(),gammaf(),restore()},gammaf=function(){return p1=pop(),isrational(p1)&&MEQUAL(p1.q.a,1)&&MEQUAL(p1.q.b,2)?(evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),push_rational(1,2),void power()):isrational(p1)&&MEQUAL(p1.q.a,3)&&MEQUAL(p1.q.b,2)?(evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),push_rational(1,2),power(),push_rational(1,2),void multiply()):isnegativeterm(p1)?(evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),push_integer(-1),multiply(),evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),push(p1),multiply(),sine(),push(p1),multiply(),push(p1),negate(),gamma(),multiply(),void divide()):void(car(p1)!==symbol(ADD)?(push_symbol(GAMMA),push(p1),list(2)):gamma_of_sum())},gamma_of_sum=function(){return p3=cdr(p1),isrational(car(p3))&&MEQUAL(car(p3).q.a,1)&&MEQUAL(car(p3).q.b,1)?(push(cadr(p3)),push(cadr(p3)),gamma(),multiply()):isrational(car(p3))&&MEQUAL(car(p3).q.a,-1)&&MEQUAL(car(p3).q.b,1)?(push(cadr(p3)),gamma(),push(cadr(p3)),push_integer(-1),add(),divide()):(push_symbol(GAMMA),push(p1),void list(2))},Eval_gcd=function(){var e;for(p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),e=[];iscons(p1);)push(car(p1)),Eval(),gcd(),e.push(p1=cdr(p1));return e},gcd=function(){var e;return e=expanding,save(),gcd_main(),restore(),expanding=e},gcd_main=function(){var e;if(expanding=1,p2=pop(),p1=pop(),DEBUG&&console.log("gcd_main: p1: "+p1+" p2: "+p2),equal(p1,p2))push(p1);else{if(isrational(p1)&&isrational(p2))return push(p1),push(p2),void gcd_numbers();if(e=areunivarpolysfactoredorexpandedform(p1,p2))gcd_polys(e);else if(car(p1)!==symbol(ADD)||car(p2)!==symbol(ADD))if(car(p1)===symbol(ADD)&&(gcd_sum(p1),p1=pop()),car(p2)===symbol(ADD)&&(gcd_sum(p2),p2=pop()),car(p1)!==symbol(MULTIPLY))if(car(p2)!==symbol(MULTIPLY)){if(car(p1)!==symbol(MULTIPLY)||car(p2)!==symbol(MULTIPLY))return gcd_powers_with_same_base();gcd_product_product()}else gcd_product_sum();else gcd_sum_product();else gcd_sum_sum()}},areunivarpolysfactoredorexpandedform=function(e,t){var r;return DEBUG&&console.log("areunivarpolysfactoredorexpandedform: p1: "+e+" p2: "+t),!(!(r=isunivarpolyfactoredorexpandedform(e))||!isunivarpolyfactoredorexpandedform(t,r))&&r},gcd_polys=function(e){if(DEBUG&&console.log("gcd_polys: p1: "+p1+" polyVar: "+e),push(p1),push(e),factorpoly(),p1=pop(),push(p2),push(e),factorpoly(),p2=pop(),DEBUG&&console.log("GCD: factored polys:"),DEBUG&&console.log("  p1:"+p1.toString()),DEBUG&&console.log("  p2:"+p2.toString()),car(p1)!==symbol(MULTIPLY)&&car(p2)!==symbol(MULTIPLY)||(car(p1)!==symbol(MULTIPLY)&&(push_symbol(MULTIPLY),push(p1),push(one),list(3),p1=pop()),car(p2)!==symbol(MULTIPLY)&&(push_symbol(MULTIPLY),push(p2),push(one),list(3),p2=pop())),car(p1)!==symbol(MULTIPLY)||car(p2)!==symbol(MULTIPLY))return gcd_powers_with_same_base(),!0;gcd_product_product()},gcd_product_product=function(){var e;for(push(one),p3=cdr(p1),e=[];iscons(p3);){for(p4=cdr(p2);iscons(p4);)push(car(p3)),push(car(p4)),gcd(),multiply(),p4=cdr(p4);e.push(p3=cdr(p3))}return e},gcd_powers_with_same_base=function(){if(car(p1)===symbol(POWER)?(p3=caddr(p1),p1=cadr(p1)):p3=one,car(p2)===symbol(POWER)?(p4=caddr(p2),p2=cadr(p2)):p4=one,equal(p1,p2)){if(isNumericAtom(p3)&&isNumericAtom(p4))return push(p1),lessp(p3,p4)?push(p3):push(p4),void power();if(push(p3),push(p4),divide(),p5=pop(),isNumericAtom(p5))return push(p1),p5=car(p3)===symbol(MULTIPLY)&&isNumericAtom(cadr(p3))?cadr(p3):one,p6=car(p4)===symbol(MULTIPLY)&&isNumericAtom(cadr(p4))?cadr(p4):one,lessp(p5,p6)?push(p3):push(p4),void power();if(push(p3),push(p4),subtract(),p5=pop(),isNumericAtom(p5))return push(p1),isnegativenumber(p5)?push(p3):push(p4),power();push(one)}else push(one)},gcd_sum_sum=function(){if(length(p1)===length(p2)){for(p3=cdr(p1),push(car(p3)),p3=cdr(p3);iscons(p3);)push(car(p3)),gcd(),p3=cdr(p3);for(p3=pop(),p4=cdr(p2),push(car(p4)),p4=cdr(p4);iscons(p4);)push(car(p4)),gcd(),p4=cdr(p4);return p4=pop(),push(p1),push(p3),divide(),p5=pop(),push(p2),push(p4),divide(),p6=pop(),equal(p5,p6)?(push(p5),push(p3),push(p4),gcd(),multiply()):push(one)}push(one)},gcd_sum=function(e){var t;for(e=cdr(e),push(car(e)),e=cdr(e),t=[];iscons(e);)push(car(e)),gcd(),t.push(e=cdr(e));return t},gcd_sum_product=function(){var e;for(push(one),p3=cdr(p1),e=[];iscons(p3);)push(car(p3)),push(p2),gcd(),multiply(),e.push(p3=cdr(p3));return e},gcd_product_sum=function(){var e;for(push(one),p4=cdr(p2),e=[];iscons(p4);)push(p1),push(car(p4)),gcd(),multiply(),e.push(p4=cdr(p4));return e},guess=function(){var e;return e=pop(),push(e),Find(e,symbol(SYMBOL_X))?push_symbol(SYMBOL_X):Find(e,symbol(SYMBOL_Y))?push_symbol(SYMBOL_Y):Find(e,symbol(SYMBOL_Z))?push_symbol(SYMBOL_Z):Find(e,symbol(SYMBOL_T))?push_symbol(SYMBOL_T):Find(e,symbol(SYMBOL_S))?push_symbol(SYMBOL_S):push_symbol(SYMBOL_X)},hermite=function(){return save(),yyhermite(),restore()},yyhermite=function(){var e;return 0,p2=pop(),p1=pop(),push(p2),(e=pop_integer())<0||isNaN(e)?(push_symbol(HERMITE),push(p1),push(p2),void list(3)):issymbol(p1)?yyhermite2(e):(p3=p1,p1=symbol(SECRETX),yyhermite2(e),p1=p3,push(symbol(SECRETX)),push(p1),subst(),Eval())},yyhermite2=function(e){var t,r,i,n;for(t=0,push_integer(1),push_integer(0),p4=pop(),n=[],t=r=0,i=e;0<=i?r<i:r>i;t=0<=i?++r:--r)p5=p4,p4=pop(),push(p1),push(p4),multiply(),push_integer(t),push(p5),multiply(),subtract(),push_integer(2),n.push(multiply());return n},hilbert=function(){var e,t,r,i,n,o,s;if(e=0,r=0,0,save(),p2=pop(),push(p2),(i=pop_integer())<2)return push_symbol(HILBERT),push(p2),list(2),void restore();for(push_zero_matrix(i,i),p1=pop(),e=n=0,o=i;0<=o?n<o:n>o;e=0<=o?++n:--n)for(r=t=0,s=i;0<=s?t<s:t>s;r=0<=s?++t:--t)push_integer(e+r+1),inverse(),p1.tensor.elem[e*i+r]=pop();return push(p1),restore()},DEBUG_IMAG=!1,Eval_imag=function(){return push(cadr(p1)),Eval(),imag()},imag=function(){return save(),rect(),p1=pop(),DEBUG_IMAG&&console.log("IMAGE of "+p1),push(p1),push(p1),conjugate(),DEBUG_IMAG&&console.log(" image: conjugate result: "+stack[tos-1]),subtract(),push_integer(2),divide(),DEBUG_IMAG&&console.log(" image: 1st divide result: "+stack[tos-1]),push(imaginaryunit),divide(),DEBUG_IMAG&&console.log(" image: 2nd divide result: "+stack[tos-1]),restore()},index_function=function(e){var t,r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g,x,v;for(t=0,n=0,0,0,l=0,v=0,save(),(s=e-1)>(c=(p1=stack[x=tos-e]).tensor.ndim)&&stop("too many indices for tensor"),n=0,t=p=0,u=s;0<=u?p<u:p>u;t=0<=u?++p:--p)push(stack[x+t+1]),((v=pop_integer())<1||v>p1.tensor.dim[t])&&stop("index out of range"),n=n*p1.tensor.dim[t]+v-1;if(c===s)return moveTos(tos-e),push(p1.tensor.elem[n]),void restore();for(t=r=f=s,d=c;f<=d?r<d:r>d;t=f<=d?++r:--r)n=n*p1.tensor.dim[t]+0;for(l=1,t=i=h=s,b=c;h<=b?i<b:i>b;t=h<=b?++i:--i)l*=p1.tensor.dim[t];for((p2=alloc_tensor(l)).tensor.ndim=c-s,t=o=$=s,m=c;$<=m?o<m:o>m;t=$<=m?++o:--o)p2.tensor.dim[t-s]=p1.tensor.dim[t];for(t=a=0,g=l;0<=g?a<g:a>g;t=0<=g?++a:--a)p2.tensor.elem[t]=p1.tensor.elem[n+t];return check_tensor_dimensions(p1),check_tensor_dimensions(p2),moveTos(tos-e),push(p2),restore()},set_component=function(e){var t,r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g,x;for(t=0,n=0,0,0,x=0,save(),e<3&&stop("error in indexed assign"),p2=stack[g=tos-e],p1=stack[g+1],istensor(p1)||stop("error in indexed assign: assigning to something that is not a tensor"),(s=e-2)>(l=p1.tensor.ndim)&&stop("error in indexed assign"),n=0,t=p=0,u=s;0<=u?p<u:p>u;t=0<=u?++p:--p)push(stack[g+t+2]),((x=pop_integer())<1||x>p1.tensor.dim[t])&&stop("error in indexed assign\n"),n=n*p1.tensor.dim[t]+x-1;for(t=r=f=s,d=l;f<=d?r<d:r>d;t=f<=d?++r:--r)n=n*p1.tensor.dim[t]+0;for((p3=alloc_tensor(p1.tensor.nelem)).tensor.ndim=p1.tensor.ndim,t=i=0,h=p1.tensor.ndim;0<=h?i<h:i>h;t=0<=h?++i:--i)p3.tensor.dim[t]=p1.tensor.dim[t];for(t=o=0,b=p1.tensor.nelem;0<=b?o<b:o>b;t=0<=b?++o:--o)p3.tensor.elem[t]=p1.tensor.elem[t];if(check_tensor_dimensions(p1),check_tensor_dimensions(p3),p1=p3,l===s)return istensor(p2)&&stop("error in indexed assign"),p1.tensor.elem[n]=p2,check_tensor_dimensions(p1),moveTos(tos-e),push(p1),void restore();for(istensor(p2)||stop("error in indexed assign"),l-s!==p2.tensor.ndim&&stop("error in indexed assign"),t=a=0,$=p2.tensor.ndim;0<=$?a<$:a>$;t=0<=$?++a:--a)p1.tensor.dim[s+t]!==p2.tensor.dim[t]&&stop("error in indexed assign");for(t=c=0,m=p2.tensor.nelem;0<=m?c<m:c>m;t=0<=m?++c:--c)p1.tensor.elem[n+t]=p2.tensor.elem[t];return check_tensor_dimensions(p1),check_tensor_dimensions(p2),moveTos(tos-e),push(p1),restore()},Eval_inner=function(){var e,t,r,i,n,o,s,a,c,l,p,u,f,d,h,b;for((b=[]).push(car(cdr(p1))),car(cdr(cdr(p1)))===symbol(NIL)&&stop("pattern needs at least a template and a transformed version"),o=cdr(cdr(p1));o!==symbol(NIL);)b.push(car(o)),o=cdr(o);if(b.length>2){for(push_symbol(INNER),push(b[b.length-2]),push(b[b.length-1]),list(3),t=s=2,c=b.length;2<=c?s<c:s>c;t=2<=c?++s:--s)push_symbol(INNER),swap(),push(b[b.length-t-1]),swap(),list(3);return p1=pop(),void Eval_inner()}for(get_innerprod_factors(p1,a=[]),f=[],t=r=0,l=a.length;0<=l?r<l:r>l;t=0<=l?++r:--r)a[t]!==symbol(SYMBOL_IDENTITY_MATRIX)&&f.push(a[t]);if(a=f,f=[],a.length>1){for(h=0,t=i=0,p=a.length;(0<=p?i<p:i>p)&&t+h+1<=a.length-1&&(isNumericAtomOrTensor(a[t+h])||isNumericAtomOrTensor(a[t+h+1])?f.push(a[t+h]):(push(a[t+h]),Eval(),inv(),push(a[t+h+1]),Eval(),subtract(),e=pop(),isZeroAtomOrTensor(e)?h+=1:f.push(a[t+h])),t+h===a.length-2&&f.push(a[a.length-1]),!(t+h>=a.length-1));t=0<=p?++i:--i);a=f}if(push(symbol(INNER)),!(a.length>0))return pop(),void push(symbol(SYMBOL_IDENTITY_MATRIX));for(t=n=0,u=a.length;0<=u?n<u:n>u;t=0<=u?++n:--n)push(a[t]);for(list(a.length+1),p1=pop(),p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),d=[];iscons(p1);)push(car(p1)),Eval(),inner(),d.push(p1=cdr(p1));return d},inner=function(){var e,t,r,i;if(save(),p2=pop(),p1=pop(),isnegativeterm(p2)&&isnegativeterm(p1)&&(push(p2),negate(),p2=pop(),push(p1),negate(),p1=pop()),isinnerordot(p1)&&(e=car(cdr(p1)),t=car(cdr(cdr(p1))),r=p2,p1=e,push(t),push(r),inner(),p2=pop()),p1===symbol(SYMBOL_IDENTITY_MATRIX))return push(p2),void restore();if(p2===symbol(SYMBOL_IDENTITY_MATRIX))return push(p1),void restore();if(istensor(p1)&&istensor(p2))inner_f();else{if(!isNumericAtomOrTensor(p1)&&!isNumericAtomOrTensor(p2)&&(push(p1),push(p2),inv(),subtract(),i=pop(),isZeroAtomOrTensor(i)))return push_symbol(SYMBOL_IDENTITY_MATRIX),void restore();if(expanding&&isadd(p1)){for(p1=cdr(p1),push(zero);iscons(p1);)push(car(p1)),push(p2),inner(),add(),p1=cdr(p1);return void restore()}if(expanding&&isadd(p2)){for(p2=cdr(p2),push(zero);iscons(p2);)push(p1),push(car(p2)),inner(),add(),p2=cdr(p2);return void restore()}if(push(p1),push(p2),istensor(p1)&&isNumericAtom(p2))tensor_times_scalar();else if(isNumericAtom(p1)&&istensor(p2))scalar_times_tensor();else{if(!isNumericAtom(p1)&&!isNumericAtom(p2))return pop(),pop(),push_symbol(INNER),push(p1),push(p2),list(3),void restore();multiply()}}return restore()},inner_f=function(){var e,t,r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g,x,v,y,_,E;for(o=0,(f=p1.tensor.dim[p1.tensor.ndim-1])!==p2.tensor.dim[0]&&stop("inner: tensor dimension check"),(h=p1.tensor.ndim+p2.tensor.ndim-2)>MAXDIM&&stop("inner: rank of result exceeds maximum"),e=p1.tensor.elem,r=p2.tensor.elem,t=1,o=b=0,m=p1.tensor.ndim-1;0<=m?b<m:b>m;o=0<=m?++b:--b)t*=p1.tensor.dim[o];for(i=1,o=s=1,g=p2.tensor.ndim;1<=g?s<g:s>g;o=1<=g?++s:--s)i*=p2.tensor.dim[o];for(n=(p3=alloc_tensor(t*i)).tensor.elem,o=c=0,x=t;0<=x?c<x:c>x;o=0<=x?++c:--c)for(a=p=0,v=f;0<=v?p<v:p>v;a=0<=v?++p:--p)if(!isZeroAtomOrTensor(e[o*f+a]))for(l=u=0,y=i;0<=y?u<y:u>y;l=0<=y?++u:--u)push(e[o*f+a]),push(r[a*i+l]),multiply(),push(n[o*i+l]),add(),n[o*i+l]=pop();if(0===h)return push(p3.tensor.elem[0]);for(p3.tensor.ndim=h,a=0,o=d=0,_=p1.tensor.ndim-1;0<=_?d<_:d>_;o=0<=_?++d:--d)p3.tensor.dim[o]=p1.tensor.dim[o];for(a=p1.tensor.ndim-1,o=$=0,E=p2.tensor.ndim-1;0<=E?$<E:$>E;o=0<=E?++$:--$)p3.tensor.dim[a+o]=p2.tensor.dim[o+1];return push(p3)},get_innerprod_factors=function(e,t){if(iscons(e)){if(cdr(e)!==symbol(NIL))return isinnerordot(e)?(get_innerprod_factors(car(cdr(e)),t),void get_innerprod_factors(cdr(cdr(e)),t)):add_factor_to_accumulator(e,t);e=get_innerprod_factors(car(e),t)}else add_factor_to_accumulator(e,t)},add_factor_to_accumulator=function(e,t){if(e!==symbol(NIL))return t.push(e)},itab=["f(a,a*x)","f(1/x,log(x))","f(x^a,x^(a+1)/(a+1))","f(x^(-2),-x^(-1))","f(x^(-1/2),2*x^(1/2))","f(x^(1/2),2/3*x^(3/2))","f(x,x^2/2)","f(x^2,x^3/3)","f(exp(a*x),1/a*exp(a*x))","f(exp(a*x+b),1/a*exp(a*x+b))","f(x*exp(a*x^2),exp(a*x^2)/(2*a))","f(x*exp(a*x^2+b),exp(a*x^2+b)/(2*a))","f(log(a*x),x*log(a*x)-x)","f(a^x,a^x/log(a),or(not(number(a)),a>0))","f(1/(a+x^2),1/sqrt(a)*arctan(x/sqrt(a)),or(not(number(a)),a>0))","f(1/(a-x^2),1/sqrt(a)*arctanh(x/sqrt(a)))","f(1/sqrt(a-x^2),arcsin(x/(sqrt(a))))","f(1/sqrt(a+x^2),log(x+sqrt(a+x^2)))","f(1/(a+b*x),1/b*log(a+b*x))","f(1/(a+b*x)^2,-1/(b*(a+b*x)))","f(1/(a+b*x)^3,-1/(2*b)*1/(a+b*x)^2)","f(x/(a+b*x),x/b-a*log(a+b*x)/b/b)","f(x/(a+b*x)^2,1/b^2*(log(a+b*x)+a/(a+b*x)))","f(x^2/(a+b*x),1/b^2*(1/2*(a+b*x)^2-2*a*(a+b*x)+a^2*log(a+b*x)))","f(x^2/(a+b*x)^2,1/b^3*(a+b*x-2*a*log(a+b*x)-a^2/(a+b*x)))","f(x^2/(a+b*x)^3,1/b^3*(log(a+b*x)+2*a/(a+b*x)-1/2*a^2/(a+b*x)^2))","f(1/x*1/(a+b*x),-1/a*log((a+b*x)/x))","f(1/x*1/(a+b*x)^2,1/a*1/(a+b*x)-1/a^2*log((a+b*x)/x))","f(1/x*1/(a+b*x)^3,1/a^3*(1/2*((2*a+b*x)/(a+b*x))^2+log(x/(a+b*x))))","f(1/x^2*1/(a+b*x),-1/(a*x)+b/a^2*log((a+b*x)/x))","f(1/x^3*1/(a+b*x),(2*b*x-a)/(2*a^2*x^2)+b^2/a^3*log(x/(a+b*x)))","f(1/x^2*1/(a+b*x)^2,-(a+2*b*x)/(a^2*x*(a+b*x))+2*b/a^3*log((a+b*x)/x))","f(1/(a+b*x^2),1/sqrt(a*b)*arctan(x*sqrt(a*b)/a),or(not(number(a*b)),a*b>0))","f(1/(a+b*x^2),1/(2*sqrt(-a*b))*log((a+x*sqrt(-a*b))/(a-x*sqrt(-a*b))),or(not(number(a*b)),a*b<0))","f(x/(a+b*x^2),1/2*1/b*log(a+b*x^2))","f(x^2/(a+b*x^2),x/b-a/b*integral(1/(a+b*x^2),x))","f(1/(a+b*x^2)^2,x/(2*a*(a+b*x^2))+1/2*1/a*integral(1/(a+b*x^2),x))","f(1/x*1/(a+b*x^2),1/2*1/a*log(x^2/(a+b*x^2)))","f(1/x^2*1/(a+b*x^2),-1/(a*x)-b/a*integral(1/(a+b*x^2),x))","f(1/(a+b*x^3),1/3*1/a*(a/b)^(1/3)*(1/2*log(((a/b)^(1/3)+x)^3/(a+b*x^3))+sqrt(3)*arctan((2*x-(a/b)^(1/3))*(a/b)^(-1/3)/sqrt(3))))","f(x^2/(a+b*x^3),1/3*1/b*log(a+b*x^3))","f(x/(a+b*x^4),1/2*sqrt(b/a)/b*arctan(x^2*sqrt(b/a)),or(not(number(a*b)),a*b>0))","f(x/(a+b*x^4),1/4*sqrt(-b/a)/b*log((x^2-sqrt(-a/b))/(x^2+sqrt(-a/b))),or(not(number(a*b)),a*b<0))","f(x^3/(a+b*x^4),1/4*1/b*log(a+b*x^4))","f(sqrt(a+b*x),2/3*1/b*sqrt((a+b*x)^3))","f(x*sqrt(a+b*x),-2*(2*a-3*b*x)*sqrt((a+b*x)^3)/15/b^2)","f(x^2*sqrt(a+b*x),2*(8*a^2-12*a*b*x+15*b^2*x^2)*sqrt((a+b*x)^3)/105/b^3)","f(sqrt(a+b*x)/x,2*sqrt(a+b*x)+a*integral(1/x*1/sqrt(a+b*x),x))","f(sqrt(a+b*x)/x^2,-sqrt(a+b*x)/x+b/2*integral(1/x*1/sqrt(a+b*x),x))","f(1/sqrt(a+b*x),2*sqrt(a+b*x)/b)","f(x/sqrt(a+b*x),-2/3*(2*a-b*x)*sqrt(a+b*x)/b^2)","f(x^2/sqrt(a+b*x),2/15*(8*a^2-4*a*b*x+3*b^2*x^2)*sqrt(a+b*x)/b^3)","f(1/x*1/sqrt(a+b*x),1/sqrt(a)*log((sqrt(a+b*x)-sqrt(a))/(sqrt(a+b*x)+sqrt(a))),or(not(number(a)),a>0))","f(1/x*1/sqrt(a+b*x),2/sqrt(-a)*arctan(sqrt(-(a+b*x)/a)),or(not(number(a)),a<0))","f(1/x^2*1/sqrt(a+b*x),-sqrt(a+b*x)/a/x-1/2*b/a*integral(1/x*1/sqrt(a+b*x),x))","f(sqrt(x^2+a),1/2*(x*sqrt(x^2+a)+a*log(x+sqrt(x^2+a))))","f(1/sqrt(x^2+a),log(x+sqrt(x^2+a)))","f(1/x*1/sqrt(x^2+a),arcsec(x/sqrt(-a))/sqrt(-a),or(not(number(a)),a<0))","f(1/x*1/sqrt(x^2+a),-1/sqrt(a)*log((sqrt(a)+sqrt(x^2+a))/x),or(not(number(a)),a>0))","f(sqrt(x^2+a)/x,sqrt(x^2+a)-sqrt(a)*log((sqrt(a)+sqrt(x^2+a))/x),or(not(number(a)),a>0))","f(sqrt(x^2+a)/x,sqrt(x^2+a)-sqrt(-a)*arcsec(x/sqrt(-a)),or(not(number(a)),a<0))","f(x/sqrt(x^2+a),sqrt(x^2+a))","f(x*sqrt(x^2+a),1/3*sqrt((x^2+a)^3))","f(sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/4*(x*sqrt((x^2+a^(1/3))^3)+3/2*a^(1/3)*x*sqrt(x^2+a^(1/3))+3/2*a^(2/3)*log(x+sqrt(x^2+a^(1/3)))))","f(sqrt(-a+x^6-3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/4*(x*sqrt((x^2-a^(1/3))^3)-3/2*a^(1/3)*x*sqrt(x^2-a^(1/3))+3/2*a^(2/3)*log(x+sqrt(x^2-a^(1/3)))))","f(1/sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),x/a^(1/3)/sqrt(x^2+a^(1/3)))","f(x/sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),-1/sqrt(x^2+a^(1/3)))","f(x*sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/5*sqrt((x^2+a^(1/3))^5))","f(x^2*sqrt(x^2+a),1/4*x*sqrt((x^2+a)^3)-1/8*a*x*sqrt(x^2+a)-1/8*a^2*log(x+sqrt(x^2+a)))","f(x^3*sqrt(x^2+a),(1/5*x^2-2/15*a)*sqrt((x^2+a)^3),and(number(a),a>0))","f(x^3*sqrt(x^2+a),sqrt((x^2+a)^5)/5-a*sqrt((x^2+a)^3)/3,and(number(a),a<0))","f(x^2/sqrt(x^2+a),1/2*x*sqrt(x^2+a)-1/2*a*log(x+sqrt(x^2+a)))","f(x^3/sqrt(x^2+a),1/3*sqrt((x^2+a)^3)-a*sqrt(x^2+a))","f(1/x^2*1/sqrt(x^2+a),-sqrt(x^2+a)/a/x)","f(1/x^3*1/sqrt(x^2+a),-1/2*sqrt(x^2+a)/a/x^2+1/2*log((sqrt(a)+sqrt(x^2+a))/x)/a^(3/2),or(not(number(a)),a>0))","f(1/x^3*1/sqrt(x^2-a),1/2*sqrt(x^2-a)/a/x^2+1/2*1/(a^(3/2))*arcsec(x/(a^(1/2))),or(not(number(a)),a>0))","f(x^2*sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/6*x*sqrt((x^2+a^(1/3))^5)-1/24*a^(1/3)*x*sqrt((x^2+a^(1/3))^3)-1/16*a^(2/3)*x*sqrt(x^2+a^(1/3))-1/16*a*log(x+sqrt(x^2+a^(1/3))),or(not(number(a)),a>0))","f(x^2*sqrt(-a-3*a^(1/3)*x^4+3*a^(2/3)*x^2+x^6),1/6*x*sqrt((x^2-a^(1/3))^5)+1/24*a^(1/3)*x*sqrt((x^2-a^(1/3))^3)-1/16*a^(2/3)*x*sqrt(x^2-a^(1/3))+1/16*a*log(x+sqrt(x^2-a^(1/3))),or(not(number(a)),a>0))","f(x^3*sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/7*sqrt((x^2+a^(1/3))^7)-1/5*a^(1/3)*sqrt((x^2+a^(1/3))^5),or(not(number(a)),a>0))","f(x^3*sqrt(-a-3*a^(1/3)*x^4+3*a^(2/3)*x^2+x^6),1/7*sqrt((x^2-a^(1/3))^7)+1/5*a^(1/3)*sqrt((x^2-a^(1/3))^5),or(not(number(a)),a>0))","f(1/(x-a)/sqrt(x^2-a^2),-sqrt(x^2-a^2)/a/(x-a))","f(1/(x+a)/sqrt(x^2-a^2),sqrt(x^2-a^2)/a/(x+a))","f(sqrt(a-x^2),1/2*(x*sqrt(a-x^2)+a*arcsin(x/sqrt(abs(a)))))","f(1/x*1/sqrt(a-x^2),-1/sqrt(a)*log((sqrt(a)+sqrt(a-x^2))/x),or(not(number(a)),a>0))","f(sqrt(a-x^2)/x,sqrt(a-x^2)-sqrt(a)*log((sqrt(a)+sqrt(a-x^2))/x),or(not(number(a)),a>0))","f(x/sqrt(a-x^2),-sqrt(a-x^2))","f(x*sqrt(a-x^2),-1/3*sqrt((a-x^2)^3))","f(x^2*sqrt(a-x^2),-x/4*sqrt((a-x^2)^3)+1/8*a*(x*sqrt(a-x^2)+a*arcsin(x/sqrt(a))),or(not(number(a)),a>0))","f(x^3*sqrt(a-x^2),(-1/5*x^2-2/15*a)*sqrt((a-x^2)^3),or(not(number(a)),a>0))","f(x^2/sqrt(a-x^2),-x/2*sqrt(a-x^2)+a/2*arcsin(x/sqrt(a)),or(not(number(a)),a>0))","f(1/x^2*1/sqrt(a-x^2),-sqrt(a-x^2)/a/x,or(not(number(a)),a>0))","f(sqrt(a-x^2)/x^2,-sqrt(a-x^2)/x-arcsin(x/sqrt(a)),or(not(number(a)),a>0))","f(sqrt(a-x^2)/x^3,-1/2*sqrt(a-x^2)/x^2+1/2*log((sqrt(a)+sqrt(a-x^2))/x)/sqrt(a),or(not(number(a)),a>0))","f(sqrt(a-x^2)/x^4,-1/3*sqrt((a-x^2)^3)/a/x^3,or(not(number(a)),a>0))","f(sqrt(a*x^2+b),x*sqrt(a*x^2+b)/2+b*log(x*sqrt(a)+sqrt(a*x^2+b))/2/sqrt(a),and(number(a),a>0))","f(sqrt(a*x^2+b),x*sqrt(a*x^2+b)/2+b*arcsin(x*sqrt(-a/b))/2/sqrt(-a),and(number(a),a<0))","f(sin(a*x),-cos(a*x)/a)","f(cos(a*x),sin(a*x)/a)","f(tan(a*x),-log(cos(a*x))/a)","f(1/tan(a*x),log(sin(a*x))/a)","f(1/cos(a*x),log(tan(pi/4+a*x/2))/a)","f(1/sin(a*x),log(tan(a*x/2))/a)","f(sin(a*x)^2,x/2-sin(2*a*x)/(4*a))","f(sin(a*x)^3,-cos(a*x)*(sin(a*x)^2+2)/(3*a))","f(sin(a*x)^4,3/8*x-sin(2*a*x)/(4*a)+sin(4*a*x)/(32*a))","f(cos(a*x)^2,x/2+sin(2*a*x)/(4*a))","f(cos(a*x)^3,sin(a*x)*(cos(a*x)^2+2)/(3*a))","f(cos(a*x)^4,3/8*x+sin(2*a*x)/(4*a)+sin(4*a*x)/(32*a))","f(1/sin(a*x)^2,-1/(a*tan(a*x)))","f(1/cos(a*x)^2,tan(a*x)/a)","f(sin(a*x)*cos(a*x),sin(a*x)^2/(2*a))","f(sin(a*x)^2*cos(a*x)^2,-sin(4*a*x)/(32*a)+x/8)","f(sin(a*x)/cos(a*x)^2,1/(a*cos(a*x)))","f(sin(a*x)^2/cos(a*x),(log(tan(pi/4+a*x/2))-sin(a*x))/a)","f(cos(a*x)/sin(a*x)^2,-1/(a*sin(a*x)))","f(1/(sin(a*x)*cos(a*x)),log(tan(a*x))/a)","f(1/(sin(a*x)*cos(a*x)^2),(1/cos(a*x)+log(tan(a*x/2)))/a)","f(1/(sin(a*x)^2*cos(a*x)),(log(tan(pi/4+a*x/2))-1/sin(a*x))/a)","f(1/(sin(a*x)^2*cos(a*x)^2),-2/(a*tan(2*a*x)))","f(sin(a+b*x),-cos(a+b*x)/b)","f(cos(a+b*x),sin(a+b*x)/b)","f(1/(b+b*sin(a*x)),-tan(pi/4-a*x/2)/a/b)","f(1/(b-b*sin(a*x)),tan(pi/4+a*x/2)/a/b)","f(1/(b+b*cos(a*x)),tan(a*x/2)/a/b)","f(1/(b-b*cos(a*x)),-1/tan(a*x/2)/a/b)","f(1/(a+b*sin(x)),1/sqrt(b^2-a^2)*log((a*tan(x/2)+b-sqrt(b^2-a^2))/(a*tan(x/2)+b+sqrt(b^2-a^2))),b^2-a^2)","f(1/(a+b*cos(x)),1/sqrt(b^2-a^2)*log((sqrt(b^2-a^2)*tan(x/2)+a+b)/(sqrt(b^2-a^2)*tan(x/2)-a-b)),b^2-a^2)","f(x*sin(a*x),sin(a*x)/a^2-x*cos(a*x)/a)","f(x^2*sin(a*x),2*x*sin(a*x)/a^2-(a^2*x^2-2)*cos(a*x)/a^3)","f(x*cos(a*x),cos(a*x)/a^2+x*sin(a*x)/a)","f(x^2*cos(a*x),2*x*cos(a*x)/a^2+(a^2*x^2-2)*sin(a*x)/a^3)","f(arcsin(a*x),x*arcsin(a*x)+sqrt(1-a^2*x^2)/a)","f(arccos(a*x),x*arccos(a*x)-sqrt(1-a^2*x^2)/a)","f(arctan(a*x),x*arctan(a*x)-1/2*log(1+a^2*x^2)/a)","f(x*log(a*x),x^2*log(a*x)/2-x^2/4)","f(x^2*log(a*x),x^3*log(a*x)/3-1/9*x^3)","f(log(x)^2,x*log(x)^2-2*x*log(x)+2*x)","f(1/x*1/(a+log(x)),log(a+log(x)))","f(log(a*x+b),(a*x+b)*log(a*x+b)/a-x)","f(log(a*x+b)/x^2,a/b*log(x)-(a*x+b)*log(a*x+b)/b/x)","f(sinh(x),cosh(x))","f(cosh(x),sinh(x))","f(tanh(x),log(cosh(x)))","f(x*sinh(x),x*cosh(x)-sinh(x))","f(x*cosh(x),x*sinh(x)-cosh(x))","f(sinh(x)^2,sinh(2*x)/4-x/2)","f(tanh(x)^2,x-tanh(x))","f(cosh(x)^2,sinh(2*x)/4+x/2)","f(x^3*exp(a*x^2),exp(a*x^2)*(x^2/a-1/(a^2))/2)","f(x^3*exp(a*x^2+b),exp(a*x^2)*exp(b)*(x^2/a-1/(a^2))/2)","f(exp(a*x^2),-i*sqrt(pi)*erf(i*sqrt(a)*x)/sqrt(a)/2)","f(erf(a*x),x*erf(a*x)+exp(-a^2*x^2)/a/sqrt(pi))","f(x^2*(1-x^2)^(3/2),(x*sqrt(1-x^2)*(-8*x^4+14*x^2-3)+3*arcsin(x))/48)","f(x^2*(1-x^2)^(5/2),(x*sqrt(1-x^2)*(48*x^6-136*x^4+118*x^2-15)+15*arcsin(x))/384)","f(x^4*(1-x^2)^(3/2),(-x*sqrt(1-x^2)*(16*x^6-24*x^4+2*x^2+3)+3*arcsin(x))/128)","f(x*exp(a*x),exp(a*x)*(a*x-1)/(a^2))","f(x*exp(a*x+b),exp(a*x+b)*(a*x-1)/(a^2))","f(x^2*exp(a*x),exp(a*x)*(a^2*x^2-2*a*x+2)/(a^3))","f(x^2*exp(a*x+b),exp(a*x+b)*(a^2*x^2-2*a*x+2)/(a^3))","f(x^3*exp(a*x),exp(a*x)*x^3/a-3/a*integral(x^2*exp(a*x),x))","f(x^3*exp(a*x+b),exp(a*x+b)*x^3/a-3/a*integral(x^2*exp(a*x+b),x))",0],Eval_integral=function(){var e,t,r,i,n;for(0,t=0,p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),push(car(p1)),Eval(),(p2=pop())===symbol(NIL)?(guess(),push(symbol(NIL))):isNumericAtom(p2)?(guess(),push(p2)):(push(p2),p1=cdr(p1),push(car(p1)),Eval()),p5=pop(),p4=pop(),p3=pop();;){if(isNumericAtom(p5)?(push(p5),t=pop_integer(),isNaN(t)&&stop("nth integral: check n")):t=1,push(p3),t>=0)for(r=0,i=t;0<=i?r<i:r>i;0<=i?++r:--r)push(p4),integral();else for(e=0,n=t=-t;0<=n?e<n:e>n;0<=n?++e:--e)push(p4),derivative();if(p3=pop(),p5===symbol(NIL))break;if(isNumericAtom(p5)){if(p1=cdr(p1),push(car(p1)),Eval(),(p5=pop())===symbol(NIL))break;isNumericAtom(p5)?1:(p4=p5,p1=cdr(p1),push(car(p1)),Eval(),p5=pop())}else p4=p5,p1=cdr(p1),push(car(p1)),Eval(),p5=pop()}return push(p3)},integral=function(){return save(),p2=pop(),p1=pop(),car(p1)===symbol(ADD)?integral_of_sum():car(p1)===symbol(MULTIPLY)?integral_of_product():integral_of_form(),p1=pop(),Find(p1,symbol(INTEGRAL))&&stop("integral: sorry, could not find a solution"),push(p1),simplify(),Eval(),restore()},integral_of_sum=function(){var e;for(p1=cdr(p1),push(car(p1)),push(p2),integral(),p1=cdr(p1),e=[];iscons(p1);)push(car(p1)),push(p2),integral(),add(),e.push(p1=cdr(p1));return e},integral_of_product=function(){return push(p1),push(p2),partition(),p1=pop(),integral_of_form(),multiply()},integral_of_form=function(){var e,t;return e=italu_hashcode(p1,p2).toFixed(6),(t=hashed_itab[e])?(push(p1),push(p2),transform(t,!1),(p3=pop())===symbol(NIL)?(push_symbol(INTEGRAL),push(p1),push(p2),list(3)):push(p3)):(push_symbol(INTEGRAL),push(p1),push(p2),void list(3))},hashcode_values={x:.95532,constexp:1.43762,constant:1.1441659362941434,constbase:1.2036412230421882,sin:1.7330548251830322,arcsin:1.6483368529465805,cos:1.0586721236863401,arccos:1.8405225918106694,tan:1.1224943776292506,arctan:1.1297397925394963,sinh:1.8176164926060079,cosh:1.9404934661708022,tanh:1.6421307715103122,log:1.477443701354924,erf:1.0825269225702916},italu_hashcode=function(e,t){var r;if(issymbol(e))return equal(e,t)?hashcode_values.x:hashcode_values.constant;if(iscons(e))switch(symnum(car(e))){case ADD:return hash_addition(cdr(e),t);case MULTIPLY:return hash_multiplication(cdr(e),t);case POWER:return hash_power(cadr(e),caddr(e),t);case EXP:return hash_power(symbol(E),cadr(e),t);case SQRT:return push_double(.5),r=pop(),hash_power(cadr(e),r,t);default:return hash_function(e,t)}return hashcode_values.constant},hash_function=function(e,t){var r,i,n;if(!Find(cadr(e),t))return hashcode_values.constant;if(n=car(e),r=italu_hashcode(cadr(e),t),!(i=hashcode_values[n.printname]))throw new Error("Unsupported function "+n.printname);return Math.pow(i,r)},hash_addition=function(e,t){var r,i,n,o;for(o={};iscons(e);)n=car(e),e=cdr(e),0,o[(Find(n,t)?italu_hashcode(n,t):hashcode_values.constant).toFixed(6)]=!0;for(r in i=0,o)hasProp.call(o,r)&&(o[r],i+=parseFloat(r,10));return i},hash_multiplication=function(e,t){var r,i;for(r=1;iscons(e);)i=car(e),e=cdr(e),Find(i,t)&&(r*=italu_hashcode(i,t));return r},hash_power=function(e,t,r){var i,n;if(i=hashcode_values.constant,n=hashcode_values.constexp,Find(e,r)&&(i=italu_hashcode(e,r)),Find(t,r))n=italu_hashcode(t,r);else{if(i===hashcode_values.constant)return hashcode_values.constant;isminusone(t)?n=-1:isoneovertwo(t)?n=.5:isminusoneovertwo(t)?n=-.5:equalq(t,2,1)?n=2:equalq(t,-2,1)&&(n=-2)}return Math.pow(i,n)},make_hashed_itab=function(){var e,t,r,i,n,o,s;for(o={},i=0,r=itab.length;i<r&&(n=itab[i]);i++)scan_meta(n),e=pop(),s=cadr(e),o[t=italu_hashcode(s,symbol(METAX)).toFixed(6)]||(o[t]=[]),o[t].push(n);return console.log("hashed_itab = "+JSON.stringify(o,null,2)),o},$.make_hashed_itab=make_hashed_itab,hashed_itab={1.144166:["f(a,a*x)"],"1.046770":["f(1/x,log(x))"],"0.936400":["f(x^a,x^(a+1)/(a+1))"],1.095727:["f(x^(-2),-x^(-1))"],1.023118:["f(x^(-1/2),2*x^(1/2))"],.977405:["f(x^(1/2),2/3*x^(3/2))"],"0.955320":["f(x,x^2/2)"],.912636:["f(x^2,x^3/3)"],1.137302:["f(exp(a*x),1/a*exp(a*x))","f(a^x,a^x/log(a),or(not(number(a)),a>0))"],1.326774:["f(exp(a*x+b),1/a*exp(a*x+b))"],1.080259:["f(x*exp(a*x^2),exp(a*x^2)/(2*a))"],1.260228:["f(x*exp(a*x^2+b),exp(a*x^2+b)/(2*a))"],1.451902:["f(log(a*x),x*log(a*x)-x)"],.486192:["f(1/(a+x^2),1/sqrt(a)*arctan(x/sqrt(a)),or(not(number(a)),a>0))","f(1/(a-x^2),1/sqrt(a)*arctanh(x/sqrt(a)))","f(1/(a+b*x^2),1/sqrt(a*b)*arctan(x*sqrt(a*b)/a),or(not(number(a*b)),a*b>0))","f(1/(a+b*x^2),1/(2*sqrt(-a*b))*log((a+x*sqrt(-a*b))/(a-x*sqrt(-a*b))),or(not(number(a*b)),a*b<0))"],.697274:["f(1/sqrt(a-x^2),arcsin(x/(sqrt(a))))","f(1/sqrt(a+x^2),log(x+sqrt(a+x^2)))","f(1/sqrt(x^2+a),log(x+sqrt(x^2+a)))"],.476307:["f(1/(a+b*x),1/b*log(a+b*x))"],.226868:["f(1/(a+b*x)^2,-1/(b*(a+b*x)))"],2.904531:["f(1/(a+b*x)^3,-1/(2*b)*1/(a+b*x)^2)"],.455026:["f(x/(a+b*x),x/b-a*log(a+b*x)/b/b)"],.216732:["f(x/(a+b*x)^2,1/b^2*(log(a+b*x)+a/(a+b*x)))"],.434695:["f(x^2/(a+b*x),1/b^2*(1/2*(a+b*x)^2-2*a*(a+b*x)+a^2*log(a+b*x)))"],.207048:["f(x^2/(a+b*x)^2,1/b^3*(a+b*x-2*a*log(a+b*x)-a^2/(a+b*x)))"],2.650781:["f(x^2/(a+b*x)^3,1/b^3*(log(a+b*x)+2*a/(a+b*x)-1/2*a^2/(a+b*x)^2))"],.498584:["f(1/x*1/(a+b*x),-1/a*log((a+b*x)/x))"],.237479:["f(1/x*1/(a+b*x)^2,1/a*1/(a+b*x)-1/a^2*log((a+b*x)/x))"],3.040375:["f(1/x*1/(a+b*x)^3,1/a^3*(1/2*((2*a+b*x)/(a+b*x))^2+log(x/(a+b*x))))"],.521902:["f(1/x^2*1/(a+b*x),-1/(a*x)+b/a^2*log((a+b*x)/x))"],.446014:["f(1/x^3*1/(a+b*x),(2*b*x-a)/(2*a^2*x^2)+b^2/a^3*log(x/(a+b*x)))"],.248586:["f(1/x^2*1/(a+b*x)^2,-(a+2*b*x)/(a^2*x*(a+b*x))+2*b/a^3*log((a+b*x)/x))"],.464469:["f(x/(a+b*x^2),1/2*1/b*log(a+b*x^2))"],.443716:["f(x^2/(a+b*x^2),x/b-a/b*integral(1/(a+b*x^2),x))"],.236382:["f(1/(a+b*x^2)^2,x/(2*a*(a+b*x^2))+1/2*1/a*integral(1/(a+b*x^2),x))"],.508931:["f(1/x*1/(a+b*x^2),1/2*1/a*log(x^2/(a+b*x^2)))"],.532733:["f(1/x^2*1/(a+b*x^2),-1/(a*x)-b/a*integral(1/(a+b*x^2),x))"],.480638:["f(1/(a+b*x^3),1/3*1/a*(a/b)^(1/3)*(1/2*log(((a/b)^(1/3)+x)^3/(a+b*x^3))+sqrt(3)*arctan((2*x-(a/b)^(1/3))*(a/b)^(-1/3)/sqrt(3))))"],.438648:["f(x^2/(a+b*x^3),1/3*1/b*log(a+b*x^3))"],.459164:["f(x/(a+b*x^4),1/2*sqrt(b/a)/b*arctan(x^2*sqrt(b/a)),or(not(number(a*b)),a*b>0))","f(x/(a+b*x^4),1/4*sqrt(-b/a)/b*log((x^2-sqrt(-a/b))/(x^2+sqrt(-a/b))),or(not(number(a*b)),a*b<0))"],"0.450070":["f(x^3/(a+b*x^4),1/4*1/b*log(a+b*x^4))"],"1.448960":["f(sqrt(a+b*x),2/3*1/b*sqrt((a+b*x)^3))"],1.384221:["f(x*sqrt(a+b*x),-2*(2*a-3*b*x)*sqrt((a+b*x)^3)/15/b^2)"],1.322374:["f(x^2*sqrt(a+b*x),2*(8*a^2-12*a*b*x+15*b^2*x^2)*sqrt((a+b*x)^3)/105/b^3)"],1.516728:["f(sqrt(a+b*x)/x,2*sqrt(a+b*x)+a*integral(1/x*1/sqrt(a+b*x),x))"],1.587665:["f(sqrt(a+b*x)/x^2,-sqrt(a+b*x)/x+b/2*integral(1/x*1/sqrt(a+b*x),x))"],"0.690150":["f(1/sqrt(a+b*x),2*sqrt(a+b*x)/b)"],.659314:["f(x/sqrt(a+b*x),-2/3*(2*a-b*x)*sqrt(a+b*x)/b^2)"],.629856:["f(x^2/sqrt(a+b*x),2/15*(8*a^2-4*a*b*x+3*b^2*x^2)*sqrt(a+b*x)/b^3)"],.722428:["f(1/x*1/sqrt(a+b*x),1/sqrt(a)*log((sqrt(a+b*x)-sqrt(a))/(sqrt(a+b*x)+sqrt(a))),or(not(number(a)),a>0))","f(1/x*1/sqrt(a+b*x),2/sqrt(-a)*arctan(sqrt(-(a+b*x)/a)),or(not(number(a)),a<0))"],.756216:["f(1/x^2*1/sqrt(a+b*x),-sqrt(a+b*x)/a/x-1/2*b/a*integral(1/x*1/sqrt(a+b*x),x))"],1.434156:["f(sqrt(x^2+a),1/2*(x*sqrt(x^2+a)+a*log(x+sqrt(x^2+a))))","f(sqrt(a-x^2),1/2*(x*sqrt(a-x^2)+a*arcsin(x/sqrt(abs(a)))))","f(sqrt(a*x^2+b),x*sqrt(a*x^2+b)/2+b*log(x*sqrt(a)+sqrt(a*x^2+b))/2/sqrt(a),and(number(a),a>0))","f(sqrt(a*x^2+b),x*sqrt(a*x^2+b)/2+b*arcsin(x*sqrt(-a/b))/2/sqrt(-a),and(number(a),a<0))"],.729886:["f(1/x*1/sqrt(x^2+a),arcsec(x/sqrt(-a))/sqrt(-a),or(not(number(a)),a<0))","f(1/x*1/sqrt(x^2+a),-1/sqrt(a)*log((sqrt(a)+sqrt(x^2+a))/x),or(not(number(a)),a>0))","f(1/x*1/sqrt(a-x^2),-1/sqrt(a)*log((sqrt(a)+sqrt(a-x^2))/x),or(not(number(a)),a>0))"],"1.501230":["f(sqrt(x^2+a)/x,sqrt(x^2+a)-sqrt(a)*log((sqrt(a)+sqrt(x^2+a))/x),or(not(number(a)),a>0))","f(sqrt(x^2+a)/x,sqrt(x^2+a)-sqrt(-a)*arcsec(x/sqrt(-a)),or(not(number(a)),a<0))","f(sqrt(a-x^2)/x,sqrt(a-x^2)-sqrt(a)*log((sqrt(a)+sqrt(a-x^2))/x),or(not(number(a)),a>0))"],"0.666120":["f(x/sqrt(x^2+a),sqrt(x^2+a))","f(x/sqrt(a-x^2),-sqrt(a-x^2))"],1.370077:["f(x*sqrt(x^2+a),1/3*sqrt((x^2+a)^3))","f(x*sqrt(a-x^2),-1/3*sqrt((a-x^2)^3))"],1.730087:["f(sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/4*(x*sqrt((x^2+a^(1/3))^3)+3/2*a^(1/3)*x*sqrt(x^2+a^(1/3))+3/2*a^(2/3)*log(x+sqrt(x^2+a^(1/3)))))","f(sqrt(-a+x^6-3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/4*(x*sqrt((x^2-a^(1/3))^3)-3/2*a^(1/3)*x*sqrt(x^2-a^(1/3))+3/2*a^(2/3)*log(x+sqrt(x^2-a^(1/3)))))"],.578006:["f(1/sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),x/a^(1/3)/sqrt(x^2+a^(1/3)))"],"0.552180":["f(x/sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),-1/sqrt(x^2+a^(1/3)))"],1.652787:["f(x*sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/5*sqrt((x^2+a^(1/3))^5))"],1.308862:["f(x^2*sqrt(x^2+a),1/4*x*sqrt((x^2+a)^3)-1/8*a*x*sqrt(x^2+a)-1/8*a^2*log(x+sqrt(x^2+a)))","f(x^2*sqrt(a-x^2),-x/4*sqrt((a-x^2)^3)+1/8*a*(x*sqrt(a-x^2)+a*arcsin(x/sqrt(a))),or(not(number(a)),a>0))"],1.342944:["f(x^3*sqrt(x^2+a),(1/5*x^2-2/15*a)*sqrt((x^2+a)^3),and(number(a),a>0))","f(x^3*sqrt(x^2+a),sqrt((x^2+a)^5)/5-a*sqrt((x^2+a)^3)/3,and(number(a),a<0))","f(x^3*sqrt(a-x^2),(-1/5*x^2-2/15*a)*sqrt((a-x^2)^3),or(not(number(a)),a>0))","f(sqrt(a-x^2)/x^3,-1/2*sqrt(a-x^2)/x^2+1/2*log((sqrt(a)+sqrt(a-x^2))/x)/sqrt(a),or(not(number(a)),a>0))","f(sqrt(a-x^2)/x^4,-1/3*sqrt((a-x^2)^3)/a/x^3,or(not(number(a)),a>0))"],.636358:["f(x^2/sqrt(x^2+a),1/2*x*sqrt(x^2+a)-1/2*a*log(x+sqrt(x^2+a)))","f(x^2/sqrt(a-x^2),-x/2*sqrt(a-x^2)+a/2*arcsin(x/sqrt(a)),or(not(number(a)),a>0))"],.652928:["f(x^3/sqrt(x^2+a),1/3*sqrt((x^2+a)^3)-a*sqrt(x^2+a))","f(1/x^3*1/sqrt(x^2+a),-1/2*sqrt(x^2+a)/a/x^2+1/2*log((sqrt(a)+sqrt(x^2+a))/x)/a^(3/2),or(not(number(a)),a>0))","f(1/x^3*1/sqrt(x^2-a),1/2*sqrt(x^2-a)/a/x^2+1/2*1/(a^(3/2))*arcsec(x/(a^(1/2))),or(not(number(a)),a>0))"],.764022:["f(1/x^2*1/sqrt(x^2+a),-sqrt(x^2+a)/a/x)","f(1/x^2*1/sqrt(a-x^2),-sqrt(a-x^2)/a/x,or(not(number(a)),a>0))"],"1.578940":["f(x^2*sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/6*x*sqrt((x^2+a^(1/3))^5)-1/24*a^(1/3)*x*sqrt((x^2+a^(1/3))^3)-1/16*a^(2/3)*x*sqrt(x^2+a^(1/3))-1/16*a*log(x+sqrt(x^2+a^(1/3))),or(not(number(a)),a>0))","f(x^2*sqrt(-a-3*a^(1/3)*x^4+3*a^(2/3)*x^2+x^6),1/6*x*sqrt((x^2-a^(1/3))^5)+1/24*a^(1/3)*x*sqrt((x^2-a^(1/3))^3)-1/16*a^(2/3)*x*sqrt(x^2-a^(1/3))+1/16*a*log(x+sqrt(x^2-a^(1/3))),or(not(number(a)),a>0))"],1.620055:["f(x^3*sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/7*sqrt((x^2+a^(1/3))^7)-1/5*a^(1/3)*sqrt((x^2+a^(1/3))^5),or(not(number(a)),a>0))","f(x^3*sqrt(-a-3*a^(1/3)*x^4+3*a^(2/3)*x^2+x^6),1/7*sqrt((x^2-a^(1/3))^7)+1/5*a^(1/3)*sqrt((x^2-a^(1/3))^5),or(not(number(a)),a>0))"],.332117:["f(1/(x-a)/sqrt(x^2-a^2),-sqrt(x^2-a^2)/a/(x-a))","f(1/(x+a)/sqrt(x^2-a^2),sqrt(x^2-a^2)/a/(x+a))"],1.571443:["f(sqrt(a-x^2)/x^2,-sqrt(a-x^2)/x-arcsin(x/sqrt(a)),or(not(number(a)),a>0))"],1.690994:["f(sin(a*x),-cos(a*x)/a)"],1.055979:["f(cos(a*x),sin(a*x)/a)"],1.116714:["f(tan(a*x),-log(cos(a*x))/a)"],.895484:["f(1/tan(a*x),log(sin(a*x))/a)"],.946989:["f(1/cos(a*x),log(tan(pi/4+a*x/2))/a)"],.591368:["f(1/sin(a*x),log(tan(a*x/2))/a)"],2.859462:["f(sin(a*x)^2,x/2-sin(2*a*x)/(4*a))"],"2.128050":["f(sin(a*x)^3,-cos(a*x)*(sin(a*x)^2+2)/(3*a))","f(sin(a*x)^4,3/8*x-sin(2*a*x)/(4*a)+sin(4*a*x)/(32*a))"],1.115091:["f(cos(a*x)^2,x/2+sin(2*a*x)/(4*a))"],1.081452:["f(cos(a*x)^3,sin(a*x)*(cos(a*x)^2+2)/(3*a))","f(cos(a*x)^4,3/8*x+sin(2*a*x)/(4*a)+sin(4*a*x)/(32*a))"],.349716:["f(1/sin(a*x)^2,-1/(a*tan(a*x)))"],.896788:["f(1/cos(a*x)^2,tan(a*x)/a)"],1.785654:["f(sin(a*x)*cos(a*x),sin(a*x)^2/(2*a))"],"3.188560":["f(sin(a*x)^2*cos(a*x)^2,-sin(4*a*x)/(32*a)+x/8)"],1.516463:["f(sin(a*x)/cos(a*x)^2,1/(a*cos(a*x)))"],2.707879:["f(sin(a*x)^2/cos(a*x),(log(tan(pi/4+a*x/2))-sin(a*x))/a)"],.369293:["f(cos(a*x)/sin(a*x)^2,-1/(a*sin(a*x)))"],.560019:["f(1/(sin(a*x)*cos(a*x)),log(tan(a*x))/a)"],.530332:["f(1/(sin(a*x)*cos(a*x)^2),(1/cos(a*x)+log(tan(a*x/2)))/a)"],.331177:["f(1/(sin(a*x)^2*cos(a*x)),(log(tan(pi/4+a*x/2))-1/sin(a*x))/a)"],.313621:["f(1/(sin(a*x)^2*cos(a*x)^2),-2/(a*tan(2*a*x)))"],3.172365:["f(sin(a+b*x),-cos(a+b*x)/b)"],1.127162:["f(cos(a+b*x),sin(a+b*x)/b)"],.352714:["f(1/(b+b*sin(a*x)),-tan(pi/4-a*x/2)/a/b)","f(1/(b-b*sin(a*x)),tan(pi/4+a*x/2)/a/b)","f(1/(a+b*sin(x)),1/sqrt(b^2-a^2)*log((a*tan(x/2)+b-sqrt(b^2-a^2))/(a*tan(x/2)+b+sqrt(b^2-a^2))),b^2-a^2)"],.454515:["f(1/(b+b*cos(a*x)),tan(a*x/2)/a/b)","f(1/(b-b*cos(a*x)),-1/tan(a*x/2)/a/b)","f(1/(a+b*cos(x)),1/sqrt(b^2-a^2)*log((sqrt(b^2-a^2)*tan(x/2)+a+b)/(sqrt(b^2-a^2)*tan(x/2)-a-b)),b^2-a^2)"],1.615441:["f(x*sin(a*x),sin(a*x)/a^2-x*cos(a*x)/a)"],1.543263:["f(x^2*sin(a*x),2*x*sin(a*x)/a^2-(a^2*x^2-2)*cos(a*x)/a^3)"],1.008798:["f(x*cos(a*x),cos(a*x)/a^2+x*sin(a*x)/a)"],.963724:["f(x^2*cos(a*x),2*x*cos(a*x)/a^2+(a^2*x^2-2)*sin(a*x)/a^3)"],1.611938:["f(arcsin(a*x),x*arcsin(a*x)+sqrt(1-a^2*x^2)/a)"],1.791033:["f(arccos(a*x),x*arccos(a*x)-sqrt(1-a^2*x^2)/a)"],1.123599:["f(arctan(a*x),x*arctan(a*x)-1/2*log(1+a^2*x^2)/a)"],1.387031:["f(x*log(a*x),x^2*log(a*x)/2-x^2/4)"],1.325058:["f(x^2*log(a*x),x^3*log(a*x)/3-1/9*x^3)"],2.108018:["f(log(x)^2,x*log(x)^2-2*x*log(x)+2*x)"],.403214:["f(1/x*1/(a+log(x)),log(a+log(x)))"],2.269268:["f(log(a*x+b),(a*x+b)*log(a*x+b)/a-x)"],2.486498:["f(log(a*x+b)/x^2,a/b*log(x)-(a*x+b)*log(a*x+b)/b/x)"],1.769733:["f(sinh(x),cosh(x))"],1.883858:["f(cosh(x),sinh(x))"],"1.606140":["f(tanh(x),log(cosh(x)))"],1.690661:["f(x*sinh(x),x*cosh(x)-sinh(x))"],1.799688:["f(x*cosh(x),x*sinh(x)-cosh(x))"],3.131954:["f(sinh(x)^2,sinh(2*x)/4-x/2)"],2.579685:["f(tanh(x)^2,x-tanh(x))"],3.548923:["f(cosh(x)^2,sinh(2*x)/4+x/2)"],1.058866:["f(x^3*exp(a*x^2),exp(a*x^2)*(x^2/a-1/(a^2))/2)"],"1.235270":["f(x^3*exp(a*x^2+b),exp(a*x^2)*exp(b)*(x^2/a-1/(a^2))/2)"],1.130783:["f(exp(a*x^2),-i*sqrt(pi)*erf(i*sqrt(a)*x)/sqrt(a)/2)"],1.078698:["f(erf(a*x),x*erf(a*x)+exp(-a^2*x^2)/a/sqrt(pi))"],"2.573650":["f(x^2*(1-x^2)^(3/2),(x*sqrt(1-x^2)*(-8*x^4+14*x^2-3)+3*arcsin(x))/48)","f(x^2*(1-x^2)^(5/2),(x*sqrt(1-x^2)*(48*x^6-136*x^4+118*x^2-15)+15*arcsin(x))/384)"],2.640666:["f(x^4*(1-x^2)^(3/2),(-x*sqrt(1-x^2)*(16*x^6-24*x^4+2*x^2+3)+3*arcsin(x))/128)"],1.086487:["f(x*exp(a*x),exp(a*x)*(a*x-1)/(a^2))"],1.267493:["f(x*exp(a*x+b),exp(a*x+b)*(a*x-1)/(a^2))"],1.037943:["f(x^2*exp(a*x),exp(a*x)*(a^2*x^2-2*a*x+2)/(a^3))"],1.210862:["f(x^2*exp(a*x+b),exp(a*x+b)*(a^2*x^2-2*a*x+2)/(a^3))"],"1.064970":["f(x^3*exp(a*x),exp(a*x)*x^3/a-3/a*integral(x^2*exp(a*x),x))"],1.242392:["f(x^3*exp(a*x+b),exp(a*x+b)*x^3/a-3/a*integral(x^2*exp(a*x+b),x))"]},INV_check_arg=function(){return istensor(p1)?2!==p1.tensor.ndim||p1.tensor.dim[0]!==p1.tensor.dim[1]?0:1:0},inv=function(){var e,t,r,i;if(0,0,save(),p1=pop(),isinv(p1))return push(car(cdr(p1))),void restore();if(isidentitymatrix(p1))return push(p1),void restore();if(!expanding||!isinnerordot(p1))return 0===INV_check_arg()?(push_symbol(INV),push(p1),list(2),void restore()):(isNumericAtomOrTensor(p1)?yyinvg():(push(p1),adj(),push(p1),det(),p2=pop(),isZeroAtomOrTensor(p2)&&stop("inverse of singular matrix"),push(p2),divide()),restore());for(p1=cdr(p1),e=[];iscons(p1);)e.push(car(p1)),p1=cdr(p1);for(t=r=i=e.length-1;i<=0?r<=0:r>=0;t=i<=0?++r:--r)push(e[t]),inv(),t!==e.length-1&&inner();restore()},invg=function(){return save(),p1=pop(),0===INV_check_arg()?(push_symbol(INVG),push(p1),list(2),void restore()):(yyinvg(),restore())},yyinvg=function(){var e,t,r,i,n,o,s,a,c,l,p,u;for(0,t=0,i=0,0,s=p1.tensor.dim[0],e=tos,t=a=0,c=s;0<=c?a<c:a>c;t=0<=c?++a:--a)for(i=r=0,l=s;0<=l?r<l:r>l;i=0<=l?++r:--r)push(t===i?one:zero);for(t=n=0,p=s*s;0<=p?n<p:n>p;t=0<=p?++n:--n)push(p1.tensor.elem[t]);for(INV_decomp(s),(p1=alloc_tensor(s*s)).tensor.ndim=2,p1.tensor.dim[0]=s,p1.tensor.dim[1]=s,t=o=0,u=s*s;0<=u?o<u:o>u;t=0<=u?++o:--o)p1.tensor.elem[t]=stack[e+t];return moveTos(tos-2*s*s),push(p1)},INV_decomp=function(e){var t,r,i,n,o,s,a,c,l,p,u,f,d,h,b;for(0,r=0,i=0,o=0,0,b=(t=tos-e*e)-e*e,h=[],r=c=0,l=e;0<=l?c<l:c>l;r=0<=l?++c:--c){if(equal(stack[t+e*r+r],zero)){for(i=n=p=r+1,u=e;(p<=u?n<u:n>u)&&equal(stack[t+e*i+r],zero);i=p<=u?++n:--n);for(i===e&&stop("inverse of singular matrix"),o=s=0,f=e;0<=f?s<f:s>f;o=0<=f?++s:--s)p2=stack[t+e*r+o],stack[t+e*r+o]=stack[t+e*i+o],stack[t+e*i+o]=p2,p2=stack[b+e*r+o],stack[b+e*r+o]=stack[b+e*i+o],stack[b+e*i+o]=p2}for(p2=stack[t+e*r+r],o=a=0,d=e;0<=d?a<d:a>d;o=0<=d?++a:--a)o>r&&(push(stack[t+e*r+o]),push(p2),divide(),stack[t+e*r+o]=pop()),push(stack[b+e*r+o]),push(p2),divide(),stack[b+e*r+o]=pop();h.push(function(){var n,s,a;for(a=[],i=n=0,s=e;0<=s?n<s:n>s;i=0<=s?++n:--n)i!==r&&(p2=stack[t+e*i+r],a.push(function(){var n,s,a;for(a=[],o=n=0,s=e;0<=s?n<s:n>s;o=0<=s?++n:--n)o>r&&(push(stack[t+e*i+o]),push(stack[t+e*r+o]),push(p2),multiply(),subtract(),stack[t+e*i+o]=pop()),push(stack[b+e*i+o]),push(stack[b+e*r+o]),push(p2),multiply(),subtract(),a.push(stack[b+e*i+o]=pop());return a}()));return a}())}return h},DEBUG_IS=!1,isZeroAtom=function(e){switch(e.k){case NUM:return MZERO(e.q.a);case DOUBLE:return 0===e.d;default:return!1}},isZeroTensor=function(e){var t,r,i;if(e.k!==TENSOR)return 0;for(t=r=0,i=e.tensor.nelem;0<=i?r<i:r>i;t=0<=i?++r:--r)if(!isZeroAtomOrTensor(e.tensor.elem[t]))return 0;return 1},isZeroAtomOrTensor=function(e){return isZeroAtom(e)||isZeroTensor(e)},isZeroLikeOrNonZeroLikeOrUndetermined=function(e){var t;if(push(e),Eval_predicate(),t=pop(),isZeroAtomOrTensor(t))return 0;if(isNumericAtomOrTensor(t))return 1;if(push(t),zzfloat(),t=pop(),isZeroAtomOrTensor(t))return 0;if(isNumericAtomOrTensor(t))return 1;if(Find(t,imaginaryunit)){if(push(t),absValFloat(),Eval_predicate(),t=pop(),isZeroAtomOrTensor(t))return 0;if(isNumericAtomOrTensor(t))return 1}return null},isnegativenumber=function(e){switch(e.k){case NUM:if(-1===MSIGN(e.q.a))return 1;break;case DOUBLE:if(e.d<0)return 1}return 0},ispositivenumber=function(e){switch(e.k){case NUM:if(1===MSIGN(e.q.a))return 1;break;case DOUBLE:if(e.d>0)return 1}return 0},isplustwo=function(e){switch(e.k){case NUM:if(MEQUAL(e.q.a,2)&&MEQUAL(e.q.b,1))return 1;break;case DOUBLE:if(2===e.d)return 1}return 0},isplusone=function(e){switch(e.k){case NUM:if(MEQUAL(e.q.a,1)&&MEQUAL(e.q.b,1))return 1;break;case DOUBLE:if(1===e.d)return 1}return 0},isminusone=function(e){switch(e.k){case NUM:if(MEQUAL(e.q.a,-1)&&MEQUAL(e.q.b,1))return 1;break;case DOUBLE:if(-1===e.d)return 1}return 0},isone=function(e){return isplusone(e)||isminusone(e)},isinteger=function(e){return e.k===NUM&&MEQUAL(e.q.b,1)?1:0},isintegerorintegerfloat=function(e){return e.k===DOUBLE?e.d===Math.round(e.d)?1:0:isinteger(e)},isnonnegativeinteger=function(e){return isrational(e)&&MEQUAL(e.q.b,1)&&1===MSIGN(e.q.a)?1:0},isposint=function(e){return isinteger(e)&&1===MSIGN(e.q.a)?1:0},isunivarpolyfactoredorexpandedform=function(e,t){return DEBUG&&console.log("isunivarpolyfactoredorexpandedform: p: "+e+" x: "+t),null==t&&(push(e),guess(),t=pop(),pop()),ispolyfactoredorexpandedform(e,t)&&Find(e,symbol(SYMBOL_X))+Find(e,symbol(SYMBOL_Y))+Find(e,symbol(SYMBOL_Z))===1?t:0},ispolyfactoredorexpandedform=function(e,t){return ispolyfactoredorexpandedform_factor(e,t)},ispolyfactoredorexpandedform_factor=function(e,t){if(car(e)===symbol(MULTIPLY)){for(e=cdr(e);iscons(e);){if(DEBUG&&console.log("ispolyfactoredorexpandedform_factor testing "+car(e)),!ispolyfactoredorexpandedform_power(car(e),t))return DEBUG&&console.log("... tested negative:"+car(e)),0;e=cdr(e)}return 1}return ispolyfactoredorexpandedform_power(e,t)},ispolyfactoredorexpandedform_power=function(e,t){return car(e)===symbol(POWER)?(DEBUG&&console.log("ispolyfactoredorexpandedform_power (isposint(caddr(p)) "+(isposint(caddr(e)),DEBUG?console.log("ispolyfactoredorexpandedform_power ispolyexpandedform_expr(cadr(p), x)) "+ispolyexpandedform_expr(cadr(e),t)):void 0)),isposint(caddr(e))&&ispolyexpandedform_expr(cadr(e),t)):(DEBUG&&console.log("ispolyfactoredorexpandedform_power not a power, testing if this is exp form: "+e),ispolyexpandedform_expr(e,t))},ispolyexpandedform=function(e,t){return Find(e,t)?ispolyexpandedform_expr(e,t):0},ispolyexpandedform_expr=function(e,t){if(car(e)===symbol(ADD)){for(e=cdr(e);iscons(e);){if(!ispolyexpandedform_term(car(e),t))return 0;e=cdr(e)}return 1}return ispolyexpandedform_term(e,t)},ispolyexpandedform_term=function(e,t){if(car(e)===symbol(MULTIPLY)){for(e=cdr(e);iscons(e);){if(!ispolyexpandedform_factor(car(e),t))return 0;e=cdr(e)}return 1}return ispolyexpandedform_factor(e,t)},ispolyexpandedform_factor=function(e,t){return equal(e,t)?1:car(e)===symbol(POWER)&&equal(cadr(e),t)?isposint(caddr(e))?1:0:Find(e,t)?0:1},isnegativeterm=function(e){return isnegativenumber(e)||car(e)===symbol(MULTIPLY)&&isnegativenumber(cadr(e))?1:0},hasNegativeRationalExponent=function(e){return car(e)===symbol(POWER)&&isrational(car(cdr(cdr(e))))&&isnegativenumber(car(cdr(e)))?(DEBUG_IS&&console.log("hasNegativeRationalExponent: "+e.toString()+" has imaginary component"),1):(DEBUG_IS&&console.log("hasNegativeRationalExponent: "+e.toString()+" has NO imaginary component"),0)},isimaginarynumberdouble=function(e){return car(e)===symbol(MULTIPLY)&&3===length(e)&&isdouble(cadr(e))&&hasNegativeRationalExponent(caddr(e))||equal(e,imaginaryunit)?1:0},isimaginarynumber=function(e){return car(e)===symbol(MULTIPLY)&&3===length(e)&&isNumericAtom(cadr(e))&&equal(caddr(e),imaginaryunit)||equal(e,imaginaryunit)||hasNegativeRationalExponent(caddr(e))?(DEBUG_IS&&console.log("isimaginarynumber: "+e.toString()+" is imaginary number"),1):(DEBUG_IS&&console.log("isimaginarynumber: "+e.toString()+" isn't an imaginary number"),0)},iscomplexnumberdouble=function(e){return car(e)===symbol(ADD)&&3===length(e)&&isdouble(cadr(e))&&isimaginarynumberdouble(caddr(e))||isimaginarynumberdouble(e)?1:0},iscomplexnumber=function(e){return car(e)===symbol(ADD)&&3===length(e)&&isNumericAtom(cadr(e))&&isimaginarynumber(caddr(e))||isimaginarynumber(e)?(DEBUG&&console.log("iscomplexnumber: "+e.toString()+" is imaginary number"),1):(DEBUG&&console.log("iscomplexnumber: "+e.toString()+" is imaginary number"),0)},iseveninteger=function(e){return isinteger(e)&&e.q.a.isEven()?1:0},isnegative=function(e){return car(e)===symbol(ADD)&&isnegativeterm(cadr(e))||isnegativeterm(e)?1:0},issymbolic=function(e){if(issymbol(e))return 1;for(;iscons(e);){if(issymbolic(car(e)))return 1;e=cdr(e)}return 0},isintegerfactor=function(e){return isinteger(e)||car(e)===symbol(POWER)&&isinteger(cadr(e))&&isinteger(caddr(e))},isNumberOneOverSomething=function(e){return isfraction(e)&&MEQUAL(e.q.a.abs(),1)},isoneover=function(e){return car(e)===symbol(POWER)&&isminusone(caddr(e))},isfraction=function(e){return e.k===NUM&&!MEQUAL(e.q.b,1)},equaln=function(e,t){switch(e.k){case NUM:return MEQUAL(e.q.a,t)&&MEQUAL(e.q.b,1);case DOUBLE:return e.d===t;default:return!1}},equalq=function(e,t,r){switch(e.k){case NUM:return MEQUAL(e.q.a,t)&&MEQUAL(e.q.b,r);case DOUBLE:return e.d===t/r;default:return!1}},isoneovertwo=function(e){return equalq(e,1,2)},isminusoneovertwo=function(e){return equalq(e,-1,2)},isoneoversqrttwo=function(e){return car(e)===symbol(POWER)&&equaln(cadr(e),2)&&equalq(caddr(e),-1,2)},isminusoneoversqrttwo=function(e){return car(e)===symbol(MULTIPLY)&&equaln(cadr(e),-1)&&isoneoversqrttwo(caddr(e))&&3===length(e)},issqrtthreeovertwo=function(e){return car(e)===symbol(MULTIPLY)&&isoneovertwo(cadr(e))&&issqrtthree(caddr(e))&&3===length(e)},isminussqrtthreeovertwo=function(e){return car(e)===symbol(MULTIPLY)&&isminusoneovertwo(cadr(e))&&issqrtthree(caddr(e))&&3===length(e)},issqrtthree=function(e){return car(e)===symbol(POWER)&&equaln(cadr(e),3)&&isoneovertwo(caddr(e))},isfloating=function(e){if(e.k===DOUBLE||e===symbol(FLOATF))return 1;for(;iscons(e);){if(isfloating(car(e)))return 1;e=cdr(e)}return 0},isimaginaryunit=function(e){return equal(e,imaginaryunit)?1:0},isquarterturn=function(e){var t,r;if(r=0,t=0,car(e)!==symbol(MULTIPLY))return 0;if(equal(cadr(e),imaginaryunit))return caddr(e)!==symbol(PI)||3!==length(e)?0:2;if(!isNumericAtom(cadr(e)))return 0;if(!equal(caddr(e),imaginaryunit))return 0;if(cadddr(e)!==symbol(PI))return 0;if(4!==length(e))return 0;if(push(cadr(e)),push_integer(2),multiply(),r=pop_integer(),isNaN(r))return 0;switch(r<1&&(t=1,r=-r),r%4){case 0:r=1;break;case 1:r=t?4:3;break;case 2:r=2;break;case 3:r=t?3:4}return r},isnpi=function(e){var t;return t=0,e===symbol(PI)?2:car(e)===symbol(MULTIPLY)&&isNumericAtom(cadr(e))&&caddr(e)===symbol(PI)&&3===length(e)?(0,push(cadr(e)),push_integer(2),multiply(),t=pop_integer(),isNaN(t)?0:t=t<0?4- -t%4:1+(t-1)%4):0},$.isZeroAtomOrTensor=isZeroAtomOrTensor,$.isnegativenumber=isnegativenumber,$.isplusone=isplusone,$.isminusone=isminusone,$.isinteger=isinteger,$.isnonnegativeinteger=isnonnegativeinteger,$.isposint=isposint,$.isnegativeterm=isnegativeterm,$.isimaginarynumber=isimaginarynumber,$.iscomplexnumber=iscomplexnumber,$.iseveninteger=iseveninteger,$.isnegative=isnegative,$.issymbolic=issymbolic,$.isintegerfactor=isintegerfactor,$.isoneover=isoneover,$.isfraction=isfraction,$.isoneoversqrttwo=isoneoversqrttwo,$.isminusoneoversqrttwo=isminusoneoversqrttwo,$.isfloating=isfloating,$.isimaginaryunit=isimaginaryunit,$.isquarterturn=isquarterturn,$.isnpi=isnpi,Eval_isprime=function(){return push(cadr(p1)),Eval(),p1=pop(),isnonnegativeinteger(p1)&&mprime(p1.q.a)?push_integer(1):push_integer(0)},Eval_laguerre=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),push(cadddr(p1)),Eval(),(p2=pop())===symbol(NIL)?push_integer(0):push(p2),laguerre()},laguerre=function(){var e;return 0,save(),p3=pop(),p2=pop(),p1=pop(),push(p2),(e=pop_integer())<0||isNaN(e)?(push_symbol(LAGUERRE),push(p1),push(p2),push(p3),list(4),void restore()):(issymbol(p1)?laguerre2(e):(p4=p1,p1=symbol(SECRETX),laguerre2(e),p1=p4,push(symbol(SECRETX)),push(p1),subst(),Eval()),restore())},laguerre2=function(e){var t,r,i,n;for(t=0,push_integer(1),push_integer(0),p6=pop(),n=[],t=r=0,i=e;0<=i?r<i:r>i;t=0<=i?++r:--r)p5=p6,p6=pop(),push_integer(2*t+1),push(p1),subtract(),push(p3),add(),push(p6),multiply(),push_integer(t),push(p3),add(),push(p5),multiply(),subtract(),push_integer(t+1),n.push(divide());return n},Eval_lcm=function(){var e;for(p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),e=[];iscons(p1);)push(car(p1)),Eval(),lcm(),e.push(p1=cdr(p1));return e},lcm=function(){var e;return e=expanding,save(),yylcm(),restore(),expanding=e},yylcm=function(){return expanding=1,p2=pop(),p1=pop(),push(p1),push(p2),gcd(),push(p1),divide(),push(p2),divide(),inverse()},Eval_leading=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),(p1=pop())===symbol(NIL)?guess():push(p1),leading()},leading=function(){return save(),p2=pop(),p1=pop(),push(p1),push(p2),degree(),p3=pop(),push(p1),push(p2),push(p3),power(),divide(),push(p2),filter(),restore()},Eval_legendre=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),push(cadddr(p1)),Eval(),(p2=pop())===symbol(NIL)?push_integer(0):push(p2),legendre()},legendre=function(){return save(),__legendre(),restore()},__legendre=function(){var e,t;return 0,0,p3=pop(),p2=pop(),p1=pop(),push(p2),t=pop_integer(),push(p3),e=pop_integer(),t<0||isNaN(t)||e<0||isNaN(e)?(push_symbol(LEGENDRE),push(p1),push(p2),push(p3),void list(4)):(issymbol(p1)?__legendre2(t,e):(p4=p1,p1=symbol(SECRETX),__legendre2(t,e),p1=p4,push(symbol(SECRETX)),push(p1),subst(),Eval()),__legendre3(e))},__legendre2=function(e,t){var r,i,n,o,s,a;for(r=0,push_integer(1),push_integer(0),p6=pop(),r=n=0,o=e;0<=o?n<o:n>o;r=0<=o?++n:--n)p5=p6,p6=pop(),push_integer(2*r+1),push(p1),multiply(),push(p6),multiply(),push_integer(r),push(p5),multiply(),subtract(),push_integer(r+1),divide();for(a=[],r=i=0,s=t;0<=s?i<s:i>s;r=0<=s?++i:--i)push(p1),a.push(derivative());return a},__legendre3=function(e){if(0!==e)return car(p1)===symbol(COS)?(push(cadr(p1)),sine(),square()):car(p1)===symbol(SIN)?(push(cadr(p1)),cosine(),square()):(push_integer(1),push(p1),square(),subtract()),push_integer(e),push_rational(1,2),multiply(),power(),multiply(),e%2?negate():void 0},list=function(e){var t,r,i;for(0,push(symbol(NIL)),i=[],t=0,r=e;0<=r?t<r:t>r;0<=r?++t:--t)i.push(cons());return i},Eval_log=function(){return push(cadr(p1)),Eval(),logarithm()},logarithm=function(){return save(),yylog(),restore()},yylog=function(){var e;if(e=0,(p1=pop())!==symbol(E))if(equaln(p1,1))push_integer(0);else{if(isnegativenumber(p1))return push(p1),negate(),logarithm(),push(imaginaryunit),evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),multiply(),void add();if(isdouble(p1))return e=Math.log(p1.d),void push_double(e);if(isfraction(p1))return push(p1),numerator(),logarithm(),push(p1),denominator(),logarithm(),void subtract();if(car(p1)===symbol(POWER))return push(caddr(p1)),push(cadr(p1)),logarithm(),void multiply();if(car(p1)!==symbol(MULTIPLY))return push_symbol(LOG),push(p1),list(2);for(push_integer(0),p1=cdr(p1);iscons(p1);)push(car(p1)),logarithm(),add(),p1=cdr(p1)}else push_integer(1)},Eval_lookup=function(){return p1=cadr(p1),iscons(p1)||cadr(p1).k!==SYM||(p1=get_binding(p1)),push(p1)},madd=function(e,t){return e.add(t)},msub=function(e,t){return e.subtract(t)},addf=function(e,t){return e.add(t)},subf=function(e,t){return e.subtract(t)},ucmp=function(e,t){return e.compareAbs(t)},mgcd=function(e,t){return bigInt.gcd(e,t)},new_string=function(e){var t;return(t=new U).k=STR,t.str=e,t},out_of_memory=function(){return stop("out of memory")},push_zero_matrix=function(e,t){return push(alloc_tensor(e*t)),stack[tos-1].tensor.ndim=2,stack[tos-1].tensor.dim[0]=e,stack[tos-1].tensor.dim[1]=t},push_identity_matrix=function(e){var t,r,i;for(push_zero_matrix(e,e),t=r=0,i=e;0<=i?r<i:r>i;t=0<=i?++r:--r)stack[tos-1].tensor.elem[t*e+t]=one;return check_tensor_dimensions(stack[tos-1])},push_cars=function(e){var t;for(t=[];iscons(e);)push(car(e)),t.push(e=cdr(e));return t},equal=function(e,t){return 0===cmp_expr(e,t)?1:0},lessp=function(e,t){return cmp_expr(e,t)<0?1:0},sign=function(e){return e<0?-1:e>0?1:0},cmp_expr=function(e,t){var r;if(r=0,e===t)return 0;if(e===symbol(NIL))return-1;if(t===symbol(NIL))return 1;if(isNumericAtom(e)&&isNumericAtom(t))return sign(compare_numbers(e,t));if(isNumericAtom(e))return-1;if(isNumericAtom(t))return 1;if(isstr(e)&&isstr(t))return sign(strcmp(e.str,t.str));if(isstr(e))return-1;if(isstr(t))return 1;if(issymbol(e)&&issymbol(t))return sign(strcmp(get_printname(e),get_printname(t)));if(issymbol(e))return-1;if(issymbol(t))return 1;if(istensor(e)&&istensor(t))return compare_tensors(e,t);if(istensor(e))return-1;if(istensor(t))return 1;for(;iscons(e)&&iscons(t);){if(0!==(r=cmp_expr(car(e),car(t))))return r;e=cdr(e),t=cdr(t)}return iscons(t)?-1:iscons(e)?1:0},length=function(e){var t;for(t=0;iscons(e);)e=cdr(e),t++;return t},unique=function(e){return save(),p1=symbol(NIL),p2=symbol(NIL),unique_f(e),p2!==symbol(NIL)&&(p1=symbol(NIL)),e=p1,restore(),e},unique_f=function(e){if(isstr(e))p1===symbol(NIL)?p1=e:e!==p1&&(p2=e);else for(;iscons(e);){if(unique_f(car(e)),p2!==symbol(NIL))return;e=cdr(e)}},ssqrt=function(){return push_rational(1,2),power()},yyexpand=function(){var e;return e=expanding,expanding=1,Eval(),expanding=e},exponential=function(){return push_symbol(E),swap(),power()},square=function(){return push_integer(2),power()},sort_stack=function(e){var t,r;return t=tos-e,(r=stack.slice(t,t+e)).sort(cmp_expr),stack=stack.slice(0,t).concat(r).concat(stack.slice(t+e))},$.equal=equal,$.length=length,mmul=function(e,t){return e.multiply(t)},mdiv=function(e,t){return e.divide(t)},mmod=function(e,t){return e.mod(t)},mdivrem=function(e,t){var r;return[(r=e.divmod(t)).quotient,r.remainder]},Eval_mod=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),mod()},mod=function(){var e;return e=0,save(),p2=pop(),p1=pop(),isZeroAtomOrTensor(p2)&&stop("mod function: divide by zero"),isNumericAtom(p1)&&isNumericAtom(p2)?(isdouble(p1)&&(push(p1),e=pop_integer(),isNaN(e)&&stop("mod function: cannot convert float value to integer"),push_integer(e),p1=pop()),isdouble(p2)&&(push(p2),e=pop_integer(),isNaN(e)&&stop("mod function: cannot convert float value to integer"),push_integer(e),p2=pop()),isinteger(p1)&&isinteger(p2)||stop("mod function: integer arguments expected"),(p3=new U).k=NUM,p3.q.a=mmod(p1.q.a,p2.q.a),p3.q.b=mint(1),push(p3),restore()):(push_symbol(MOD),push(p1),push(p2),list(3),void restore())},mpow=function(e,t){return e.pow(t)},mprime=function(e){return e.isProbablePrime()},mroot=function(e,t){var r,i,n,o,s,a,c;for(e=e.abs(),r=0,0,n=0,0===t&&stop("root index is zero"),n=0;e.shiftRight(n)>0;)n++;if(0===n)return mint(0);for(n=Math.floor((n-1)/t),i=Math.floor(n/32+1),a=bigInt(i),r=o=0,s=i;0<=s?o<s:o>s;r=0<=s?++o:--o)a=a.and(bigInt(1).shiftLeft(r).not());for(;n>=0;){switch(a=a.or(bigInt(1).shiftLeft(n)),c=mpow(a,t),mcmp(c,e)){case 0:return a;case 1:a=a.and(bigInt(1).shiftLeft(n).not())}n--}return 0},DEBUG_MULTIPLY=!1,Eval_multiply=function(){var e;for(push(cadr(p1)),Eval(),p1=cddr(p1),e=[];iscons(p1);)push(car(p1)),Eval(),multiply(),e.push(p1=cdr(p1));return e},multiply=function(){return esc_flag&&stop("escape key stop"),isNumericAtom(stack[tos-2])&&isNumericAtom(stack[tos-1])?multiply_numbers():(save(),yymultiply(),restore())},yymultiply=function(){var e,t,r,i,n,o;if(0,t=0,0,p2=pop(),p1=pop(),e=tos,isZeroAtom(p1)||isZeroAtom(p2))evaluatingAsFloats?push_double(0):push(zero);else if(expanding&&isadd(p1))for(p1=cdr(p1),evaluatingAsFloats?push_double(0):push(zero);iscons(p1);)push(car(p1)),push(p2),multiply(),add(),p1=cdr(p1);else if(expanding&&isadd(p2))for(p2=cdr(p2),evaluatingAsFloats?push_double(0):push(zero);iscons(p2);)push(p1),push(car(p2)),multiply(),add(),p2=cdr(p2);else{if(!istensor(p1)&&istensor(p2))return push(p1),push(p2),void scalar_times_tensor();if(istensor(p1)&&!istensor(p2))return push(p1),push(p2),void tensor_times_scalar();for(car(p1)===symbol(MULTIPLY)?p1=cdr(p1):(push(p1),list(1),p1=pop()),car(p2)===symbol(MULTIPLY)?p2=cdr(p2):(push(p2),list(1),p2=pop()),isNumericAtom(car(p1))&&isNumericAtom(car(p2))?(push(car(p1)),push(car(p2)),multiply_numbers(),p1=cdr(p1),p2=cdr(p2)):isNumericAtom(car(p1))?(push(car(p1)),p1=cdr(p1)):isNumericAtom(car(p2))?(push(car(p2)),p2=cdr(p2)):evaluatingAsFloats?push_double(1):push(one),parse_p1(),parse_p2();iscons(p1)&&iscons(p2);)if(caar(p1)!==symbol(OPERATOR)||caar(p2)!==symbol(OPERATOR))switch(cmp_expr(p3,p4)){case-1:push(car(p1)),p1=cdr(p1),parse_p1();break;case 1:push(car(p2)),p2=cdr(p2),parse_p2();break;case 0:combine_factors(e),p1=cdr(p1),p2=cdr(p2),parse_p1(),parse_p2();break;default:stop("internal error 2")}else push_symbol(OPERATOR),push(cdar(p1)),push(cdar(p2)),append(),cons(),p1=cdr(p1),p2=cdr(p2),parse_p1(),parse_p2();for(;iscons(p1);)push(car(p1)),p1=cdr(p1);for(;iscons(p2);)push(car(p2)),p2=cdr(p2);if(__normalize_radical_factors(e),expanding)for(t=i=n=e,o=tos;n<=o?i<o:i>o;t=n<=o?++i:--i)if(isadd(stack[t]))return void multiply_all(tos-e);if(1!==(r=tos-e)){if(!isrational(stack[e])||!equaln(stack[e],1))return list(r),p7=pop(),push_symbol(MULTIPLY),push(p7),cons();2===r?(p7=pop(),pop(),push(p7)):(stack[e]=symbol(MULTIPLY),list(r))}}},parse_p1=function(){if(p3=car(p1),p5=evaluatingAsFloats?one_as_double:one,car(p3)===symbol(POWER))return p5=caddr(p3),p3=cadr(p3)},parse_p2=function(){if(p4=car(p2),p6=evaluatingAsFloats?one_as_double:one,car(p4)===symbol(POWER))return p6=caddr(p4),p4=cadr(p4)},combine_factors=function(e){return push(p4),push(p5),push(p6),add(),power(),p7=pop(),isNumericAtom(p7)?(push(stack[e]),push(p7),multiply_numbers(),stack[e]=pop()):car(p7)===symbol(MULTIPLY)&&isNumericAtom(cadr(p7))&&cdddr(p7)===symbol(NIL)?(push(stack[e]),push(cadr(p7)),multiply_numbers(),stack[e]=pop(),push(caddr(p7))):push(p7)},gp=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,-6,-7,-8,-3,-4,-5,13,14,15,-16,9,10,11,-12],[0,0,6,-1,-11,10,-2,-15,14,12,-5,4,-9,16,-8,7,-13],[0,0,7,11,-1,-9,15,-2,-13,5,12,-3,-10,8,16,-6,-14],[0,0,8,-10,9,-1,-14,13,-2,-4,3,12,-11,-7,6,16,-15],[0,0,3,2,15,-14,1,11,-10,16,-8,7,13,12,-5,4,9],[0,0,4,-15,2,13,-11,1,9,8,16,-6,14,5,12,-3,10],[0,0,5,14,-13,2,10,-9,1,-7,6,16,15,-4,3,12,11],[0,0,13,12,-5,4,16,-8,7,-1,-11,10,-3,-2,-15,14,-6],[0,0,14,5,12,-3,8,16,-6,11,-1,-9,-4,15,-2,-13,-7],[0,0,15,-4,3,12,-7,6,16,-10,9,-1,-5,-14,13,-2,-8],[0,0,16,-9,-10,-11,-13,-14,-15,-3,-4,-5,1,-6,-7,-8,2],[0,0,9,-16,8,-7,-12,5,-4,-2,-15,14,6,-1,-11,10,3],[0,0,10,-8,-16,6,-5,-12,3,15,-2,-13,7,11,-1,-9,4],[0,0,11,7,-6,-16,4,-3,-12,-14,13,-2,8,-10,9,-1,5],[0,0,12,13,14,15,9,10,11,-6,-7,-8,-2,-3,-4,-5,-1]],combine_gammas=function(e){var t;if((t=gp[Math.floor(p1.gamma)][Math.floor(p2.gamma)])<0&&(t=-t,push(stack[e]),negate(),stack[e]=pop()),t>1)return push(_gamma[t])},multiply_noexpand=function(){var e;return e=expanding,expanding=0,multiply(),expanding=e},multiply_all=function(e){var t,r,i,n;if(r=0,1!==e){if(0!==e){for(push(stack[t=tos-e]),r=i=1,n=e;1<=n?i<n:i>n;r=1<=n?++i:--i)push(stack[t+r]),multiply();return stack[t]=pop(),moveTos(t+1)}push(evaluatingAsFloats?one_as_double:one)}},multiply_all_noexpand=function(e){var t;return t=expanding,expanding=0,multiply_all(e),expanding=t},divide=function(){return isNumericAtom(stack[tos-2])&&isNumericAtom(stack[tos-1])?divide_numbers():(inverse(),multiply())},inverse=function(){return isNumericAtom(stack[tos-1])?invert_number():(push_integer(-1),power())},reciprocate=function(){return inverse()},negate=function(){return isNumericAtom(stack[tos-1])?negate_number():(evaluatingAsFloats?push_double(-1):push_integer(-1),multiply())},negate_expand=function(){var e;return e=expanding,expanding=1,negate(),expanding=e},negate_noexpand=function(){var e;return e=expanding,expanding=0,negate(),expanding=e},__normalize_radical_factors=function(e){var t,r,i,n,o,s,a,c,l,p;if(t=0,!(isplusone(stack[e])||isminusone(stack[e])||isdouble(stack[e]))){for(t=n=o=e+1,s=tos;(o<=s?n<s:n>s)&&!__is_radical_number(stack[t]);t=o<=s?++n:--n);if(t!==tos){for(save(),push(stack[e]),mp_numerator(),DEBUG_MULTIPLY&&console.log("__normalize_radical_factors numerator: "+stack[tos-1]),p1=pop(),t=r=a=e+1,c=tos;(a<=c?r<c:r>c)&&(!isplusone(p1)&&!isminusone(p1));t=a<=c?++r:--r)__is_radical_number(stack[t])&&(p3=cadr(stack[t]),p4=caddr(stack[t]),isnegativenumber(p4)&&(push(p1),push(p3),divide(),p5=pop(),isinteger(p5)&&(p1=p5,push_symbol(POWER),push(p3),push(evaluatingAsFloats?one_as_double:one),push(p4),add(),list(3),stack[t]=pop())));for(push(stack[e]),mp_denominator(),DEBUG_MULTIPLY&&console.log("__normalize_radical_factors denominator: "+stack[tos-1]),p2=pop(),t=i=l=e+1,p=tos;(l<=p?i<p:i>p)&&!isplusone(p2);t=l<=p?++i:--i)if(__is_radical_number(stack[t])&&(p3=cadr(stack[t]),p4=caddr(stack[t]),!isnegativenumber(p4)&&(push(p2),push(p3),divide(),p5=pop(),isinteger(p5)))){if(DEBUG_MULTIPLY&&console.log("__new radical p5: "+p5.toString()),DEBUG_MULTIPLY&&console.log("__new radical top stack: "+stack[tos-1]),p2=p5,push_symbol(POWER),push(p3),push(p4),DEBUG_MULTIPLY&&console.log("__new radical p3: "+p3.toString()),DEBUG_MULTIPLY&&console.log("__new radical p4: "+p4.toString()),push(one),subtract(),dontCreateNewRadicalsInDenominatorWhenEvalingMultiplication&&isinteger(p3)&&!isinteger(stack[tos-1])&&isnegativenumber(stack[tos-1])){pop(),pop(),pop(),push(p1),push(p3),divide(),p1=pop();break}DEBUG_MULTIPLY&&console.log("__new radical exponent: "+stack[tos-1]),list(3),stack[t]=pop()}return push(p1),push(p2),divide(),stack[e]=pop(),restore()}}},__is_radical_number=function(e){return car(e)===symbol(POWER)&&isNumericAtom(cadr(e))&&isfraction(caddr(e))&&!isminusone(cadr(e))},NROOTS_YMAX=101,NROOTS_DELTA=1e-6,NROOTS_EPSILON=1e-9,NROOTS_ABS=function(e){return Math.sqrt(e.r*e.r+e.i*e.i)},theRandom=0,NROOTS_RANDOM=function(){return 4*Math.random()-2},numericRootOfPolynomial=function(){class e{}return e.prototype.r=0,e.prototype.i=0,e}.call(this),nroots_a=new numericRootOfPolynomial,nroots_b=new numericRootOfPolynomial,nroots_x=new numericRootOfPolynomial,nroots_y=new numericRootOfPolynomial,nroots_fa=new numericRootOfPolynomial,nroots_fb=new numericRootOfPolynomial,nroots_dx=new numericRootOfPolynomial,nroots_df=new numericRootOfPolynomial,nroots_c=[],initNRoots=o=0,ref=NROOTS_YMAX;0<=ref?o<ref:o>ref;initNRoots=0<=ref?++o:--o)nroots_c[initNRoots]=new numericRootOfPolynomial;for(Eval_nroots=function(){var e,t,r,i,n,o,s,a,c;for(0,t=0,n=0,s=0,push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),(p2=pop())===symbol(NIL)?guess():push(p2),p2=pop(),p1=pop(),ispolyexpandedform(p1,p2)||stop("nroots: polynomial?"),e=tos,(s=coeff(p2,p1))>NROOTS_YMAX&&stop("nroots: degree?"),t=r=0,a=s;0<=a?r<a:r>a;t=0<=a?++r:--r)push(stack[e+t]),real(),yyfloat(),Eval(),p1=pop(),push(stack[e+t]),imag(),yyfloat(),Eval(),p2=pop(),isdouble(p1)&&isdouble(p2)||stop("nroots: coefficients?"),nroots_c[t].r=p1.d,nroots_c[t].i=p2.d;for(moveTos(e),monic(s),n=i=s;i>1;n=i+=-1)findroot(n),Math.abs(nroots_a.r)<NROOTS_DELTA&&(nroots_a.r=0),Math.abs(nroots_a.i)<NROOTS_DELTA&&(nroots_a.i=0),push_double(nroots_a.r),push_double(nroots_a.i),push(imaginaryunit),multiply(),add(),NROOTS_divpoly(n);if((s=tos-e)>1){for(sort_stack(s),(p1=alloc_tensor(s)).tensor.ndim=1,p1.tensor.dim[0]=s,t=o=0,c=s;0<=c?o<c:o>c;t=0<=c?++o:--o)p1.tensor.elem[t]=stack[e+t];return moveTos(e),push(p1)}},monic=function(e){var t,r,i,n;for(r=0,0,nroots_y.r=nroots_c[e-1].r,nroots_y.i=nroots_c[e-1].i,n=nroots_y.r*nroots_y.r+nroots_y.i*nroots_y.i,r=t=0,i=e-1;0<=i?t<i:t>i;r=0<=i?++t:--t)nroots_c[r].r=(nroots_c[r].r*nroots_y.r+nroots_c[r].i*nroots_y.i)/n,nroots_c[r].i=(nroots_c[r].i*nroots_y.r-nroots_c[r].r*nroots_y.i)/n;return nroots_c[e-1].r=1,nroots_c[e-1].i=0},findroot=function(e){var t,r,i,n;if(0,0,n=0,NROOTS_ABS(nroots_c[0])<NROOTS_DELTA)return nroots_a.r=0,void(nroots_a.i=0);for(t=0;t<100;++t)for(nroots_a.r=NROOTS_RANDOM(),nroots_a.i=NROOTS_RANDOM(),compute_fa(e),nroots_b.r=nroots_a.r,nroots_b.i=nroots_a.i,nroots_fb.r=nroots_fa.r,nroots_fb.i=nroots_fa.i,nroots_a.r=NROOTS_RANDOM(),nroots_a.i=NROOTS_RANDOM(),r=0;r<1e3;++r){if(compute_fa(e),i=NROOTS_ABS(nroots_fa),DEBUG&&console.log("nrabs: "+i),i<NROOTS_EPSILON)return;if(NROOTS_ABS(nroots_fa)<NROOTS_ABS(nroots_fb)&&(nroots_x.r=nroots_a.r,nroots_x.i=nroots_a.i,nroots_a.r=nroots_b.r,nroots_a.i=nroots_b.i,nroots_b.r=nroots_x.r,nroots_b.i=nroots_x.i,nroots_x.r=nroots_fa.r,nroots_x.i=nroots_fa.i,nroots_fa.r=nroots_fb.r,nroots_fa.i=nroots_fb.i,nroots_fb.r=nroots_x.r,nroots_fb.i=nroots_x.i),nroots_dx.r=nroots_b.r-nroots_a.r,nroots_dx.i=nroots_b.i-nroots_a.i,nroots_df.r=nroots_fb.r-nroots_fa.r,nroots_df.i=nroots_fb.i-nroots_fa.i,0===(n=nroots_df.r*nroots_df.r+nroots_df.i*nroots_df.i))break;nroots_y.r=(nroots_dx.r*nroots_df.r+nroots_dx.i*nroots_df.i)/n,nroots_y.i=(nroots_dx.i*nroots_df.r-nroots_dx.r*nroots_df.i)/n,nroots_a.r=nroots_b.r-(nroots_y.r*nroots_fb.r-nroots_y.i*nroots_fb.i),nroots_a.i=nroots_b.i-(nroots_y.r*nroots_fb.i+nroots_y.i*nroots_fb.r)}return stop("nroots: convergence error")},compute_fa=function(e){var t,r,i,n,o;for(r=0,o=0,nroots_x.r=nroots_a.r,nroots_x.i=nroots_a.i,nroots_fa.r=nroots_c[0].r+nroots_c[1].r*nroots_x.r-nroots_c[1].i*nroots_x.i,nroots_fa.i=nroots_c[0].i+nroots_c[1].r*nroots_x.i+nroots_c[1].i*nroots_x.r,n=[],r=t=2,i=e;2<=i?t<i:t>i;r=2<=i?++t:--t)o=nroots_a.r*nroots_x.r-nroots_a.i*nroots_x.i,nroots_x.i=nroots_a.r*nroots_x.i+nroots_a.i*nroots_x.r,nroots_x.r=o,nroots_fa.r+=nroots_c[r].r*nroots_x.r-nroots_c[r].i*nroots_x.i,n.push(nroots_fa.i+=nroots_c[r].r*nroots_x.i+nroots_c[r].i*nroots_x.r);return n},NROOTS_divpoly=function(e){var t,r,i,n,o,s;for(i=0,i=t=n=e-1;n<=0?t<0:t>0;i=n<=0?++t:--t)nroots_c[i-1].r+=nroots_c[i].r*nroots_a.r-nroots_c[i].i*nroots_a.i,nroots_c[i-1].i+=nroots_c[i].i*nroots_a.r+nroots_c[i].r*nroots_a.i;for(NROOTS_ABS(nroots_c[0])>NROOTS_DELTA&&stop("nroots: residual error"),s=[],i=r=0,o=e-1;0<=o?r<o:r>o;i=0<=o?++r:--r)nroots_c[i].r=nroots_c[i+1].r,s.push(nroots_c[i].i=nroots_c[i+1].i);return s},Eval_numerator=function(){return push(cadr(p1)),Eval(),numerator()},numerator=function(){var e,t;if(e=0,t=pop(),car(t)===symbol(ADD)&&(push(t),rationalize(),t=pop()),car(t)!==symbol(MULTIPLY)||isplusone(car(cdr(t))))return isrational(t)?(push(t),mp_numerator()):car(t)===symbol(POWER)&&isnegativeterm(caddr(t))?push(one):push(t);for(e=tos,t=cdr(t);iscons(t);)push(car(t)),numerator(),t=cdr(t);return multiply_all(tos-e)},Eval_outer=function(){var e;for(p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),e=[];iscons(p1);)push(car(p1)),Eval(),outer(),e.push(p1=cdr(p1));return e},outer=function(){return save(),p2=pop(),p1=pop(),istensor(p1)&&istensor(p2)?yyouter():(push(p1),push(p2),istensor(p1)?tensor_times_scalar():istensor(p2)?scalar_times_tensor():multiply()),restore()},yyouter=function(){var e,t,r,i,n,o,s,a,c,l,p,u,f;for(e=0,r=0,n=0,0,0,(a=p1.tensor.ndim+p2.tensor.ndim)>MAXDIM&&stop("outer: rank of result exceeds maximum"),c=p1.tensor.nelem*p2.tensor.nelem,(p3=alloc_tensor(c)).tensor.ndim=a,e=t=0,l=p1.tensor.ndim;0<=l?t<l:t>l;e=0<=l?++t:--t)p3.tensor.dim[e]=p1.tensor.dim[e];for(r=e,e=i=0,p=p2.tensor.ndim;0<=p?i<p:i>p;e=0<=p?++i:--i)p3.tensor.dim[r+e]=p2.tensor.dim[e];for(n=0,e=o=0,u=p1.tensor.nelem;0<=u?o<u:o>u;e=0<=u?++o:--o)for(r=s=0,f=p2.tensor.nelem;0<=f?s<f:s>f;r=0<=f?++s:--s)push(p1.tensor.elem[e]),push(p2.tensor.elem[r]),multiply(),p3.tensor.elem[n++]=pop();return push(p3)},partition=function(){for(save(),p2=pop(),p1=pop(),push_integer(1),p3=pop(),p4=p3,p1=cdr(p1);iscons(p1);)Find(car(p1),p2)?(push(p4),push(car(p1)),multiply(),p4=pop()):(push(p3),push(car(p1)),multiply(),p3=pop()),p1=cdr(p1);return push(p3),push(p4),restore()},Eval_silentpattern=function(){return Eval_pattern(),pop(),push_symbol(NIL)},Eval_pattern=function(){var e,t,r,i,n;return iscons(cdr(p1))||stop("pattern needs at least a template and a transformed version"),e=car(cdr(p1)),(r=car(cdr(cdr(p1))))===symbol(NIL)&&stop("pattern needs at least a template and a transformed version"),n=iscons(cdr(cdr(p1)))?car(cdr(cdr(cdr(p1)))):symbol(NIL),equal(e,r)&&stop("recursive pattern"),i="template: "+print_list(e),i+=" tests: "+print_list(n),DEBUG&&console.log("pattern stringkey: "+i),-1===(t=userSimplificationsInStringForm.indexOf(i))?(userSimplificationsInStringForm.push(i),userSimplificationsInListForm.push(cdr(p1))):(DEBUG&&console.log("pattern already exists, replacing. "+cdr(p1)),userSimplificationsInStringForm[t]=i,userSimplificationsInListForm[t]=cdr(p1)),push_symbol(PATTERN),push(cdr(p1)),list(2)},do_clearPatterns=function(){return userSimplificationsInListForm=[],userSimplificationsInStringForm=[]},Eval_clearpatterns=function(){return do_clearPatterns(),push_symbol(NIL)},Eval_patternsinfo=function(){var e;return""!==(e=patternsinfo())?push(new_string(e)):push_symbol(NIL)},patternsinfo=function(){var e,t,r;for(r="",e=0,t=userSimplificationsInListForm.length;e<t;e++)userSimplificationsInListForm[e],r+=userSimplificationsInListForm+"\n";return r},Eval_polar=function(){return push(cadr(p1)),Eval(),polar()},polar=function(){return evaluatingPolar++,save(),p1=pop(),push(p1),abs(),push(imaginaryunit),push(p1),arg(),multiply(),exponential(),multiply(),evaluatingPolar--,restore()},n_factor_number=0,factor_number=function(){var e;return 0,save(),p1=pop(),equaln(p1,0)||equaln(p1,1)||equaln(p1,-1)?(push(p1),void restore()):(n_factor_number=p1.q.a,e=tos,factor_a(),tos-e>1&&(list(tos-e),push_symbol(MULTIPLY),swap(),cons()),restore())},factor_a=function(){var e,t;for(t=0,n_factor_number.isNegative()&&(n_factor_number=setSignTo(n_factor_number,1),push_integer(-1)),t=e=0;e<1e4;t=++e)if(try_kth_prime(t),0===n_factor_number.compare(1))return;return factor_b()},try_kth_prime=function(e){var t,r,i,n;for(t=0,r=mint(primetab[e]),t=0;;){if(0===n_factor_number.compare(1))return void(t&&push_factor(r,t));if([i,n]=mdivrem(n_factor_number,r),!n.isZero())break;t++,n_factor_number=i}if(t&&push_factor(r,t),-1===mcmp(i,r))return push_factor(n_factor_number,1),n_factor_number=mint(1)},factor_b=function(){var e,t,r,i,n,o,s;for(r=0,i=0,e=mint(1),o=mint(5),s=mint(2),r=1,i=1;;){if(mprime(n_factor_number))return push_factor(n_factor_number,1),0;for(;;){if(esc_flag&&stop("esc"),n=msub(s,o),n=setSignTo(n,1),t=mgcd(n,n_factor_number),!MEQUAL(t,1)){if(push_factor(t,1),0===mcmp(t,n_factor_number))return-1;n=mdiv(n_factor_number,t),o=n=mmod(o,n_factor_number=n),s=n=mmod(s,n_factor_number);break}0==--r&&(s=o,r=i*=2),n=mmul(o,o),o=madd(n,e),o=n=mmod(o,n_factor_number)}}},push_factor=function(e,t){if((p1=new U).k=NUM,p1.q.a=e,p1.q.b=mint(1),push(p1),t>1)return push_symbol(POWER),swap(),(p1=new U).k=NUM,p1.q.a=mint(t),p1.q.b=mint(1),push(p1),list(3)},DEBUG_POWER=!1,Eval_power=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),power()},power=function(){return save(),yypower(),restore()},yypower=function(){var e,t,r,i,n,o,s;if(s=0,p2=pop(),p1=pop(),i=p2,r=p1,DEBUG_POWER&&console.log("POWER: "+p1+" ^ "+p2),equal(p1,one)||isZeroAtomOrTensor(p2))return evaluatingAsFloats?push_double(1):push(one),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(equal(p2,one))return push(p1),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(isminusone(p1)&&isminusone(p2))return evaluatingAsFloats?push_double(1):push(one),negate(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(isminusone(p1)&&isoneovertwo(p2))return push(imaginaryunit),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(isminusone(p1)&&isminusoneovertwo(p2))return push(imaginaryunit),negate(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(isminusone(p1)&&!isdouble(p1)&&isrational(p2)&&!isinteger(p2)&&ispositivenumber(p2)&&!evaluatingAsFloats)return DEBUG_POWER&&console.log("   power: -1 ^ rational"),DEBUG_POWER&&console.log(" trick: p2.q.a , p2.q.b "+p2.q.a+" , "+p2.q.b),p2.q.a<p2.q.b?(push_symbol(POWER),push(p1),push(p2),list(3)):(push_symbol(MULTIPLY),push(p1),push_symbol(POWER),push(p1),push_rational(p2.q.a.mod(p2.q.b),p2.q.b),list(3),list(3),DEBUG_POWER&&console.log(" trick applied : "+stack[tos-1])),rect(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(isrational(p1)&&isrational(p2))return DEBUG_POWER&&console.log("   power: isrational(p1) && isrational(p2)"),push(p1),push(p2),qpow(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(isNumericAtom(p1)&&isNumericAtom(p2))return DEBUG_POWER&&console.log("   power: both base and exponent are either rational or double "),DEBUG_POWER&&console.log("POWER - isNumericAtom(p1) && isNumericAtom(p2)"),push(p1),push(p2),dpow(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(istensor(p1))return DEBUG_POWER&&console.log("   power: istensor(p1) "),power_tensor(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(car(p1)===symbol(ABS)&&iseveninteger(p2)&&!isZeroAtomOrTensor(get_binding(symbol(ASSUME_REAL_VARIABLES))))return DEBUG_POWER&&console.log("   power: even power of absolute of real value "),push(cadr(p1)),push(p2),power(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(p1===symbol(E)&&car(p2)===symbol(LOG))return push(cadr(p2)),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(p1===symbol(E)&&isdouble(p2))return DEBUG_POWER&&console.log("   power: p1 == symbol(E) && isdouble(p2) "),push_double(Math.exp(p2.d)),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(p1===symbol(E)&&0!==Find(p2,imaginaryunit)&&0!==Find(p2,symbol(PI))&&!evaluatingPolar&&(push_symbol(POWER),push(p1),push(p2),list(3),DEBUG_POWER&&console.log("   power: turning complex exponential to rect: "+stack[tos-1]),rect(),t=pop(),0===Find(t,symbol(PI))))return DEBUG_POWER&&console.log("   power: turned complex exponential to rect: "+t),void push(t);if(car(p1)===symbol(MULTIPLY)&&isinteger(p2)){for(DEBUG_POWER&&console.log("   power: (a * b) ^ c  ->  (a ^ c) * (b ^ c) "),p1=cdr(p1),push(car(p1)),push(p2),power(),p1=cdr(p1);iscons(p1);)push(car(p1)),push(p2),power(),multiply(),p1=cdr(p1);DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1])}else{if(o=!1,isNumericAtom(cadr(p1))&&(o=sign(compare_numbers(cadr(p1),zero))),car(p1)===symbol(POWER)&&(isinteger(p2)||o))return push(cadr(p1)),push(caddr(p1)),push(p2),multiply(),power(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(e=!1,iseveninteger(caddr(p1))&&(push(caddr(p1)),push(p2),multiply(),n=pop(),isone(n)&&(e=!0)),car(p1)===symbol(POWER)&&e)return DEBUG_POWER&&console.log("   power: car(p1) == symbol(POWER) && b_isEven_and_c_isItsInverse "),push(cadr(p1)),abs(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(expanding&&isadd(p1)&&isNumericAtom(p2)&&(push(p2),(s=pop_integer())>1&&!isNaN(s)))return DEBUG_POWER&&console.log("   power: expanding && isadd(p1) && isNumericAtom(p2) "),power_sum(s),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(1===trigmode&&car(p1)===symbol(SIN)&&iseveninteger(p2))return DEBUG_POWER&&console.log("   power: trigmode == 1 && car(p1) == symbol(SIN) && iseveninteger(p2) "),push_integer(1),push(cadr(p1)),cosine(),push_integer(2),power(),subtract(),push(p2),push_rational(1,2),multiply(),power(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(2===trigmode&&car(p1)===symbol(COS)&&iseveninteger(p2))return DEBUG_POWER&&console.log("   power: trigmode == 2 && car(p1) == symbol(COS) && iseveninteger(p2) "),push_integer(1),push(cadr(p1)),sine(),push_integer(2),power(),subtract(),push(p2),push_rational(1,2),multiply(),power(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(iscomplexnumber(p1)){if(DEBUG_POWER&&console.log(" power - handling the case (a + ib) ^ n"),isinteger(p2))return push(p1),conjugate(),p3=pop(),push(p3),push(p3),push(p1),multiply(),divide(),isone(p2)||(push(p2),negate(),power()),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]));if(isNumericAtom(p2))return push(p1),abs(),push(p2),power(),push_integer(-1),push(p1),arg(),push(p2),multiply(),evaluatingAsFloats||iscomplexnumberdouble(p1)&&isdouble(p2)?push_double(Math.PI):push(symbol(PI)),divide(),power(),multiply(),avoidCalculatingPowersIntoArctans&&Find(stack[tos-1],symbol(ARCTAN))&&(pop(),push_symbol(POWER),push(p1),push(p2),list(3)),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]))}if(!simplify_polar())return DEBUG_POWER&&console.log("   power: nothing can be done "),push_symbol(POWER),push(p1),push(p2),list(3),DEBUG_POWER?console.log("   power of "+r+" ^ "+i+": "+stack[tos-1]):void 0;DEBUG_POWER&&console.log("   power: using simplify_polar")}},power_sum=function(e){var t,r,i,n,o,s,a,c,l,p;for(t=[],r=0,n=0,0,s=length(p1)-1,push_frame(s*(e+1)),p1=cdr(p1),r=i=0,c=s;0<=c?i<c:i>c;r=0<=c?++i:--i){for(n=o=0,l=e;0<=l?o<=l:o>=l;n=0<=l?++o:--o)push(car(p1)),push_integer(n),power(),stack[frame+r*(e+1)+n]=pop();p1=cdr(p1)}for(push_integer(e),factorial(),p1=pop(),r=a=0,p=s;0<=p?a<p:a>p;r=0<=p?++a:--a)t[r]=0;return push(zero),multinomial_sum(s,e,t,0,e),pop_frame(s*(e+1))},multinomial_sum=function(e,t,r,i,n){var o,s,a,c,l,p,u;if(s=0,!(i<e-1)){for(r[i]=n,push(p1),s=a=0,p=e;0<=p?a<p:a>p;s=0<=p?++a:--a)push_integer(r[s]),factorial(),divide();for(s=c=0,u=e;0<=u?c<u:c>u;s=0<=u?++c:--c)push(stack[frame+s*(t+1)+r[s]]),multiply();return add()}for(s=o=0,l=n;0<=l?o<=l:o>=l;s=0<=l?++o:--o)r[i]=s,multinomial_sum(e,t,r,i+1,n-s)},simplify_polar=function(){var e;switch(e=0,e=isquarterturn(p2)){case 0:1;break;case 1:return push_integer(1),1;case 2:return push_integer(-1),1;case 3:return push(imaginaryunit),1;case 4:return push(imaginaryunit),negate(),1}if(car(p2)===symbol(ADD)){for(p3=cdr(p2);iscons(p3)&&!(e=isquarterturn(car(p3)));)p3=cdr(p3);switch(e){case 0:return 0;case 1:push_integer(1);break;case 2:push_integer(-1);break;case 3:push(imaginaryunit);break;case 4:push(imaginaryunit),negate()}return push(p2),push(car(p3)),subtract(),exponential(),multiply(),1}return 0},Eval_prime=function(){return push(cadr(p1)),Eval(),prime()},prime=function(){var e;return e=0,((e=pop_integer())<1||e>MAXPRIMETAB)&&stop("prime: Argument out of range."),e=primetab[e-1],push_integer(e)},power_str="^",codeGen=!1,Eval_print=function(){return stringsEmittedByUserPrintouts+=_print(cdr(p1),printMode),push(symbol(NIL))},Eval_print2dascii=function(){return stringsEmittedByUserPrintouts+=_print(cdr(p1),PRINTMODE_2DASCII),push(symbol(NIL))},Eval_printcomputer=function(){return stringsEmittedByUserPrintouts+=_print(cdr(p1),PRINTMODE_COMPUTER),push(symbol(NIL))},Eval_printlatex=function(){return stringsEmittedByUserPrintouts+=_print(cdr(p1),PRINTMODE_LATEX),push(symbol(NIL))},Eval_printhuman=function(){var e;return e=test_flag,test_flag=0,stringsEmittedByUserPrintouts+=_print(cdr(p1),PRINTMODE_HUMAN),test_flag=e,push(symbol(NIL))},Eval_printlist=function(){var e;return e=_print(cdr(p1),PRINTMODE_LIST),stringsEmittedByUserPrintouts+=e,push(symbol(NIL))},_print=function(e,t){var r,i;for(r="";iscons(e);)push(car(e)),Eval(),p2=pop(),i=printMode,t===PRINTMODE_COMPUTER?(printMode=PRINTMODE_COMPUTER,r=printline(p2),rememberPrint(r,LAST_FULL_PRINT)):t===PRINTMODE_HUMAN?(printMode=PRINTMODE_HUMAN,r=printline(p2),rememberPrint(r,LAST_PLAIN_PRINT)):t===PRINTMODE_2DASCII?(printMode=PRINTMODE_2DASCII,r=print2dascii(p2),rememberPrint(r,LAST_2DASCII_PRINT)):t===PRINTMODE_LATEX?(printMode=PRINTMODE_LATEX,r=printline(p2),rememberPrint(r,LAST_LATEX_PRINT)):t===PRINTMODE_LIST&&(printMode=PRINTMODE_LIST,r=print_list(p2),rememberPrint(r,LAST_LIST_PRINT)),printMode=i,e=cdr(e);return DEBUG&&console.log("emttedString from display: "+stringsEmittedByUserPrintouts),r},rememberPrint=function(e,t){var r;return scan('"'+e+'"'),r=pop(),set_binding(symbol(t),r)},print_str=function(e){return DEBUG&&console.log("emttedString from print_str: "+stringsEmittedByUserPrintouts),e},print_char=function(e){return e},collectLatexStringFromReturnValue=function(e){var t,r,i;return t=printMode,printMode=PRINTMODE_LATEX,r=codeGen,codeGen=!1,i=(i=print_expr(e)).replace(/_/g,"\\_"),printMode=t,codeGen=r,DEBUG&&console.log("emttedString from collectLatexStringFromReturnValue: "+stringsEmittedByUserPrintouts),i},printline=function(e){var t;return t="",t+=print_expr(e)},print_base_of_denom=function(e){var t;return t="",isfraction(e)||car(e)===symbol(ADD)||car(e)===symbol(MULTIPLY)||car(e)===symbol(POWER)||lessp(e,zero)?(t+=print_char("("),t+=print_expr(e),t+=print_char(")")):t+=print_expr(e),t},print_expo_of_denom=function(e){var t;return t="",isfraction(e)||car(e)===symbol(ADD)||car(e)===symbol(MULTIPLY)||car(e)===symbol(POWER)?(t+=print_char("("),t+=print_expr(e),t+=print_char(")")):t+=print_expr(e),t},print_denom=function(e,t){var r;return r="",save(),p1=cadr(e),p2=caddr(e),isminusone(p2)?(r+=print_base_of_denom(p1),restore(),r):(1===t&&(r+=print_char("(")),push(p2),negate(),p2=pop(),r+=print_power(p1,p2),1===t&&(r+=print_char(")")),restore(),r)},print_a_over_b=function(e){var t,r,i;for(t="",flag=0,i=0,r=0,save(),i=0,r=0,p1=cdr(e),p2=car(p1),isrational(p2)?(push(p2),mp_numerator(),absval(),p3=pop(),push(p2),mp_denominator(),p4=pop(),isplusone(p3)||i++,isplusone(p4)||r++,p1=cdr(p1)):(p3=one,p4=one);iscons(p1);)p2=car(p1),is_denominator(p2)?r++:i++,p1=cdr(p1);if(printMode===PRINTMODE_LATEX&&(t+=print_str("\\frac{")),0===i)t+=print_char("1");else for(flag=0,p1=cdr(e),isrational(car(p1))&&(p1=cdr(p1)),isplusone(p3)||(t+=print_factor(p3),flag=1);iscons(p1);)p2=car(p1),is_denominator(p2)?1:(flag&&(t+=print_multiply_sign()),t+=print_factor(p2),flag=1),p1=cdr(p1);for(t+=print_str(printMode===PRINTMODE_LATEX?"}{":printMode!==PRINTMODE_HUMAN||test_flag?"/":" / "),r>1&&printMode!==PRINTMODE_LATEX&&(t+=print_char("(")),flag=0,p1=cdr(e),isrational(car(p1))&&(p1=cdr(p1)),isplusone(p4)||(t+=print_factor(p4),flag=1);iscons(p1);)p2=car(p1),is_denominator(p2)&&(flag&&(t+=print_multiply_sign()),t+=print_denom(p2,r),flag=1),p1=cdr(p1);return r>1&&printMode!==PRINTMODE_LATEX&&(t+=print_char(")")),printMode===PRINTMODE_LATEX&&(t+=print_str("}")),restore(),t},print_expr=function(e){var t;if(t="",isadd(e))for(e=cdr(e),"-"===sign_of_term(car(e))&&(t+=print_str("-")),t+=print_term(car(e)),e=cdr(e);iscons(e);)"+"===sign_of_term(car(e))?t+=print_str(printMode!==PRINTMODE_HUMAN||test_flag?"+":" + "):t+=print_str(printMode!==PRINTMODE_HUMAN||test_flag?"-":" - "),t+=print_term(car(e)),e=cdr(e);else"-"===sign_of_term(e)&&(t+=print_str("-")),t+=print_term(e);return t},sign_of_term=function(e){var t;return t="",car(e)===symbol(MULTIPLY)&&isNumericAtom(cadr(e))&&lessp(cadr(e),zero)||isNumericAtom(e)&&lessp(e,zero)?t+="-":t+="+",t},print_term=function(e){var t,r,i,n,o;if(t="",car(e)===symbol(MULTIPLY)&&any_denominators(e))return t+=print_a_over_b(e);if(car(e)===symbol(MULTIPLY)){for(e=cdr(e),isminusone(car(e))&&(e=cdr(e)),o=!1,isNumericAtom(car(e))&&(o=!0),i=!1,printMode===PRINTMODE_LATEX&&iscons(cdr(e))&&isNumberOneOverSomething(car(e))&&(i=!0,r=car(e).q.b.toString()),i?(n=t,t=""):t+=print_factor(car(e)),e=cdr(e);iscons(e);)printMode===PRINTMODE_LATEX&&o&&caar(e)===symbol(POWER)&&isNumericAtom(car(cdr(car(e))))&&(isfraction(car(cdr(cdr(car(e)))))||(t+=" \\cdot ")),t+=print_multiply_sign(),t+=print_factor(car(e),!1,!0),o=!1,isNumericAtom(car(e))&&(o=!0),e=cdr(e);i&&(t=n+"\\frac{"+t+"}{"+r+"}")}else t+=print_factor(e);return t},print_subexpr=function(e){var t;return t="",t+=print_char("("),t+=print_expr(e),t+=print_char(")")},print_factorial_function=function(e){var t;return t="",e=cadr(e),isfraction(e)||car(e)===symbol(ADD)||car(e)===symbol(MULTIPLY)||car(e)===symbol(POWER)||car(e)===symbol(FACTORIAL)?t+=print_subexpr(e):t+=print_expr(e),t+=print_char("!")},print_ABS_latex=function(e){var t;return t="",t+=print_str("\\left |"),t+=print_expr(cadr(e)),t+=print_str(" \\right |")},print_BINOMIAL_latex=function(e){var t;return t="",t+=print_str("\\binom{"),t+=print_expr(cadr(e)),t+=print_str("}{"),t+=print_expr(caddr(e)),t+=print_str("} ")},print_DOT_latex=function(e){var t;return t="",t+=print_expr(cadr(e)),t+=print_str(" \\cdot "),t+=print_expr(caddr(e))},print_DOT_codegen=function(e){var t;return t="dot(",t+=print_expr(cadr(e)),t+=", ",t+=print_expr(caddr(e)),t+=")"},print_SIN_codegen=function(e){var t;return t="Math.sin(",t+=print_expr(cadr(e)),t+=")"},print_COS_codegen=function(e){var t;return t="Math.cos(",t+=print_expr(cadr(e)),t+=")"},print_TAN_codegen=function(e){var t;return t="Math.tan(",t+=print_expr(cadr(e)),t+=")"},print_ARCSIN_codegen=function(e){var t;return t="Math.asin(",t+=print_expr(cadr(e)),t+=")"},print_ARCCOS_codegen=function(e){var t;return t="Math.acos(",t+=print_expr(cadr(e)),t+=")"},print_ARCTAN_codegen=function(e){var t;return t="Math.atan(",t+=print_expr(cadr(e)),t+=")"},print_SQRT_latex=function(e){var t;return t="",t+=print_str("\\sqrt{"),t+=print_expr(cadr(e)),t+=print_str("} ")},print_TRANSPOSE_latex=function(e){var t;return t="",t+=print_str("{"),iscons(cadr(e))&&(t+=print_str("(")),t+=print_expr(cadr(e)),iscons(cadr(e))&&(t+=print_str(")")),t+=print_str("}"),t+=print_str("^T")},print_TRANSPOSE_codegen=function(e){var t;return t="",t+=print_str("transpose("),t+=print_expr(cadr(e)),t+=print_str(")")},print_UNIT_codegen=function(e){var t;return t="",t+=print_str("identity("),t+=print_expr(cadr(e)),t+=print_str(")")},print_INV_latex=function(e){var t;return t="",t+=print_str("{"),iscons(cadr(e))&&(t+=print_str("(")),t+=print_expr(cadr(e)),iscons(cadr(e))&&(t+=print_str(")")),t+=print_str("}"),t+=print_str("^{-1}")},print_INV_codegen=function(e){var t;return t="",t+=print_str("inv("),t+=print_expr(cadr(e)),t+=print_str(")")},print_DEFINT_latex=function(e){var t,r,i,n,o,s,a,c,l;for(t="",r=car(cdr(e)),s=e=cdr(e),o=0;iscons(cdr(cdr(e)));)o++,c=cdr(cdr(e)),t+=print_str("\\int^{"),t+=print_expr(car(cdr(c))),t+=print_str("}_{"),t+=print_expr(car(c)),t+=print_str("} \\! "),e=cdr(c);for(t+=print_expr(r),t+=print_str(" \\,"),e=s,i=n=1,a=o;1<=a?n<=a:n>=a;i=1<=a?++n:--n)l=cdr(e),t+=print_str(" \\mathrm{d} "),t+=print_expr(car(l)),i<o&&(t+=print_str(" \\, ")),e=cdr(cdr(l));return t},print_tensor=function(e){var t;return t="",t+=print_tensor_inner(e,0,0)[1]},print_tensor_inner=function(e,t,r){var i,n,o,s,a,c,l;if(i="",i+=print_str("["),t<e.tensor.ndim-1)for(n=o=0,a=e.tensor.dim[t];0<=a?o<a:o>a;n=0<=a?++o:--o)[r,l]=print_tensor_inner(e,t+1,r),i+=l,n!==e.tensor.dim[t]-1&&(i+=print_str(","));else for(n=s=0,c=e.tensor.dim[t];0<=c?s<c:s>c;n=0<=c?++s:--s)i+=print_expr(e.tensor.elem[r]),n!==e.tensor.dim[t]-1&&(i+=print_str(",")),r++;return[r,i+=print_str("]")]},print_tensor_latex=function(e){var t;return t="",e.tensor.ndim<=2&&(t+=print_tensor_inner_latex(!0,e,0,0)[1]),t},print_tensor_inner_latex=function(e,t,r,i){var n,o,s,a,c,l,p;if(n="",e&&(n+="\\begin{bmatrix} "),r<t.tensor.ndim-1)for(o=s=0,c=t.tensor.dim[r];0<=c?s<c:s>c;o=0<=c?++s:--s)[i,p]=print_tensor_inner_latex(0,t,r+1,i),n+=p,o!==t.tensor.dim[r]-1&&(n+=print_str(" \\\\ "));else for(o=a=0,l=t.tensor.dim[r];0<=l?a<l:a>l;o=0<=l?++a:--a)n+=print_expr(t.tensor.elem[i]),o!==t.tensor.dim[r]-1&&(n+=print_str(" & ")),i++;return e&&(n+=" \\end{bmatrix}"),[i,n]},print_SUM_latex=function(e){var t;return t="\\sum_{",t+=print_expr(caddr(e)),t+="=",t+=print_expr(cadddr(e)),t+="}^{",t+=print_expr(caddddr(e)),t+="}{",t+=print_expr(cadr(e)),t+="}"},print_SUM_codegen=function(e){var t,r,i,n;return t=cadr(e),n=caddr(e),r=cadddr(e),i=caddddr(e),"(function(){ var "+n+";  var holderSum = 0;  var lowerlimit = "+print_expr(r)+";  var upperlimit = "+print_expr(i)+";  for ("+n+" = lowerlimit; "+n+" < upperlimit; "+n+"++) {    holderSum += "+print_expr(t)+"; }  return holderSum;})()"},print_TEST_latex=function(e){var t;for(t="\\left\\{ \\begin{array}{ll}",e=cdr(e);iscons(e);){if(cdr(e)===symbol(NIL)){t+="{",t+=print_expr(car(e)),t+="} & otherwise ",t+=" \\\\\\\\";break}t+="{",t+=print_expr(cadr(e)),t+="} & if & ",t+=print_expr(car(e)),t+=" \\\\\\\\",e=cddr(e)}return(t=t.substring(0,t.length-4))+"\\end{array} \\right."},print_TEST_codegen=function(e){var t,r;for(t="(function(){",e=cdr(e),r=0;iscons(e);){if(cdr(e)===symbol(NIL)){t+="else {",t+="return ("+print_expr(car(e))+");",t+="}";break}r&&(t+=" else "),t+="if ("+print_expr(car(e))+"){",t+="return ("+print_expr(cadr(e))+");",t+="}",r++,e=cddr(e)}return t+="})()"},print_TESTLT_latex=function(e){var t;return t="{",t+=print_expr(cadr(e)),t+="}",t+=" < ",t+="{",(t+=print_expr(caddr(e)))+"}"},print_TESTLE_latex=function(e){var t;return t="{",t+=print_expr(cadr(e)),t+="}",t+=" \\leq ",t+="{",(t+=print_expr(caddr(e)))+"}"},print_TESTGT_latex=function(e){var t;return t="{",t+=print_expr(cadr(e)),t+="}",t+=" > ",t+="{",(t+=print_expr(caddr(e)))+"}"},print_TESTGE_latex=function(e){var t;return t="{",t+=print_expr(cadr(e)),t+="}",t+=" \\geq ",t+="{",(t+=print_expr(caddr(e)))+"}"},print_TESTEQ_latex=function(e){var t;return t="{",t+=print_expr(cadr(e)),t+="}",t+=" = ",t+="{",(t+=print_expr(caddr(e)))+"}"},print_FOR_codegen=function(e){var t,r,i,n;return t=cadr(e),n=caddr(e),r=cadddr(e),i=caddddr(e),"(function(){ var "+n+";  var lowerlimit = "+print_expr(r)+";  var upperlimit = "+print_expr(i)+";  for ("+n+" = lowerlimit; "+n+" < upperlimit; "+n+"++) {    "+print_expr(t)+" } })()"},print_DO_codegen=function(e){var t;for(t="",e=cdr(e);iscons(e);)t+=print_expr(car(e)),e=cdr(e);return t},print_SETQ_codegen=function(e){var t;return t="",t+=print_expr(cadr(e)),t+=" = ",t+=print_expr(caddr(e)),t+="; "},print_PRODUCT_latex=function(e){var t;return t="\\prod_{",t+=print_expr(caddr(e)),t+="=",t+=print_expr(cadddr(e)),t+="}^{",t+=print_expr(caddddr(e)),t+="}{",t+=print_expr(cadr(e)),t+="}"},print_PRODUCT_codegen=function(e){var t,r,i,n;return t=cadr(e),n=caddr(e),r=cadddr(e),i=caddddr(e),"(function(){ var "+n+";  var holderProduct = 1;  var lowerlimit = "+print_expr(r)+";  var upperlimit = "+print_expr(i)+";  for ("+n+" = lowerlimit; "+n+" < upperlimit; "+n+"++) {    holderProduct *= "+print_expr(t)+"; }  return holderProduct;})()"},print_base=function(e){var t;return t="",isadd(cadr(e))||caadr(e)===symbol(MULTIPLY)||caadr(e)===symbol(POWER)||isnegativenumber(cadr(e))?(t+=print_str("("),t+=print_expr(cadr(e)),t+=print_str(")")):isNumericAtom(cadr(e))&&(lessp(cadr(e),zero)||isfraction(cadr(e)))?(t+=print_str("("),t+=print_factor(cadr(e)),t+=print_str(")")):t+=print_factor(cadr(e)),t},print_exponent=function(e){var t;return t="",iscons(caddr(e))||isfraction(caddr(e))||isNumericAtom(caddr(e))&&lessp(caddr(e),zero)?(t+=print_str("("),t+=print_expr(caddr(e)),t+=print_str(")")):t+=print_factor(caddr(e)),t},print_power=function(e,t){var r,i,n,o;if(r="",DEBUG&&console.log("power base: "+e+"  exponent: "+t),isoneovertwo(t))if(equaln(e,2)){if(codeGen)return r+=print_str("Math.SQRT2")}else{if(printMode===PRINTMODE_LATEX)return r+=print_str("\\sqrt{"),r+=print_expr(e),r+=print_str("}");if(codeGen)return r+=print_str("Math.sqrt("),r+=print_expr(e),r+=print_str(")")}if(equaln(get_binding(symbol(PRINT_LEAVE_E_ALONE)),1)&&e===symbol(E))return codeGen?(r+=print_str("Math.exp("),r+=print_expo_of_denom(t),r+=print_str(")")):(printMode===PRINTMODE_LATEX?(r+=print_str("e^{"),r+=print_expr(t),r+=print_str("}")):(r+=print_str("exp("),r+=print_expr(t),r+=print_str(")")),r);if(codeGen)return r+=print_str("Math.pow("),r+=print_base_of_denom(e),r+=print_str(", "),r+=print_expo_of_denom(t),r+=print_str(")");if(equaln(get_binding(symbol(PRINT_LEAVE_X_ALONE)),0)||"x"!==e.printname){if(e!==symbol(E)){if(isminusone(t))return r+=print_str(printMode===PRINTMODE_LATEX?"\\frac{1}{":printMode!==PRINTMODE_HUMAN||test_flag?"1/":"1 / "),iscons(e)&&printMode!==PRINTMODE_LATEX?(r+=print_str("("),r+=print_expr(e),r+=print_str(")")):r+=print_expr(e),printMode===PRINTMODE_LATEX&&(r+=print_str("}")),r;if(isnegativeterm(t))return r+=print_str(printMode===PRINTMODE_LATEX?"\\frac{1}{":printMode!==PRINTMODE_HUMAN||test_flag?"1/":"1 / "),push(t),push_integer(-1),multiply(),n=pop(),iscons(e)&&printMode!==PRINTMODE_LATEX?(r+=print_str("("),r+=print_power(e,n),r+=print_str(")")):r+=print_power(e,n),printMode===PRINTMODE_LATEX&&(r+=print_str("}")),r}if(isfraction(t)&&printMode===PRINTMODE_LATEX)return r+=print_str("\\sqrt"),push(t),denominator(),i=pop(),isplustwo(i)||(r+=print_str("["),r+=print_expr(i),r+=print_str("]")),r+=print_str("{"),push(t),numerator(),o=pop(),r+=print_power(e,t=o),r+=print_str("}")}return printMode===PRINTMODE_LATEX&&isplusone(t)?r+=print_expr(e):(isadd(e)||isnegativenumber(e)?(r+=print_str("("),r+=print_expr(e),r+=print_str(")")):car(e)===symbol(MULTIPLY)||car(e)===symbol(POWER)?(printMode!==PRINTMODE_LATEX&&(r+=print_str("(")),r+=print_factor(e,!0),printMode!==PRINTMODE_LATEX&&(r+=print_str(")"))):isNumericAtom(e)&&(lessp(e,zero)||isfraction(e))?(r+=print_str("("),r+=print_factor(e),r+=print_str(")")):r+=print_factor(e),r+=print_str(printMode!==PRINTMODE_HUMAN||test_flag?"^":power_str),printMode===PRINTMODE_LATEX?print_expr(t).length>1?(r+=print_str("{"),r+=print_expr(t),r+=print_str("}")):r+=print_expr(t):iscons(t)||isfraction(t)||isNumericAtom(t)&&lessp(t,zero)?(r+=print_str("("),r+=print_expr(t),r+=print_str(")")):r+=print_factor(t)),r},print_index_function=function(e){var t;if(t="",e=cdr(e),caar(e)===symbol(ADD)||caar(e)===symbol(MULTIPLY)||caar(e)===symbol(POWER)||caar(e)===symbol(FACTORIAL)?t+=print_subexpr(car(e)):t+=print_expr(car(e)),t+=print_str("["),e=cdr(e),iscons(e))for(t+=print_expr(car(e)),e=cdr(e);iscons(e);)t+=print_str(","),t+=print_expr(car(e)),e=cdr(e);return t+=print_str("]")},print_factor=function(e,t,r){var i,n,o,s,a;if(i="",isNumericAtom(e))return r&&lessp(e,zero)&&(i+="("),i+=print_number(e,r),r&&lessp(e,zero)&&(i+=")"),i;if(isstr(e))return i+=print_str('"'),i+=print_str(e.str),i+=print_str('"');if(istensor(e))return i+=printMode===PRINTMODE_LATEX?print_tensor_latex(e):print_tensor(e);if(car(e)===symbol(MULTIPLY))return t||"-"!==sign_of_term(e)&&printMode===PRINTMODE_LATEX||(i+=print_str(printMode===PRINTMODE_LATEX?" \\left (":"(")),i+=print_expr(e),t||"-"!==sign_of_term(e)&&printMode===PRINTMODE_LATEX||(i+=print_str(printMode===PRINTMODE_LATEX?" \\right ) ":")")),i;if(isadd(e))return t||(i+=print_str("(")),i+=print_expr(e),t||(i+=print_str(")")),i;if(car(e)===symbol(POWER))return n=cadr(e),o=caddr(e),i+=print_power(n,o);if(car(e)===symbol(FUNCTION))return s=cadr(e),codeGen||(a=caddr(e),i+=print_str("function "),DEBUG&&console.log("emittedString from print_factor "+stringsEmittedByUserPrintouts),i+=print_list(a),i+=print_str(" -> ")),i+=print_expr(s);if(car(e)===symbol(PATTERN))return i+=print_expr(caadr(e)),i+=print_str(printMode===PRINTMODE_LATEX?" \\rightarrow ":printMode!==PRINTMODE_HUMAN||test_flag?"->":" -> "),i+=print_expr(car(cdr(cadr(e))));if(car(e)===symbol(INDEX)&&issymbol(cadr(e)))return i+=print_index_function(e);if(car(e)===symbol(FACTORIAL))return i+=print_factorial_function(e);if(car(e)===symbol(ABS)&&printMode===PRINTMODE_LATEX)return i+=print_ABS_latex(e);if(car(e)===symbol(SQRT)&&printMode===PRINTMODE_LATEX)return i+=print_SQRT_latex(e);if(car(e)===symbol(TRANSPOSE)){if(printMode===PRINTMODE_LATEX)return i+=print_TRANSPOSE_latex(e);if(codeGen)return i+=print_TRANSPOSE_codegen(e)}else if(car(e)===symbol(UNIT)){if(codeGen)return i+=print_UNIT_codegen(e)}else if(car(e)===symbol(INV)){if(printMode===PRINTMODE_LATEX)return i+=print_INV_latex(e);if(codeGen)return i+=print_INV_codegen(e)}else{if(car(e)===symbol(BINOMIAL)&&printMode===PRINTMODE_LATEX)return i+=print_BINOMIAL_latex(e);if(car(e)===symbol(DEFINT)&&printMode===PRINTMODE_LATEX)return i+=print_DEFINT_latex(e);if(isinnerordot(e)){if(printMode===PRINTMODE_LATEX)return i+=print_DOT_latex(e);if(codeGen)return i+=print_DOT_codegen(e)}else if(car(e)===symbol(SIN)){if(codeGen)return i+=print_SIN_codegen(e)}else if(car(e)===symbol(COS)){if(codeGen)return i+=print_COS_codegen(e)}else if(car(e)===symbol(TAN)){if(codeGen)return i+=print_TAN_codegen(e)}else if(car(e)===symbol(ARCSIN)){if(codeGen)return i+=print_ARCSIN_codegen(e)}else if(car(e)===symbol(ARCCOS)){if(codeGen)return i+=print_ARCCOS_codegen(e)}else if(car(e)===symbol(ARCTAN)){if(codeGen)return i+=print_ARCTAN_codegen(e)}else if(car(e)===symbol(SUM)){if(printMode===PRINTMODE_LATEX)return i+=print_SUM_latex(e);if(codeGen)return i+=print_SUM_codegen(e)}else if(car(e)===symbol(PRODUCT)){if(printMode===PRINTMODE_LATEX)return i+=print_PRODUCT_latex(e);if(codeGen)return i+=print_PRODUCT_codegen(e)}else if(car(e)===symbol(FOR)){if(codeGen)return i+=print_FOR_codegen(e)}else if(car(e)===symbol(DO)){if(codeGen)return i+=print_DO_codegen(e)}else if(car(e)===symbol(TEST)){if(codeGen)return i+=print_TEST_codegen(e);if(printMode===PRINTMODE_LATEX)return i+=print_TEST_latex(e)}else if(car(e)===symbol(TESTLT)){if(codeGen)return i+="(("+print_expr(cadr(e))+") < ("+print_expr(caddr(e))+"))";if(printMode===PRINTMODE_LATEX)return i+=print_TESTLT_latex(e)}else if(car(e)===symbol(TESTLE)){if(codeGen)return i+="(("+print_expr(cadr(e))+") <= ("+print_expr(caddr(e))+"))";if(printMode===PRINTMODE_LATEX)return i+=print_TESTLE_latex(e)}else if(car(e)===symbol(TESTGT)){if(codeGen)return i+="(("+print_expr(cadr(e))+") > ("+print_expr(caddr(e))+"))";if(printMode===PRINTMODE_LATEX)return i+=print_TESTGT_latex(e)}else if(car(e)===symbol(TESTGE)){if(codeGen)return i+="(("+print_expr(cadr(e))+") >= ("+print_expr(caddr(e))+"))";if(printMode===PRINTMODE_LATEX)return i+=print_TESTGE_latex(e)}else if(car(e)===symbol(TESTEQ)){if(codeGen)return i+="(("+print_expr(cadr(e))+") === ("+print_expr(caddr(e))+"))";if(printMode===PRINTMODE_LATEX)return i+=print_TESTEQ_latex(e)}else if(car(e)===symbol(FLOOR)){if(codeGen)return i+="Math.floor("+print_expr(cadr(e))+")";if(printMode===PRINTMODE_LATEX)return i+=" \\lfloor {"+print_expr(cadr(e))+"} \\rfloor "}else if(car(e)===symbol(CEILING)){if(codeGen)return i+="Math.ceiling("+print_expr(cadr(e))+")";if(printMode===PRINTMODE_LATEX)return i+=" \\lceil {"+print_expr(cadr(e))+"} \\rceil "}else if(car(e)===symbol(ROUND)){if(codeGen)return i+="Math.round("+print_expr(cadr(e))+")"}else if(car(e)===symbol(SETQ))return codeGen?i+=print_SETQ_codegen(e):(i+=print_expr(cadr(e)),i+=print_str("="),i+=print_expr(caddr(e)))}if(iscons(e)){if(i+=print_factor(car(e)),e=cdr(e),t||(i+=print_str("(")),iscons(e))for(i+=print_expr(car(e)),e=cdr(e);iscons(e);)i+=print_str(","),i+=print_expr(car(e)),e=cdr(e);return t||(i+=print_str(")")),i}return e===symbol(DERIVATIVE)?i+=print_char("d"):e===symbol(E)?i+=print_str(codeGen?"Math.E":"e"):e===symbol(PI)?i+=print_str(printMode===PRINTMODE_LATEX?"\\pi":"pi"):i+=print_str(get_printname(e)),i},print_list=function(e){var t;switch(t="",e.k){case CONS:for(t+="(",t+=print_list(car(e)),e===cdr(e)&&e!==symbol(NIL)&&console.log("oh no recursive!"),e=cdr(e);iscons(e);)t+=" ",t+=print_list(car(e)),(e=cdr(e))===cdr(e)&&e!==symbol(NIL)&&console.log("oh no recursive!");e!==symbol(NIL)&&(t+=" . ",t+=print_list(e)),t+=")";break;case STR:t+=e.str;break;case NUM:case DOUBLE:t+=print_number(e,!0);break;case SYM:t+=get_printname(e);break;default:t+="<tensor>"}return t},print_multiply_sign=function(){var e;if(e="",printMode===PRINTMODE_LATEX){if(printMode!==PRINTMODE_HUMAN||test_flag)return e;e+=print_str(" ")}return e+=print_str(printMode!==PRINTMODE_HUMAN||test_flag||codeGen?"*":" ")},is_denominator=function(e){return car(e)===symbol(POWER)&&cadr(e)!==symbol(E)&&isnegativeterm(caddr(e))?1:0},any_denominators=function(e){var t;for(e=cdr(e);iscons(e);){if(t=car(e),is_denominator(t))return 1;e=cdr(e)}return 0},YMAX=1e4,glyph=function(){class e{}return e.prototype.c=0,e.prototype.x=0,e.prototype.y=0,e}.call(this),chartab=[],charTabIndex=i1=0,ref1=YMAX;0<=ref1?i1<ref1:i1>ref1;charTabIndex=0<=ref1?++i1:--i1)chartab[charTabIndex]=new glyph;for(yindex=0,level=0,emit_x=0,expr_level=0,display_flag=0,printchar_nowrap=function(e){var t;return t="",t+=e},printchar=function(e){return printchar_nowrap(e)},print2dascii=function(e){var t,r,i,n;return r=0,i=0,n=0,save(),yindex=0,level=0,emit_x=0,emit_top_expr(e),[r,i,n]=get_size(0,yindex),i>100?(printline(e),void restore()):(t=print_glyphs(),restore(),t)},emit_top_expr=function(e){return car(e)===symbol(SETQ)?(emit_expr(cadr(e)),__emit_str(" = "),void emit_expr(caddr(e))):istensor(e)?emit_tensor(e):emit_expr(e)},will_be_displayed_as_fraction=function(e){if(level>0)return 0;if(isfraction(e))return 1;if(car(e)!==symbol(MULTIPLY))return 0;if(isfraction(cadr(e)))return 1;for(;iscons(e);){if(isdenominator(car(e)))return 1;e=cdr(e)}return 0},emit_expr=function(e){if(expr_level++,car(e)===symbol(ADD))for(e=cdr(e),__is_negative(car(e))&&(__emit_char("-"),will_be_displayed_as_fraction(car(e))&&__emit_char(" ")),emit_term(car(e)),e=cdr(e);iscons(e);)__is_negative(car(e))?(__emit_char(" "),__emit_char("-"),__emit_char(" ")):(__emit_char(" "),__emit_char("+"),__emit_char(" ")),emit_term(car(e)),e=cdr(e);else __is_negative(e)&&(__emit_char("-"),will_be_displayed_as_fraction(e)&&__emit_char(" ")),emit_term(e);return expr_level--},emit_unsigned_expr=function(e){var t;if(car(e)===symbol(ADD)){for(e=cdr(e),emit_term(car(e)),e=cdr(e),t=[];iscons(e);)__is_negative(car(e))?(__emit_char(" "),__emit_char("-"),__emit_char(" ")):(__emit_char(" "),__emit_char("+"),__emit_char(" ")),emit_term(car(e)),t.push(e=cdr(e));return t}return emit_term(e)},__is_negative=function(e){return isnegativenumber(e)||car(e)===symbol(MULTIPLY)&&isnegativenumber(cadr(e))?1:0},emit_term=function(e){var t;return car(e)===symbol(MULTIPLY)?(t=count_denominators(e))&&0===level?emit_fraction(e,t):emit_multiply(e,t):emit_factor(e)},isdenominator=function(e){return car(e)===symbol(POWER)&&cadr(e)!==symbol(E)&&__is_negative(caddr(e))?1:0},count_denominators=function(e){var t,r;for(t=0,e=cdr(e);iscons(e);)r=car(e),isdenominator(r)&&t++,e=cdr(e);return t},emit_multiply=function(e,t){var r;if(0===t){for(e=cdr(e),(isplusone(car(e))||isminusone(car(e)))&&(e=cdr(e)),emit_factor(car(e)),e=cdr(e),r=[];iscons(e);)__emit_char(" "),emit_factor(car(e)),r.push(e=cdr(e));return r}return emit_numerators(e),__emit_char("/"),t>1||isfraction(cadr(e))?(__emit_char("("),emit_denominators(e),__emit_char(")")):emit_denominators(e)},emit_fraction=function(e,t){var r,i,n,o,s;for(r=0,0,0,o=0,0,save(),p3=one,p4=one,isrational(cadr(e))&&(push(cadr(e)),mp_numerator(),absval(),p3=pop(),push(cadr(e)),mp_denominator(),p4=pop()),isdouble(cadr(e))&&(push(cadr(e)),absval(),p3=pop()),o=isplusone(p3)?0:1,p1=cdr(e),isNumericAtom(car(p1))&&(p1=cdr(p1));iscons(p1);)p2=car(p1),isdenominator(p2)?1:o++,p1=cdr(p1);for(s=emit_x,i=yindex,r=0,isplusone(p3)||(emit_number(p3,0),r++),p1=cdr(e),isNumericAtom(car(p1))&&(p1=cdr(p1));iscons(p1);)p2=car(p1),isdenominator(p2)?1:(r>0&&__emit_char(" "),1===o?emit_expr(p2):emit_factor(p2),r++),p1=cdr(p1);for(0===r&&__emit_char("1"),n=yindex,r=0,isplusone(p4)||(emit_number(p4,0),r++,t++),p1=cdr(e),isrational(car(p1))&&(p1=cdr(p1));iscons(p1);)p2=car(p1),isdenominator(p2)&&(r>0&&__emit_char(" "),emit_denominator(p2,t),r++),p1=cdr(p1);return fixup_fraction(s,i,n),restore()},emit_numerators=function(e){var t;for(save(),t=0,p1=one,e=cdr(e),isrational(car(e))?(push(car(e)),mp_numerator(),absval(),p1=pop(),e=cdr(e)):isdouble(car(e))&&(push(car(e)),absval(),p1=pop(),e=cdr(e)),t=0,isplusone(p1)||(emit_number(p1,0),t++);iscons(e);)isdenominator(car(e))?1:(t>0&&__emit_char(" "),emit_factor(car(e)),t++),e=cdr(e);return 0===t&&__emit_char("1"),restore()},emit_denominators=function(e){var t;for(save(),t=0,e=cdr(e),isfraction(car(e))&&(push(car(e)),mp_denominator(),p1=pop(),emit_number(p1,0),t++,e=cdr(e));iscons(e);)isdenominator(car(e))&&(t>0&&__emit_char(" "),emit_denominator(car(e),0),t++),e=cdr(e);return restore()},emit_factor=function(e){istensor(e)?emit_flat_tensor(e):isdouble(e)?emit_number(e,0):car(e)!==symbol(ADD)&&car(e)!==symbol(MULTIPLY)?car(e)!==symbol(POWER)?iscons(e)?emit_function(e):isNumericAtom(e)?0===level?emit_numerical_fraction(e):emit_number(e,0):issymbol(e)?emit_symbol(e):isstr(e)&&emit_string(e):emit_power(e):emit_subexpr(e)},emit_numerical_fraction=function(e){var t,r,i;return 0,0,0,save(),push(e),mp_numerator(),absval(),p3=pop(),push(e),mp_denominator(),p4=pop(),isplusone(p4)?(emit_number(p3,0),void restore()):(i=emit_x,t=yindex,emit_number(p3,0),r=yindex,emit_number(p4,0),fixup_fraction(i,t,r),restore())},isfactor=function(e){return iscons(e)&&car(e)!==symbol(ADD)&&car(e)!==symbol(MULTIPLY)&&car(e)!==symbol(POWER)||issymbol(e)?1:isfraction(e)||isnegativenumber(e)?0:isNumericAtom(e)?1:0},emit_power=function(e){var t,r,i;return t=0,r=0,i=0,cadr(e)===symbol(E)?(__emit_str("exp("),emit_expr(caddr(e)),void __emit_char(")")):level>0?void(isminusone(caddr(e))?(__emit_char("1"),__emit_char("/"),isfactor(cadr(e))?emit_factor(cadr(e)):emit_subexpr(cadr(e))):(isfactor(cadr(e))?emit_factor(cadr(e)):emit_subexpr(cadr(e)),__emit_char("^"),isfactor(caddr(e))?emit_factor(caddr(e)):emit_subexpr(caddr(e)))):__is_negative(caddr(e))?(i=emit_x,t=yindex,__emit_char("1"),r=yindex,emit_denominator(e,1),void fixup_fraction(i,t,r)):(t=yindex,isfactor(cadr(e))?emit_factor(cadr(e)):emit_subexpr(cadr(e)),r=yindex,level++,emit_expr(caddr(e)),level--,fixup_power(t,r))},emit_denominator=function(e,t){var r,i;if(0,0,!isminusone(caddr(e)))return r=yindex,isfactor(cadr(e))?emit_factor(cadr(e)):emit_subexpr(cadr(e)),i=yindex,level++,emit_unsigned_expr(caddr(e)),level--,fixup_power(r,i);1===t?emit_expr(cadr(e)):emit_factor(cadr(e))},emit_function=function(e){if(car(e)===symbol(INDEX)&&issymbol(cadr(e)))emit_index_function(e);else{if(car(e)!==symbol(FACTORIAL)){if(car(e)===symbol(DERIVATIVE)?__emit_char("d"):emit_symbol(car(e)),__emit_char("("),e=cdr(e),iscons(e))for(emit_expr(car(e)),e=cdr(e);iscons(e);)__emit_char(","),emit_expr(car(e)),e=cdr(e);return __emit_char(")")}emit_factorial_function(e)}},emit_index_function=function(e){if(e=cdr(e),caar(e)===symbol(ADD)||caar(e)===symbol(MULTIPLY)||caar(e)===symbol(POWER)||caar(e)===symbol(FACTORIAL)?emit_subexpr(car(e)):emit_expr(car(e)),__emit_char("["),e=cdr(e),iscons(e))for(emit_expr(car(e)),e=cdr(e);iscons(e);)__emit_char(","),emit_expr(car(e)),e=cdr(e);return __emit_char("]")},emit_factorial_function=function(e){return e=cadr(e),isfraction(e)||car(e)===symbol(ADD)||car(e)===symbol(MULTIPLY)||car(e)===symbol(POWER)||car(e)===symbol(FACTORIAL)?emit_subexpr(e):emit_expr(e),__emit_char("!")},emit_subexpr=function(e){return __emit_char("("),emit_expr(e),__emit_char(")")},emit_symbol=function(e){var t,r,i,n,o;if(t=0,e!==symbol(E)){for(o=[],t=r=0,n=(i=get_printname(e)).length;0<=n?r<n:r>n;t=0<=n?++r:--r)o.push(__emit_char(i[t]));return o}__emit_str("exp(1)")},emit_string=function(e){var t,r,i,n;for(t=0,i=e.str,__emit_char('"'),t=r=0,n=i.length;0<=n?r<n:r>n;t=0<=n?++r:--r)__emit_char(i[t]);return __emit_char('"')},fixup_fraction=function(e,t,r){var i,n,o,s,a,c,l,p,u,f,d;for(i=0,0,0,l=0,0,n=0,p=0,f=0,o=0,u=0,d=0,[n,p,f]=get_size(t,r),[o,u,d]=get_size(r,yindex),i=u>p?(u-p)/2:0,i++,move(t,r,i,-(f+n-1)-1),i=u>p?-p:(p-u)/2-p,i++,move(r,yindex,i,1-d),l=u>p?u:p,emit_x=e,c=[],s=0,a=l+=2;0<=a?s<a:s>a;0<=a?++s:--s)c.push(__emit_char("-"));return c},fixup_power=function(e,t){var r,i,n,o,s,a,c;return r=0,i=0,o=0,a=0,n=0,s=0,c=0,[i,o,a]=get_size(e,t),[n,s,c]=get_size(t,yindex),r=-c-n+1,move(t,yindex,0,r+=a-1)},move=function(e,t,r,i){var n,o,s,a,c;for(n=0,c=[],n=o=s=e,a=t;s<=a?o<a:o>a;n=s<=a?++o:--o)chartab[n].x+=r,c.push(chartab[n].y+=i);return c},get_size=function(e,t){var r,i,n,o,s,a,c,l;for(r=0,s=chartab[e].x,n=chartab[e].x,a=chartab[e].y,o=chartab[e].y,r=i=c=e+1,l=t;c<=l?i<l:i>l;r=c<=l?++i:--i)chartab[r].x<s&&(s=chartab[r].x),chartab[r].x>n&&(n=chartab[r].x),chartab[r].y<a&&(a=chartab[r].y),chartab[r].y>o&&(o=chartab[r].y);return[o-a+1,n-s+1,a]},displaychar=function(e){return __emit_char(e)},__emit_char=function(e){if(yindex!==YMAX)return chartab[yindex],chartab[yindex].c=e,chartab[yindex].x=emit_x,chartab[yindex].y=0,yindex++,emit_x++},__emit_str=function(e){var t,r,i,n;for(t=0,n=[],t=r=0,i=e.length;0<=i?r<i:r>i;t=0<=i?++r:--r)n.push(__emit_char(e[t]));return n},emit_number=function(e,t){var r,i,n,o,s,a,c,l,p,u;switch(u="",r=0,e.k){case NUM:for("-"===(u=e.q.a.toString())[0]&&0===t&&(u=u.substring(1)),r=i=0,s=u.length;0<=s?i<s:i>s;r=0<=s?++i:--i)__emit_char(u[r]);if("1"===(u=e.q.b.toString()))break;for(__emit_char("/"),l=[],r=n=0,a=u.length;0<=a?n<a:n>a;r=0<=a?++n:--n)l.push(__emit_char(u[r]));return l;case DOUBLE:for("-"===(u=doubleToReasonableString(e.d))[0]&&0===t&&(u=u.substring(1)),p=[],r=o=0,c=u.length;0<=c?o<c:o>c;r=0<=c?++o:--o)p.push(__emit_char(u[r]));return p}},cmpGlyphs=function(e,t){return e.y<t.y?-1:e.y>t.y?1:e.x<t.x?-1:e.x>t.x?1:0},print_glyphs=function(){var e,t,r,i,n,o,s;for(t=0,e="",(n=chartab.slice(0,yindex)).sort(cmpGlyphs),o=0,s=(chartab=[].concat(n).concat(chartab.slice(yindex)))[0].y,t=r=0,i=yindex;0<=i?r<i:r>i;t=0<=i?++r:--r){for(;chartab[t].y>s;)e+=printchar("\n"),o=0,s++;for(;chartab[t].x>o;)e+=printchar_nowrap(" "),o++;e+=printchar_nowrap(chartab[t].c),o++}return e},buffer="",getdisplaystr=function(){return yindex=0,level=0,emit_x=0,emit_expr(pop()),fill_buf(),buffer},fill_buf=function(){var e,t,r,i,n,o,s,a;for(o=buffer,i=0,e=0,(n=chartab.slice(0,yindex)).sort(cmpGlyphs),s=0,a=(chartab=[].concat(n).concat(chartab.slice(yindex)))[0].y,e=t=0,r=yindex;0<=r?t<r:t>r;e=0<=r?++t:--t){for(;chartab[e].y>a;)o[i++]="\n",s=0,a++;for(;chartab[e].x>s;)o[i++]=" ",s++;o[i++]=chartab[e].c,s++}return o[i++]="\n"},N=100,oneElement=function(){class e{}return e.prototype.x=0,e.prototype.y=0,e.prototype.h=0,e.prototype.w=0,e.prototype.index=0,e.prototype.count=0,e}.call(this),elem=[],elelmIndex=j1=0;j1<1e4;elelmIndex=++j1)elem[elelmIndex]=new oneElement;SPACE_BETWEEN_COLUMNS=3,SPACE_BETWEEN_ROWS=1,emit_tensor=function(e){var t,r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g,x,v,y;if(s=0,0,0,u=0,0,0,0,0,r=0,i=0,n=0,o=0,g=0,t=0,e.tensor.ndim>2)emit_flat_tensor(e);else{if(!((l=(f=e.tensor.dim[0])*(u=2===e.tensor.ndim?e.tensor.dim[1]:1))>N)){for(v=emit_x,s=a=0,h=l;0<=h?a<h:a>h;s=0<=h?++a:--a)elem[s].index=yindex,elem[s].x=emit_x,emit_expr(e.tensor.elem[s]),elem[s].count=yindex-elem[s].index,[elem[s].h,elem[s].w,elem[s].y]=get_size(elem[s].index,yindex);for(n=0,o=0,s=c=0,b=l;0<=b?c<b:c>b;s=0<=b?++c:--c)elem[s].h>n&&(n=elem[s].h),elem[s].w>o&&(o=elem[s].w);for(x=u*o+(u-1)*SPACE_BETWEEN_COLUMNS,y=-(f*n+(f-1)*SPACE_BETWEEN_ROWS)/2,g=p=0,$=f;0<=$?p<$:p>$;g=0<=$?++p:--p)for(t=d=0,m=u;0<=m?d<m:d>m;t=0<=m?++d:--d)r=v-elem[s=g*u+t].x,i=y-elem[s].y,move(elem[s].index,elem[s].index+elem[s].count,r,i),r=0,t>0&&(r=t*(o+SPACE_BETWEEN_COLUMNS)),i=0,g>0&&(i=g*(n+SPACE_BETWEEN_ROWS)),r+=(o-elem[s].w)/2,i+=(n-elem[s].h)/2,move(elem[s].index,elem[s].index+elem[s].count,r,i);return emit_x=v+x}emit_flat_tensor(e)}},emit_flat_tensor=function(e){return emit_tensor_inner(e,0,0)},emit_tensor_inner=function(e,t,r){var i,n,o;for(i=0,__emit_char("("),i=n=0,o=e.tensor.dim[t];0<=o?n<o:n>o;i=0<=o?++n:--n)t+1===e.tensor.ndim?(emit_expr(e.tensor.elem[r]),r+=1):r=emit_tensor_inner(e,t+1,r),i+1<e.tensor.dim[t]&&__emit_char(",");return __emit_char(")"),r},Eval_product=function(){var e,t,r,i,n,o,s,a,c;if(t=0,0,0,e=cadr(p1),r=caddr(p1),issymbol(r)||stop("sum: 2nd arg?"),push(cadddr(p1)),Eval(),i=pop_integer(),isNaN(i))push(p1);else{if(push(caddddr(p1)),Eval(),n=pop_integer(),!isNaN(n)){for(s=get_binding(r),push_integer(1),t=o=a=i,c=n;a<=c?o<=c:o>=c;t=a<=c?++o:--o)push_integer(t),p5=pop(),set_binding(r,p5),push(e),Eval(),DEBUG&&(console.log("product - factor 1: "+stack[tos-1].toString()),console.log("product - factor 2: "+stack[tos-2].toString())),multiply(),DEBUG&&console.log("product - result: "+stack[tos-1].toString());return set_binding(r,s)}push(p1)}},qadd=function(){var e,t,r,i,n,o,s,a;if(o=pop(),n=pop(),t=mmul(n.q.a,o.q.b),r=mmul(n.q.b,o.q.a),s=madd(t,r),!MZERO(s))return i=mmul(n.q.b,o.q.b),e=mgcd(s,i),e=makeSignSameAs(e,i),(a=new U).k=NUM,a.q.a=mdiv(s,e),a.q.b=mdiv(i,e),push(a);push(zero)},qdiv=function(){var e,t,r;return save(),p2=pop(),p1=pop(),MZERO(p2.q.a)&&stop("divide by zero"),MZERO(p1.q.a)?(push(zero),void restore()):(e=mmul(p1.q.a,p2.q.b),t=mmul(p1.q.b,p2.q.a),r=mgcd(e,t),r=makeSignSameAs(r,t),(p1=new U).k=NUM,p1.q.a=mdiv(e,r),p1.q.b=mdiv(t,r),push(p1),restore())},qmul=function(){var e,t,r;return save(),p2=pop(),p1=pop(),MZERO(p1.q.a)||MZERO(p2.q.a)?(push(zero),void restore()):(e=mmul(p1.q.a,p2.q.a),t=mmul(p1.q.b,p2.q.b),r=mgcd(e,t),r=makeSignSameAs(r,t),(p1=new U).k=NUM,p1.q.a=mdiv(e,r),p1.q.b=mdiv(t,r),push(p1),restore())},qpow=function(){return save(),qpowf(),restore()},qpowf=function(){var e,t,r,i,n,o;if(r=0,p2=pop(),p1=pop(),isplusone(p1)||isZeroAtomOrTensor(p2))push_integer(1);else if(isminusone(p1)&&isoneovertwo(p2))push(imaginaryunit);else{if(isZeroAtomOrTensor(p1))return isnegativenumber(p2)&&stop("divide by zero"),void push(zero);if(!isplusone(p2))return isinteger(p2)?(push(p2),r=pop_integer(),isNaN(r)?(push_symbol(POWER),push(p1),push(p2),void list(3)):(n=mpow(p1.q.a,Math.abs(r)),o=mpow(p1.q.b,Math.abs(r)),r<0&&(i=n,n=makeSignSameAs(n=o,o=i),o=makePositive(o)),(p3=new U).k=NUM,p3.q.a=n,p3.q.b=o,void push(p3))):isminusone(p1)?(push(p2),void normalize_angle()):isnegativenumber(p1)?(push(p1),negate(),push(p2),qpow(),push_integer(-1),push(p2),qpow(),void multiply()):isinteger(p1)?is_small_integer(p1)?(push(p1),push(p2),void quickfactor()):isSmall(p2.q.a)&&isSmall(p2.q.b)?(e=p2.q.a,t=p2.q.b,0===(n=mroot(p1.q.a,t))?(push_symbol(POWER),push(p1),push(p2),void list(3)):(o=mpow(n,e),(p3=new U).k=NUM,p2.q.a.isNegative()?(p3.q.a=bigInt(1),p3.q.b=o):(p3.q.a=o,p3.q.b=bigInt(1)),push(p3))):(push_symbol(POWER),push(p1),push(p2),void list(3)):(push(p1),mp_numerator(),push(p2),qpow(),push(p1),mp_denominator(),push(p2),negate(),qpow(),void multiply());push(p1)}},normalize_angle=function(){return save(),p1=pop(),isinteger(p1)?(p1.q.a.isOdd()?push_integer(-1):push_integer(1),void restore()):(push(p1),bignum_truncate(),p2=pop(),isnegativenumber(p1)&&(push(p2),push_integer(-1),add(),p2=pop()),push(p1),push(p2),subtract(),p3=pop(),push_symbol(POWER),push_integer(-1),push(p3),list(3),p2.q.a.isOdd()&&negate(),restore())},is_small_integer=function(e){return isSmall(e.q.a)},quickfactor=function(){var e,t,r,i,n,o;for(t=0,save(),p2=pop(),p1=pop(),e=tos,push(p1),factor_small_number(),o=e,t=r=0,n=i=tos-e;r<n;t=r+=2)push(stack[o+t]),push(stack[o+t+1]),push(p2),multiply(),quickpower();return multiply_all(tos-e-i),p1=pop(),moveTos(e),push(p1),restore()},quickpower=function(){var e;return 0,save(),p2=pop(),p1=pop(),push(p2),bignum_truncate(),p3=pop(),push(p2),push(p3),subtract(),p4=pop(),isZeroAtomOrTensor(p4)||(push_symbol(POWER),push(p1),push(p4),list(3)),push(p3),e=pop_integer(),isNaN(e)?(push_symbol(POWER),push(p1),push(p3),list(3),void restore()):0!==e?(push(p1),bignum_power_number(e),restore()):void restore()},Eval_quotient=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),push(cadddr(p1)),Eval(),(p1=pop())===symbol(NIL)&&(p1=symbol(SYMBOL_X)),push(p1),divpoly()},divpoly=function(){var e,t,r,i,n,o,s,a,c;for(0,i=0,o=0,0,c=0,save(),p3=pop(),p2=pop(),p1=pop(),r=tos,e=tos,o=coeff(p3,p1)-1,t=tos,c=o-(s=coeff(p3,p2)-1),push_integer(0),p5=pop();c>=0;){for(push(stack[e+o]),push(stack[t+s]),divide(),p4=pop(),i=n=0,a=s;0<=a?n<=a:n>=a;i=0<=a?++n:--n)push(stack[e+c+i]),push(stack[t+i]),push(p4),multiply(),subtract(),stack[e+c+i]=pop();push(p5),push(p4),push(p3),push_integer(c),power(),multiply(),add(),p5=pop(),o--,c--}return moveTos(r),push(p5),restore()},DEBUG_RATIONALIZE=!1,Eval_rationalize=function(){return push(cadr(p1)),Eval(),rationalize()},rationalize=function(){var e;return e=expanding,yyrationalize(),expanding=e},yyrationalize=function(){var e,t,r;if(r=pop(),istensor(r))__rationalize_tensor(r);else{if(expanding=0,car(r)===symbol(ADD)){for(DEBUG_RATIONALIZE&&console.log("rationalize: this is the input expr: "+r),push(one),multiply_denominators(r),e=pop(),DEBUG_RATIONALIZE&&console.log("rationalize: this is the new denominator: "+e),push(zero),t=cdr(r);iscons(t);)DEBUG_RATIONALIZE&&console.log("term: "+car(t)),push(e),push(car(t)),multiply(),add(),t=cdr(t);return DEBUG_RATIONALIZE&&console.log("rationalize: original terms times new denominator: "+stack[tos-1]),Condense(),DEBUG_RATIONALIZE&&console.log("rationalize: after factoring: "+stack[tos-1]),push(e),divide(),DEBUG_RATIONALIZE?console.log("rationalize: after dividing by new denom. (and we're done): "+stack[tos-1]):void 0}push(r)}},multiply_denominators=function(e){var t;if(car(e)===symbol(ADD)){for(e=cdr(e),t=[];iscons(e);)multiply_denominators_term(car(e)),t.push(e=cdr(e));return t}return multiply_denominators_term(e)},multiply_denominators_term=function(e){var t;if(car(e)===symbol(MULTIPLY)){for(e=cdr(e),t=[];iscons(e);)multiply_denominators_factor(car(e)),t.push(e=cdr(e));return t}return multiply_denominators_factor(e)},multiply_denominators_factor=function(e){if(car(e)===symbol(POWER))return push(e),e=caddr(e),isnegativenumber(e)||car(e)===symbol(MULTIPLY)&&isnegativenumber(cadr(e))?(inverse(),void __lcm()):pop()},__rationalize_tensor=function(e){var t,r,i;if(t=0,push(e),Eval(),e=pop(),istensor(e)){for(t=r=0,i=e.tensor.nelem;0<=i?r<i:r>i;t=0<=i?++r:--r)push(e.tensor.elem[t]),rationalize(),e.tensor.elem[t]=pop();return check_tensor_dimensions(e),push(e)}push(e)},__lcm=function(){return save(),p1=pop(),p2=pop(),push(p1),push(p2),multiply(),push(p1),push(p2),gcd(),divide(),restore()},Eval_real=function(){return push(cadr(p1)),Eval(),real()},real=function(){return save(),rect(),p1=pop(),push(p1),push(p1),conjugate(),add(),push_integer(2),divide(),restore()},DEBUG_RECT=!1,Eval_rect=function(){return push(cadr(p1)),Eval(),rect()},rect=function(){var e;if(save(),e=p1=pop(),DEBUG_RECT&&console.log("RECT of "+e),DEBUG_RECT&&console.log("any clock forms in : "+e+" ? "+findPossibleClockForm(e)),issymbol(p1))DEBUG_RECT&&console.log(" rect: simple symbol: "+e),isZeroAtomOrTensor(get_binding(symbol(ASSUME_REAL_VARIABLES)))?(push_symbol(YYRECT),push(p1),list(2)):push(p1);else if(isZeroAtomOrTensor(get_binding(symbol(ASSUME_REAL_VARIABLES)))||findPossibleExponentialForm(p1)||findPossibleClockForm(p1)||Find(p1,symbol(SIN))&&Find(p1,symbol(COS))&&Find(p1,imaginaryunit))if(car(p1)===symbol(MULTIPLY)&&isimaginaryunit(cadr(p1))&&!isZeroAtomOrTensor(get_binding(symbol(ASSUME_REAL_VARIABLES))))push(p1);else if(car(p1)===symbol(ADD))for(DEBUG_RECT&&console.log(" rect - "+e+" is a sum "),push_integer(0),p1=cdr(p1);iscons(p1);)push(car(p1)),rect(),add(),p1=cdr(p1);else DEBUG_RECT&&console.log(" rect - "+e+" is NOT a sum "),push(p1),abs(),DEBUG_RECT&&console.log(" rect - "+e+" abs: "+stack[tos-1].toString()),push(p1),arg(),DEBUG_RECT&&console.log(" rect - "+e+" arg of "+p1+" : "+stack[tos-1].toString()),p1=pop(),push(p1),cosine(),DEBUG_RECT&&console.log(" rect - "+e+" cosine: "+stack[tos-1].toString()),push(imaginaryunit),push(p1),sine(),DEBUG_RECT&&console.log(" rect - "+e+" sine: "+stack[tos-1].toString()),multiply(),DEBUG_RECT&&console.log(" rect - "+e+" i * sine: "+stack[tos-1].toString()),add(),DEBUG_RECT&&console.log(" rect - "+e+" cos + i * sine: "+stack[tos-1].toString()),multiply();else DEBUG_RECT&&console.log(" rect: simple symbol: "+e),push(p1);if(restore(),DEBUG_RECT)return console.log("rect of "+e+" : "+stack[tos-1])},show_power_debug=!1,performing_roots=!1,Eval_roots=function(){return p2=cadr(p1),car(p2)===symbol(SETQ)||car(p2)===symbol(TESTEQ)?(push(cadr(p2)),Eval(),push(caddr(p2)),Eval(),subtract()):(push(p2),Eval(),p2=pop(),car(p2)===symbol(SETQ)||car(p2)===symbol(TESTEQ)?(push(cadr(p2)),Eval(),push(caddr(p2)),Eval(),subtract()):push(p2)),push(caddr(p1)),Eval(),(p2=pop())===symbol(NIL)?guess():push(p2),p2=pop(),p1=pop(),ispolyexpandedform(p1,p2)||stop("roots: 1st argument is not a polynomial in the variable "+p2),push(p1),push(p2),roots()},hasImaginaryCoeff=function(e){var t,r,i;for(r=!1,tos,t=i=e;i>0;t=i+=-1)if(iscomplexnumber(stack[tos-t])){r=!0;break}return r},isSimpleRoot=function(e){var t,r,i;if(e>2){for(r=!0,tos,isZeroAtomOrTensor(stack[tos-e])&&(r=!1),t=i=e-1;i>1;t=i+=-1)if(!isZeroAtomOrTensor(stack[tos-t])){r=!1;break}}else r=!1;return r},normalisedCoeff=function(e,t){var r,i,n,o,s,a,c,l;for(n=coeff(e,t),r=stack[tos-1],a=[],i=o=1,c=n;1<=c?o<=c:o>=c;i=1<=c?++o:--o)a.push(pop());for(i=s=l=n-1;l<=0?s<=0:s>=0;i=l<=0?++s:--s)push(a[i]),push(r),divide();return n},roots=function(){var e,t,r,i,n,o,s,a;if(0,t=0,0,DEBUG&&console.log("roots: "+stack[tos-1].toString()+" "+stack[tos-2].toString()),save(),recursionLevelNestedRadicalsRemoval>1)return pop(),pop(),push(symbol(NIL)),void restore();if(performing_roots=!0,e=tos-2,DEBUG&&console.log("roots checking if "+stack[tos-1].toString()+" is a case of simple roots"),p2=pop(),p1=pop(),push(p1),push(p2),r=normalisedCoeff(p2,p1),isSimpleRoot(r)?(DEBUG&&console.log("yes, "+stack[tos-1].toString()+" is a case of simple roots"),n=stack[tos-r],o=stack[tos-1],moveTos(tos-r),pop(),pop(),getSimpleRoots(r,o,n)):(moveTos(tos-r),roots2()),0===(s=tos-e)&&stop("roots: the polynomial is not factorable, try nroots"),1===s)return performing_roots=!1,void restore();for(sort_stack(s),(p1=alloc_tensor(s)).tensor.ndim=1,p1.tensor.dim[0]=s,t=i=0,a=s;0<=a?i<a:i>a;t=0<=a?++i:--i)p1.tensor.elem[t]=stack[e+t];return moveTos(e),push(p1),restore(),performing_roots=!1},getSimpleRoots=function(e,t,r){var i,n,o,s,a,c,l;if(DEBUG&&console.log("getSimpleRoots"),save(),e-=1,push(r),push_rational(1,e),power(),push(t),push_rational(1,e),power(),divide(),n=pop(),e%2==0)for(l=o=1,a=e;o<=a;l=o+=2)push(n),push_integer(-1),push_rational(l,e),power(),multiply(),i=pop(),push(i),push(i),negate();else for(l=s=1,c=e;1<=c?s<=c:s>=c;l=1<=c?++s:--s)push(n),push_integer(-1),push_rational(l,e),power(),multiply(),l%2==0&&negate();return restore()},roots2=function(){var e;if(save(),DEBUG&&console.log("roots2: "+stack[tos-1].toString()+" "+stack[tos-2].toString()),p2=pop(),p1=pop(),push(p1),push(p2),e=normalisedCoeff(p2,p1),hasImaginaryCoeff(e)?(moveTos(tos-e),pop(),pop()):(moveTos(tos-e),factorpoly(),p1=pop()),car(p1)===symbol(MULTIPLY))for(p1=cdr(p1);iscons(p1);)push(car(p1)),push(p2),roots3(),p1=cdr(p1);else push(p1),push(p2),roots3();return restore()},roots3=function(){var e;return save(),p2=pop(),p1=pop(),car(p1)===symbol(POWER)&&ispolyexpandedform(cadr(p1),p2)&&isposint(caddr(p1))?(e=normalisedCoeff(p2,cadr(p1)),mini_solve(e)):ispolyexpandedform(p1,p2)&&(e=normalisedCoeff(p2,p1),mini_solve(e)),restore()},mini_solve=function(e){var t,r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g,x,v,y,_,E,k,S,w,A,T,M,C,P,I,N,O,L,q,D,R,B,U,G,F,z,V,j,H,X,W,Y,Z,Q,K,J,ee,te,re,ie,ne,oe,se,ae,ce,le,pe,ue,fe;if(save(),2===e)return p3=pop(),p4=pop(),push(p4),push(p3),divide(),negate(),void restore();if(3===e)return p3=pop(),p4=pop(),p5=pop(),push(p4),push_integer(2),power(),push_integer(4),push(p3),multiply(),push(p5),multiply(),subtract(),push_rational(1,2),power(),p6=pop(),push(p6),push(p4),subtract(),push(p3),push_integer(2),multiply(),divide(),push(p6),push(p4),add(),negate(),push(p3),divide(),push_rational(1,2),multiply(),void restore();if(4===e||5===e){if(p3=pop(),p4=pop(),p5=pop(),p6=pop(),push(p5),push(p5),multiply(),T=pop(),push(T),push(p5),multiply(),M=pop(),push(p4),push(p4),multiply(),k=pop(),push(k),push(p4),multiply(),w=pop(),push(w),push(p6),multiply(),A=pop(),push(A),push_integer(-4),multiply(),D=pop(),push(w),push_integer(2),multiply(),n=pop(),push(p3),push(p3),multiply(),m=pop(),push(m),push(p3),multiply(),v=pop(),push_integer(3),push(p3),multiply(),o=pop(),push(m),push(p6),multiply(),g=pop(),push(g),push(p6),multiply(),x=pop(),push(g),push_integer(27),multiply(),i=pop(),push(x),push_integer(-27),multiply(),L=pop(),push(o),push_integer(2),multiply(),pop(),push(p3),push(p5),multiply(),E=pop(),push(E),push(p4),multiply(),y=pop(),push(y),push(p6),multiply(),_=pop(),push(E),push_integer(3),multiply(),a=pop(),push_integer(-4),push(p3),push(M),multiply(),multiply(),q=pop(),push(y),push_integer(9),multiply(),negate(),R=pop(),push(_),push_integer(18),multiply(),r=pop(),push(k),push(a),subtract(),d=pop(),push(k),push(T),multiply(),S=pop(),push(p4),negate(),push(o),divide(),B=pop(),4===e){if(DEBUG&&console.log(">>>>>>>>>>>>>>>> actually using cubic formula <<<<<<<<<<<<<<< "),DEBUG&&console.log("cubic: D0: "+d.toString()),push(d),push_integer(3),power(),push_integer(4),multiply(),c=pop(),push(d),simplify(),absValFloat(),h=pop(),DEBUG&&console.log("cubic: D0 as float: "+h.toString()),push(r),push(D),push(S),push(q),push(L),add(),add(),add(),add(),simplify(),absValFloat(),P=pop(),DEBUG&&console.log("cubic: DETERMINANT: "+P.toString()),push(n),push(R),push(i),add(),add(),b=pop(),DEBUG&&console.log("cubic: D1: "+b.toString()),push(b),push_integer(2),power(),push(c),subtract(),push_rational(1,2),power(),simplify(),$=pop(),isZeroAtomOrTensor(P))return isZeroAtomOrTensor(h)?(DEBUG&&console.log(" cubic: DETERMINANT IS ZERO and delta0 is zero"),push(B),void restore()):(DEBUG&&console.log(" cubic: DETERMINANT IS ZERO and delta0 is not zero"),push(p3),push(p6),push_integer(9),multiply(),multiply(),push(p4),push(p5),multiply(),subtract(),push(d),push_integer(2),multiply(),divide(),pe=pop(),push(pe),push(pe),push(y),push_integer(4),multiply(),push(p3),push(p3),push(p6),push_integer(9),multiply(),multiply(),multiply(),negate(),push(w),negate(),add(),add(),push(p3),push(d),multiply(),divide(),void restore());for(t=!1,Z=!1;!t;)push($),Z&&negate(),push(b),add(),push_rational(1,2),multiply(),push_rational(1,3),power(),simplify(),p=pop(),DEBUG&&console.log("cubic: C: "+p.toString()),push(p),simplify(),absValFloat(),f=pop(),DEBUG&&console.log("cubic: C as absval and float: "+f.toString()),isZeroAtomOrTensor(f)?(DEBUG&&console.log(" cubic: C IS ZERO flipping the sign"),Z=!0):t=!0;return push(p),push(o),multiply(),s=pop(),push(s),push_integer(2),multiply(),l=pop(),push(imaginaryunit),push_integer(3),push_rational(1,2),power(),multiply(),Q=pop(),push_integer(1),push(Q),add(),oe=pop(),push_integer(1),push(Q),subtract(),ne=pop(),push(p),push(o),divide(),u=pop(),push(B),push(u),negate(),push(d),push(s),divide(),negate(),add(),add(),simplify(),push(B),push(u),push(oe),multiply(),push_integer(2),divide(),push(ne),push(d),multiply(),push(l),divide(),add(),add(),simplify(),push(B),push(u),push(ne),multiply(),push_integer(2),divide(),push(oe),push(d),multiply(),push(l),divide(),add(),add(),simplify(),void restore()}if(5===e){if(DEBUG&&console.log(">>>>>>>>>>>>>>>> actually using quartic formula <<<<<<<<<<<<<<< "),p7=pop(),isZeroAtomOrTensor(p4)&&isZeroAtomOrTensor(p6)&&!isZeroAtomOrTensor(p5)&&!isZeroAtomOrTensor(p7)){for(DEBUG&&console.log("biquadratic case"),push(p3),push(symbol(SECRETX)),push_integer(2),power(),multiply(),push(p5),push(symbol(SECRETX)),multiply(),push(p7),add(),add(),push(symbol(SECRETX)),roots(),K=0,J=(se=pop().tensor.elem).length;K<J;K++)Y=se[K],push(Y),push_rational(1,2),power(),simplify(),push(Y),push_rational(1,2),power(),negate(),simplify();return void restore()}if(push(p6),push(p6),multiply(),C=pop(),push(p7),push(p7),multiply(),I=pop(),push(I),push(p7),multiply(),N=pop(),push_integer(256),push(v),push(N),multiply(),multiply(),push_integer(-192),push(g),push(I),push(p4),multiply(),multiply(),multiply(),push_integer(-128),push(m),push(T),push(I),multiply(),multiply(),multiply(),push_integer(144),push(x),push(p5),push(p7),multiply(),multiply(),multiply(),push(L),push(C),multiply(),push_integer(144),push(y),push(p4),push(I),multiply(),multiply(),multiply(),push_integer(-6),push(p3),push(k),push(C),push(p7),multiply(),multiply(),multiply(),multiply(),push_integer(-80),push(_),push(p5),push(p7),multiply(),multiply(),multiply(),push_integer(18),push(_),push(C),multiply(),multiply(),push_integer(16),push(E),push(M),push(p7),multiply(),multiply(),multiply(),push_integer(-4),push(E),push(T),push(C),multiply(),multiply(),multiply(),push_integer(-27),push(w),push(p4),push(I),multiply(),multiply(),multiply(),push_integer(18),push(A),push(p5),push(p7),multiply(),multiply(),multiply(),push(D),push(C),multiply(),push_integer(-4),push(S),push(p5),push(p7),multiply(),multiply(),multiply(),push(S),push(C),multiply(),add(),add(),add(),add(),add(),add(),add(),add(),add(),add(),add(),add(),add(),add(),add(),P=pop(),DEBUG&&console.log("R_determinant: "+P.toString()),push(T),push_integer(-3),push(p4),push(p6),multiply(),multiply(),push_integer(12),push(p3),push(p7),multiply(),multiply(),add(),add(),d=pop(),DEBUG&&console.log("R_DELTA0: "+d.toString()),push_integer(2),push(M),multiply(),push_integer(-9),push(p4),push(p5),push(p6),multiply(),multiply(),multiply(),push_integer(27),push(k),push(p7),multiply(),multiply(),push_integer(27),push(p3),push(C),multiply(),multiply(),push_integer(-72),push(E),push(p7),multiply(),multiply(),add(),add(),add(),add(),b=pop(),DEBUG&&console.log("R_DELTA1: "+b.toString()),push_integer(8),push(E),multiply(),push_integer(-3),push(k),multiply(),add(),push_integer(8),push(m),multiply(),divide(),U=pop(),DEBUG&&console.log("p: "+U.toString()),push(w),push_integer(-4),push(y),multiply(),push_integer(8),push(g),multiply(),add(),add(),push_integer(8),push(v),multiply(),divide(),G=pop(),DEBUG&&console.log("q: "+G.toString()),DEBUG&&console.log("tos 1 "+tos),isZeroAtomOrTensor(p4)){for(U=p5,G=p6,F=p7,push_rational(5,2),push(U),multiply(),j=pop(),push_integer(2),push(U),push_integer(2),power(),multiply(),push(F),subtract(),H=pop(),push(U),push_integer(3),power(),push_integer(2),divide(),push_rational(-1,2),push(U),push(F),multiply(),multiply(),push_rational(-1,8),push(G),push_integer(2),power(),multiply(),add(),add(),X=pop(),push(symbol(SECRETX)),push_integer(3),power(),push(j),push(symbol(SECRETX)),push_integer(2),power(),multiply(),push(H),push(symbol(SECRETX)),multiply(),push(X),add(),add(),add(),DEBUG&&console.log("resolventCubic: "+stack[tos-1].toString()),push(symbol(SECRETX)),roots(),le=pop(),DEBUG&&console.log("resolventCubicSolutions: "+le),O=null,ie=0,te=(ce=le.tensor.elem).length;ie<te;ie++)if(Y=ce[ie],DEBUG&&console.log("examining solution: "+Y),push(Y),push_integer(2),multiply(),push(U),add(),absValFloat(),fe=pop(),DEBUG&&console.log("abs value is: "+Y),!isZeroAtomOrTensor(fe)){O=Y;break}return DEBUG&&console.log("chosen solution: "+O),push(O),push_integer(2),multiply(),push(U),add(),push_rational(1,2),power(),simplify(),ue=pop(),push(G),push_integer(2),multiply(),push(ue),divide(),simplify(),V=pop(),push(U),push_integer(3),multiply(),push(O),push_integer(2),multiply(),add(),z=pop(),push(ue),push(z),push(V),add(),negate(),push_rational(1,2),power(),simplify(),add(),push_integer(2),divide(),push(ue),push(z),push(V),add(),negate(),push_rational(1,2),power(),simplify(),subtract(),push_integer(2),divide(),push(ue),negate(),push(z),push(V),subtract(),negate(),push_rational(1,2),power(),simplify(),add(),push_integer(2),divide(),push(ue),negate(),push(z),push(V),subtract(),negate(),push_rational(1,2),power(),simplify(),subtract(),push_integer(2),divide(),void restore()}for(DEBUG&&console.log("tos 2 "+tos),push_integer(8),push(p5),push(p3),multiply(),multiply(),push_integer(-3),push(p4),push_integer(2),power(),multiply(),add(),push_integer(8),push(p3),push_integer(2),power(),multiply(),divide(),U=pop(),DEBUG&&console.log("p for depressed quartic: "+U.toString()),push(p4),push_integer(3),power(),push_integer(-4),push(p3),push(p4),push(p5),multiply(),multiply(),multiply(),push_integer(8),push(p6),push(p3),push_integer(2),power(),multiply(),multiply(),add(),add(),push_integer(8),push(p3),push_integer(3),power(),multiply(),divide(),G=pop(),DEBUG&&console.log("q for depressed quartic: "+G.toString()),push(p4),push_integer(4),power(),push_integer(-3),multiply(),push_integer(256),push(v),push(p7),multiply(),multiply(),push_integer(-64),push(g),push(p4),multiply(),multiply(),push_integer(16),push(k),push(p3),push(p5),multiply(),multiply(),multiply(),add(),add(),add(),push_integer(256),push(p3),push_integer(4),power(),multiply(),divide(),F=pop(),DEBUG&&console.log("r for depressed quartic: "+F.toString()),DEBUG&&console.log("tos 4 "+tos),push(symbol(SECRETX)),push_integer(4),power(),DEBUG&&console.log("4 * x^4: "+stack[tos-1].toString()),push(U),push(symbol(SECRETX)),push_integer(2),power(),multiply(),DEBUG&&console.log("R_p * x^2: "+stack[tos-1].toString()),push(G),push(symbol(SECRETX)),multiply(),DEBUG&&console.log("R_q * x: "+stack[tos-1].toString()),push(F),DEBUG&&console.log("R_r: "+stack[tos-1].toString()),add(),add(),add(),simplify(),DEBUG&&console.log("solving depressed quartic: "+stack[tos-1].toString()),push(symbol(SECRETX)),roots(),W=pop(),DEBUG&&console.log("depressedSolutions: "+W),re=0,ee=(ae=W.tensor.elem).length;re<ee;re++)Y=ae[re],push(Y),push(p4),push_integer(4),push(p3),multiply(),divide(),subtract(),simplify(),DEBUG&&console.log("solution from depressed: "+stack[tos-1].toString());return void restore()}}return moveTos(tos-e),restore()},Eval_round=function(){return push(cadr(p1)),Eval(),yround()},yround=function(){return save(),yyround(),restore()},yyround=function(){var e;return e=0,p1=pop(),isNumericAtom(p1)?isdouble(p1)?(e=Math.round(p1.d),void push_double(e)):isinteger(p1)?void push(p1):(push(p1),yyfloat(),p1=pop(),push_integer(Math.round(p1.d))):(push_symbol(ROUND),push(p1),void list(2))},T_INTEGER=1001,T_DOUBLE=1002,T_SYMBOL=1003,T_FUNCTION=1004,T_NEWLINE=1006,T_STRING=1007,T_GTEQ=1008,T_LTEQ=1009,T_EQ=1010,T_NEQ=1011,T_QUOTASSIGN=1012,token="",newline_flag=0,meta_mode=0,input_str=0,scan_str=0,token_str=0,token_buf=0,lastFoundSymbol=null,symbolsRightOfAssignment=null,symbolsLeftOfAssignment=null,isSymbolLeftOfAssignment=null,scanningParameters=null,functionInvokationsScanningStack=null,skipRootVariableToBeSolved=!1,assignmentFound=null,scanned="",scan=function(e){return DEBUG&&console.log("#### scanning "+e),lastFoundSymbol=null,symbolsRightOfAssignment=[],symbolsLeftOfAssignment=[],isSymbolLeftOfAssignment=!0,scanningParameters=[],functionInvokationsScanningStack=[""],assignmentFound=!1,scanned=e,meta_mode=0,expanding++,input_str=0,scan_str=0,get_next_token(),""===token?(push(symbol(NIL)),expanding--,0):(scan_stmt(),expanding--,assignmentFound||(symbolsInExpressionsWithoutAssignments=symbolsInExpressionsWithoutAssignments.concat(symbolsLeftOfAssignment)),token_str-input_str)},scan_meta=function(e){return scanned=e,meta_mode=1,expanding++,input_str=0,scan_str=0,get_next_token(),""===token?(push(symbol(NIL)),expanding--,0):(scan_stmt(),expanding--,token_str-input_str)},scan_stmt=function(){var e,t,r,i,n,o,s,a,c;if(scan_relation(),e=!1,token===T_QUOTASSIGN&&(e=!0),(token===T_QUOTASSIGN||"="===token)&&(c=lastFoundSymbol,DEBUG&&console.log("assignment!"),assignmentFound=!0,isSymbolLeftOfAssignment=!1,get_next_token(),push_symbol(SETQ),swap(),e&&push_symbol(QUOTE),scan_relation(),e&&list(2),list(3),isSymbolLeftOfAssignment=!0,codeGen)){if(-1!==(i=symbolsRightOfAssignment.indexOf(c))&&(symbolsRightOfAssignment.splice(i,1),symbolsHavingReassignments.push(c)),DEBUG)for(console.log("locally, "+c+" depends on: "),n=0,o=symbolsRightOfAssignment.length;n<o;n++)r=symbolsRightOfAssignment[n],console.log("  "+r);for(null==symbolsDependencies[c]&&(symbolsDependencies[c]=[]),t=symbolsDependencies[c],a=0,s=symbolsRightOfAssignment.length;a<s;a++)r=symbolsRightOfAssignment[a],-1===t.indexOf(r)&&t.push(r);return symbolsRightOfAssignment=[]}},scan_relation=function(){switch(scan_expression(),token){case T_EQ:return push_symbol(TESTEQ),swap(),get_next_token(),scan_expression(),list(3);case T_NEQ:return push_symbol(NOT),swap(),push_symbol(TESTEQ),swap(),get_next_token(),scan_expression(),list(3),list(2);case T_LTEQ:return push_symbol(TESTLE),swap(),get_next_token(),scan_expression(),list(3);case T_GTEQ:return push_symbol(TESTGE),swap(),get_next_token(),scan_expression(),list(3);case"<":return push_symbol(TESTLT),swap(),get_next_token(),scan_expression(),list(3);case">":return push_symbol(TESTGT),swap(),get_next_token(),scan_expression(),list(3)}},scan_expression=function(){var e;switch(e=tos,token){case"+":get_next_token(),scan_term();break;case"-":get_next_token(),scan_term(),negate();break;default:scan_term()}for(;0===newline_flag&&("+"===token||"-"===token);)"+"===token?(get_next_token(),scan_term()):(get_next_token(),scan_term(),negate());if(tos-e>1)return list(tos-e),push_symbol(ADD),swap(),cons()},is_factor=function(){if(("function"==typeof token.charCodeAt?token.charCodeAt(0):void 0)===dotprod_unicode)return 1;switch(token){case"*":case"/":return 1;case"(":case T_SYMBOL:case T_FUNCTION:case T_INTEGER:case T_DOUBLE:case T_STRING:return newline_flag?(scan_str=token_str,0):1}return 0},simplify_1_in_products=function(e,t){if(e>t&&isrational(stack[e-1])&&equaln(stack[e-1],1))return pop()},multiply_consecutive_constants=function(e,t){if(e>t+1&&isNumericAtom(stack[e-2])&&isNumericAtom(stack[e-1]))return multiply()},scan_term=function(){var e;for(e=tos,scan_factor(),parse_time_simplifications&&simplify_1_in_products(tos,e);is_factor();)"*"===token?(get_next_token(),scan_factor()):"/"===token?(simplify_1_in_products(tos,e),get_next_token(),scan_factor(),inverse()):("function"==typeof token.charCodeAt?token.charCodeAt(0):void 0)===dotprod_unicode?(get_next_token(),push_symbol(INNER),swap(),scan_factor(),list(3)):scan_factor(),parse_time_simplifications&&(multiply_consecutive_constants(tos,e),simplify_1_in_products(tos,e));return e===tos?push_integer(1):tos-e>1?(list(tos-e),push_symbol(MULTIPLY),swap(),cons()):void 0},scan_power=function(){if("^"===token)return get_next_token(),push_symbol(POWER),swap(),scan_factor(),list(3)},scan_index=function(e){for(get_next_token(),push_symbol(INDEX),swap(),scan_expression();","===token;)get_next_token(),scan_expression();return"]"!==token&&scan_error("] expected"),get_next_token(),list(tos-e)},scan_factor=function(){var e,t;for(t=tos,e=!1,"("===token?scan_subexpr():token===T_SYMBOL?scan_symbol():token===T_FUNCTION?scan_function_call_with_function_name():"["===token?scan_tensor():token===T_INTEGER?(e=!0,bignum_scan_integer(token_buf),get_next_token()):token===T_DOUBLE?(e=!0,bignum_scan_float(token_buf),get_next_token()):token===T_STRING?scan_string():scan_error("syntax error");"["===token||"("===token&&0===newline_flag&&!e;)"["===token?scan_index(t):"("===token&&scan_function_call_without_function_name();for(;"!"===token;)get_next_token(),push_symbol(FACTORIAL),swap(),list(2);for(;("function"==typeof token.charCodeAt?token.charCodeAt(0):void 0)===transpose_unicode;)get_next_token(),push_symbol(TRANSPOSE),swap(),list(2);return scan_power()},addSymbolRightOfAssignment=function(e){var t,r,i,n;if(-1===predefinedSymbolsInGlobalScope_doNotTrackInDependencies.indexOf(e)&&-1===symbolsRightOfAssignment.indexOf(e)&&-1===symbolsRightOfAssignment.indexOf("'"+e)&&!skipRootVariableToBeSolved){for(DEBUG&&console.log("... adding symbol: "+e+" to the set of the symbols right of assignment"),i="",t=r=1,n=functionInvokationsScanningStack.length;1<=n?r<n:r>n;t=1<=n?++r:--r)""!==functionInvokationsScanningStack[t]&&(i+=functionInvokationsScanningStack[t]+"_"+t+"_");return e=i+e,symbolsRightOfAssignment.push(e)}},addSymbolLeftOfAssignment=function(e){var t,r,i,n;if(-1===predefinedSymbolsInGlobalScope_doNotTrackInDependencies.indexOf(e)&&-1===symbolsLeftOfAssignment.indexOf(e)&&-1===symbolsLeftOfAssignment.indexOf("'"+e)&&!skipRootVariableToBeSolved){for(DEBUG&&console.log("... adding symbol: "+e+" to the set of the symbols left of assignment"),i="",t=r=1,n=functionInvokationsScanningStack.length;1<=n?r<n:r>n;t=1<=n?++r:--r)""!==functionInvokationsScanningStack[t]&&(i+=functionInvokationsScanningStack[t]+"_"+t+"_");return e=i+e,symbolsLeftOfAssignment.push(e)}},scan_symbol=function(){if(token!==T_SYMBOL&&scan_error("symbol expected"),meta_mode&&1===token_buf.length)switch(token_buf[0]){case"a":push(symbol(METAA));break;case"b":push(symbol(METAB));break;case"x":push(symbol(METAX));break;default:push(usr_symbol(token_buf))}else push(usr_symbol(token_buf));return 0===scanningParameters.length?(DEBUG&&console.log("out of scanning parameters, processing "+token_buf),lastFoundSymbol=token_buf,isSymbolLeftOfAssignment&&addSymbolLeftOfAssignment(token_buf)):(DEBUG&&console.log("still scanning parameters, skipping "+token_buf),isSymbolLeftOfAssignment&&addSymbolRightOfAssignment("'"+token_buf)),DEBUG&&console.log("found symbol: "+token_buf+" left of assignment: "+isSymbolLeftOfAssignment),isSymbolLeftOfAssignment||addSymbolRightOfAssignment(token_buf),get_next_token()},scan_string=function(){return push(new_string(token_buf)),get_next_token()},scan_function_call_with_function_name=function(){var e,t,r,i,n,o;if(DEBUG&&console.log("-- scan_function_call_with_function_name start"),i=1,new U,n=usr_symbol(token_buf),push(n),"roots"!==(e=token_buf)&&"defint"!==e&&"sum"!==e&&"product"!==e&&"for"!==e||functionInvokationsScanningStack.push(token_buf),lastFoundSymbol=token_buf,isSymbolLeftOfAssignment||addSymbolRightOfAssignment(token_buf),get_next_token(),get_next_token(),scanningParameters.push(!0),")"!==token){for(scan_stmt(),i++;","===token;)get_next_token(),2===i&&-1!==functionInvokationsScanningStack[functionInvokationsScanningStack.length-1].indexOf("roots")&&(symbolsRightOfAssignment=symbolsRightOfAssignment.filter((function(e){return!new RegExp("roots_"+(functionInvokationsScanningStack.length-1)+"_"+token_buf).test(e)})),skipRootVariableToBeSolved=!0),2===i&&-1!==functionInvokationsScanningStack[functionInvokationsScanningStack.length-1].indexOf("sum")&&(symbolsRightOfAssignment=symbolsRightOfAssignment.filter((function(e){return!new RegExp("sum_"+(functionInvokationsScanningStack.length-1)+"_"+token_buf).test(e)})),skipRootVariableToBeSolved=!0),2===i&&-1!==functionInvokationsScanningStack[functionInvokationsScanningStack.length-1].indexOf("product")&&(symbolsRightOfAssignment=symbolsRightOfAssignment.filter((function(e){return!new RegExp("product_"+(functionInvokationsScanningStack.length-1)+"_"+token_buf).test(e)})),skipRootVariableToBeSolved=!0),2===i&&-1!==functionInvokationsScanningStack[functionInvokationsScanningStack.length-1].indexOf("for")&&(symbolsRightOfAssignment=symbolsRightOfAssignment.filter((function(e){return!new RegExp("for_"+(functionInvokationsScanningStack.length-1)+"_"+token_buf).test(e)})),skipRootVariableToBeSolved=!0),-1!==functionInvokationsScanningStack[functionInvokationsScanningStack.length-1].indexOf("defint")&&(2===i||i>2&&(i-2)%3==0)&&(symbolsRightOfAssignment=symbolsRightOfAssignment.filter((function(e){return!new RegExp("defint_"+(functionInvokationsScanningStack.length-1)+"_"+token_buf).test(e)})),skipRootVariableToBeSolved=!0),scan_stmt(),skipRootVariableToBeSolved=!1,i++;2===i&&-1!==functionInvokationsScanningStack[functionInvokationsScanningStack.length-1].indexOf("roots")&&(symbolsRightOfAssignment=symbolsRightOfAssignment.filter((function(e){return!new RegExp("roots_"+(functionInvokationsScanningStack.length-1)+"_x").test(e)})))}for(scanningParameters.pop(),t=r=0,o=symbolsRightOfAssignment.length;0<=o?r<=o:r>=o;t=0<=o?++r:--r)null!=symbolsRightOfAssignment[t]&&("roots"===e&&(symbolsRightOfAssignment[t]=symbolsRightOfAssignment[t].replace(new RegExp("roots_"+(functionInvokationsScanningStack.length-1)+"_"),"")),"defint"===e&&(symbolsRightOfAssignment[t]=symbolsRightOfAssignment[t].replace(new RegExp("defint_"+(functionInvokationsScanningStack.length-1)+"_"),"")),"sum"===e&&(symbolsRightOfAssignment[t]=symbolsRightOfAssignment[t].replace(new RegExp("sum_"+(functionInvokationsScanningStack.length-1)+"_"),"")),"product"===e&&(symbolsRightOfAssignment[t]=symbolsRightOfAssignment[t].replace(new RegExp("product_"+(functionInvokationsScanningStack.length-1)+"_"),"")),"for"===e&&(symbolsRightOfAssignment[t]=symbolsRightOfAssignment[t].replace(new RegExp("for_"+(functionInvokationsScanningStack.length-1)+"_"),"")));if(")"!==token&&scan_error(") expected"),get_next_token(),list(i),"roots"!==e&&"defint"!==e&&"sum"!==e&&"product"!==e&&"for"!==e||functionInvokationsScanningStack.pop(),e===symbol(PATTERN).printname&&(patternHasBeenFound=!0),DEBUG)return console.log("-- scan_function_call_with_function_name end")},scan_function_call_without_function_name=function(){var e;if(DEBUG&&console.log("-- scan_function_call_without_function_name start"),push_symbol(EVAL),swap(),list(2),e=1,get_next_token(),scanningParameters.push(!0),")"!==token)for(scan_stmt(),e++;","===token;)get_next_token(),scan_stmt(),e++;if(scanningParameters.pop(),")"!==token&&scan_error(") expected"),get_next_token(),list(e),DEBUG)return console.log("-- scan_function_call_without_function_name end: "+stack[tos-1])},scan_subexpr=function(){return 0,"("!==token&&scan_error("( expected"),get_next_token(),scan_stmt(),")"!==token&&scan_error(") expected"),get_next_token()},scan_tensor=function(){var e;for(e=0,"["!==token&&scan_error("[ expected"),get_next_token(),scan_stmt(),e=1;","===token;)get_next_token(),scan_stmt(),e++;return build_tensor(e),"]"!==token&&scan_error("] expected"),get_next_token()},scan_error=function(e){for(errorMessage="";input_str!==scan_str&&("\n"!==scanned[input_str]&&"\r"!==scanned[input_str]||input_str+1!==scan_str);)errorMessage+=scanned[input_str++];for(errorMessage+=" ? ";scanned[input_str]&&"\n"!==scanned[input_str]&&"\r"!==scanned[input_str];)errorMessage+=scanned[input_str++];return errorMessage+="\n",stop(e)},build_tensor=function(e){var t,r,i;for(t=0,save(),(p2=alloc_tensor(e)).tensor.ndim=1,p2.tensor.dim[0]=e,t=r=0,i=e;0<=i?r<i:r>i;t=0<=i?++r:--r)p2.tensor.elem[t]=stack[tos-e+t];return check_tensor_dimensions(p2),moveTos(tos-e),push(p2),restore()},get_next_token=function(){for(newline_flag=0;get_token(),token===T_NEWLINE;)newline_flag=1;if(DEBUG)return console.log("get_next_token token: "+token)},get_token=function(){for(;isspace(scanned[scan_str]);){if("\n"===scanned[scan_str]||"\r"===scanned[scan_str])return token=T_NEWLINE,void scan_str++;scan_str++}if(token_str=scan_str,scan_str!==scanned.length){if(!isdigit(scanned[scan_str])&&"."!==scanned[scan_str]){if(isalpha(scanned[scan_str])){for(;isalnumorunderscore(scanned[scan_str]);)scan_str++;return token="("===scanned[scan_str]?T_FUNCTION:T_SYMBOL,void update_token_buf(token_str,scan_str)}if('"'===scanned[scan_str]){for(scan_str++;'"'!==scanned[scan_str];)scan_str===scanned.length-1&&(scan_str++,scan_error("runaway string"),scan_str--),scan_str++;return scan_str++,token=T_STRING,void update_token_buf(token_str+1,scan_str-1)}if("#"===scanned[scan_str]||"-"===scanned[scan_str]&&"-"===scanned[scan_str+1]){for(;scanned[scan_str]&&"\n"!==scanned[scan_str]&&"\r"!==scanned[scan_str];)scan_str++;return scanned[scan_str]&&scan_str++,void(token=T_NEWLINE)}return":"===scanned[scan_str]&&"="===scanned[scan_str+1]?(scan_str+=2,void(token=T_QUOTASSIGN)):"="===scanned[scan_str]&&"="===scanned[scan_str+1]?(scan_str+=2,void(token=T_EQ)):"!"===scanned[scan_str]&&"="===scanned[scan_str+1]?(scan_str+=2,void(token=T_NEQ)):"<"===scanned[scan_str]&&"="===scanned[scan_str+1]?(scan_str+=2,void(token=T_LTEQ)):">"===scanned[scan_str]&&"="===scanned[scan_str+1]?(scan_str+=2,void(token=T_GTEQ)):token=scanned[scan_str++]}for(;isdigit(scanned[scan_str]);)scan_str++;if("."===scanned[scan_str]){for(scan_str++;isdigit(scanned[scan_str]);)scan_str++;if("e"===scanned[scan_str]&&("+"===scanned[scan_str+1]||"-"===scanned[scan_str+1]||isdigit(scanned[scan_str+1])))for(scan_str+=2;isdigit(scanned[scan_str]);)scan_str++;token=T_DOUBLE}else token=T_INTEGER;update_token_buf(token_str,scan_str)}else token=""},update_token_buf=function(e,t){return token_buf=scanned.substring(e,t)},$.scan=scan,Eval_sgn=function(){return push(cadr(p1)),Eval(),sgn()},sgn=function(){return save(),yysgn(),restore()},yysgn=function(){return p1=pop(),isdouble(p1)?p1.d>0||0===p1.d?void push_integer(1):void push_integer(-1):isrational(p1)?-1===MSIGN(mmul(p1.q.a,p1.q.b))?void push_integer(-1):MZERO(mmul(p1.q.a,p1.q.b))?void push_integer(0):void push_integer(1):iscomplexnumber(p1)?(push_integer(-1),push(p1),absval(),power(),push(p1),void multiply()):isnegativeterm(p1)?(push_symbol(SGN),push(p1),negate(),list(2),push_integer(-1),void multiply()):(push_symbol(SGN),push(p1),list(2))},Eval_shape=function(){return push(cadr(p1)),Eval(),shape()},shape=function(){var e,t,r,i,n,o,s,a;for(r=0,0,0,e=[],t=[],r=i=0,s=MAXDIM;0<=s?i<s:i>s;r=0<=s?++i:--i)e[r]=0,t[r]=0;if(save(),p1=pop(),!istensor(p1))return isZeroAtomOrTensor(p1)||stop("transpose: tensor expected, 1st arg is not a tensor"),push(zero),void restore();for(o=p1.tensor.ndim,(p2=alloc_tensor(o)).tensor.ndim=1,p2.tensor.dim[0]=o,r=n=0,a=o;0<=a?n<a:n>a;r=0<=a?++n:--n)push_integer(p1.tensor.dim[r]),p2.tensor.elem[r]=pop();return push(p2),restore()},Eval_simfac=function(){return push(cadr(p1)),Eval(),simfac()},simfac=function(){var e;if(e=0,save(),p1=pop(),car(p1)===symbol(ADD)){for(e=tos,p1=cdr(p1);p1!==symbol(NIL);)push(car(p1)),simfac_term(),p1=cdr(p1);add_all(tos-e)}else push(p1),simfac_term();return restore()},simfac_term=function(){var e;if(0,save(),p1=pop(),car(p1)!==symbol(MULTIPLY))return push(p1),void restore();for(e=tos,p1=cdr(p1);p1!==symbol(NIL);)push(car(p1)),p1=cdr(p1);for(;yysimfac(e);)1;return multiply_all_noexpand(tos-e),restore()},yysimfac=function(e){var t,r,i,n,o,s,a,c;for(t=0,r=0,t=i=o=e,s=tos;o<=s?i<s:i>s;t=o<=s?++i:--i)for(p1=stack[t],r=n=a=e,c=tos;a<=c?n<c:n>c;r=a<=c?++n:--n)if(t!==r){if(p2=stack[r],car(p1)===symbol(FACTORIAL)&&car(p2)===symbol(POWER)&&isminusone(caddr(p2))&&equal(cadr(p1),cadr(p2)))return push(cadr(p1)),push(one),subtract(),factorial(),stack[t]=pop(),stack[r]=one,1;if(car(p2)===symbol(POWER)&&isminusone(caddr(p2))&&caadr(p2)===symbol(FACTORIAL)&&equal(p1,cadadr(p2)))return push(p1),push_integer(-1),add(),factorial(),reciprocate(),stack[t]=pop(),stack[r]=one,1;if(car(p2)===symbol(FACTORIAL)&&(push(p1),push(cadr(p2)),subtract(),p3=pop(),isplusone(p3)))return push(p1),factorial(),stack[t]=pop(),stack[r]=one,1;if(car(p1)===symbol(POWER)&&isminusone(caddr(p1))&&car(p2)===symbol(POWER)&&isminusone(caddr(p2))&&caadr(p2)===symbol(FACTORIAL)&&(push(cadr(p1)),push(cadr(cadr(p2))),subtract(),p3=pop(),isplusone(p3)))return push(cadr(p1)),factorial(),reciprocate(),stack[t]=pop(),stack[r]=one,1;if(car(p1)===symbol(FACTORIAL)&&car(p2)===symbol(POWER)&&isminusone(caddr(p2))&&caadr(p2)===symbol(FACTORIAL)){if(push(cadr(p1)),push(cadr(cadr(p2))),subtract(),p3=pop(),isplusone(p3))return stack[t]=cadr(p1),stack[r]=one,1;if(isminusone(p3))return push(cadr(cadr(p2))),reciprocate(),stack[t]=pop(),stack[r]=one,1;if(equaln(p3,2))return stack[t]=cadr(p1),push(cadr(p1)),push_integer(-1),add(),stack[r]=pop(),1;if(equaln(p3,-2))return push(cadr(cadr(p2))),reciprocate(),stack[t]=pop(),push(cadr(cadr(p2))),push_integer(-1),add(),reciprocate(),stack[r]=pop(),1}}return 0},DEBUG_SIMPLIFY=!1,Eval_simplify=function(){return push(cadr(p1)),runUserDefinedSimplifications(),Eval(),simplify()},runUserDefinedSimplifications=function(){var e,t,r,i,n,o,s,a,c,l;if(0!==userSimplificationsInListForm.length&&!Find(cadr(p1),symbol(INTEGRAL))){for(c=expanding,expanding=!1,DEBUG_SIMPLIFY&&console.log("runUserDefinedSimplifications passed: "+stack[tos-1].toString()),Eval(),DEBUG_SIMPLIFY&&console.log("runUserDefinedSimplifications after eval no expanding: "+stack[tos-1].toString()),expanding=c,p1=stack[tos-1],DEBUG_SIMPLIFY&&console.log("patterns to be checked: "),i=0,n=userSimplificationsInListForm.length;i<n;i++)r=userSimplificationsInListForm[i],DEBUG_SIMPLIFY&&console.log("..."+r);for(e=!0,a=0;e&&a<MAX_CONSECUTIVE_APPLICATIONS_OF_ALL_RULES;)for(e=!1,a++,s=0,o=userSimplificationsInListForm.length;s<o;s++){for(r=userSimplificationsInListForm[s],l=!0,t=0;l&&t<MAX_CONSECUTIVE_APPLICATIONS_OF_SINGLE_RULE;)t++,DEBUG_SIMPLIFY&&console.log("simplify - tos: "+tos+" checking pattern: "+r+" on: "+p1),push_symbol(NIL),(l=transform(r,!0))&&(e=!0),p1=stack[tos-1],DEBUG_SIMPLIFY&&console.log("p1 at this stage of simplification: "+p1);t===MAX_CONSECUTIVE_APPLICATIONS_OF_SINGLE_RULE&&stop("maximum application of single transformation rule exceeded: "+r)}if(a===MAX_CONSECUTIVE_APPLICATIONS_OF_ALL_RULES&&stop("maximum application of all transformation rules exceeded "),DEBUG_SIMPLIFY&&console.log("METAX = "+get_binding(symbol(METAX))),DEBUG_SIMPLIFY&&console.log("METAA = "+get_binding(symbol(METAA))),DEBUG_SIMPLIFY)return console.log("METAB = "+get_binding(symbol(METAB)))}},simplifyForCodeGeneration=function(){return save(),runUserDefinedSimplifications(),codeGen=!0,simplify_main(),codeGen=!1,restore()},simplify=function(){return save(),simplify_main(),restore()},simplify_main=function(){var args,fbody;if(p1=pop(),codeGen&&car(p1)===symbol(FUNCTION)&&(fbody=cadr(p1),push(fbody),eval(),simplify(),p3=pop(),args=caddr(p1),push_symbol(FUNCTION),push(p3),push(args),list(3),p1=pop()),!istensor(p1))return Find(p1,symbol(FACTORIAL))&&(push(p1),simfac(),p2=pop(),push(p1),rationalize(),simfac(),p3=pop(),p1=count(p2)<count(p3)?p2:p3),f10(),DEBUG_SIMPLIFY&&console.log("f10: "+p1.toString()),f1(),DEBUG_SIMPLIFY&&console.log("f1: "+p1.toString()),f2(),DEBUG_SIMPLIFY&&console.log("f2: "+p1.toString()),f3(),DEBUG_SIMPLIFY&&console.log("f3: "+p1.toString()),f4(),DEBUG_SIMPLIFY&&console.log("f4: "+p1.toString()),f5(),DEBUG_SIMPLIFY&&console.log("f5: "+p1.toString()),f9(),DEBUG_SIMPLIFY&&console.log("f9: "+p1.toString()),simplify_polarRect(),do_simplify_nested_radicals&&simplify_nested_radicals()?(DEBUG_SIMPLIFY&&console.log("de-nesting successful into: "+p1.toString()),push(p1),void simplify()):(simplify_rectToClock(),simplify_rational_expressions(),push(p1));simplify_tensor()},simplify_tensor=function(){var e,t,r,i,n;for(e=0,(p2=alloc_tensor(p1.tensor.nelem)).tensor.ndim=p1.tensor.ndim,e=t=0,i=p1.tensor.ndim;0<=i?t<i:t>i;e=0<=i?++t:--t)p2.tensor.dim[e]=p1.tensor.dim[e];for(e=r=0,n=p1.tensor.nelem;0<=n?r<n:r>n;e=0<=n?++r:--r)push(p1.tensor.elem[e]),simplify(),p2.tensor.elem[e]=pop();return check_tensor_dimensions(p2),isZeroAtomOrTensor(p2)&&(p2=zero),push(p2)},f1=function(){if(car(p1)===symbol(ADD))return push(p1),rationalize(),p2=pop(),count(p2)<count(p1)?p1=p2:void 0},f2=function(){if(car(p1)===symbol(ADD))return push(p1),Condense(),p2=pop(),count(p2)<=count(p1)?p1=p2:void 0},f3=function(){if(push(p1),rationalize(),negate(),rationalize(),negate(),rationalize(),p2=pop(),count(p2)<count(p1))return p1=p2},f10=function(){var e,t,r,i;if(r=car(p1),cdr(p1),(r===symbol(MULTIPLY)||isinnerordot(p1))&&car(car(cdr(p1)))===symbol(TRANSPOSE)&&car(car(cdr(cdr(p1))))===symbol(TRANSPOSE)&&(DEBUG_SIMPLIFY&&console.log("maybe collecting a transpose "+p1),e=cadr(car(cdr(p1))),t=cadr(car(cdr(cdr(p1)))),r===symbol(MULTIPLY)?(push(e),push(t),multiply()):isinnerordot(p1)&&(push(t),push(e),inner()),push_integer(1),push_integer(2),i=expanding,expanding=!1,transpose(),expanding=i,p2=pop(),count(p2)<count(p1)&&(p1=p2),DEBUG_SIMPLIFY))return console.log("collecting a transpose "+p2)},f4=function(){if(!isZeroAtomOrTensor(p1))return push(p1),rationalize(),inverse(),rationalize(),inverse(),rationalize(),p2=pop(),count(p2)<count(p1)?p1=p2:void 0},simplify_trig=function(){return save(),p1=pop(),f5(),push(p1),restore()},f5=function(){if(0!==Find(p1,symbol(SIN))||0!==Find(p1,symbol(COS)))return trigmode=1,push(p2=p1),Eval(),p3=pop(),trigmode=2,push(p2),Eval(),p4=pop(),trigmode=0,(count(p4)<count(p3)||nterms(p4)<nterms(p3))&&(p3=p4),count(p3)<count(p1)||nterms(p3)<nterms(p1)?p1=p3:void 0},f9=function(){var e,t;if(car(p1)===symbol(ADD)){for(push_integer(0),p2=cdr(p1);iscons(p2);)push(car(p2)),simplify(),add(),e=p1,t=p2,p1=pop(),simplify_rational_expressions(),push(p1),p1=e,p2=cdr(p2=t);return p2=pop(),count(p2)<count(p1)?p1=p2:void 0}},simplify_rational_expressions=function(){var e,t,r,i;if(push(p1),denominator(),e=pop(),!isone(e)&&(push(p1),numerator(),t=pop(),!isone(t)&&(r=areunivarpolysfactoredorexpandedform(t,e))&&(push(t),push(e),gcd(),push(r),factor(),i=pop(),!isone(i))))return push(t),push(r),factor(),push(i),inverse(),multiply_noexpand(),simplify(),stack[tos-1].toString(),push(e),push(r),factor(),push(i),inverse(),multiply_noexpand(),simplify(),stack[tos-1].toString(),divide(),Condense(),stack[tos-1].toString(),p2=pop(),count(p2)<count(p1)?p1=p2:void 0},simplify_rectToClock=function(){if(0!==Find(p1,symbol(SIN))||0!==Find(p1,symbol(COS)))return push(p1),Eval(),clockform(),p2=pop(),DEBUG_SIMPLIFY&&console.log("before simplification clockform: "+p1+" after: "+p2),count(p2)<count(p1)?p1=p2:void 0},simplify_polarRect=function(){if(push(p1),polarRectAMinusOneBase(),Eval(),p2=pop(),count(p2)<count(p1))return p1=p2},polarRectAMinusOneBase=function(){var e;if(save(),p1=pop(),isimaginaryunit(p1))return push(p1),void restore();if(equal(car(p1),symbol(POWER))&&isminusone(cadr(p1)))push(one),negate(),push(caddr(p1)),polarRectAMinusOneBase(),power(),polar(),rect();else if(iscons(p1)){for(e=tos;iscons(p1);)push(car(p1)),polarRectAMinusOneBase(),p1=cdr(p1);list(tos-e)}else push(p1);restore()},nterms=function(e){return car(e)!==symbol(ADD)?1:length(e)-1},simplify_nested_radicals=function(){var e,t,r,i;return recursionLevelNestedRadicalsRemoval>0?(DEBUG_SIMPLIFY&&console.log("denesting bailing out because of too much recursion"),!1):(push(p1),i=take_care_of_nested_radicals(),r=stack[tos-1],e=expanding,expanding=0,yycondense(),expanding=e,t=pop(),countOccurrencesOfSymbol(symbol(POWER),r)<countOccurrencesOfSymbol(symbol(POWER),t)?push(r):push(t),p1=pop(),i)},take_care_of_nested_radicals=function(){var e,t,r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g,x,v,y,_,E,k,S,w,A,T,M,C,P,I,N,O,L,q,D;if(recursionLevelNestedRadicalsRemoval>0)return DEBUG_SIMPLIFY&&console.log("denesting bailing out because of too much recursion"),!1;if(save(),p1=pop(),equal(car(p1),symbol(POWER))){if(o=cadr(p1),u=caddr(p1),!isminusone(u)&&equal(car(o),symbol(ADD))&&isfraction(u)&&(equalq(u,1,3)||equalq(u,1,2))){for(f=cadr(o),push(f),take_care_of_nested_radicals(),pop(),L=caddr(o),push(L),take_care_of_nested_radicals(),pop(),w=0,l=o;cdr(l)!==symbol(NIL);)w++,l=cdr(l);if(w>2)return push(p1),restore(),!1;if(c=null,a=[],D=[],car(L)===symbol(MULTIPLY)){if(q=cdr(L),iscons(q))for(;iscons(q);)I=car(q),car(I)===symbol(POWER)?(b=cadr(I),$=caddr(I),equalq($,1,2)&&(null==c?(c=$,a.push(b)):equal($,c)&&a.push(b))):D.push(I),q=cdr(q)}else car(L)===symbol(POWER)&&(b=cadr(L),$=caddr(L),null==c&&equalq($,1,2)&&(c=$,a.push(b)));if(0===a.length)return push(p1),restore(),!1;for(e=f,push_integer(1),m=0,g=a.length;m<g;m++)h=a[m],push(h),multiply();for(r=pop(),push_integer(1),k=0,x=D.length;k<x;k++)h=D[k],push(h),multiply();if(t=pop(),equalq(u,1,3)){if(push(e),negate(),push(r),multiply(),push(t),divide(),s=pop(),push(s),real(),yyfloat(),Math.abs(pop().d)>Math.pow(2,32))return push(p1),restore(),!1;if(push(s),push_integer(3),push(r),multiply(),s=pop(),push(s),real(),yyfloat(),Math.abs(pop().d)>Math.pow(2,32))return pop(),push(p1),restore(),!1;if(push(s),push(symbol(SECRETX)),multiply(),push_integer(-3),push(e),multiply(),push(t),divide(),s=pop(),push(s),real(),yyfloat(),Math.abs(pop().d)>Math.pow(2,32))return pop(),pop(),push(p1),restore(),!1;push(s),push(symbol(SECRETX)),push_integer(2),power(),multiply(),push_integer(1),push(symbol(SECRETX)),push_integer(3),power(),multiply(),add(),add(),add()}else if(equalq(u,1,2)){if(push(r),s=pop(),push(s),real(),yyfloat(),Math.abs(pop().d)>Math.pow(2,32))return push(p1),restore(),!1;if(push(s),push_integer(-2),push(e),multiply(),push(t),divide(),s=pop(),push(s),real(),yyfloat(),Math.abs(pop().d)>Math.pow(2,32))return pop(),push(p1),restore(),!1;push(s),push(symbol(SECRETX)),multiply(),push_integer(1),push(symbol(SECRETX)),push_integer(2),power(),multiply(),add(),add()}if(push(symbol(SECRETX)),recursionLevelNestedRadicalsRemoval++,roots(),recursionLevelNestedRadicalsRemoval--,equal(stack[tos-1],symbol(NIL)))return DEBUG_SIMPLIFY&&console.log("roots bailed out because of too much recursion"),pop(),push(p1),restore(),!1;for(P=[],S=0,v=(O=stack[tos-1].tensor.elem).length;S<v;S++)p=O[S],Find(p,symbol(POWER))||P.push(p);if(pop(),0===P.length)return push(p1),restore(),!1;for(C=[],N=[],A=0,y=P.length;A<y;A++)h=P[A],push(h),real(),yyfloat(),C.push(h),N.push(pop().d);return i=C[N.indexOf(Math.max.apply(Math,N))],equalq(u,1,3)?(push(e),push(i),push_integer(3),power(),push_integer(3),push(r),multiply(),push(i),multiply(),add(),divide(),push_rational(1,3),power()):equalq(u,1,2)&&(push(e),push(i),push_integer(2),power(),push(r),add(),divide(),push_rational(1,2),power()),null==(E=pop())?(push(p1),restore(),!1):(push(E),push(i),multiply(),equalq(u,1,3)?(_=pop(),push(E),push(r),push_rational(1,2),power(),multiply(),push(_),add(),simplify()):equalq(u,1,2)&&(_=pop(),push(E),push(r),push_rational(1,2),power(),multiply(),push(_),add(),simplify(),T=pop(),push(T),real(),yyfloat(),M=pop(),isnegativenumber(M)?(push(E),negate(),E=pop(),push(_),negate(),_=pop(),push(E),push(r),push_rational(1,2),power(),multiply(),push(_),add(),simplify()):push(T)),p1=pop(),push(p1),restore(),!0)}return push(p1),restore(),!1}if(iscons(p1)){for(d=tos,n=!1;iscons(p1);)push(car(p1)),n=n||take_care_of_nested_radicals(),p1=cdr(p1);return list(tos-d),restore(),n}return push(p1),restore(),!1},Eval_sin=function(){return push(cadr(p1)),Eval(),sine()},sine=function(){return save(),p1=pop(),car(p1)===symbol(ADD)?sine_of_angle_sum():sine_of_angle(),restore()},sine_of_angle_sum=function(){for(p2=cdr(p1);iscons(p2);){if(p4=car(p2),isnpi(p4))return push(p1),push(p4),subtract(),p3=pop(),push(p3),sine(),push(p4),cosine(),multiply(),push(p3),cosine(),push(p4),sine(),multiply(),void add();p2=cdr(p2)}return sine_of_angle()},sine_of_angle=function(){var e,t;if(car(p1)!==symbol(ARCSIN)){if(isdouble(p1))return e=Math.sin(p1.d),Math.abs(e)<1e-10&&(e=0),void push_double(e);if(isnegative(p1))return push(p1),negate(),sine(),void negate();if(car(p1)===symbol(ARCTAN))return push(cadr(p1)),push_integer(1),push(cadr(p1)),push_integer(2),power(),add(),push_rational(-1,2),power(),void multiply();if(push(p1),push_integer(180),multiply(),evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),divide(),(t=pop_integer())<0||isNaN(t))return push(symbol(SIN)),push(p1),void list(2);switch(t%360){case 0:case 180:return push_integer(0);case 30:case 150:return push_rational(1,2);case 210:case 330:return push_rational(-1,2);case 45:case 135:return push_rational(1,2),push_integer(2),push_rational(1,2),power(),multiply();case 225:case 315:return push_rational(-1,2),push_integer(2),push_rational(1,2),power(),multiply();case 60:case 120:return push_rational(1,2),push_integer(3),push_rational(1,2),power(),multiply();case 240:case 300:return push_rational(-1,2),push_integer(3),push_rational(1,2),power(),multiply();case 90:return push_integer(1);case 270:return push_integer(-1);default:return push(symbol(SIN)),push(p1),list(2)}}else push(cadr(p1))},Eval_sinh=function(){return push(cadr(p1)),Eval(),ysinh()},ysinh=function(){return save(),yysinh(),restore()},yysinh=function(){var e;if(e=0,p1=pop(),car(p1)!==symbol(ARCSINH)){if(isdouble(p1))return e=Math.sinh(p1.d),Math.abs(e)<1e-10&&(e=0),void push_double(e);if(!isZeroAtomOrTensor(p1))return push_symbol(SINH),push(p1),list(2);push(zero)}else push(cadr(p1))},subst=function(){var e,t,r,i,n,o,s,a,c;if(save(),n=pop(),(s=pop())!==symbol(NIL)&&n!==symbol(NIL)){if(e=pop(),istensor(e)){for((o=alloc_tensor(e.tensor.nelem)).tensor.ndim=e.tensor.ndim,t=r=0,a=e.tensor.ndim;0<=a?r<a:r>a;t=0<=a?++r:--r)o.tensor.dim[t]=e.tensor.dim[t];for(t=i=0,c=e.tensor.nelem;0<=c?i<c:i>c;t=0<=c?++i:--i)push(e.tensor.elem[t]),push(s),push(n),subst(),o.tensor.elem[t]=pop(),check_tensor_dimensions(o);push(o)}else equal(e,s)?push(n):iscons(e)?(push(car(e)),push(s),push(n),subst(),push(cdr(e)),push(s),push(n),subst(),cons()):push(e);return restore()}restore()},Eval_sum=function(){var e,t,r,i,n,o,s,a;if(t=0,0,0,e=cadr(p1),r=caddr(p1),issymbol(r)||stop("sum: 2nd arg?"),push(cadddr(p1)),Eval(),i=pop_integer(),isNaN(i))push(p1);else{if(push(caddddr(p1)),Eval(),n=pop_integer(),!isNaN(n)){for(p4=get_binding(r),push_integer(0),t=o=s=i,a=n;s<=a?o<=a:o>=a;t=s<=a?++o:--o)push_integer(t),p5=pop(),set_binding(r,p5),push(e),Eval(),add();return set_binding(r,p4)}push(p1)}},Eval_tan=function(){return push(cadr(p1)),Eval(),tangent()},tangent=function(){return save(),yytangent(),restore()},yytangent=function(){var e,t;if(0,e=0,p1=pop(),car(p1)!==symbol(ARCTAN)){if(isdouble(p1))return e=Math.tan(p1.d),Math.abs(e)<1e-10&&(e=0),void push_double(e);if(isnegative(p1))return push(p1),negate(),tangent(),void negate();if(push(p1),push_integer(180),multiply(),evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),divide(),(t=pop_integer())<0||isNaN(t))return push(symbol(TAN)),push(p1),void list(2);switch(t%360){case 0:case 180:return push_integer(0);case 30:case 210:return push_rational(1,3),push_integer(3),push_rational(1,2),power(),multiply();case 150:case 330:return push_rational(-1,3),push_integer(3),push_rational(1,2),power(),multiply();case 45:case 225:return push_integer(1);case 135:case 315:return push_integer(-1);case 60:case 240:return push_integer(3),push_rational(1,2),power();case 120:case 300:return push_integer(3),push_rational(1,2),power(),negate();default:return push(symbol(TAN)),push(p1),list(2)}}else push(cadr(p1))},Eval_tanh=function(){var e;if(e=0,push(cadr(p1)),Eval(),p1=pop(),car(p1)!==symbol(ARCTANH)){if(isdouble(p1))return e=Math.tanh(p1.d),Math.abs(e)<1e-10&&(e=0),void push_double(e);if(!isZeroAtomOrTensor(p1))return push_symbol(TANH),push(p1),list(2);push(zero)}else push(cadr(p1))},Eval_taylor=function(){return p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),push(car(p1)),Eval(),(p2=pop())===symbol(NIL)?guess():push(p2),p1=cdr(p1),push(car(p1)),Eval(),(p2=pop())===symbol(NIL)?push_integer(24):push(p2),p1=cdr(p1),push(car(p1)),Eval(),(p2=pop())===symbol(NIL)?push_integer(0):push(p2),taylor()},taylor=function(){var e,t,r,i;if(e=0,0,save(),p4=pop(),p3=pop(),p2=pop(),p1=pop(),push(p3),t=pop_integer(),isNaN(t))return push_symbol(TAYLOR),push(p1),push(p2),push(p3),push(p4),list(5),void restore();for(push(p1),push(p2),push(p4),subst(),Eval(),push_integer(1),p5=pop(),e=r=1,i=t;(1<=i?r<=i:r>=i)&&(push(p1),push(p2),derivative(),p1=pop(),!isZeroAtomOrTensor(p1));e=1<=i?++r:--r)push(p5),push(p2),push(p4),subtract(),multiply(),p5=pop(),push(p1),push(p2),push(p4),subst(),Eval(),push(p5),multiply(),push_integer(e),factorial(),divide(),add();return restore()},Eval_tensor=function(){var e,t,r,i,n,o,s,a,c;for(r=0,0,0,check_tensor_dimensions(p1),s=p1.tensor.nelem,o=p1.tensor.ndim,(p2=alloc_tensor(s)).tensor.ndim=o,r=i=0,a=o;0<=a?i<a:i>a;r=0<=a?++i:--i)p2.tensor.dim[r]=p1.tensor.dim[r];for(e=p1.tensor.elem,t=p2.tensor.elem,check_tensor_dimensions(p2),r=n=0,c=s;0<=c?n<c:n>c;r=0<=c?++n:--n)push(e[r]),Eval(),t[r]=pop();return check_tensor_dimensions(p1),check_tensor_dimensions(p2),push(p2),promote_tensor()},tensor_plus_tensor=function(){var e,t,r,i,n,o,s,a,c,l,p,u;if(i=0,0,0,save(),p2=pop(),(a=(p1=pop()).tensor.ndim)!==p2.tensor.ndim)return push(symbol(NIL)),void restore();for(i=n=0,l=a;0<=l?n<l:n>l;i=0<=l?++n:--n)if(p1.tensor.dim[i]!==p2.tensor.dim[i])return push(symbol(NIL)),void restore();for(c=p1.tensor.nelem,(p3=alloc_tensor(c)).tensor.ndim=a,i=o=0,p=a;0<=p?o<p:o>p;i=0<=p?++o:--o)p3.tensor.dim[i]=p1.tensor.dim[i];for(e=p1.tensor.elem,t=p2.tensor.elem,r=p3.tensor.elem,i=s=0,u=c;0<=u?s<u:s>u;i=0<=u?++s:--s)push(e[i]),push(t[i]),add(),r[i]=pop();return push(p3),restore()},tensor_times_scalar=function(){var e,t,r,i,n,o,s,a,c;for(r=0,0,0,save(),p2=pop(),o=(p1=pop()).tensor.ndim,s=p1.tensor.nelem,(p3=alloc_tensor(s)).tensor.ndim=o,r=i=0,a=o;0<=a?i<a:i>a;r=0<=a?++i:--i)p3.tensor.dim[r]=p1.tensor.dim[r];for(e=p1.tensor.elem,t=p3.tensor.elem,r=n=0,c=s;0<=c?n<c:n>c;r=0<=c?++n:--n)push(e[r]),push(p2),multiply(),t[r]=pop();return push(p3),restore()},scalar_times_tensor=function(){var e,t,r,i,n,o,s,a,c;for(r=0,0,0,save(),p2=pop(),p1=pop(),o=p2.tensor.ndim,s=p2.tensor.nelem,(p3=alloc_tensor(s)).tensor.ndim=o,r=i=0,a=o;0<=a?i<a:i>a;r=0<=a?++i:--i)p3.tensor.dim[r]=p2.tensor.dim[r];for(e=p2.tensor.elem,t=p3.tensor.elem,r=n=0,c=s;0<=c?n<c:n>c;r=0<=c?++n:--n)push(p1),push(e[r]),multiply(),t[r]=pop();return push(p3),restore()},check_tensor_dimensions=function(e){e.tensor.nelem!==e.tensor.elem.length&&console.log("something wrong in tensor dimensions")},is_square_matrix=function(e){return istensor(e)&&2===e.tensor.ndim&&e.tensor.dim[0]===e.tensor.dim[1]?1:0},d_tensor_tensor=function(){var e,t,r,i,n,o,s,a,c,l,p,u,f;if(i=0,n=0,0,0,c=p1.tensor.ndim,l=p1.tensor.nelem,c+1>=MAXDIM)return push_symbol(DERIVATIVE),push(p1),push(p2),void list(3);for((p3=alloc_tensor(l*p2.tensor.nelem)).tensor.ndim=c+1,i=o=0,p=c;0<=p?o<p:o>p;i=0<=p?++o:--o)p3.tensor.dim[i]=p1.tensor.dim[i];for(p3.tensor.dim[c]=p2.tensor.dim[0],e=p1.tensor.elem,t=p2.tensor.elem,r=p3.tensor.elem,i=s=0,u=l;0<=u?s<u:s>u;i=0<=u?++s:--s)for(n=a=0,f=p2.tensor.nelem;0<=f?a<f:a>f;n=0<=f?++a:--a)push(e[i]),push(t[n]),derivative(),r[i*p2.tensor.nelem+n]=pop();return push(p3)},d_scalar_tensor=function(){var e,t,r,i,n;for((p3=alloc_tensor(p2.tensor.nelem)).tensor.ndim=1,p3.tensor.dim[0]=p2.tensor.dim[0],e=p2.tensor.elem,t=p3.tensor.elem,r=i=0,n=p2.tensor.nelem;0<=n?i<n:i>n;r=0<=n?++i:--i)push(p1),push(e[r]),derivative(),t[r]=pop();return push(p3)},d_tensor_scalar=function(){var e,t,r,i,n,o,s;for(r=0,(p3=alloc_tensor(p1.tensor.nelem)).tensor.ndim=p1.tensor.ndim,r=i=0,o=p1.tensor.ndim;0<=o?i<o:i>o;r=0<=o?++i:--i)p3.tensor.dim[r]=p1.tensor.dim[r];for(e=p1.tensor.elem,t=p3.tensor.elem,r=n=0,s=p1.tensor.nelem;0<=s?n<s:n>s;r=0<=s?++n:--n)push(e[r]),push(p2),derivative(),t[r]=pop();return push(p3)},compare_tensors=function(e,t){var r,i,n,o,s;if(r=0,e.tensor.ndim<t.tensor.ndim)return-1;if(e.tensor.ndim>t.tensor.ndim)return 1;for(r=i=0,o=e.tensor.ndim;0<=o?i<o:i>o;r=0<=o?++i:--i){if(e.tensor.dim[r]<t.tensor.dim[r])return-1;if(e.tensor.dim[r]>t.tensor.dim[r])return 1}for(r=n=0,s=e.tensor.nelem;0<=s?n<s:n>s;r=0<=s?++n:--n)if(!equal(e.tensor.elem[r],t.tensor.elem[r]))return lessp(e.tensor.elem[r],t.tensor.elem[r])?-1:1;return 0},power_tensor=function(){var e,t,r,i,n,o,s,a;if(e=0,0,n=0,t=p1.tensor.ndim-1,p1.tensor.dim[0]!==p1.tensor.dim[t])return push_symbol(POWER),push(p1),push(p2),void list(3);if(push(p2),n=pop_integer(),isNaN(n))return push_symbol(POWER),push(p1),push(p2),void list(3);if(0===n){for(2!==p1.tensor.ndim&&stop("power(tensor,0) with tensor rank not equal to 2"),n=p1.tensor.dim[0],(p1=alloc_tensor(n*n)).tensor.ndim=2,p1.tensor.dim[0]=n,p1.tensor.dim[1]=n,e=r=0,o=n;0<=o?r<o:r>o;e=0<=o?++r:--r)p1.tensor.elem[n*e+e]=one;return check_tensor_dimensions(p1),void push(p1)}for(n<0&&(n=-n,push(p1),inv(),p1=pop()),push(p1),a=[],e=i=1,s=n;(1<=s?i<s:i>s)&&(push(p1),inner(),!isZeroAtomOrTensor(stack[tos-1]));e=1<=s?++i:--i)a.push(void 0);return a},copy_tensor=function(){var e,t,r,i,n;for(e=0,save(),p1=pop(),(p2=alloc_tensor(p1.tensor.nelem)).tensor.ndim=p1.tensor.ndim,e=t=0,i=p1.tensor.ndim;0<=i?t<i:t>i;e=0<=i?++t:--t)p2.tensor.dim[e]=p1.tensor.dim[e];for(e=r=0,n=p1.tensor.nelem;0<=n?r<n:r>n;e=0<=n?++r:--r)p2.tensor.elem[e]=p1.tensor.elem[e];return check_tensor_dimensions(p1),check_tensor_dimensions(p2),push(p2),restore()},promote_tensor=function(){var e,t,r,i,n,o,s,a,c,l,p,u,f,d,h;if(e=0,t=0,r=0,0,0,save(),p1=pop(),!istensor(p1))return push(p1),void restore();for(p2=p1.tensor.elem[0],e=i=1,p=p1.tensor.nelem;1<=p?i<p:i>p;e=1<=p?++i:--i)compatible(p2,p1.tensor.elem[e])||stop("Cannot promote tensor due to inconsistent tensor components.");if(!istensor(p2))return push(p1),void restore();for((s=p1.tensor.ndim+p2.tensor.ndim)>MAXDIM&&stop("tensor rank > "+MAXDIM),a=p1.tensor.nelem*p2.tensor.nelem,(p3=alloc_tensor(a)).tensor.ndim=s,e=n=0,u=p1.tensor.ndim;0<=u?n<u:n>u;e=0<=u?++n:--n)p3.tensor.dim[e]=p1.tensor.dim[e];for(t=o=0,f=p2.tensor.ndim;0<=f?o<f:o>f;t=0<=f?++o:--o)p3.tensor.dim[e+t]=p2.tensor.dim[t];for(r=0,e=c=0,d=p1.tensor.nelem;0<=d?c<d:c>d;e=0<=d?++c:--c)for(t=l=0,h=(p2=p1.tensor.elem[e]).tensor.nelem;0<=h?l<h:l>h;t=0<=h?++l:--l)p3.tensor.elem[r++]=p2.tensor.elem[t];return check_tensor_dimensions(p2),check_tensor_dimensions(p3),push(p3),restore()},compatible=function(e,t){var r,i,n;if(!istensor(e)&&!istensor(t))return 1;if(!istensor(e)||!istensor(t))return 0;if(e.tensor.ndim!==t.tensor.ndim)return 0;for(r=i=0,n=e.tensor.ndim;0<=n?i<n:i>n;r=0<=n?++i:--i)if(e.tensor.dim[r]!==t.tensor.dim[r])return 0;return 1},Eval_test=function(){var e,t;for(t=p1,p1=cdr(p1);iscons(p1);){if(cdr(p1)===symbol(NIL))return push(car(p1)),void Eval();if(null==(e=isZeroLikeOrNonZeroLikeOrUndetermined(car(p1))))return void push(t);if(e)return push(cadr(p1)),void Eval();p1=cddr(p1)}return push_integer(0)},Eval_testeq=function(){var e,t,r;if(t=p1,push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),subtract(),r=pop(),e=isZeroLikeOrNonZeroLikeOrUndetermined(r))push_integer(0);else if(null==e||e)if(push(cadr(p1)),Eval(),simplify(),push(caddr(p1)),Eval(),simplify(),subtract(),r=pop(),e=isZeroLikeOrNonZeroLikeOrUndetermined(r))push_integer(0);else{if(null==e||e)return push(t);push_integer(1)}else push_integer(1)},Eval_testge=function(){var e,t;if(t=p1,null!=(e=cmp_args()))return push_integer(e>=0?1:0);push(t)},Eval_testgt=function(){var e,t;if(t=p1,null!=(e=cmp_args()))return push_integer(e>0?1:0);push(t)},Eval_testle=function(){var e,t;if(t=p1,null!=(e=cmp_args()))return push_integer(e<=0?1:0);push(t)},Eval_testlt=function(){var e,t;if(t=p1,null!=(e=cmp_args()))return push_integer(e<0?1:0);push(t)},Eval_not=function(){var e,t;return t=p1,null==(e=isZeroLikeOrNonZeroLikeOrUndetermined(cadr(p1)))?push(t):push_integer(e?0:1)},Eval_and=function(){var e,t,r,i;for(e=cdr(i=p1),r=!1;iscons(e);)if(null==(t=isZeroLikeOrNonZeroLikeOrUndetermined(car(e))))r=!0,e=cdr(e);else if(t)e=cdr(e);else if(!t)return void push_integer(0);return r?push(i):push_integer(1)},Eval_or=function(){var e,t,r,i;for(t=cdr(i=p1),r=!1;iscons(t);)if(null==(e=isZeroLikeOrNonZeroLikeOrUndetermined(car(t))))r=!0,t=cdr(t);else{if(e)return void push_integer(1);e||(t=cdr(t))}return r?push(i):push_integer(0)},cmp_args=function(){var e;if(e=0,push(cadr(p1)),Eval(),simplify(),push(caddr(p1)),Eval(),simplify(),subtract(),(p1=pop()).k!==NUM&&p1.k!==DOUBLE&&(push(p1),yyfloat(),Eval(),p1=pop()),isZeroAtomOrTensor(p1))return 0;switch(p1.k){case NUM:e=-1===MSIGN(p1.q.a)?-1:1;break;case DOUBLE:e=p1.d<0?-1:1;break;default:e=null}return e},transform=function(e,t){var r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g;if(0,save(),p1=null,p4=pop(),p3=pop(),DEBUG&&console.log("         !!!!!!!!!   transform on: "+p3),saveMetaBindings(),set_binding(symbol(METAX),p4),$=tos,push_integer(1),push(p3),push(p4),polyform(),push(p4),r=tos-2,decomp(t),p=tos-r,DEBUG)for(console.log("  "+p+" decomposed elements ====== "),n=o=0,u=p;0<=u?o<u:o>u;n=0<=u?++o:--o)console.log("  decomposition element "+n+": "+stack[tos-1-n]);if(m=!1,t){if(!isNumericAtom(p3))if(b=e,DEBUG&&console.log("applying transform: "+b),DEBUG&&console.log("scanning table entry "+b),push(b),push(symbol(SYMBOL_A_UNDERSCORE)),push(symbol(METAA)),subst(),push(symbol(SYMBOL_B_UNDERSCORE)),push(symbol(METAB)),subst(),push(symbol(SYMBOL_X_UNDERSCORE)),push(symbol(METAX)),subst(),p1=pop(),p5=car(p1),DEBUG&&console.log("template expression: "+p5),p6=cadr(p1),p7=cddr(p1),f_equals_a($,t))m=!0;else{for(DEBUG&&console.log("p3 at this point: "+p3),g=[],DEBUG&&console.log("car(p3): "+car(p3)),iscons(f=p3)&&(g.push(car(p3)),f=cdr(p3));iscons(f);)d=car(f),f=cdr(f),DEBUG&&console.log("tos before recursive transform: "+tos),push(d),push_symbol(NIL),DEBUG&&console.log("testing: "+d),DEBUG&&console.log("about to try to simplify other term: "+d),h=transform(e,t),m=m||h,g.push(pop()),DEBUG&&console.log("tried to simplify other term: "+d+" ...successful?: "+h+" ...transformed: "+g[g.length-1]);if(0!==g.length){for(c=0,s=g.length;c<s;c++)n=g[c],push(n);list(g.length),p6=pop()}}}else for(l=0,a=e.length;l<a;l++)if(i=e[l],DEBUG&&(console.log("scanning table entry "+i),(i+"").indexOf("f(sqrt(a+b*x),2/3*1/b*sqrt((a+b*x)^3))")),i&&(scan_meta(i),p1=pop(),p5=cadr(p1),p6=caddr(p1),p7=cdddr(p1),f_equals_a($,t))){m=!0;break}return moveTos($),m?(push(p6),Eval(),p1=pop(),m=!0):p1=t?p3:symbol(NIL),restoreMetaBindings(),push(p1),restore(),m},saveMetaBindings=function(){return push(get_binding(symbol(METAA))),push(get_binding(symbol(METAB))),push(get_binding(symbol(METAX)))},restoreMetaBindings=function(){return set_binding(symbol(METAX),pop()),set_binding(symbol(METAB),pop()),set_binding(symbol(METAA),pop())},f_equals_a=function(e,t){var r,i,n,o,s,a,c,l,p;for(r=0,i=0,r=n=a=e,c=tos;a<=c?n<c:n>c;r=a<=c?++n:--n)for(set_binding(symbol(METAA),stack[r]),DEBUG&&console.log("  binding METAA to "+get_binding(symbol(METAA))),i=o=l=e,p=tos;l<=p?o<p:o>p;i=l<=p?++o:--o){for(set_binding(symbol(METAB),stack[i]),DEBUG&&console.log("  binding METAB to "+get_binding(symbol(METAB))),p1=p7;iscons(p1)&&(push(car(p1)),Eval(),p2=pop(),!isZeroAtomOrTensor(p2));)p1=cdr(p1);if(!iscons(p1)&&(push(p3),DEBUG&&console.log("about to evaluate template expression: "+p5+" binding METAA to "+get_binding(symbol(METAA))+" and binding METAB to "+get_binding(symbol(METAB))+" and binding METAX to "+get_binding(symbol(METAX))),push(p5),t&&(s=expanding,expanding=!1),Eval(),t&&(expanding=s),DEBUG&&console.log("  comparing "+stack[tos-1]+" to: "+stack[tos-2]),subtract(),p1=pop(),isZeroAtomOrTensor(p1)))return DEBUG&&(console.log("binding METAA to "+get_binding(symbol(METAA))),console.log("binding METAB to "+get_binding(symbol(METAB))),console.log("binding METAX to "+get_binding(symbol(METAX))),console.log("comparing "+p3+" to: "+p5)),1}return 0},Eval_transpose=function(){return push(cadr(p1)),Eval(),cddr(p1)===symbol(NIL)?(push_integer(1),push_integer(2)):(push(caddr(p1)),Eval(),push(cadddr(p1)),Eval()),transpose()},transpose=function(){var e,t,r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g,x,v,y,_,E,k,S,w,A,T,M;for(s=0,l=0,p=0,u=0,d=0,0,0,M=0,r=[],i=[],s=f=0,y=MAXDIM;0<=y?f<y:f>y;s=0<=y?++f:--f)r[s]=0,i[s]=0;if(save(),p3=pop(),p2=pop(),p1=pop(),isNumericAtom(p1))return push(p1),void restore();if((isplusone(p2)&&isplustwo(p3)||isplusone(p3)&&isplustwo(p2))&&isidentitymatrix(p1))return push(p1),void restore();if(istranspose(p1)&&(a=car(cdr(cdr(p1))),c=car(cdr(cdr(cdr(p1)))),equal(a,p3)&&equal(c,p2)||equal(c,p3)&&equal(a,p2)||equal(a,symbol(NIL))&&equal(c,symbol(NIL))&&(isplusone(p3)&&isplustwo(p2)||isplusone(p2)&&isplustwo(p3))))return push(car(cdr(p1))),void restore();if(expanding&&isadd(p1)){for(p1=cdr(p1),push(zero);iscons(p1);)push(car(p1)),push(p2),push(p3),transpose(),add(),p1=cdr(p1);restore()}else if(expanding&&ismultiply(p1)){for(p1=cdr(p1),push(one);iscons(p1);)push(car(p1)),push(p2),push(p3),transpose(),multiply(),p1=cdr(p1);restore()}else{if(!expanding||!isinnerordot(p1)){if(!istensor(p1))return isZeroAtomOrTensor(p1)?(push(zero),void restore()):(push_symbol(TRANSPOSE),push(p1),isplusone(p2)&&isplustwo(p3)||isplusone(p3)&&isplustwo(p2)?list(2):(push(p2),push(p3),list(4)),void restore());if($=p1.tensor.ndim,m=p1.tensor.nelem,1===$)return push(p1),void restore();for(push(p2),u=pop_integer(),push(p3),d=pop_integer(),(u<1||u>$||d<1||d>$)&&stop("transpose: index out of range"),u--,d--,(p2=alloc_tensor(m)).tensor.ndim=$,s=b=0,E=$;0<=E?b<E:b>E;s=0<=E?++b:--b)p2.tensor.dim[s]=p1.tensor.dim[s];for(p2.tensor.dim[u]=p1.tensor.dim[d],p2.tensor.dim[d]=p1.tensor.dim[u],e=p1.tensor.elem,n=p2.tensor.elem,s=g=0,k=$;0<=k?g<k:g>k;s=0<=k?++g:--g)r[s]=0,i[s]=p1.tensor.dim[s];for(s=x=0,S=m;0<=S?x<S:x>S;s=0<=S?++x:--x){for(M=r[u],r[u]=r[d],r[d]=M,M=i[u],i[u]=i[d],i[d]=M,p=0,l=v=0,w=$;0<=w?v<w:v>w;l=0<=w?++v:--v)p=p*i[l]+r[l];for(M=r[u],r[u]=r[d],r[d]=M,M=i[u],i[u]=i[d],i[d]=M,n[p]=e[s],l=T=A=$-1;(A<=0?T<=0:T>=0)&&!(++r[l]<i[l]);l=A<=0?++T:--T)r[l]=0}return push(p2),restore()}for(p1=cdr(p1),t=[];iscons(p1);)t.push([car(p1),p2,p3]),p1=cdr(p1);for(o=h=_=t.length-1;_<=0?h<=0:h>=0;o=_<=0?++h:--h)push(t[o][0]),push(t[o][1]),push(t[o][2]),transpose(),o!==t.length-1&&inner();restore()}},Eval_user_function=function(){var e,t;if(DEBUG&&console.log("Eval_user_function evaluating: "+car(p1)),car(p1)!==symbol(SYMBOL_D)||get_binding(symbol(SYMBOL_D))!==symbol(SYMBOL_D)){if(push(car(p1)),Eval(),e=pop(),isNumericAtom(e)?stop("expected function invocation, found multiplication instead. Use '*' symbol explicitly for multiplication."):istensor(e)?stop("expected function invocation, found tensor product instead. Use 'dot/inner' explicitly."):isstr(e)&&stop("expected function, found string instead."),p3=car(cdr(e)),p4=car(cdr(cdr(e))),p5=cdr(p1),car(e)===symbol(FUNCTION)&&e!==car(p1)){for(p1=p4,p2=p5,t=tos;iscons(p1)&&iscons(p2);)push(car(p1)),push(car(p2)),p1=cdr(p1),p2=cdr(p2);return list(tos-t),p6=pop(),push(p3),iscons(p6)&&(push(p6),rewrite_args()),Eval()}for(t=tos,push(e),p1=p5;iscons(p1);)push(car(p1)),Eval(),p1=cdr(p1);list(tos-t)}else Eval_derivative()},rewrite_args=function(){var e,t;if(t=0,save(),p2=pop(),p1=pop(),istensor(p1))return t=rewrite_args_tensor(),restore(),t;if(iscons(p1)){for(e=tos,car(p1)===car(p2)?(push_symbol(EVAL),push(car(cdr(p2))),list(2)):push(car(p1)),p1=cdr(p1);iscons(p1);)push(car(p1)),push(p2),t+=rewrite_args(),p1=cdr(p1);return list(tos-e),restore(),t}if(!issymbol(p1))return push(p1),restore(),0;for(p3=p2;iscons(p3);){if(p1===car(p3))return push(cadr(p3)),restore(),1;p3=cddr(p3)}return p3=get_binding(p1),push(p3),p1!==p3&&(push(p2),0===(t=rewrite_args())&&(pop(),push(p1))),restore(),t},rewrite_args_tensor=function(){var e,t,r,i;for(r=0,e=0,push(p1),copy_tensor(),e=t=0,i=(p1=pop()).tensor.nelem;0<=i?t<i:t>i;e=0<=i?++t:--t)push(p1.tensor.elem[e]),push(p2),r+=rewrite_args(),p1.tensor.elem[e]=pop();return check_tensor_dimensions(p1),push(p1),r},Eval_zero=function(){var e,t,r,i,n,o,s,a;for(e=0,t=[],i=0,o=0,e=r=0,s=MAXDIM;0<=s?r<s:r>s;e=0<=s?++r:--r)t[e]=0;for(i=1,o=0,p2=cdr(p1);iscons(p2);){if(push(car(p2)),Eval(),(e=pop_integer())<1||isNaN(e))return void push(zero);i*=e,t[o++]=e,p2=cdr(p2)}if(0!==o){for((p1=alloc_tensor(i)).tensor.ndim=o,e=n=0,a=o;0<=a?n<a:n>a;e=0<=a?++n:--n)p1.tensor.dim[e]=t[e];return push(p1)}push(zero)},allocatedId=0,alloc_tensor=function(e){var t,r,i,n;for(t=0,(i=new U).k=TENSOR,i.tensor=new tensor,i.tensor.nelem=e,t=r=0,n=e;0<=n?r<n:r>n;t=0<=n?++r:--r)i.tensor.elem[t]=zero;return i.tensor.allocatedId=allocatedId,allocatedId++,check_tensor_dimensions(i),i},Find=function(e,t){var r,i,n;if(r=0,equal(e,t))return 1;if(istensor(e)){for(r=i=0,n=e.tensor.nelem;0<=n?i<n:i>n;r=0<=n?++i:--i)if(Find(e.tensor.elem[r],t))return 1;return 0}for(;iscons(e);){if(Find(car(e),t))return 1;e=cdr(e)}return 0},findPossibleClockForm=function(e){var t,r,i;if(t=0,isimaginaryunit(e))return 0;if(car(e)===symbol(POWER)&&!isinteger(caddr(p1))&&Find(cadr(e),imaginaryunit))return 1;if(car(e)===symbol(POWER)&&equaln(cadr(e),-1)&&!isinteger(caddr(p1)))return 1;if(istensor(e)){for(t=r=0,i=e.tensor.nelem;0<=i?r<i:r>i;t=0<=i?++r:--r)if(findPossibleClockForm(e.tensor.elem[t]))return 1;return 0}for(;iscons(e);){if(findPossibleClockForm(car(e)))return 1;e=cdr(e)}return 0},findPossibleExponentialForm=function(e){var t,r,i;if(t=0,car(e)===symbol(POWER)&&cadr(e)===symbol(E))return Find(caddr(e),imaginaryunit);if(istensor(e)){for(t=r=0,i=e.tensor.nelem;0<=i?r<i:r>i;t=0<=i?++r:--r)if(findPossibleExponentialForm(e.tensor.elem[t]))return 1;return 0}for(;iscons(e);){if(findPossibleExponentialForm(car(e)))return 1;e=cdr(e)}return 0},$.Find=Find,init=function(){var e,t,r;if(e=0,flag=0,reset_after_error(),chainOfUserSymbolsNotFunctionsBeingEvaluated=[],!flag){for(flag=1,e=t=0,r=NSYM;0<=r?t<r:t>r;e=0<=r?++t:--t)symtab[e]=new U,symtab[e].k=SYM,binding[e]=symtab[e],isSymbolReclaimable[e]=!1;return defn()}},defn_str=['version="'+version+'"',"e=exp(1)","i=sqrt(-1)","autoexpand=1","assumeRealVariables=1","trange=[-pi,pi]","xrange=[-10,10]","yrange=[-10,10]","last=0","trace=0","forceFixedPrintout=1","maxFixedPrintoutDigits=6","printLeaveEAlone=1","printLeaveXAlone=0","cross(u,v)=[u[2]*v[3]-u[3]*v[2],u[3]*v[1]-u[1]*v[3],u[1]*v[2]-u[2]*v[1]]","curl(v)=[d(v[3],y)-d(v[2],z),d(v[1],z)-d(v[3],x),d(v[2],x)-d(v[1],y)]","div(v)=d(v[1],x)+d(v[2],y)+d(v[3],z)","ln(x)=log(x)"],defn=function(){var e,t,r,i,n;for(p0=symbol(NIL),p1=symbol(NIL),p2=symbol(NIL),p3=symbol(NIL),p4=symbol(NIL),p5=symbol(NIL),p6=symbol(NIL),p7=symbol(NIL),p8=symbol(NIL),p9=symbol(NIL),std_symbol("abs",ABS),std_symbol("add",ADD),std_symbol("adj",ADJ),std_symbol("and",AND),std_symbol("approxratio",APPROXRATIO),std_symbol("arccos",ARCCOS),std_symbol("arccosh",ARCCOSH),std_symbol("arcsin",ARCSIN),std_symbol("arcsinh",ARCSINH),std_symbol("arctan",ARCTAN),std_symbol("arctanh",ARCTANH),std_symbol("arg",ARG),std_symbol("atomize",ATOMIZE),std_symbol("besselj",BESSELJ),std_symbol("bessely",BESSELY),std_symbol("binding",BINDING),std_symbol("binomial",BINOMIAL),std_symbol("ceiling",CEILING),std_symbol("check",CHECK),std_symbol("choose",CHOOSE),std_symbol("circexp",CIRCEXP),std_symbol("clear",CLEAR),std_symbol("clearall",CLEARALL),std_symbol("clearpatterns",CLEARPATTERNS),std_symbol("clock",CLOCK),std_symbol("coeff",COEFF),std_symbol("cofactor",COFACTOR),std_symbol("condense",CONDENSE),std_symbol("conj",CONJ),std_symbol("contract",CONTRACT),std_symbol("cos",COS),std_symbol("cosh",COSH),std_symbol("decomp",DECOMP),std_symbol("defint",DEFINT),std_symbol("deg",DEGREE),std_symbol("denominator",DENOMINATOR),std_symbol("det",DET),std_symbol("derivative",DERIVATIVE),std_symbol("dim",DIM),std_symbol("dirac",DIRAC),std_symbol("divisors",DIVISORS),std_symbol("do",DO),std_symbol("dot",DOT),std_symbol("draw",DRAW),std_symbol("dsolve",DSOLVE),std_symbol("erf",ERF),std_symbol("erfc",ERFC),std_symbol("eigen",EIGEN),std_symbol("eigenval",EIGENVAL),std_symbol("eigenvec",EIGENVEC),std_symbol("eval",EVAL),std_symbol("exp",EXP),std_symbol("expand",EXPAND),std_symbol("expcos",EXPCOS),std_symbol("expsin",EXPSIN),std_symbol("factor",FACTOR),std_symbol("factorial",FACTORIAL),std_symbol("factorpoly",FACTORPOLY),std_symbol("filter",FILTER),std_symbol("float",FLOATF),std_symbol("floor",FLOOR),std_symbol("for",FOR),std_symbol("function",FUNCTION),std_symbol("Gamma",GAMMA),std_symbol("gcd",GCD),std_symbol("hermite",HERMITE),std_symbol("hilbert",HILBERT),std_symbol("imag",IMAG),std_symbol("component",INDEX),std_symbol("inner",INNER),std_symbol("integral",INTEGRAL),std_symbol("inv",INV),std_symbol("invg",INVG),std_symbol("isinteger",ISINTEGER),std_symbol("isprime",ISPRIME),std_symbol("laguerre",LAGUERRE),std_symbol("lcm",LCM),std_symbol("leading",LEADING),std_symbol("legendre",LEGENDRE),std_symbol("log",LOG),std_symbol("lookup",LOOKUP),std_symbol("mod",MOD),std_symbol("multiply",MULTIPLY),std_symbol("not",NOT),std_symbol("nroots",NROOTS),std_symbol("number",NUMBER),std_symbol("numerator",NUMERATOR),std_symbol("operator",OPERATOR),std_symbol("or",OR),std_symbol("outer",OUTER),std_symbol("pattern",PATTERN),std_symbol("patternsinfo",PATTERNSINFO),std_symbol("polar",POLAR),std_symbol("power",POWER),std_symbol("prime",PRIME),std_symbol("print",PRINT),std_symbol("print2dascii",PRINT2DASCII),std_symbol("printcomputer",PRINTFULL),std_symbol("printlatex",PRINTLATEX),std_symbol("printlist",PRINTLIST),std_symbol("printhuman",PRINTPLAIN),std_symbol("printLeaveEAlone",PRINT_LEAVE_E_ALONE),std_symbol("printLeaveXAlone",PRINT_LEAVE_X_ALONE),std_symbol("product",PRODUCT),std_symbol("quote",QUOTE),std_symbol("quotient",QUOTIENT),std_symbol("rank",RANK),std_symbol("rationalize",RATIONALIZE),std_symbol("real",REAL),std_symbol("rect",YYRECT),std_symbol("roots",ROOTS),std_symbol("round",ROUND),std_symbol("equals",SETQ),std_symbol("sgn",SGN),std_symbol("silentpattern",SILENTPATTERN),std_symbol("simplify",SIMPLIFY),std_symbol("sin",SIN),std_symbol("sinh",SINH),std_symbol("shape",SHAPE),std_symbol("sqrt",SQRT),std_symbol("stop",STOP),std_symbol("subst",SUBST),std_symbol("sum",SUM),std_symbol("symbolsinfo",SYMBOLSINFO),std_symbol("tan",TAN),std_symbol("tanh",TANH),std_symbol("taylor",TAYLOR),std_symbol("test",TEST),std_symbol("testeq",TESTEQ),std_symbol("testge",TESTGE),std_symbol("testgt",TESTGT),std_symbol("testle",TESTLE),std_symbol("testlt",TESTLT),std_symbol("transpose",TRANSPOSE),std_symbol("unit",UNIT),std_symbol("zero",ZERO),std_symbol("nil",NIL),std_symbol("autoexpand",AUTOEXPAND),std_symbol("bake",BAKE),std_symbol("assumeRealVariables",ASSUME_REAL_VARIABLES),std_symbol("last",LAST),std_symbol("lastprint",LAST_PRINT),std_symbol("last2dasciiprint",LAST_2DASCII_PRINT),std_symbol("lastfullprint",LAST_FULL_PRINT),std_symbol("lastlatexprint",LAST_LATEX_PRINT),std_symbol("lastlistprint",LAST_LIST_PRINT),std_symbol("lastplainprint",LAST_PLAIN_PRINT),std_symbol("trace",TRACE),std_symbol("forceFixedPrintout",FORCE_FIXED_PRINTOUT),std_symbol("maxFixedPrintoutDigits",MAX_FIXED_PRINTOUT_DIGITS),std_symbol("~",YYE),std_symbol("$DRAWX",DRAWX),std_symbol("$METAA",METAA),std_symbol("$METAB",METAB),std_symbol("$METAX",METAX),std_symbol("$SECRETX",SECRETX),std_symbol("version",VERSION),std_symbol("pi",PI),std_symbol("a",SYMBOL_A),std_symbol("b",SYMBOL_B),std_symbol("c",SYMBOL_C),std_symbol("d",SYMBOL_D),std_symbol("i",SYMBOL_I),std_symbol("j",SYMBOL_J),std_symbol("n",SYMBOL_N),std_symbol("r",SYMBOL_R),std_symbol("s",SYMBOL_S),std_symbol("t",SYMBOL_T),std_symbol("x",SYMBOL_X),std_symbol("y",SYMBOL_Y),std_symbol("z",SYMBOL_Z),std_symbol("I",SYMBOL_IDENTITY_MATRIX),std_symbol("a_",SYMBOL_A_UNDERSCORE),std_symbol("b_",SYMBOL_B_UNDERSCORE),std_symbol("x_",SYMBOL_X_UNDERSCORE),std_symbol("$C1",C1),std_symbol("$C2",C2),std_symbol("$C3",C3),std_symbol("$C4",C4),std_symbol("$C5",C5),std_symbol("$C6",C6),defineSomeHandyConstants(),i=codeGen,codeGen=!1,t=r=0,n=defn_str.length;0<=n?r<n:r>n;t=0<=n?++r:--r)e=defn_str[t],scan(e),DEBUG&&(console.log("... evaling "+e),console.log("top of stack:"),console.log(print_list(stack[tos-1]))),Eval(),pop();return codeGen=i},defineSomeHandyConstants=function(){return zero=new_integer(0),one=new_integer(1),push_double(1),one_as_double=pop(),push_symbol(POWER),DEBUG&&console.log(print_list(stack[tos-1])),push_integer(-1),DEBUG&&console.log(print_list(stack[tos-1])),push_rational(1,2),DEBUG&&console.log(print_list(stack[tos-1])),list(3),DEBUG&&console.log(print_list(stack[tos-1])),imaginaryunit=pop()},mcmp=function(e,t){return e.compare(t)},mcmpint=function(e,t){var r;return r=bigInt(t),mcmp(e,r)},strcmp=function(e,t){return e===t?0:e>t?1:-1},doubleToReasonableString=function(e){var t,r;return codeGen?""+e:(isZeroAtomOrTensor(get_binding(symbol(FORCE_FIXED_PRINTOUT)))?(r=""+e,r=printMode===PRINTMODE_LATEX?/\d*\.\d*e.*/gm.test(r)?r.replace(/e(.*)/gm,"\\mathrm{e}{$1}"):r.replace(/(\d+)e(.*)/gm,"$1.0\\mathrm{e}{$2}"):/\d*\.\d*e.*/gm.test(r)?r.replace(/e(.*)/gm,"*10^($1)"):r.replace(/(\d+)e(.*)/gm,"$1.0*10^($2)")):(push(get_binding(symbol(MAX_FIXED_PRINTOUT_DIGITS))),t=pop_integer(),-1===(r=(r=(r=""+e.toFixed(t)).replace(/(\.\d*?[1-9])0+$/gm,"$1")).replace(/\.0+$/gm,"")).indexOf(".")&&(r+=".0"),parseFloat(r)!==e&&(r=e.toFixed(t)+"...")),r)},clear_term=function(){},isspace=function(e){return null!=e&&(" "===e||"\t"===e||"\n"===e||"\v"===e||"\f"===e||"\r"===e)},isdigit=function(e){return null!=e&&/^\d+$/.test(e)},isalpha=function(e){return null!=e&&-1===e.search(/[^A-Za-z]/)},isalphaOrUnderscore=function(e){return null!=e&&-1===e.search(/[^A-Za-z_]/)},isunderscore=function(e){return null!=e&&-1===e.search(/_/)},isalnumorunderscore=function(e){return null!=e&&(isalphaOrUnderscore(e)||isdigit(e))},count=function(e){var t;if(iscons(e))for(t=0;iscons(e);)t+=count(car(e))+1,e=cdr(e);else t=1;return t},countOccurrencesOfSymbol=function(e,t){var r;if(r=0,iscons(t))for(;iscons(t);)r+=countOccurrencesOfSymbol(e,car(t)),t=cdr(t);else equal(e,t)&&(r=1);return r},countsize=function(e){var t,r,i,n;if(i=0,istensor(e))for(t=r=0,n=e.tensor.nelem;0<=n?r<n:r>n;t=0<=n?++r:--r)i+=e.tensor.elem[t];else if(iscons(e))for(;iscons(e);)i+=count(car(e))+1,e=cdr(e);else i=1;return i},stop=function(e){var t;throw errorMessage+="Stop: ",t=errorMessage+=e,errorMessage="",moveTos(0),new Error(t)},findDependenciesInScript=function(e,t){var r,i,n,o,s,a,c,l,p,u,f,d,h,b,$,m,g,x,v,y,_,E,k,S,w,A,T,M,C,P,I,N,O,L,q,D,R,B,U,G,F,z,V,j,H,X,W;for(DEBUG&&console.log("stringToBeParsed: "+e),z=(new Date).getTime(),!0,codeGen=!0,symbolsDependencies={},symbolsHavingReassignments=[],symbolsInExpressionsWithoutAssignments=[],patternHasBeenFound=!1,f=0,"","",k=0,o={affectsVariables:[],affectedBy:[]},U=e;;){try{errorMessage="",check_stack(),DEBUG&&console.log("findDependenciesInScript: scanning"),k=scan(e.substring(f)),DEBUG&&console.log("scanned"),pop(),check_stack()}catch(e){a=e,PRINTOUTRESULT&&console.log(a),errorMessage=a+"",reset_after_error();break}if(0===k)break;f+=k}for(d in F="",DEBUG&&console.log("all local dependencies ----------------"),F+="All local dependencies: ",symbolsDependencies){for(X=symbolsDependencies[d],DEBUG&&console.log("variable "+d+" depends on: "),o.affectsVariables.push(d),F+=" variable "+d+" depends on: ",h=0,b=X.length;h<b;h++)p=X[h],DEBUG&&console.log("    "+p),"'"!==p[0]&&o.affectedBy.push(p),F+=p+", ";F+="; "}for(F+=". ",DEBUG&&console.log("Symbols with reassignments ----------------"),F+="Symbols with reassignments: ",E=0,$=symbolsHavingReassignments.length;E<$;E++)d=symbolsHavingReassignments[E],-1===o.affectedBy.indexOf(d)&&(o.affectedBy.push(d),F+=d+", ");for(F+=". ",DEBUG&&console.log("Symbols in expressions without assignments ----------------"),F+="Symbols in expressions without assignments: ",S=0,m=symbolsInExpressionsWithoutAssignments.length;S<m;S++)d=symbolsInExpressionsWithoutAssignments[S],-1===o.affectedBy.indexOf(d)&&(o.affectedBy.push(d),F+=d+", ");if(F+=". ",o.affectedBy.push("PATTERN_DEPENDENCY"),patternHasBeenFound&&(o.affectsVariables.push("PATTERN_DEPENDENCY"),F+=" - PATTERN_DEPENDENCY inserted - "),DEBUG&&console.log("All dependencies recursively ----------------"),F+="All dependencies recursively: ",B=["",""],l="",N="",""===errorMessage&&!t){try{"","",B=run(e,!0),"",""}catch(e){a=e,PRINTOUTRESULT&&console.log(a),errorMessage=a+"",init()}if(""===errorMessage)for(d in symbolsDependencies){for(codeGen=!0,DEBUG&&console.log("  variable "+d+" is: "+get_binding(usr_symbol(d)).toString()),codeGen=!1,DEBUG&&console.log("  variable "+d+" depends on: "),F+=" variable "+d+" depends on: ",recursiveDependencies(d,O=[],[],W=[],[],i=[]),A=0,g=W.length;A<g;A++)p=W[A],DEBUG&&console.log("    --\x3e cycle through "+p);for(P=0,x=O.length;P<x;P++)p=O[P],DEBUG&&console.log("    "+p),F+=p+", ";for(F+="; ",I=0,v=i.length;I<v;I++)F+=" "+(p=i[I])+", ";for(DEBUG&&console.log("  code generation:"+d+" is: "+get_binding(usr_symbol(d)).toString()),push(get_binding(usr_symbol(d))),q=[],D=[],R=0,y=O.length;R<y;R++)"'"===(s=O[R])[0]&&(n=s.substring(1),M=usr_symbol(n),w=usr_symbol("AVOID_BINDING_TO_EXTERNAL_SCOPE_VALUE"+n),q.push(M),D.push(w),push(M),push(w),subst(),DEBUG&&console.log("after substitution: "+stack[tos-1]));try{simplifyForCodeGeneration()}catch(e){a=e,PRINTOUTRESULT&&console.log(a),errorMessage=a+"",init()}for(u=G=0,L=q.length;0<=L?G<L:G>L;u=0<=L?++G:--G)push(D[u]),push(q[u]),subst();if(clearRenamedVariablesToAvoidBindingToExternalScope(),""===errorMessage){if(V=pop(),collectUserSymbols(V,H=[]),"","",codeGen=!0,c=V.toString(),codeGen=!1,T=printMode,printMode=PRINTMODE_LATEX,r=V.toString(),printMode=T,-1!==W.indexOf(d))l+="// "+d+" is part of a cyclic dependency, no code generated.",N+="#"+d+" is part of a cyclic dependency, no code generated.";else if(0!==(H=(H=H.filter((function(e){return-1===predefinedSymbolsInGlobalScope_doNotTrackInDependencies.indexOf(e+"")}))).filter((function(e){return-1!==O.indexOf(e+"")||-1!==O.indexOf("'"+e)}))).length){for(C="(",j=0,_=H.length;j<_;j++)(p=H[j]).printname!==d&&(C+=p.printname+", ");C=C.replace(/, $/gm,""),l+=d+" = function "+(C+=")")+" { return ( "+c+" ); }",N+=d+C+" = "+r}else l+=d+" = "+c+";",N+=d+" = "+r;l+="\n",N+="\n",DEBUG&&console.log("    "+l)}}}return l=l.replace(/\n$/gm,""),N=N.replace(/\n$/gm,""),symbolsDependencies={},symbolsHavingReassignments=[],patternHasBeenFound=!1,symbolsInExpressionsWithoutAssignments=[],DEBUG&&console.log("testable string: "+F),TIMING_DEBUGS&&console.log("findDependenciesInScript time for: "+U+" : "+((new Date).getTime()-z)+"ms"),[F,B[0],l,N,B[1],errorMessage,o]},recursiveDependencies=function(e,t,r,i,n,o){var s,a,c,l,p,u,f,d;if(r.push(e),null!=symbolsDependencies[n[n.length-1]]&&-1!==symbolsDependencies[n[n.length-1]].indexOf("'"+e))return DEBUG&&console.log("can't keep following the chain of "+e+" because it's actually a variable bound to a parameter"),-1===t.indexOf("'"+e)&&-1===t.indexOf(e)&&t.push(e),t;if(n.push(e),null==symbolsDependencies[e])return-1===t.indexOf(e)&&t.push(e),t;for(l=0,p=(d=symbolsDependencies[e]).length;l<p;l++)if(a=d[l],-1!==n.indexOf(a)){for(DEBUG&&console.log("  found cycle:"),s="",f=0,u=n.length;f<u;f++)c=n[f],-1===i.indexOf(c)&&i.push(c),DEBUG&&console.log(c+" --\x3e "),s+=c+" --\x3e ";DEBUG&&console.log(" ... then "+a+" again"),s+=" ... then "+a+" again",o.push(s),-1===i.indexOf(a)&&i.push(a)}else recursiveDependencies(a,t,r,i,n,o),n.pop();return t},inited=!1,latexErrorSign="\\rlap{\\large\\color{red}\\bigtriangleup}{\\ \\ \\tiny\\color{red}!}",turnErrorMessageToLatex=function(e){return e="$$\\text{"+(e=(e=(e=(e=(e=(e=(e=e.replace(/\n/g,"")).replace(/_/g,"} \\_ \\text{")).replace(new RegExp(String.fromCharCode(transpose_unicode),"g"),"}{}^{T}\\text{")).replace(new RegExp(String.fromCharCode(dotprod_unicode),"g"),"}\\cdot \\text{")).replace("Stop:","}  \\quad \\text{Stop:")).replace("->","}  \\rightarrow \\text{")).replace("?","}\\enspace "+latexErrorSign+" \\enspace  \\text{")).replace(/\n/g,"")+"}$$"},normaliseDots=function(e){return e=(e=(e=(e=(e=e.replace(new RegExp(String.fromCharCode(8901),"g"),String.fromCharCode(dotprod_unicode))).replace(new RegExp(String.fromCharCode(8226),"g"),String.fromCharCode(dotprod_unicode))).replace(new RegExp(String.fromCharCode(12539),"g"),String.fromCharCode(dotprod_unicode))).replace(new RegExp(String.fromCharCode(55296),"g"),String.fromCharCode(dotprod_unicode))).replace(new RegExp(String.fromCharCode(65381),"g"),String.fromCharCode(dotprod_unicode))},TIMING_DEBUGS=!1,run=function(e,t=!1){var r,i,n,o,s,a,c,l,p,u;if(p=(new Date).getTime(),"selftest"!==(e=normaliseDots(e))){for(inited||(inited=!0,init()),0,c=0,a=0,i="",r="";;){try{errorMessage="",check_stack(),c=scan(e.substring(a)),p1=pop(),check_stack()}catch(e){s=e,PRINTOUTRESULT&&console.log(s),i+=s.message,t&&(r+=turnErrorMessageToLatex(s.message)),reset_after_error();break}if(0===c)break;a+=c,push(p1),!1;try{stringsEmittedByUserPrintouts="",top_level_eval(),p2=pop(),check_stack(),isstr(p2)&&(DEBUG&&console.log(p2.str),DEBUG&&console.log("\n")),p2===symbol(NIL)?(o=stringsEmittedByUserPrintouts,t&&(n="$$"+stringsEmittedByUserPrintouts+"$$")):(o=print_expr(p2),o+="\n",t&&(n="$$"+collectLatexStringFromReturnValue(p2)+"$$",DEBUG&&console.log("collectedLatexResult: "+n))),i+=o,t&&(r+=n),PRINTOUTRESULT&&(DEBUG&&console.log("printline"),DEBUG&&console.log(o)),PRINTOUTRESULT&&(DEBUG&&console.log("display:"),print2dascii(p2)),t&&(r+="\n")}catch(e){!0,o=(s=e).message,t&&(n=turnErrorMessageToLatex(s.message)),PRINTOUTRESULT&&console.log(o),i+=o,""!==o&&(i+="\n"),t&&(r+=n,r+="\n"),init()}}return"\n"===i[i.length-1]&&(i=i.substring(0,i.length-1)),t&&"\n"===r[r.length-1]&&(r=r.substring(0,r.length-1)),t?(DEBUG&&console.log("allReturnedLatexStrings: "+r),l=[i,r]):l=i,TIMING_DEBUGS&&(u="run time on: "+e+" : "+((new Date).getTime()-p)+"ms",console.log(u)),i="",r="",l}selftest()},check_stack=function(){if(0!==tos&&stop("stack error"),frame!==TOS&&stop("frame error"),0!==chainOfUserSymbolsNotFunctionsBeingEvaluated.length&&stop("symbols evaluation still ongoing?"),0!==evaluatingAsFloats&&stop("numeric evaluation still ongoing?"),0!==evaluatingPolar)return stop("evaluation of polar still ongoing?")},top_level_eval=function(){var e,t,r;if(DEBUG&&console.log("#### top level eval"),trigmode=0,r=symbol(AUTOEXPAND),expanding=isZeroAtomOrTensor(get_binding(r))?0:1,t=top(),Eval(),(e=top())!==symbol(NIL))if(set_binding(symbol(LAST),e),isZeroAtomOrTensor(get_binding(symbol(BAKE)))||(bake(),e=top()),t!==symbol(SYMBOL_I)&&t!==symbol(SYMBOL_J)||!isimaginaryunit(e)){if(isimaginaryunit(get_binding(symbol(SYMBOL_J))))return push(imaginaryunit),push_symbol(SYMBOL_J),subst();if(isimaginaryunit(get_binding(symbol(SYMBOL_I))))return push(imaginaryunit),push_symbol(SYMBOL_I),subst()}else;},check_esc_flag=function(){if(esc_flag)return stop("esc key")},clearAlgebraEnvironment=function(){return do_clearall()},computeDependenciesFromAlgebra=function(e){var t,r,i;if(DEBUG&&console.log("computeDependenciesFromAlgebra!!!"),e,!0,called_from_Algebra_block=!0,e=normaliseDots(e),DEBUG){for(console.log("computeDependenciesFromAlgebra: patterns in the list --------------- "),i=0,r=userSimplificationsInListForm.length;i<r;i++)t=userSimplificationsInListForm[i],console.log(car(t)+","+cdr(t)+")");console.log("...end of list --------------- ")}return called_from_Algebra_block=!1,findDependenciesInScript(e,!0)[6]},computeResultsAndJavaScriptFromAlgebra=function(e){var t,r,i,n,o,s,a,c,l,p,u;if(e,!0,called_from_Algebra_block=!0,u=(new Date).getTime(),TIMING_DEBUGS&&console.log(" --------- computeResultsAndJavaScriptFromAlgebra input: "+e+" at: "+new Date),l=e=normaliseDots(e),DEBUG){for(console.log("computeResultsAndJavaScriptFromAlgebra: patterns in the list --------------- "),n=0,s=userSimplificationsInListForm.length;n<s;n++)i=userSimplificationsInListForm[n],console.log(car(i)+","+cdr(i)+")");console.log("...end of list --------------- ")}return[p,c,t,a,o,errorMessage,r]=findDependenciesInScript(e),called_from_Algebra_block=!1,""===a&&""===errorMessage||(c+="\n"+a,""!==errorMessage&&(c+="\n"+errorMessage),c=c.replace(/\n/g,"\n\n"),o+="\n$$"+a+"$$",""!==errorMessage&&(o+=turnErrorMessageToLatex(errorMessage)),o=o.replace(/\n/g,"\n\n")),o=(o=o.replace(/\n*/,"")).replace(/\$\$\$\$\n*/g,""),t=(t=t.replace(/Math\./g,"")).replace(/\n/g,"\n\n"),TIMING_DEBUGS&&console.log("computeResultsAndJavaScriptFromAlgebra time (total time from notebook and back) for: "+l+" : "+((new Date).getTime()-u)+"ms"),{code:t,result:o,latexResult:o,dependencyInfo:r}},(null!=exports?exports:this).run=run,(null!=exports?exports:this).findDependenciesInScript=findDependenciesInScript,(null!=exports?exports:this).computeDependenciesFromAlgebra=computeDependenciesFromAlgebra,(null!=exports?exports:this).computeResultsAndJavaScriptFromAlgebra=computeResultsAndJavaScriptFromAlgebra,(null!=exports?exports:this).clearAlgebraEnvironment=clearAlgebraEnvironment,tos=0,nil_symbols=0,push=function(e){return e.isZero,e===symbol(NIL)&&(nil_symbols++,DEBUG&&console.log("pushing symbol(NIL) #"+nil_symbols)),tos>=frame&&stop("stack overflow"),stack[tos++]=e},moveTos=function(e){if(tos<=e)tos=e;else for(;tos>e;)stack[tos]=null,tos--},top=function(){return stack[tos-1]},pop=function(){var e;return 0===tos&&stop("stack underflow"),stack[tos-1],e=stack[--tos],stack[tos]=null,e},push_frame=function(e){var t,r,i,n;for(t=0,(frame-=e)<tos&&stop("frame overflow, circular reference?"),n=[],t=r=0,i=e;0<=i?r<i:r>i;t=0<=i?++r:--r)n.push(stack[frame+t]=symbol(NIL));return n},pop_frame=function(e){if((frame+=e)>TOS)return stop("frame underflow")},save=function(){return(frame-=10)<tos&&stop("frame overflow, circular reference?"),stack[frame+0]=p0,stack[frame+1]=p1,stack[frame+2]=p2,stack[frame+3]=p3,stack[frame+4]=p4,stack[frame+5]=p5,stack[frame+6]=p6,stack[frame+7]=p7,stack[frame+8]=p8,stack[frame+9]=p9},restore=function(){return frame>TOS-10&&stop("frame underflow"),p0=stack[frame+0],p1=stack[frame+1],p2=stack[frame+2],p3=stack[frame+3],p4=stack[frame+4],p5=stack[frame+5],p6=stack[frame+6],p7=stack[frame+7],p8=stack[frame+8],p9=stack[frame+9],frame+=10},swap=function(){var e,t;return e=pop(),t=pop(),push(e),push(t)},dupl=function(){var e;return e=pop(),push(e),push(e)},$.dupl=dupl,$.swap=swap,$.restore=restore,$.save=save,$.push=push,$.pop=pop,Eval_symbolsinfo=function(){var e;return""!==(e=symbolsinfo())?push(new_string(e)):push_symbol(NIL)},symbolsinfo=function(){var e,t,r,i,n,o,s;for(o="",t=r=i=NIL+1,n=symtab.length;i<=n?r<n:r>n;t=i<=n?++r:--r)if(""!==symtab[t].printname)s=symtab[t]+"",e=(binding[t]+"").substring(0,4),o+="symbol: "+s+" size: "+countsize(binding[t])+" value: "+e+"...\n";else if(!1===isSymbolReclaimable[t])break;return o},std_symbol=function(e,t,r){var i;return(i=symtab[t]).printname=e,i.latexPrint=null!=r?r:e},usr_symbol=function(e){var t,r,i;for(t=0,t=r=0,i=NSYM;0<=i?r<i:r>i;t=0<=i?++r:--r){if(e===symtab[t].printname)return symtab[t];if(""===symtab[t].printname)break}return t===NSYM&&stop("symbol table overflow"),symtab[t]=new U,symtab[t].k=SYM,symtab[t].printname=e,binding[t]=symtab[t],isSymbolReclaimable[t]=!1,symtab[t]},get_printname=function(e){return e.k!==SYM&&stop("symbol error"),e.printname},set_binding=function(e,t){var r;return e.k!==SYM&&stop("symbol error"),r=symtab.indexOf(e),-1!==symtab.indexOf(e,r+1)&&console.log("ops, more than one element!"),DEBUG&&console.log("lookup >> set_binding lookup "+r),isSymbolReclaimable[r]=!1,binding[r]=t},get_binding=function(e){var t;return e.k!==SYM&&stop("symbol error"),t=symtab.indexOf(e),-1!==symtab.indexOf(e,t+1)&&console.log("ops, more than one element!"),DEBUG&&console.log("lookup >> get_binding lookup "+t),binding[t]},is_usr_symbol=function(e){var t;return e.k===SYM&&((t=symnum(e))>PI&&t!==SYMBOL_I&&t!==SYMBOL_IDENTITY_MATRIX)},lookupsTotal=0,symnum=function(e){var t;return lookupsTotal++,e.k!==SYM&&stop("symbol error"),t=symtab.indexOf(e),-1!==symtab.indexOf(e,t+1)&&console.log("ops, more than one element!"),DEBUG&&console.log("lookup >> symnum lookup "+t+" lookup # "+lookupsTotal),t},push_symbol=function(e){return push(symtab[e])},clear_symbols=function(){var e,t,r,i,n;for(n=[],e=t=r=NIL+1,i=NSYM;r<=i?t<i:t>i;e=r<=i?++t:--t)if(""!==symtab[e].printname)symtab[e]=new U,symtab[e].k=SYM,binding[e]=symtab[e],n.push(isSymbolReclaimable[e]=!1);else if(!1===isSymbolReclaimable[e])break;return n},collectUserSymbols=function(e,t=[]){var r,i,n;if(is_usr_symbol(e)&&-1===t.indexOf(e))t.push(e);else if(istensor(e))for(r=i=0,n=e.tensor.nelem;0<=n?i<n:i>n;r=0<=n?++i:--i)collectUserSymbols(e.tensor.elem[r],t);else for(;iscons(e);)collectUserSymbols(car(e),t),e=cdr(e)},$.get_binding=get_binding,$.set_binding=set_binding,$.usr_symbol=usr_symbol,$.symbolsinfo=symbolsinfo,$.collectUserSymbols=collectUserSymbols,inited||(inited=!0,init()),$.init=init,parse_internal=function(e){return"string"==typeof e?scan(e):"number"==typeof e?e%1==0?push_integer(e):push_double(e):e instanceof U?push(e):(console.warn("unknown argument type",e),push(symbol(NIL)))},parse=function(e){var t,r;try{parse_internal(e),t=pop(),check_stack()}catch(e){throw r=e,reset_after_error(),r}return t},exec=function(e,...t){var r,i,n,o,s,a;for(n=get_binding(usr_symbol(e)),check_stack(),push(n),o=0,s=t.length;o<s;o++)r=t[o],parse_internal(r);list(1+t.length),p1=pop(),push(p1);try{top_level_eval(),a=pop(),check_stack()}catch(e){throw i=e,reset_after_error(),i}return a},$.exec=exec,$.parse=parse,function(){var e,t,r,i,n;for(n=[],r=0,i=(e=["abs","add","adj","and","approxratio","arccos","arccosh","arcsin","arcsinh","arctan","arctanh","arg","atomize","besselj","bessely","binding","binomial","ceiling","check","choose","circexp","clear","clearall","clearpatterns","clock","coeff","cofactor","condense","conj","contract","cos","cosh","decomp","defint","deg","denominator","det","derivative","dim","dirac","divisors","do","dot","draw","dsolve","eigen","eigenval","eigenvec","erf","erfc","eval","exp","expand","expcos","expsin","factor","factorial","factorpoly","filter","float","floor","for","Gamma","gcd","hermite","hilbert","imag","component","inner","integral","inv","invg","isinteger","isprime","laguerre","lcm","leading","legendre","log","mod","multiply","not","nroots","number","numerator","operator","or","outer","pattern","patternsinfo","polar","power","prime","print","print2dascii","printcomputer","printlatex","printlist","printhuman","product","quote","quotient","rank","rationalize","real","rect","roots","round","equals","shape","sgn","silentpattern","simplify","sin","sinh","sqrt","stop","subst","sum","symbolsinfo","tan","tanh","taylor","test","testeq","testge","testgt","testle","testlt","transpose","unit","zero"]).length;r<i;r++)t=e[r],n.push($[t]=exec.bind(this,t))}(),freeze=function(){var e,t,r,i,n;for(t=[],e=[],[],"",r=i=0,n=symtab.length;0<=n?i<n:i>n;r=0<=n?++i:--i)!1===isSymbolReclaimable[r]&&(t.push(symtab[r]),e.push(binding[r]));return[t,e,userSimplificationsInListForm.slice(0),zero,one,imaginaryunit,getStateHash()]},unfreeze=function(e){var t,r,i,n,o,s;for([i,t,r,zero,one,imaginaryunit]=e,n=o=0,s=i.length;0<=s?o<s:o>s;n=0<=s?++o:--o)symtab[n]=i[n],binding[n]=t[n];return userSimplificationsInListForm=r.slice(0)},compareState=function(e){return getStateHash()===e},getStateHash=function(){var e,t,r,i,n,o,s;for(e="",t=r=o=NIL+1,s=symtab.length;o<=s?r<s:r>s;t=o<=s?++r:--r)if(""!==symtab[t].printname)e+=" //"+print_list(symtab[t])+" : "+print_list(binding[t]);else if(!1===isSymbolReclaimable[t])break;for(n=0,i=userSimplificationsInListForm.length;n<i;n++)e+=" pattern: "+(t=userSimplificationsInListForm[n]);return DEBUG&&console.log("frozenHash: "+e),e}}.call(this),module.exports}.call({}),$32cd25236d43f1b3a1781e9ee2d34286$$interop$default=$parcel$interopDefault($32cd25236d43f1b3a1781e9ee2d34286$exports);const $cf7a0e0dfc1e90c0e915b74752829335$var$epsilon=1e-6;function $cf7a0e0dfc1e90c0e915b74752829335$export$egal(e,t,r=$cf7a0e0dfc1e90c0e915b74752829335$var$epsilon){return Math.abs(e-t)<r}function $cf7a0e0dfc1e90c0e915b74752829335$export$estentier(e,t=$cf7a0e0dfc1e90c0e915b74752829335$var$epsilon){return Math.abs($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e-Math.round(e)))<t}function $cf7a0e0dfc1e90c0e915b74752829335$export$quotientier(e,t){if(Number.isInteger(e)&&Number.isInteger(t)){let r=e,i=0;for(;r>=t;)r-=t,i++;return i}return!1}class $cf7a0e0dfc1e90c0e915b74752829335$var$NombreDecimal{constructor(e){e<0?(this.signe="-",e=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-e)):this.signe="+",this.exposant=Math.floor(Math.log10(e)),e/=10**this.exposant,this.mantisse=[];for(let t=0;t<16&&($cf7a0e0dfc1e90c0e915b74752829335$export$egal(Math.ceil(e)-e,0,1e-5)?(this.mantisse.push(Math.ceil(e)),e=10*(this.mantisse[t]-e)):(this.mantisse.push(Math.floor(e)),e=10*(e-this.mantisse[t])),!$cf7a0e0dfc1e90c0e915b74752829335$export$egal(e,0,.001));t++);}get valeur(){return this.recompose()}recompose(){let e=0;for(let t=0;t<10;t++)e+=this.mantisse[t]*10**-t;return e*=10**this.exposant,"+"==this.signe?e:$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-e)}}function $cf7a0e0dfc1e90c0e915b74752829335$export$randint(e,t,r=[]){let i=t-e,n=Math.floor(Math.random()*(i+1));if(Number.isInteger(r)&&(r=[r]),r.length>0)for(;-1!=r.indexOf(e+n);)n=Math.floor(Math.random()*(i+1));return e+n}function $cf7a0e0dfc1e90c0e915b74752829335$export$enleve_element(e,t){for(var r=e.length-1;r>=0;r--)e[r]==t&&e.splice(r,1)}function $cf7a0e0dfc1e90c0e915b74752829335$export$choice(e,t=[]){let r=e.slice();for(let e=0;e<t.length;e++)$cf7a0e0dfc1e90c0e915b74752829335$export$enleve_element(r,t[e]);return r[Math.floor(Math.random()*r.length)]}function $cf7a0e0dfc1e90c0e915b74752829335$export$rangeMinMax(e,t,r=[],i=1){let n=[];for(let r=e;r<=t;r=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r+i))n.push(r);for(let e=0;e<r.length;e++)$cf7a0e0dfc1e90c0e915b74752829335$export$enleve_element(n,r[e]);return n}function $cf7a0e0dfc1e90c0e915b74752829335$export$shuffle(e){for(var t,r,i=e.length,n=e.slice();0!==i;)r=Math.floor(Math.random()*i),t=n[i-=1],n[i]=n[r],n[r]=t;return n}function $cf7a0e0dfc1e90c0e915b74752829335$var$cleExisteEtContient(e,t){return null!=e&&e.includes(t)}function $cf7a0e0dfc1e90c0e915b74752829335$export$ecriture_algebrique(e){let t="";return t=e>=0?"+"+$cf7a0e0dfc1e90c0e915b74752829335$export$tex_nombrec(e):$cf7a0e0dfc1e90c0e915b74752829335$export$tex_nombrec(e),t}function $cf7a0e0dfc1e90c0e915b74752829335$export$produit_matrice_vecteur_3x3(e,t){let r=[0,0,0];for(let i=0;i<3;i++)for(let n=0;n<3;n++)r[i]+=e[i][n]*t[n];return r}function $cf7a0e0dfc1e90c0e915b74752829335$export$unSiPositifMoinsUnSinon(e){return e<0?-1:1}function $cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e,t=2){let r=Math.pow(10,t);return Math.round(e*r)/r}function $cf7a0e0dfc1e90c0e915b74752829335$export$arrondi_virgule(e,t=2){let r=Math.pow(10,t);return String(Math.round(e*r)/r).replace(".",",")}function $cf7a0e0dfc1e90c0e915b74752829335$export$pgcd(e,t){return parseInt($32cd25236d43f1b3a1781e9ee2d34286$$interop$default.run(`gcd(${e},${t})`))}function $cf7a0e0dfc1e90c0e915b74752829335$export$fraction_simplifiee(e,t){let r=$cf7a0e0dfc1e90c0e915b74752829335$export$pgcd(e,t),i=e/r,n=t/r;return i<0&&n<0&&([i,n]=[-i,-n]),i>0&&n<0&&([i,n]=[-i,-n]),[i,n]}function $cf7a0e0dfc1e90c0e915b74752829335$export$obtenir_liste_facteurs_premiers(e){let t=[],r=$cf7a0e0dfc1e90c0e915b74752829335$export$obtenir_liste_nombres_premiers(),i=0;for(;e>1&&r[i]<=e;)e%r[i]==0?(t.push(r[i]),e/=r[i]):i++;return 0==t.length&&t.push(e),t}function $cf7a0e0dfc1e90c0e915b74752829335$export$factorisation(e){let t=$cf7a0e0dfc1e90c0e915b74752829335$export$obtenir_liste_facteurs_premiers(e),r=[],i=0;for(let e=0;e<t.length;)if(0==t[e])e++;else{r.push([t[e],1]),i++;for(let n=e+1;n<t.length;n++)t[n]==t[e]&&(r[i-1][1]++,t[n]=0);e++}return r}function $cf7a0e0dfc1e90c0e915b74752829335$export$extraire_racine_carree(e){let t=$cf7a0e0dfc1e90c0e915b74752829335$export$factorisation(e),r=1,i=1;for(let e=0;e<t.length;e++)t[e][1]%2==0?i*=t[e][0]**$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t[e][1]/2):t[e][1]>1?(i*=t[e][0]**$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((t[e][1]-1)/2),r*=t[e][0]):r*=t[e][0];return[i,r]}function $cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e,t=!1){return t?$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(parseFloat($32cd25236d43f1b3a1781e9ee2d34286$$interop$default.eval("float("+e+")")),t):parseFloat($32cd25236d43f1b3a1781e9ee2d34286$$interop$default.eval("float("+e+")"))}function $cf7a0e0dfc1e90c0e915b74752829335$export$tex_nombrec(e){return $cf7a0e0dfc1e90c0e915b74752829335$export$tex_nombre(parseFloat($32cd25236d43f1b3a1781e9ee2d34286$$interop$default.eval(e)))}function $cf7a0e0dfc1e90c0e915b74752829335$export$possedeUnCaractereInterdit(e,t){let r=!1;for(let i of t)for(let t=0;t<i.length;t++)e.indexOf(i[t])>-1&&(r=!0);return r}function $cf7a0e0dfc1e90c0e915b74752829335$export$choisit_nombres_entre_m_et_n(e,t,r,i=[]){let n;if(e>t)n=e,e=t,t=n;else if(e==t)return[t];r>t-e&&(r=t-e);let o=$cf7a0e0dfc1e90c0e915b74752829335$export$rangeMinMax(e,t,i);return o=$cf7a0e0dfc1e90c0e915b74752829335$export$shuffle(o),o=o.slice(0,r),o}function $cf7a0e0dfc1e90c0e915b74752829335$export$cesar(e,t){let r="",i=65;for(let n=0;n<e.length;n++)i=e.charCodeAt(n)%65,i=(i+t)%26+65,r+=String.fromCharCode(i);return r}function $cf7a0e0dfc1e90c0e915b74752829335$export$lettre_depuis_chiffre(e){let t="";return e<=26?t=String.fromCharCode(64+e):e%26==0?(t=String.fromCharCode(64+Math.floor(e/26)-1),t+=String.fromCharCode(90)):(t=String.fromCharCode(64+Math.floor(e/26)),t+=String.fromCharCode(64+e%26)),t}function $cf7a0e0dfc1e90c0e915b74752829335$export$lettre_minuscule_depuis_chiffre(e){return $cf7a0e0dfc1e90c0e915b74752829335$export$lettre_depuis_chiffre(e).toLowerCase()}function $cf7a0e0dfc1e90c0e915b74752829335$export$prenomF(e=1){return 1==e?$cf7a0e0dfc1e90c0e915b74752829335$export$choice(["Manon","Julie","Aude","Corinne","Léa","Carine","Elsa","Lisa","Marina","Magalie","Nawel","Dalila","Nadia","Yasmine"]):$cf7a0e0dfc1e90c0e915b74752829335$export$shuffle(["Manon","Julie","Aude","Corinne","Léa","Carine","Elsa","Lisa","Marina","Magalie","Nawel","Dalila","Nadia","Yasmine"]).slice(0,e)}function $cf7a0e0dfc1e90c0e915b74752829335$export$prenomM(e=1){return 1==e?$cf7a0e0dfc1e90c0e915b74752829335$export$choice(["Rémi","Benjamin","Guillaume","Christophe","Cyril","Kamel","Yazid","Mehdi","Karim","Bernard","Joachim","Jean-Claude"]):$cf7a0e0dfc1e90c0e915b74752829335$export$shuffle(["Rémi","Benjamin","Guillaume","Christophe","Cyril","Kamel","Yazid","Mehdi","Karim","Bernard","Joachim","Jean-Claude"]).slice(0,e)}Object.fromEntries||Object.defineProperty(Object,"fromEntries",{value:function(e){if(!e||!e[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");const t={};return Object.keys(e).forEach((r=>{const[i,n]=e[r];t[i]=n})),t}}),Math.degres=function(e){return 180*e/Math.PI},Math.radians=function(e){return e*Math.PI/180};class $cf7a0e0dfc1e90c0e915b74752829335$var$Personne{constructor({prenom:e="",genre:t="",pronom:r=""}={}){let i;this.prenom="",this.genre="",this.pronom="",""==e||void 0===e?(i=$cf7a0e0dfc1e90c0e915b74752829335$export$prenomPronom(),this.prenom=i[0],this.pronom=i[1]):""==r&&(this.pronom="on"),""==t&&("il"==this.pronom?this.genre="masculin":"elle"==this.pronom?this.genre="féminin":this.genre="neutre")}}function $cf7a0e0dfc1e90c0e915b74752829335$export$personne({prenom:e="",genre:t="",pronom:r=""}={}){return new $cf7a0e0dfc1e90c0e915b74752829335$var$Personne({prenom:e,genre:t,pronom:r})}function $cf7a0e0dfc1e90c0e915b74752829335$export$prenomPronom(){return $cf7a0e0dfc1e90c0e915b74752829335$export$choice([!0,!1])?[$cf7a0e0dfc1e90c0e915b74752829335$export$prenomM(1),"il"]:[$cf7a0e0dfc1e90c0e915b74752829335$export$prenomF(1),"elle"]}function $cf7a0e0dfc1e90c0e915b74752829335$export$jours_par_mois(e){return[31,28,31,30,31,30,31,31,30,31,30,31][e-1]}function $cf7a0e0dfc1e90c0e915b74752829335$export$tex_enumerate(e,t){let r="";if(e.length>1){r="\\begin{enumerate}\n",t>1&&(r+=`\\begin{spacing}{${t}}\n`);for(let t in e)r+="\t\\item "+e[t]+"\n";t>1&&(r+="\\end{spacing}\n"),r+="\\end{enumerate}\n"}else t>1&&(r+=`\\begin{spacing}{${t}}\n`),r+=e[0]+"\n",t>1&&(r+="\\end{spacing}\n");return r.replace(/<br><br>/g,"\n\n\\medskip\n").replace(/<br>/g,"\\\\\n").replace(/€/g,"\\euro{}")}function $cf7a0e0dfc1e90c0e915b74752829335$export$tex_paragraphe(e,t=!1){let r="";t>1&&(r=`\\begin{spacing}{${t}}\n`);for(let t in e)r+=`\t${e[t]}\\\\\n`;return t>1&&(r+="\\end{spacing}"),r.replace(/<br><br>/g,"\n\n\\medskip\n").replace(/<br>/g,"\\\\\n").replace(/€/g,"\\euro{}")}function $cf7a0e0dfc1e90c0e915b74752829335$export$tex_introduction(e){return e.replace(/<br><br>/g,"\n\n\\medskip\n").replace(/<br>/g,"\\\\\n")}function $cf7a0e0dfc1e90c0e915b74752829335$export$html_enumerate(e,t){let r="";if(e.length>1){r=t>1?`<ol style="line-height: ${t};">`:"<ol>";for(let t in e)r+="<li>"+e[t].replace(/\\dotfill/g,"..............................").replace(/\\not=/g,"≠").replace(/\\ldots/g,"....")+"</li>";r+="</ol>"}else 1==e.length&&(r=t>1?`<div style="line-height: ${t};">`:"<div>",r+=e[0].replace(/\\dotfill/g,"..............................").replace(/\\not=/g,"≠").replace(/\\ldots/g,"...."),r+="</div>");return r}function $cf7a0e0dfc1e90c0e915b74752829335$export$html_paragraphe(e){return e.length>1?`\n<p>${e}</p>\n\n`:""}function $cf7a0e0dfc1e90c0e915b74752829335$export$html_ligne(e,t){let r="";t>1&&(r=`<div style="line-height: ${t};">\n`);for(let t in e)r+="\t"+e[t].replace(/\\dotfill/g,"...")+"<br>";return t>1&&(r+="</div>\n"),r}function $cf7a0e0dfc1e90c0e915b74752829335$export$tex_multicols(e,t=2){let r;return r=t>1?"\\begin{multicols}{"+t+"}\n"+e+"\n\\end{multicols}":e,r}function $cf7a0e0dfc1e90c0e915b74752829335$export$html_consigne(e){return"<h4>"+e+"</h4>\n\n"}function $cf7a0e0dfc1e90c0e915b74752829335$export$tex_consigne(e){return"\\exo{"+e.replace(/<br>/g,"\\\\")+"}\n\n"}function $cf7a0e0dfc1e90c0e915b74752829335$export$tex_nombre(e){if(sortie_html)return Intl.NumberFormat("fr-FR",{maximumFractionDigits:20}).format(e).toString().replace(/\s+/g,"\\thickspace ");{let t;return t=e>999||$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_de_chiffres_dans_la_partie_decimale(e)>3?"\\numprint{"+e.toString().replace(".",",")+"}":e.toString().replace(".",","),t}}function $cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(e){if(sortie_html)return Intl.NumberFormat("fr-FR",{maximumFractionDigits:20}).format(e).toString().replace(/\s+/g," ");{let t;return t=e>999||$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_de_chiffres_dans_la_partie_decimale(e)>3?"\\numprint{"+e.toString().replace(".",",")+"}":e.toString().replace(".",","),t}}function $cf7a0e0dfc1e90c0e915b74752829335$export$string_nombre(e){let t,r=e.toString(),i=r.split(".")[0],n=r.split(".")[1],o="";if(i.length>3){for(t=0;t<Math.floor(i.length/3);t++)o=" "+i.slice(i.length-3*t-3,i.length-3*t)+o;o=i.slice(0,i.length-3*t)+o}else o=i;return" "==o[0]&&(o=o.substring(1,o.length)),null!=n&&(o+=","+n),o}function $cf7a0e0dfc1e90c0e915b74752829335$export$mise_en_evidence(e,t="#f15929"){return sortie_html?`\\mathbf{\\color{${t}}{${e}}}`:"#"==t[0]?`\\mathbf{\\color[HTML]{${t.replace("#","")}}${e}}`:`\\mathbf{\\color{${t.replace("#","")}}${e}}`}function $cf7a0e0dfc1e90c0e915b74752829335$export$nombre_de_chiffres_dans_la_partie_decimale(e){return String(e).indexOf(".")>0?String(e).split(".")[1].length:0}function $cf7a0e0dfc1e90c0e915b74752829335$export$nombre_de_chiffres_dans_la_partie_entiere(e){return String(e).indexOf(".")>0?String(e).split(".")[0].length:String(e).length}function $cf7a0e0dfc1e90c0e915b74752829335$export$tex_fraction_signe(e,t){return 1!=t?e*t>0?"\\dfrac{"+Math.abs(e)+"}{"+Math.abs(t)+"}":"-\\dfrac{"+Math.abs(e)+"}{"+Math.abs(t)+"}":e}function $cf7a0e0dfc1e90c0e915b74752829335$export$obtenir_liste_nombres_premiers(){return[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293]}function $cf7a0e0dfc1e90c0e915b74752829335$export$tex_fraction(e,t){return 1!=t?Number.isInteger(e)&&Number.isInteger(t)?`\\dfrac{${$cf7a0e0dfc1e90c0e915b74752829335$export$tex_nombre(e)}}{${$cf7a0e0dfc1e90c0e915b74752829335$export$tex_nombre(t)}}`:`\\dfrac{${e}}{${t}}`:e}function $cf7a0e0dfc1e90c0e915b74752829335$export$MG32_modifie_figure(e){let t=exercice[e].MG32code_pour_modifier_la_figure;1==window.mtg32App.docs.length&&(t=t.replace("display","updateDisplay")),new Function("numero_figure",t)(e)}function $cf7a0e0dfc1e90c0e915b74752829335$export$MG32_modifie_toutes_les_figures(){for(let e=0;e<liste_des_exercices.length;e++)"MG32"==exercice[e].type_exercice&&$cf7a0e0dfc1e90c0e915b74752829335$export$MG32_modifie_figure(e)}function $cf7a0e0dfc1e90c0e915b74752829335$export$SVG_Axe_vertical(e,t,r,i,n,o){e.line(i,t+2,i,r).stroke({color:"black",width:2,linecap:"round"});for(let s=0;s<n;s++){if(e.line(i-2,(r-t)/n*(n-s),i+2,(r-t)/n*(n-s)).stroke({color:"black",width:2,linecap:"round"}),1!=o)for(let a=1;a<o;a++){e.line(i-2,(r-t)/n*(n-s-a/o),i+2,(r-t)/n*(n-s-a/o)).stroke({color:"black",width:1,linecap:"round"})}}}function $cf7a0e0dfc1e90c0e915b74752829335$export$SVG_Axe_horizontal(e,t,r,i,n,o){e.line(t,i,r-2,i).stroke({color:"black",width:2,linecap:"round"});for(let s=1;s<=n;s++){if(e.line(t+(r-t)/n*(n-s),i-2,t+(r-t)/n*(n-s),i+2).stroke({color:"black",width:2,linecap:"round"}),1!=o)for(let a=1;a<o;a++){e.line(t+(r-t)/n*(n-s+a/o),i-2,t+(r-t)/n*(n-s+a/o),i+2).stroke({color:"black",width:1,linecap:"round"})}}}function $cf7a0e0dfc1e90c0e915b74752829335$export$SVG_grille(e,t,r,i,n,o,s,a,c){let l;for(let r=0;r<=o;r++)l=e.line(t+r*(i/o),0,t+r*(i/o),n),l.stroke({color:"lightgray",width:1});for(let r=0;r<o;r++)if(1!=a)for(let s=0;s<a;s++)l=e.line(t+r*(i/o)+s*(i/o/a),0,t+r*(i/o)+s*(i/o/a),n),l.stroke({color:"lightgray",width:.5,linecap:"round"});for(let t=0;t<=s;t++)l=e.line(20,r+t*(n/s),20+i,r+t*(n/s)),l.stroke({color:"lightgray",width:1});for(let t=0;t<s;t++)if(1!=c)for(let o=0;o<c;o++)l=e.line(20,r+t*(n/s)+o*(n/s/c),20+i,r+t*(n/s)+o*(n/s/c)),l.stroke({color:"lightgray",width:.5,linecap:"round"})}function $cf7a0e0dfc1e90c0e915b74752829335$export$SVG_graduation(e,t,r,i,n=10,o=50,s="black",a=5){for(let c=t;c<i;c+=r){e.line(c,o-n/2,c,o+n/2).stroke({color:s,width:a,linecap:"round"})}}function $cf7a0e0dfc1e90c0e915b74752829335$export$SVG_label(e,t,r,i,n){for(let o=0;o<t.length;o++){let s;s="number"==typeof t[o][0]?e.text(t[o][0].toString()):e.text(t[o][0]),r=parseInt(r),s.move(t[o][1],t[o][2]).font({fill:i,family:"Helvetica",size:14,anchor:"middle",leading:r,opacity:n})}}function $cf7a0e0dfc1e90c0e915b74752829335$export$SVG_fraction(e,t,r,i,n,o){let s=t.toString().length;e.line(i-5*s,n-7,i+5*s,n-7).stroke({color:o,width:2,linecap:"round"}),e.text(t.toString()).attr({x:i,y:n-10}).font({fill:o,family:"Helvetica",size:20,anchor:"middle",leading:0}),e.text(r.toString()).attr({x:i,y:n+10}).font({fill:o,family:"Helvetica",size:20,anchor:"middle",leading:0})}function $cf7a0e0dfc1e90c0e915b74752829335$export$SVG_tracer_point(e,t,r,i,n,o,s,a){let c=e.group();c.line(-3,3,3,-3).stroke({color:n,width:2,linecap:"round",opacity:1}),c.line(-3,-3,3,3).stroke({color:n,width:2,linecap:"round",opacity:1}),c.move(t-3,r-3),e.text(i).attr({x:t+o,y:r+s,fill:n,opacity:.7}).font({color:n,"font-weight":"bolder",family:"Helvetica",size:14,anchor:"middle",leading:-1}),a[0]&&(r!=a[2]&&t!=a[1]&&$cf7a0e0dfc1e90c0e915b74752829335$export$SVG_tracer_droite_flecheV(e,t,r,t,a[2],n,3),t!=a[1]&&r!=a[2]&&$cf7a0e0dfc1e90c0e915b74752829335$export$SVG_tracer_droite_flecheH(e,t,r,a[1],r,n,3))}function $cf7a0e0dfc1e90c0e915b74752829335$var$SVG_tracer_flecheH(e,t,r){let i=e.group();i.line(t-5,r-5,t,r).stroke({color:"black",width:3,linecap:"round"}),i.line(t-5,r+5,t,r).stroke({color:"black",width:3,linecap:"round"})}function $cf7a0e0dfc1e90c0e915b74752829335$export$SVG_tracer_flecheV(e,t,r){let i=e.group();i.line(-5,5,0,0).stroke({color:"black",width:3,linecap:"round"}),i.line(5,5,0,0).stroke({color:"black",width:3,linecap:"round"}),i.move(t,r),i.dmove(-5,5)}function $cf7a0e0dfc1e90c0e915b74752829335$export$SVG_tracer_droite_flecheV(e,t,r,i,n,o,s){let a=e.group();if(a.line(t,r,i,n).stroke({color:o,width:1,linecap:"round",dasharray:s,opacity:.5}),n<r){a.line(i-3,n+5,i,n).stroke({color:o,width:1,linecap:"round",opacity:.5}),a.line(i+3,n+5,i,n).stroke({color:o,width:1,linecap:"round",opacity:.5})}else{a.line(i-3,n-5,i,n).stroke({color:o,width:1,linecap:"round",opacity:.5}),a.line(i+3,n-5,i,n).stroke({color:o,width:1,linecap:"round",opacity:.5})}}function $cf7a0e0dfc1e90c0e915b74752829335$export$SVG_tracer_droite_flecheH(e,t,r,i,n,o,s){let a=e.group();if(a.line(t,r,i,n).stroke({color:o,width:1,linecap:"round",dasharray:s,opacity:.5}),i<t){a.line(i+5,n+3,i,n).stroke({color:o,width:1,linecap:"round",opacity:.5}),a.line(i+5,n-3,i,n).stroke({color:o,width:1,linecap:"round",opacity:.5})}else{a.line(i-5,n+3,i,n).stroke({color:o,width:1,linecap:"round",opacity:.5}),a.line(i-5,n-3,i,n).stroke({color:o,width:1,linecap:"round",opacity:.5})}}function $cf7a0e0dfc1e90c0e915b74752829335$export$MatriceCarree(e){let t;if(this.table=[],"number"==typeof e){this.dim=e;for(let e=0;e<this.dim;e++){t=[];for(let e=0;e<this.dim;e++)t.push(0);this.table.push(t)}}else this.dim=e.length,this.table=e.slice();this.determinant=function(){let e,t=this.dim,r=0;for(let i=0;i<t;i++)2==t?r=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.table[0][0]*this.table[1][1]-this.table[1][0]*this.table[0][1]):(e=this.matrice_reduite(0,i),r+=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((-1)**i*this.table[0][i]*e.determinant()));return r},this.matrice_reduite=function(e,t){let r,i=[];for(let n=0;n<this.table.length;n++)if(n!=e){r=[];for(let e=0;e<this.table.length;e++)e!=t&&r.push(this.table[n][e]);r.length>0&&i.push(r)}return $cf7a0e0dfc1e90c0e915b74752829335$export$matriceCarree(i)},this.cofacteurs=function(){let e,t,r=this.dim,i=[];if(r>2)for(let n=0;n<r;n++){e=[];for(let i=0;i<r;i++)t=this.matrice_reduite(n,i),e.push($cf7a0e0dfc1e90c0e915b74752829335$export$calcul((-1)**(n+i)*t.determinant()));i.push(e)}else{if(2!=r)return!1;i=[[this.table[1][1],-this.table[1][0]],[-this.table[0][1],this.table[0][0]]]}return $cf7a0e0dfc1e90c0e915b74752829335$export$matriceCarree(i)},this.transposee=function(){let e,t=this.dim,r=[];for(let i=0;i<t;i++){e=[];for(let r=0;r<t;r++)e.push(this.table[r][i]);r.push(e)}return $cf7a0e0dfc1e90c0e915b74752829335$export$matriceCarree(r)},this.multiplieParReel=function(e){let t,r=this.dim,i=[];for(let n=0;n<r;n++){t=[];for(let i=0;i<r;i++)t.push($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e*this.table[n][i]));i.push(t)}return $cf7a0e0dfc1e90c0e915b74752829335$export$matriceCarree(i)},this.multiplieVecteur=function(e){let t,r=this.dim,i=[];if(r==e.length){for(let n=0;n<r;n++){t=0;for(let i=0;i<r;i++)t+=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.table[n][i]*e[i]);i.push(t)}return i}return!1},this.inverse=function(){let e=this.determinant();return!$cf7a0e0dfc1e90c0e915b74752829335$export$egal(e,0)&&this.cofacteurs().transposee().multiplieParReel($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(1/e))},this.multiplieMatriceCarree=function(e){let t,r,i=this.dim,n=[];for(let o=0;o<i;o++){t=[];for(let n=0;n<i;n++){r=0;for(let t=0;t<i;t++)r+=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.table[o][t]*e.table[t][n]);t.push(r)}n.push(t)}return $cf7a0e0dfc1e90c0e915b74752829335$export$matriceCarree(n)}}function $cf7a0e0dfc1e90c0e915b74752829335$export$matriceCarree(e){return new $cf7a0e0dfc1e90c0e915b74752829335$export$MatriceCarree(e)}function $cf7a0e0dfc1e90c0e915b74752829335$export$resol_sys_lineaire_3x3(e,t,r,i,n,o,s){let a=$cf7a0e0dfc1e90c0e915b74752829335$export$matriceCarree([[e**3,e**2,e],[t**3,t**2,t],[r**3,r**2,r]]),c=i-s,l=n-s,p=o-s,u=a.determinant();if(0==u)return[[0,0],[0,0],[0,0]];{let[e,t,r]=a.cofacteurs().transposee().multiplieVecteur([c,l,p]);if(Number.isInteger(e)&&Number.isInteger(t)&&Number.isInteger(r)&&Number.isInteger(u)){let i=$34e3df2664569815f6bf71b80d92c5f7$export$fraction(e,u),n=$34e3df2664569815f6bf71b80d92c5f7$export$fraction(t,u),o=$34e3df2664569815f6bf71b80d92c5f7$export$fraction(r,u);return[[i.numIrred,i.denIrred],[n.numIrred,n.denIrred],[o.numIrred,o.denIrred]]}return[[$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e/u),1],[$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t/u),1],[$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t/u),1]]}}function $cf7a0e0dfc1e90c0e915b74752829335$export$puissance(e,t){switch(e){case 0:return"0";case 1:return"1";case-1:return e%2==0?"1":"-1";default:return e<0?`(${e})^{${t}}`:`${e}^{${t}}`}}function $cf7a0e0dfc1e90c0e915b74752829335$export$creer_modal(e,t,r,i){return`<button class="ui right floated mini compact button" onclick="$('#modal${e}').modal('show');"><i class="large ${i} icon"></i>${r}</button>\n\t\t<div class="ui modal" id="modal${e}">\n\t\t${t}\n\t\t</div>`}function $cf7a0e0dfc1e90c0e915b74752829335$export$modal_texte_long(e,t,r,i="Aide",n="info circle"){let o=`<div class="header">${t}</div>`;return o+=`<div class="content">${r}</div>`,$cf7a0e0dfc1e90c0e915b74752829335$export$creer_modal(e,o,i,n)}function $cf7a0e0dfc1e90c0e915b74752829335$export$modal_image(e,t,r,i="Illustration",n="image"){return $cf7a0e0dfc1e90c0e915b74752829335$export$creer_modal(e,`<div class="header">${r}</div><div class="image content"><img class="ui centered medium image" src="${t}"></div>`,i,n)}function $cf7a0e0dfc1e90c0e915b74752829335$export$liste_diviseurs(e){let t=2,r=[1];for(;t<=e;)e%t==0&&r.push(t),t++;return r}function $cf7a0e0dfc1e90c0e915b74752829335$export$katex_Popuptest(e,t,r){let i="";return sortie_html?(i='<div class="ui right label katexPopup">'+e+"</div>",i+='<div class="ui special popup" >',""!=t&&(i+='<div class="header">'+t+"</div>"),i+="<div>"+r+"</div>",i+="</div>",i):`\\textbf{${e}} \\footnote{\\textbf{${t}} ${r}}`}function $cf7a0e0dfc1e90c0e915b74752829335$export$SVG_fleche_machine_maths(e,t,r){return e.path(t).fill(r).stroke({color:r,width:1,linecap:"round",linejoin:"null"})}function $cf7a0e0dfc1e90c0e915b74752829335$export$my_svg_font(e,t,r,i,n){return{family:e,size:t,anchor:r,style:i,weight:n}}function $cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleSuperieur(e,t){let r=t;if(Number.isInteger(e)&&Number.isInteger(t)){for(;r%e!=0;)r+=1;return r}return $cf7a0e0dfc1e90c0e915b74752829335$export$egal(Math.floor(t/e,t/e))?t:(reste=t/e-Math.floor(t/e),t-reste*e+e)}function $cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleInferieur(e,t){let r=$cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleSuperieur(e,t);return r!=t?r-e:t}function $cf7a0e0dfc1e90c0e915b74752829335$export$crible_eratosthene_n(e){var t=[],r=Math.sqrt(e+1),i=[];for(let r=0;r<e+1;r++)t.push(!0);for(let i=2;i<=r;i++)if(t[i])for(var n=i*i;n<e+1;n+=i)t[n]=!1;for(let r=2;r<e+1;r++)t[r]&&i.push(r);return i}function $cf7a0e0dfc1e90c0e915b74752829335$export$partieEntiereEnLettres(e){let t={0:"zéro","000":"",1:"un",2:"deux",3:"trois",4:"quatre",5:"cinq",6:"six",7:"sept",8:"huit",9:"neuf",10:"dix",11:"onze",12:"douze",13:"treize",14:"quatorze",15:"quinze",16:"seize",17:"dix-sept",18:"dix-huit",19:"dix-neuf",20:"vingt",21:"vingt et un",22:"vingt-deux",23:"vingt-trois",24:"vingt-quatre",25:"vingt-cinq",26:"vingt-six",27:"vingt-sept",28:"vingt-huit",29:"vingt-neuf",30:"trente",31:"trente et un",32:"trente-deux",33:"trente-trois",34:"trente-quatre",35:"trente-cinq",36:"trente-six",37:"trente-sept",38:"trente-huit",39:"trente-neuf",40:"quarante",41:"quarante et un",42:"quarante-deux",43:"quarante-trois",44:"quarante-quatre",45:"quarante-cinq",46:"quarante-six",47:"quarante-sept",48:"quarante-huit",49:"quarante-neuf",50:"cinquante",51:"cinquante et un",52:"cinquante-deux",53:"cinquante-trois",54:"cinquante-quatre",55:"cinquante-cinq",56:"cinquante-six",57:"cinquante-sept",58:"cinquante-huit",59:"cinquante-neuf",60:"soixante",61:"soixante et un",62:"soixante-deux",63:"soixante-trois",64:"soixante-quatre",65:"soixante-cinq",66:"soixante-six",67:"soixante-sept",68:"soixante-huit",69:"soixante-neuf",70:"soixante-dix",71:"soixante et onze",72:"soixante-douze",73:"soixante-treize",74:"soixante-quatorze",75:"soixante-quinze",76:"soixante-seize",77:"soixante-dix-sept",78:"soixante-dix-huit",79:"soixante-dix-neuf",80:"quatre-vingts",81:"quatre-vingt-un",82:"quatre-vingt-deux",83:"quatre-vingt-trois",84:"quatre-vingt-quatre",85:"quatre-vingt-cinq",86:"quatre-vingt-six",87:"quatre-vingt-sept",88:"quatre-vingt-huit",89:"quatre-vingt-neuf",90:"quatre-vingt-dix",91:"quatre-vingt-onze",92:"quatre-vingt-douze",93:"quatre-vingt-treize",94:"quatre-vingt-quatorze",95:"quatre-vingt-quinze",96:"quatre-vingt-seize",97:"quatre-vingt-dix-sept",98:"quatre-vingt-dix-huit",99:"quatre-vingt-dix-neuf",100:"cent",101:"cent un",102:"cent deux",103:"cent trois",104:"cent quatre",105:"cent cinq",106:"cent six",107:"cent sept",108:"cent huit",109:"cent neuf",110:"cent dix",111:"cent onze",112:"cent douze",113:"cent treize",114:"cent quatorze",115:"cent quinze",116:"cent seize",117:"cent dix-sept",118:"cent dix-huit",119:"cent dix-neuf",120:"cent vingt",121:"cent vingt et un",122:"cent vingt-deux",123:"cent vingt-trois",124:"cent vingt-quatre",125:"cent vingt-cinq",126:"cent vingt-six",127:"cent vingt-sept",128:"cent vingt-huit",129:"cent vingt-neuf",130:"cent trente",131:"cent trente et un",132:"cent trente-deux",133:"cent trente-trois",134:"cent trente-quatre",135:"cent trente-cinq",136:"cent trente-six",137:"cent trente-sept",138:"cent trente-huit",139:"cent trente-neuf",140:"cent quarante",141:"cent quarante et un",142:"cent quarante-deux",143:"cent quarante-trois",144:"cent quarante-quatre",145:"cent quarante-cinq",146:"cent quarante-six",147:"cent quarante-sept",148:"cent quarante-huit",149:"cent quarante-neuf",150:"cent cinquante",151:"cent cinquante et un",152:"cent cinquante-deux",153:"cent cinquante-trois",154:"cent cinquante-quatre",155:"cent cinquante-cinq",156:"cent cinquante-six",157:"cent cinquante-sept",158:"cent cinquante-huit",159:"cent cinquante-neuf",160:"cent soixante",161:"cent soixante et un",162:"cent soixante-deux",163:"cent soixante-trois",164:"cent soixante-quatre",165:"cent soixante-cinq",166:"cent soixante-six",167:"cent soixante-sept",168:"cent soixante-huit",169:"cent soixante-neuf",170:"cent soixante-dix",171:"cent soixante et onze",172:"cent soixante-douze",173:"cent soixante-treize",174:"cent soixante-quatorze",175:"cent soixante-quinze",176:"cent soixante-seize",177:"cent soixante-dix-sept",178:"cent soixante-dix-huit",179:"cent soixante-dix-neuf",180:"cent quatre-vingts",181:"cent quatre-vingt-un",182:"cent quatre-vingt-deux",183:"cent quatre-vingt-trois",184:"cent quatre-vingt-quatre",185:"cent quatre-vingt-cinq",186:"cent quatre-vingt-six",187:"cent quatre-vingt-sept",188:"cent quatre-vingt-huit",189:"cent quatre-vingt-neuf",190:"cent quatre-vingt-dix",191:"cent quatre-vingt-onze",192:"cent quatre-vingt-douze",193:"cent quatre-vingt-treize",194:"cent quatre-vingt-quatorze",195:"cent quatre-vingt-quinze",196:"cent quatre-vingt-seize",197:"cent quatre-vingt-dix-sept",198:"cent quatre-vingt-dix-huit",199:"cent quatre-vingt-dix-neuf",200:"deux cents",201:"deux cent un",202:"deux cent deux",203:"deux cent trois",204:"deux cent quatre",205:"deux cent cinq",206:"deux cent six",207:"deux cent sept",208:"deux cent huit",209:"deux cent neuf",210:"deux cent dix",211:"deux cent onze",212:"deux cent douze",213:"deux cent treize",214:"deux cent quatorze",215:"deux cent quinze",216:"deux cent seize",217:"deux cent dix-sept",218:"deux cent dix-huit",219:"deux cent dix-neuf",220:"deux cent vingt",221:"deux cent vingt et un",222:"deux cent vingt-deux",223:"deux cent vingt-trois",224:"deux cent vingt-quatre",225:"deux cent vingt-cinq",226:"deux cent vingt-six",227:"deux cent vingt-sept",228:"deux cent vingt-huit",229:"deux cent vingt-neuf",230:"deux cent trente",231:"deux cent trente et un",232:"deux cent trente-deux",233:"deux cent trente-trois",234:"deux cent trente-quatre",235:"deux cent trente-cinq",236:"deux cent trente-six",237:"deux cent trente-sept",238:"deux cent trente-huit",239:"deux cent trente-neuf",240:"deux cent quarante",241:"deux cent quarante et un",242:"deux cent quarante-deux",243:"deux cent quarante-trois",244:"deux cent quarante-quatre",245:"deux cent quarante-cinq",246:"deux cent quarante-six",247:"deux cent quarante-sept",248:"deux cent quarante-huit",249:"deux cent quarante-neuf",250:"deux cent cinquante",251:"deux cent cinquante et un",252:"deux cent cinquante-deux",253:"deux cent cinquante-trois",254:"deux cent cinquante-quatre",255:"deux cent cinquante-cinq",256:"deux cent cinquante-six",257:"deux cent cinquante-sept",258:"deux cent cinquante-huit",259:"deux cent cinquante-neuf",260:"deux cent soixante",261:"deux cent soixante et un",262:"deux cent soixante-deux",263:"deux cent soixante-trois",264:"deux cent soixante-quatre",265:"deux cent soixante-cinq",266:"deux cent soixante-six",267:"deux cent soixante-sept",268:"deux cent soixante-huit",269:"deux cent soixante-neuf",270:"deux cent soixante-dix",271:"deux cent soixante et onze",272:"deux cent soixante-douze",273:"deux cent soixante-treize",274:"deux cent soixante-quatorze",275:"deux cent soixante-quinze",276:"deux cent soixante-seize",277:"deux cent soixante-dix-sept",278:"deux cent soixante-dix-huit",279:"deux cent soixante-dix-neuf",280:"deux cent quatre-vingts",281:"deux cent quatre-vingt-un",282:"deux cent quatre-vingt-deux",283:"deux cent quatre-vingt-trois",284:"deux cent quatre-vingt-quatre",285:"deux cent quatre-vingt-cinq",286:"deux cent quatre-vingt-six",287:"deux cent quatre-vingt-sept",288:"deux cent quatre-vingt-huit",289:"deux cent quatre-vingt-neuf",290:"deux cent quatre-vingt-dix",291:"deux cent quatre-vingt-onze",292:"deux cent quatre-vingt-douze",293:"deux cent quatre-vingt-treize",294:"deux cent quatre-vingt-quatorze",295:"deux cent quatre-vingt-quinze",296:"deux cent quatre-vingt-seize",297:"deux cent quatre-vingt-dix-sept",298:"deux cent quatre-vingt-dix-huit",299:"deux cent quatre-vingt-dix-neuf",300:"trois cents",301:"trois cent un",302:"trois cent deux",303:"trois cent trois",304:"trois cent quatre",305:"trois cent cinq",306:"trois cent six",307:"trois cent sept",308:"trois cent huit",309:"trois cent neuf",310:"trois cent dix",311:"trois cent onze",312:"trois cent douze",313:"trois cent treize",314:"trois cent quatorze",315:"trois cent quinze",316:"trois cent seize",317:"trois cent dix-sept",318:"trois cent dix-huit",319:"trois cent dix-neuf",320:"trois cent vingt",321:"trois cent vingt et un",322:"trois cent vingt-deux",323:"trois cent vingt-trois",324:"trois cent vingt-quatre",325:"trois cent vingt-cinq",326:"trois cent vingt-six",327:"trois cent vingt-sept",328:"trois cent vingt-huit",329:"trois cent vingt-neuf",330:"trois cent trente",331:"trois cent trente et un",332:"trois cent trente-deux",333:"trois cent trente-trois",334:"trois cent trente-quatre",335:"trois cent trente-cinq",336:"trois cent trente-six",337:"trois cent trente-sept",338:"trois cent trente-huit",339:"trois cent trente-neuf",340:"trois cent quarante",341:"trois cent quarante et un",342:"trois cent quarante-deux",343:"trois cent quarante-trois",344:"trois cent quarante-quatre",345:"trois cent quarante-cinq",346:"trois cent quarante-six",347:"trois cent quarante-sept",348:"trois cent quarante-huit",349:"trois cent quarante-neuf",350:"trois cent cinquante",351:"trois cent cinquante et un",352:"trois cent cinquante-deux",353:"trois cent cinquante-trois",354:"trois cent cinquante-quatre",355:"trois cent cinquante-cinq",356:"trois cent cinquante-six",357:"trois cent cinquante-sept",358:"trois cent cinquante-huit",359:"trois cent cinquante-neuf",360:"trois cent soixante",361:"trois cent soixante et un",362:"trois cent soixante-deux",363:"trois cent soixante-trois",364:"trois cent soixante-quatre",365:"trois cent soixante-cinq",366:"trois cent soixante-six",367:"trois cent soixante-sept",368:"trois cent soixante-huit",369:"trois cent soixante-neuf",370:"trois cent soixante-dix",371:"trois cent soixante et onze",372:"trois cent soixante-douze",373:"trois cent soixante-treize",374:"trois cent soixante-quatorze",375:"trois cent soixante-quinze",376:"trois cent soixante-seize",377:"trois cent soixante-dix-sept",378:"trois cent soixante-dix-huit",379:"trois cent soixante-dix-neuf",380:"trois cent quatre-vingts",381:"trois cent quatre-vingt-un",382:"trois cent quatre-vingt-deux",383:"trois cent quatre-vingt-trois",384:"trois cent quatre-vingt-quatre",385:"trois cent quatre-vingt-cinq",386:"trois cent quatre-vingt-six",387:"trois cent quatre-vingt-sept",388:"trois cent quatre-vingt-huit",389:"trois cent quatre-vingt-neuf",390:"trois cent quatre-vingt-dix",391:"trois cent quatre-vingt-onze",392:"trois cent quatre-vingt-douze",393:"trois cent quatre-vingt-treize",394:"trois cent quatre-vingt-quatorze",395:"trois cent quatre-vingt-quinze",396:"trois cent quatre-vingt-seize",397:"trois cent quatre-vingt-dix-sept",398:"trois cent quatre-vingt-dix-huit",399:"trois cent quatre-vingt-dix-neuf",400:"quatre cents",401:"quatre cent un",402:"quatre cent deux",403:"quatre cent trois",404:"quatre cent quatre",405:"quatre cent cinq",406:"quatre cent six",407:"quatre cent sept",408:"quatre cent huit",409:"quatre cent neuf",410:"quatre cent dix",411:"quatre cent onze",412:"quatre cent douze",413:"quatre cent treize",414:"quatre cent quatorze",415:"quatre cent quinze",416:"quatre cent seize",417:"quatre cent dix-sept",418:"quatre cent dix-huit",419:"quatre cent dix-neuf",420:"quatre cent vingt",421:"quatre cent vingt et un",422:"quatre cent vingt-deux",423:"quatre cent vingt-trois",424:"quatre cent vingt-quatre",425:"quatre cent vingt-cinq",426:"quatre cent vingt-six",427:"quatre cent vingt-sept",428:"quatre cent vingt-huit",429:"quatre cent vingt-neuf",430:"quatre cent trente",431:"quatre cent trente et un",432:"quatre cent trente-deux",433:"quatre cent trente-trois",434:"quatre cent trente-quatre",435:"quatre cent trente-cinq",436:"quatre cent trente-six",437:"quatre cent trente-sept",438:"quatre cent trente-huit",439:"quatre cent trente-neuf",440:"quatre cent quarante",441:"quatre cent quarante et un",442:"quatre cent quarante-deux",443:"quatre cent quarante-trois",444:"quatre cent quarante-quatre",445:"quatre cent quarante-cinq",446:"quatre cent quarante-six",447:"quatre cent quarante-sept",448:"quatre cent quarante-huit",449:"quatre cent quarante-neuf",450:"quatre cent cinquante",451:"quatre cent cinquante et un",452:"quatre cent cinquante-deux",453:"quatre cent cinquante-trois",454:"quatre cent cinquante-quatre",455:"quatre cent cinquante-cinq",456:"quatre cent cinquante-six",457:"quatre cent cinquante-sept",458:"quatre cent cinquante-huit",459:"quatre cent cinquante-neuf",460:"quatre cent soixante",461:"quatre cent soixante et un",462:"quatre cent soixante-deux",463:"quatre cent soixante-trois",464:"quatre cent soixante-quatre",465:"quatre cent soixante-cinq",466:"quatre cent soixante-six",467:"quatre cent soixante-sept",468:"quatre cent soixante-huit",469:"quatre cent soixante-neuf",470:"quatre cent soixante-dix",471:"quatre cent soixante et onze",472:"quatre cent soixante-douze",473:"quatre cent soixante-treize",474:"quatre cent soixante-quatorze",475:"quatre cent soixante-quinze",476:"quatre cent soixante-seize",477:"quatre cent soixante-dix-sept",478:"quatre cent soixante-dix-huit",479:"quatre cent soixante-dix-neuf",480:"quatre cent quatre-vingts",481:"quatre cent quatre-vingt-un",482:"quatre cent quatre-vingt-deux",483:"quatre cent quatre-vingt-trois",484:"quatre cent quatre-vingt-quatre",485:"quatre cent quatre-vingt-cinq",486:"quatre cent quatre-vingt-six",487:"quatre cent quatre-vingt-sept",488:"quatre cent quatre-vingt-huit",489:"quatre cent quatre-vingt-neuf",490:"quatre cent quatre-vingt-dix",491:"quatre cent quatre-vingt-onze",492:"quatre cent quatre-vingt-douze",493:"quatre cent quatre-vingt-treize",494:"quatre cent quatre-vingt-quatorze",495:"quatre cent quatre-vingt-quinze",496:"quatre cent quatre-vingt-seize",497:"quatre cent quatre-vingt-dix-sept",498:"quatre cent quatre-vingt-dix-huit",499:"quatre cent quatre-vingt-dix-neuf",500:"cinq cents",501:"cinq cent un",502:"cinq cent deux",503:"cinq cent trois",504:"cinq cent quatre",505:"cinq cent cinq",506:"cinq cent six",507:"cinq cent sept",508:"cinq cent huit",509:"cinq cent neuf",510:"cinq cent dix",511:"cinq cent onze",512:"cinq cent douze",513:"cinq cent treize",514:"cinq cent quatorze",515:"cinq cent quinze",516:"cinq cent seize",517:"cinq cent dix-sept",518:"cinq cent dix-huit",519:"cinq cent dix-neuf",520:"cinq cent vingt",521:"cinq cent vingt et un",522:"cinq cent vingt-deux",523:"cinq cent vingt-trois",524:"cinq cent vingt-quatre",525:"cinq cent vingt-cinq",526:"cinq cent vingt-six",527:"cinq cent vingt-sept",528:"cinq cent vingt-huit",529:"cinq cent vingt-neuf",530:"cinq cent trente",531:"cinq cent trente et un",532:"cinq cent trente-deux",533:"cinq cent trente-trois",534:"cinq cent trente-quatre",535:"cinq cent trente-cinq",536:"cinq cent trente-six",537:"cinq cent trente-sept",538:"cinq cent trente-huit",539:"cinq cent trente-neuf",540:"cinq cent quarante",541:"cinq cent quarante et un",542:"cinq cent quarante-deux",543:"cinq cent quarante-trois",544:"cinq cent quarante-quatre",545:"cinq cent quarante-cinq",546:"cinq cent quarante-six",547:"cinq cent quarante-sept",548:"cinq cent quarante-huit",549:"cinq cent quarante-neuf",550:"cinq cent cinquante",551:"cinq cent cinquante et un",552:"cinq cent cinquante-deux",553:"cinq cent cinquante-trois",554:"cinq cent cinquante-quatre",555:"cinq cent cinquante-cinq",556:"cinq cent cinquante-six",557:"cinq cent cinquante-sept",558:"cinq cent cinquante-huit",559:"cinq cent cinquante-neuf",560:"cinq cent soixante",561:"cinq cent soixante et un",562:"cinq cent soixante-deux",563:"cinq cent soixante-trois",564:"cinq cent soixante-quatre",565:"cinq cent soixante-cinq",566:"cinq cent soixante-six",567:"cinq cent soixante-sept",568:"cinq cent soixante-huit",569:"cinq cent soixante-neuf",570:"cinq cent soixante-dix",571:"cinq cent soixante et onze",572:"cinq cent soixante-douze",573:"cinq cent soixante-treize",574:"cinq cent soixante-quatorze",575:"cinq cent soixante-quinze",576:"cinq cent soixante-seize",577:"cinq cent soixante-dix-sept",578:"cinq cent soixante-dix-huit",579:"cinq cent soixante-dix-neuf",580:"cinq cent quatre-vingts",581:"cinq cent quatre-vingt-un",582:"cinq cent quatre-vingt-deux",583:"cinq cent quatre-vingt-trois",584:"cinq cent quatre-vingt-quatre",585:"cinq cent quatre-vingt-cinq",586:"cinq cent quatre-vingt-six",587:"cinq cent quatre-vingt-sept",588:"cinq cent quatre-vingt-huit",589:"cinq cent quatre-vingt-neuf",590:"cinq cent quatre-vingt-dix",591:"cinq cent quatre-vingt-onze",592:"cinq cent quatre-vingt-douze",593:"cinq cent quatre-vingt-treize",594:"cinq cent quatre-vingt-quatorze",595:"cinq cent quatre-vingt-quinze",596:"cinq cent quatre-vingt-seize",597:"cinq cent quatre-vingt-dix-sept",598:"cinq cent quatre-vingt-dix-huit",599:"cinq cent quatre-vingt-dix-neuf",600:"six cents",601:"six cent un",602:"six cent deux",603:"six cent trois",604:"six cent quatre",605:"six cent cinq",606:"six cent six",607:"six cent sept",608:"six cent huit",609:"six cent neuf",610:"six cent dix",611:"six cent onze",612:"six cent douze",613:"six cent treize",614:"six cent quatorze",615:"six cent quinze",616:"six cent seize",617:"six cent dix-sept",618:"six cent dix-huit",619:"six cent dix-neuf",620:"six cent vingt",621:"six cent vingt et un",622:"six cent vingt-deux",623:"six cent vingt-trois",624:"six cent vingt-quatre",625:"six cent vingt-cinq",626:"six cent vingt-six",627:"six cent vingt-sept",628:"six cent vingt-huit",629:"six cent vingt-neuf",630:"six cent trente",631:"six cent trente et un",632:"six cent trente-deux",633:"six cent trente-trois",634:"six cent trente-quatre",635:"six cent trente-cinq",636:"six cent trente-six",637:"six cent trente-sept",638:"six cent trente-huit",639:"six cent trente-neuf",640:"six cent quarante",641:"six cent quarante et un",642:"six cent quarante-deux",643:"six cent quarante-trois",644:"six cent quarante-quatre",645:"six cent quarante-cinq",646:"six cent quarante-six",647:"six cent quarante-sept",648:"six cent quarante-huit",649:"six cent quarante-neuf",650:"six cent cinquante",651:"six cent cinquante et un",652:"six cent cinquante-deux",653:"six cent cinquante-trois",654:"six cent cinquante-quatre",655:"six cent cinquante-cinq",656:"six cent cinquante-six",657:"six cent cinquante-sept",658:"six cent cinquante-huit",659:"six cent cinquante-neuf",660:"six cent soixante",661:"six cent soixante et un",662:"six cent soixante-deux",663:"six cent soixante-trois",664:"six cent soixante-quatre",665:"six cent soixante-cinq",666:"six cent soixante-six",667:"six cent soixante-sept",668:"six cent soixante-huit",669:"six cent soixante-neuf",670:"six cent soixante-dix",671:"six cent soixante et onze",672:"six cent soixante-douze",673:"six cent soixante-treize",674:"six cent soixante-quatorze",675:"six cent soixante-quinze",676:"six cent soixante-seize",677:"six cent soixante-dix-sept",678:"six cent soixante-dix-huit",679:"six cent soixante-dix-neuf",680:"six cent quatre-vingts",681:"six cent quatre-vingt-un",682:"six cent quatre-vingt-deux",683:"six cent quatre-vingt-trois",684:"six cent quatre-vingt-quatre",685:"six cent quatre-vingt-cinq",686:"six cent quatre-vingt-six",687:"six cent quatre-vingt-sept",688:"six cent quatre-vingt-huit",689:"six cent quatre-vingt-neuf",690:"six cent quatre-vingt-dix",691:"six cent quatre-vingt-onze",692:"six cent quatre-vingt-douze",693:"six cent quatre-vingt-treize",694:"six cent quatre-vingt-quatorze",695:"six cent quatre-vingt-quinze",696:"six cent quatre-vingt-seize",697:"six cent quatre-vingt-dix-sept",698:"six cent quatre-vingt-dix-huit",699:"six cent quatre-vingt-dix-neuf",700:"sept cents",701:"sept cent un",702:"sept cent deux",703:"sept cent trois",704:"sept cent quatre",705:"sept cent cinq",706:"sept cent six",707:"sept cent sept",708:"sept cent huit",709:"sept cent neuf",710:"sept cent dix",711:"sept cent onze",712:"sept cent douze",713:"sept cent treize",714:"sept cent quatorze",715:"sept cent quinze",716:"sept cent seize",717:"sept cent dix-sept",718:"sept cent dix-huit",719:"sept cent dix-neuf",720:"sept cent vingt",721:"sept cent vingt et un",722:"sept cent vingt-deux",723:"sept cent vingt-trois",724:"sept cent vingt-quatre",725:"sept cent vingt-cinq",726:"sept cent vingt-six",727:"sept cent vingt-sept",728:"sept cent vingt-huit",729:"sept cent vingt-neuf",730:"sept cent trente",731:"sept cent trente et un",732:"sept cent trente-deux",733:"sept cent trente-trois",734:"sept cent trente-quatre",735:"sept cent trente-cinq",736:"sept cent trente-six",737:"sept cent trente-sept",738:"sept cent trente-huit",739:"sept cent trente-neuf",740:"sept cent quarante",741:"sept cent quarante et un",742:"sept cent quarante-deux",743:"sept cent quarante-trois",744:"sept cent quarante-quatre",745:"sept cent quarante-cinq",746:"sept cent quarante-six",747:"sept cent quarante-sept",748:"sept cent quarante-huit",749:"sept cent quarante-neuf",750:"sept cent cinquante",751:"sept cent cinquante et un",752:"sept cent cinquante-deux",753:"sept cent cinquante-trois",754:"sept cent cinquante-quatre",755:"sept cent cinquante-cinq",756:"sept cent cinquante-six",757:"sept cent cinquante-sept",758:"sept cent cinquante-huit",759:"sept cent cinquante-neuf",760:"sept cent soixante",761:"sept cent soixante et un",762:"sept cent soixante-deux",763:"sept cent soixante-trois",764:"sept cent soixante-quatre",765:"sept cent soixante-cinq",766:"sept cent soixante-six",767:"sept cent soixante-sept",768:"sept cent soixante-huit",769:"sept cent soixante-neuf",770:"sept cent soixante-dix",771:"sept cent soixante et onze",772:"sept cent soixante-douze",773:"sept cent soixante-treize",774:"sept cent soixante-quatorze",775:"sept cent soixante-quinze",776:"sept cent soixante-seize",777:"sept cent soixante-dix-sept",778:"sept cent soixante-dix-huit",779:"sept cent soixante-dix-neuf",780:"sept cent quatre-vingts",781:"sept cent quatre-vingt-un",782:"sept cent quatre-vingt-deux",783:"sept cent quatre-vingt-trois",784:"sept cent quatre-vingt-quatre",785:"sept cent quatre-vingt-cinq",786:"sept cent quatre-vingt-six",787:"sept cent quatre-vingt-sept",788:"sept cent quatre-vingt-huit",789:"sept cent quatre-vingt-neuf",790:"sept cent quatre-vingt-dix",791:"sept cent quatre-vingt-onze",792:"sept cent quatre-vingt-douze",793:"sept cent quatre-vingt-treize",794:"sept cent quatre-vingt-quatorze",795:"sept cent quatre-vingt-quinze",796:"sept cent quatre-vingt-seize",797:"sept cent quatre-vingt-dix-sept",798:"sept cent quatre-vingt-dix-huit",799:"sept cent quatre-vingt-dix-neuf",800:"huit cents",801:"huit cent un",802:"huit cent deux",803:"huit cent trois",804:"huit cent quatre",805:"huit cent cinq",806:"huit cent six",807:"huit cent sept",808:"huit cent huit",809:"huit cent neuf",810:"huit cent dix",811:"huit cent onze",812:"huit cent douze",813:"huit cent treize",814:"huit cent quatorze",815:"huit cent quinze",816:"huit cent seize",817:"huit cent dix-sept",818:"huit cent dix-huit",819:"huit cent dix-neuf",820:"huit cent vingt",821:"huit cent vingt et un",822:"huit cent vingt-deux",823:"huit cent vingt-trois",824:"huit cent vingt-quatre",825:"huit cent vingt-cinq",826:"huit cent vingt-six",827:"huit cent vingt-sept",828:"huit cent vingt-huit",829:"huit cent vingt-neuf",830:"huit cent trente",831:"huit cent trente et un",832:"huit cent trente-deux",833:"huit cent trente-trois",834:"huit cent trente-quatre",835:"huit cent trente-cinq",836:"huit cent trente-six",837:"huit cent trente-sept",838:"huit cent trente-huit",839:"huit cent trente-neuf",840:"huit cent quarante",841:"huit cent quarante et un",842:"huit cent quarante-deux",843:"huit cent quarante-trois",844:"huit cent quarante-quatre",845:"huit cent quarante-cinq",846:"huit cent quarante-six",847:"huit cent quarante-sept",848:"huit cent quarante-huit",849:"huit cent quarante-neuf",850:"huit cent cinquante",851:"huit cent cinquante et un",852:"huit cent cinquante-deux",853:"huit cent cinquante-trois",854:"huit cent cinquante-quatre",855:"huit cent cinquante-cinq",856:"huit cent cinquante-six",857:"huit cent cinquante-sept",858:"huit cent cinquante-huit",859:"huit cent cinquante-neuf",860:"huit cent soixante",861:"huit cent soixante et un",862:"huit cent soixante-deux",863:"huit cent soixante-trois",864:"huit cent soixante-quatre",865:"huit cent soixante-cinq",866:"huit cent soixante-six",867:"huit cent soixante-sept",868:"huit cent soixante-huit",869:"huit cent soixante-neuf",870:"huit cent soixante-dix",871:"huit cent soixante et onze",872:"huit cent soixante-douze",873:"huit cent soixante-treize",874:"huit cent soixante-quatorze",875:"huit cent soixante-quinze",876:"huit cent soixante-seize",877:"huit cent soixante-dix-sept",878:"huit cent soixante-dix-huit",879:"huit cent soixante-dix-neuf",880:"huit cent quatre-vingts",881:"huit cent quatre-vingt-un",882:"huit cent quatre-vingt-deux",883:"huit cent quatre-vingt-trois",884:"huit cent quatre-vingt-quatre",885:"huit cent quatre-vingt-cinq",886:"huit cent quatre-vingt-six",887:"huit cent quatre-vingt-sept",888:"huit cent quatre-vingt-huit",889:"huit cent quatre-vingt-neuf",890:"huit cent quatre-vingt-dix",891:"huit cent quatre-vingt-onze",892:"huit cent quatre-vingt-douze",893:"huit cent quatre-vingt-treize",894:"huit cent quatre-vingt-quatorze",895:"huit cent quatre-vingt-quinze",896:"huit cent quatre-vingt-seize",897:"huit cent quatre-vingt-dix-sept",898:"huit cent quatre-vingt-dix-huit",899:"huit cent quatre-vingt-dix-neuf",900:"neuf cents",901:"neuf cent un",902:"neuf cent deux",903:"neuf cent trois",904:"neuf cent quatre",905:"neuf cent cinq",906:"neuf cent six",907:"neuf cent sept",908:"neuf cent huit",909:"neuf cent neuf",910:"neuf cent dix",911:"neuf cent onze",912:"neuf cent douze",913:"neuf cent treize",914:"neuf cent quatorze",915:"neuf cent quinze",916:"neuf cent seize",917:"neuf cent dix-sept",918:"neuf cent dix-huit",919:"neuf cent dix-neuf",920:"neuf cent vingt",921:"neuf cent vingt et un",922:"neuf cent vingt-deux",923:"neuf cent vingt-trois",924:"neuf cent vingt-quatre",925:"neuf cent vingt-cinq",926:"neuf cent vingt-six",927:"neuf cent vingt-sept",928:"neuf cent vingt-huit",929:"neuf cent vingt-neuf",930:"neuf cent trente",931:"neuf cent trente et un",932:"neuf cent trente-deux",933:"neuf cent trente-trois",934:"neuf cent trente-quatre",935:"neuf cent trente-cinq",936:"neuf cent trente-six",937:"neuf cent trente-sept",938:"neuf cent trente-huit",939:"neuf cent trente-neuf",940:"neuf cent quarante",941:"neuf cent quarante et un",942:"neuf cent quarante-deux",943:"neuf cent quarante-trois",944:"neuf cent quarante-quatre",945:"neuf cent quarante-cinq",946:"neuf cent quarante-six",947:"neuf cent quarante-sept",948:"neuf cent quarante-huit",949:"neuf cent quarante-neuf",950:"neuf cent cinquante",951:"neuf cent cinquante et un",952:"neuf cent cinquante-deux",953:"neuf cent cinquante-trois",954:"neuf cent cinquante-quatre",955:"neuf cent cinquante-cinq",956:"neuf cent cinquante-six",957:"neuf cent cinquante-sept",958:"neuf cent cinquante-huit",959:"neuf cent cinquante-neuf",960:"neuf cent soixante",961:"neuf cent soixante et un",962:"neuf cent soixante-deux",963:"neuf cent soixante-trois",964:"neuf cent soixante-quatre",965:"neuf cent soixante-cinq",966:"neuf cent soixante-six",967:"neuf cent soixante-sept",968:"neuf cent soixante-huit",969:"neuf cent soixante-neuf",970:"neuf cent soixante-dix",971:"neuf cent soixante et onze",972:"neuf cent soixante-douze",973:"neuf cent soixante-treize",974:"neuf cent soixante-quatorze",975:"neuf cent soixante-quinze",976:"neuf cent soixante-seize",977:"neuf cent soixante-dix-sept",978:"neuf cent soixante-dix-huit",979:"neuf cent soixante-dix-neuf",980:"neuf cent quatre-vingts",981:"neuf cent quatre-vingt-un",982:"neuf cent quatre-vingt-deux",983:"neuf cent quatre-vingt-trois",984:"neuf cent quatre-vingt-quatre",985:"neuf cent quatre-vingt-cinq",986:"neuf cent quatre-vingt-six",987:"neuf cent quatre-vingt-sept",988:"neuf cent quatre-vingt-huit",989:"neuf cent quatre-vingt-neuf",990:"neuf cent quatre-vingt-dix",991:"neuf cent quatre-vingt-onze",992:"neuf cent quatre-vingt-douze",993:"neuf cent quatre-vingt-treize",994:"neuf cent quatre-vingt-quatorze",995:"neuf cent quatre-vingt-quinze",996:"neuf cent quatre-vingt-seize",997:"neuf cent quatre-vingt-dix-sept",998:"neuf cent quatre-vingt-dix-huit",999:"neuf cent quatre-vingt-dix-neuf"},r=e.toString(),i="";r.substring(r.length-12,r.length-9).length>0&&(i=t[r.substring(r.length-12,r.length-9).replace(/^0{1,2}/,"")].replaceAll(" ","-"));let n="";r.substring(r.length-9,r.length-6).length>0&&(n=t[r.substring(r.length-9,r.length-6).replace(/^0{1,2}/,"")].replaceAll(" ","-"));let o="";"080"==r.substring(r.length-6,r.length-3)||"80"==r.substring(r.length-6,r.length-3)?o="quatre-vingt":"00"==r.substring(r.length-5,r.length-3)&&"1"!=r.substring(r.length-6,r.length-5)?o=t[r.substring(r.length-6,r.length-3).replace(/^0{1,2}/,"")].replaceAll(" ","-").replace("cents","cent"):r.substring(r.length-6,r.length-3).length>0&&(o=t[r.substring(r.length-6,r.length-3).replace(/^0{1,2}/,"")].replaceAll(" ","-"));let s="";r.substring(r.length-3,r.length).length>0&&(s=t[r.substring(r.length-3,r.length).replace(/^0{1,2}/,"")].replaceAll(" ","-"));let a="";return i.length>1&&(a+="un"==i?i+"-milliard":i+"-milliards","zéro"==n&&"zéro"==o&&"zéro"==s||(a+="-")),n.length>1&&"zéro"!=n&&(a+="un"==n?n+"-million":n+"-millions","zéro"==o&&"zéro"==s||(a+="-")),o.length>1&&"zéro"!=o&&(a+="un"==o?"mille":o+"-mille","zéro"!=s&&(a+="-")),s.length>1&&"zéro"!=s&&(a+=s),a}function $cf7a0e0dfc1e90c0e915b74752829335$export$preambule_personnalise(e){let t="";for(let r of e)switch(r){case"axe_gradues":t+="\n%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\n%%% Gestion des axes gradués (Olivier Lacroix) %%%\n%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\n\n\n\\usepackage{xparse}\n\\usepackage{ifthen}\n\\usepackage{xargs}\n\n\\newboolean{demiDroite}\n\\newboolean{affichePointilles}\n\\newboolean{affichePoint}\n\\newboolean{afficheGraduations}\n\n\\makeatletter\n\\newtoks\\@tabtoks\n\\providecommand\\addtabtoks[1]{\\@tabtoks\\expandafter{\\the\\@tabtoks#1}}\n\\providecommand*\\resettabtoks{\\@tabtoks{}}\n\\providecommand*\\printtabtoks{\\the\\@tabtoks}\n\\makeatother\n\n\\DeclareDocumentCommand \\placePoints%\n{ > { \\SplitList { | } } m }%\n{\\ProcessList {#1} {\\mycommand}}\n\n\\newcommand{\\mycommand}[1]{\n\\def\\temp{#1}\n\\expandafter\\placePointsDeuxArg\\temp\n}\n\n\\def\\placePointsDeuxArg#1,#2{\\draw (#1,0) node{\\Large $\\times$} node[above=.2] {\\ensuremath{#2}};}\n\n\n\n\n\\newcommandx{\\axeGradueFraction}[5][5=]{\n\\begin{tikzpicture}[xscale=#4,>=latex]\n\t\\def\\Xmin{#1} \n\t\\def\\Xmax{#2} \n\t\\def\\Decoupage{#3}\n\t\n\t\\ifthenelse { \\equal {#5} {} }\n\t{%pas d'argument optionnel, on trace juste l'axe ci-dessous\n\t}\n\t{% un nombre est Ã  placer sur l'axe avec son label\n\t\t\\placePoints{#5}\n\t\t%\\draw (#5,-.08) -- (#5,.08) node[above] {#6};\n\t}\n\n\n\t\t\n\t% Xfleche de l'axe\n\t\\pgfmathparse{\\Xmax+0.2}\\let\\Xfleche\\pgfmathresult;\n\t% dÃ©but du segment reprÃ©sentant l'axe numÃ©ro 1\n\t\\ifthenelse{\\equal{\\Xmin}{0}}\n\t{\n\t\t\\def\\Xorigine{\\Xmin} \t\n\t}\n\t{\n\t\t\\pgfmathparse{\\Xmin-0.5}\\let\\Xorigine\\pgfmathresult;\t\n\t\t% pour la dÃ©co :\n\t\t\\draw (\\Xmin-1/\\Decoupage,-.05) -- (\\Xmin-1/\\Decoupage,.05);\n\t}\n\t\\pgfmathparse{int(\\Xmax-1)}\\let\\XmaxMoinsUn\\pgfmathresult;\n\t% construction de la droite\n\t\\draw[->,>=latex] (\\Xorigine,0) -- (\\Xfleche,0);\n\t\\foreach \\x in {\\Xmin,...,\\XmaxMoinsUn}{\n\t\t\t\\draw (\\x,-.1) -- (\\x,.1) node[below=.3] {\\x};\n\t\t\t\\foreach \\y in {1,...,\\Decoupage}{\n\t\t\t\t\\pgfmathparse{\\x+\\y/\\Decoupage}\\let\\Xgrad\\pgfmathresult;\n\t\t\t\t\\draw (\\Xgrad,-.05) -- (\\Xgrad,.05);\n\t\t\t}\n\t};\n\t% derniÃ¨re graduation Ã  la mano \n\t\\draw (\\Xmax,-.1) -- (\\Xmax,.1) node[below=.3] {\\Xmax};\n\n\\end{tikzpicture}\n}\n\n\n\n\\newcommand{\\axesZoom}[5]{\n{} \\hfill \n\\begin{tikzpicture}\n\t\\def\\XA{#1} % nombre (positif pour l'instant) Ã  placer (avec deux dÃ©cimales)\n\t\\def\\Nom{#2} % nom du point Ã  placer. Laisser vide si vous ne souhaitez pas voir le point\n\t\\def\\Xmin{#3} % premiÃ¨re valeur de x entiÃ¨re sur l'axe\n\t\\setboolean{affichePointilles}{true}  % affiche les pointillÃ©s indiquant le grossissement\n\t\\setboolean{affichePoint}{#4} % Est ce que le point doit apparaÃ®tre sur la construction. \n\t\\setboolean{afficheGraduations}{#5} % Est ce que l'on gradue tous les axes ou seulement \\Xmin et \\Xmax sur le premier axe (si false)\n\t\\setboolean{demiDroite}{true} %Par dÃ©faut, on construit des demi-droites pour les 6Ã¨mes, si Xmin=0 ou si une des dÃ©cimales l'exige.\n\t\n\t\\ifthenelse{\\boolean{demiDroite}}\n\t{\n\t\t\\def\\DebordementAGauche{0} % mettre 0 pour une demi-droite graduÃ©e partant de l'origine\n\t}\n\t{\n\t\t\\def\\DebordementAGauche{0.5} % mettre 0.5 dans les autres cas.\n\t}\t\n\t\n\t\\pgfmathparse{int(\\Xmin+10)}\\let\\Xmax\\pgfmathresult; % Xmax vaut toujours Xmin+10\n\t\t\n\t\\pgfmathparse{int(\\XA)}\\let\\Unites\\pgfmathresult;\n\t\\pgfmathparse{int((\\XA-\\Unites)*10)}\\let\\Dixiemes\\pgfmathresult;\n\t\\pgfmathparse{int(round((\\XA-\\Unites.\\Dixiemes)*100))}\\let\\Centiemes\\pgfmathresult;\t\n\n\t\\pgfmathparse{int(\\Unites+1)}\\let\\UnitesMaj\\pgfmathresult;\n\t\\pgfmathparse{int(\\Dixiemes+1)}\\let\\DixiemesMaj\\pgfmathresult;\n\t\\pgfmathparse{int(\\Centiemes+1)}\\let\\CentiemesMaj\\pgfmathresult;\t\t\t\t\n\n\t\\pgfmathparse{\\Xmax+1}\\let\\Xfleche\\pgfmathresult;\n\t\\ifthenelse{\\equal{\\Xmin}{0}}\n\t{\n\t\t\\def\\Xorigine{\\Xmin} \t\n\t}\n\t{\n\t\t\\pgfmathparse{\\Xmin-0.5}\\let\\Xorigine\\pgfmathresult;\t\n\t}\n\n\t\\pgfmathparse{int(\\Xmax-1)}\\let\\XmaxMoinsUn\\pgfmathresult;\n\t\\pgfmathparse{int(\\Xmin+1)}\\let\\XminPlusUn\\pgfmathresult;\n\t\t\n\t\\draw[->,>=latex] (\\Xorigine,0) -- (\\Xfleche,0);\n\t\\foreach \\x in {\\XminPlusUn,...,\\XmaxMoinsUn}{\n\t\t\\ifthenelse{\\boolean{afficheGraduations}}\n\t\t{\n\t\t\t\\draw (\\x,-.1) -- (\\x,.1) node[above] {\\x};\n\t\t}\n\t\t{\n\t\t\t\\draw (\\x,-.1) -- (\\x,.1);\n\t\t}\n\t};\n\t\\foreach \\x in {1,...,9}{\n\t\t\\draw (\\Unites.\\x,-.05) -- (\\Unites.\\x,.05);\n\t}\n\t\\draw (\\Xmin,-.1) -- (\\Xmin,.1) node[above] {\\Xmin};\n\t\\draw (\\Xmax,-.1) -- (\\Xmax,.1) node[above] {\\Xmax};\n\t\\ifthenelse{\\not\\equal{\\Unites}{0}}\n\t{\n\t\t\\pgfmathparse{\\Xmin-0.5}\\let\\Xorigine\\pgfmathresult;\t\t\n\t}{}\n\t\\draw[->,>=latex] (\\Xorigine,-2) -- (\\Xfleche,-2);\n\t\\foreach \\x in {1,...,9}{\n\t\t\\pgfmathparse{int(\\Xmin+\\x)}\\let\\X\\pgfmathresult;\n\t\t\\ifthenelse{\\boolean{afficheGraduations}}\n\t\t{\n\t\t\t\\draw (\\X,-2.1) -- (\\X,-1.9) node[above] {\\Unites,\\x};\n\t\t}\n\t\t{\n\t\t\t\\draw (\\X,-2.1) -- (\\X,-1.9);\n\t\t}\t\t\n\t\t\\pgfmathparse{int(\\Dixiemes+\\Xmin)+\\x/10}\\let\\Xtirets\\pgfmathresult;\n\t\t\\draw (\\Xtirets,-2.05) -- (\\Xtirets,-1.95);\n\t};\n\t\n\t\\ifthenelse{\\boolean{afficheGraduations}}\n\t{\t\n\t\t\\draw (\\Xmax,-2.1) -- (\\Xmax,-1.9) node[above] {\\UnitesMaj};\n\t\t\\draw (\\Xmin,-2.1) -- (\\Xmin,-1.9) node[above] {\\Unites};\n\t}\n\t{\n\t\t\\draw (\\Xmax,-2.1) -- (\\Xmax,-1.9) ;\n\t\t\\draw (\\Xmin,-2.1) -- (\\Xmin,-1.9) ;\t\t\n\t}\n\t\n\t\\pgfmathparse{int(\\Dixiemes+\\Xmin)}\\let\\XGaucheAxeBis\\pgfmathresult;\n\t\\pgfmathparse{int(\\XGaucheAxeBis+1)}\\let\\XDroitAxeBis\\pgfmathresult;\n\n\t\\ifthenelse{\\boolean{affichePointilles}}\n\t{\n\t\\draw[dashed] (\\Unites,0) -- (\\Xmin,-2);\n\t\\draw[dashed] (\\UnitesMaj,0) -- (\\Xmax,-2);\n\t\\draw[dashed] (\\XGaucheAxeBis,-2) -- (\\Xmin,-4);\n\t\\draw[dashed] (\\XDroitAxeBis,-2) -- (\\Xmax,-4);\n\t}{}\n\t\n\t\\ifthenelse{\\not\\equal{\\Dixiemes}{0}}\n\t{\n\t\t\\pgfmathparse{\\Xmin-0.5}\\let\\Xorigine\\pgfmathresult;\t\t\n\t}{}\n\t\\draw[->,>=latex] (\\Xorigine,-4) -- (\\Xfleche,-4);\n\t\\foreach \\x in {1,...,9}{\n\t\t\\pgfmathparse{int(\\Xmin+\\x)}\\let\\X\\pgfmathresult;\n\t\t\\ifthenelse{\\boolean{afficheGraduations}}\n\t\t\t{\n\t\t\t\\draw (\\X,-4.1) -- (\\X,-3.9) node[above] {\\Unites,\\Dixiemes\\x};\n\t\t\t}\n\t\t\t{\n\t\t\t\\draw (\\X,-4.1) -- (\\X,-3.9) ;\n\t\t\t}\n\t\t};\n\n\t\n\\ifthenelse{\\boolean{afficheGraduations}}\n\t{\n\t\\ifthenelse{\\equal{\\Dixiemes}{9}}\n\t\t{\n\t\t\\draw (\\Xmax,-4.1) -- (\\Xmax,-3.9) node[above] {\\UnitesMaj};\t\t\n\t\t}\t\n\t\t{\n\t\t\\draw (\\Xmax,-4.1) -- (\\Xmax,-3.9) node[above] {\\Unites,\\DixiemesMaj};\n\t\t}\t\n\t\n\t\\ifthenelse{\\equal{\\Dixiemes}{0}}\n\t\t{\n\t\t\\draw (\\Xmin,-4.1) -- (\\Xmin,-3.9) node[above] {\\Unites};\n\t\t}\n\t\t{\n\t\t\\draw (\\Xmin,-4.1) -- (\\Xmin,-3.9) node[above] {\\Unites,\\Dixiemes};\t\n\t\t}\n\t}\n\t{\n\t\\ifthenelse{\\equal{\\Dixiemes}{9}}\n\t\t{\n\t\t\\draw (\\Xmax,-4.1) -- (\\Xmax,-3.9);\t\t\n\t\t}\t\n\t\t{\n\t\t\\draw (\\Xmax,-4.1) -- (\\Xmax,-3.9) ;\n\t\t}\t\n\t\n\t\\ifthenelse{\\equal{\\Dixiemes}{0}}\n\t\t{\n\t\t\\draw (\\Xmin,-4.1) -- (\\Xmin,-3.9) ;\n\t\t}\n\t\t{\n\t\t\\draw (\\Xmin,-4.1) -- (\\Xmin,-3.9) ;\t\n\t\t}\n\t\\pgfmathparse{int(\\Centiemes+\\Xmin)}\\let\\XGaucheAxeTer\\pgfmathresult;\n\t\\draw (\\XGaucheAxeTer,-4) node[below] {\\Nom};\n\t}\n\t\n\t\\ifthenelse{\\boolean{affichePoint}}\n\t{\n\t\t\\draw (\\XA,0) node{\\Large $\\times$} node[below] {\\Nom};\n\t\t\\draw (\\XGaucheAxeBis.\\Centiemes,-2) node{\\Large $\\times$} node[below] {\\Nom};\n\t}{}\n\\end{tikzpicture}\n\n%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\n%%% Fin de la gestion des axes gradués %%%\n%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\n\n}\n\n";break;case"bclogo":t+="\\usepackage[tikz]{bclogo}";break;case"tkz-euclide":t+="\\usepackage{tkz-euclide}";break;case"dnb":t+="\n\t\t\t\t%%%%% FONTS %%%%%\n\t\t\t\t%\\usepackage{fourier}\n\t\t\t\t\\usepackage{fourier-otf} % car compilation avec xetex\n\t\t\t\t\\usepackage[scaled=0.875]{helvet}\n\t\t\t\t\\renewcommand{\\ttdefault}{lmtt}\n\t\t\t\t\\usepackage{pifont} % symboles\n\t\t\t\t\n\t\t\t\t%%%%% MISE EN PAGE %%%%%\n\t\t\t\t\\usepackage{makeidx}\n\t\t\t\t\\usepackage{lscape} % format paysage\n\t\t\t\t\n\t\t\t\t%%%%% MISE EN FORME %%%%%\n\t\t\t\t\\usepackage[normalem]{ulem} % souligner\n\t\t\t\t\\usepackage{booktabs} % tableaux de qualité\n\t\t\t\t%\\usepackage[dvips]{hyperref} % hyperlien pour le passage par la compilation dvips\n\t\t\t\t\n\t\t\t\t%%%%% MATHS %%%%%\n\t\t\t\t\\usepackage{diagbox} % des diagonales dans une cellule de tableau\n\t\t\t\t\\usepackage{multirow} % fusionner plusieurs lignes de tableau\n\t\t\t\t\\usepackage{dcolumn} % aligner des décimaux dans un tableau\n\t\t\t\t%\\usepackage{marvosym}   %c'est pour le symbole euro : code \\EUR{}\n\t\t\t\t%\\usepackage[np]{numprint} % affichage formaté des nombres\n\t\t\t\t\n\t\t\t\t%%%%%%% SCRATCH %%%%%%%\n\t\t\t\t% Par défaut pour les anciens sujets c'est le package scratch qui est chargé\n\t\t\t\t% Les packages scratch et scratch3 sont incompatibles\n\t\t\t\t% Il convient donc de commenter l'un d'eux selon les besoins\n\t\t\t\t%\n\t\t\t\t% à noter que le package scratch3 requiert simplekv et tikz qui sont automatiquement chargés en cas de besoin\n\t\t\t\t\\usepackage{scratch}\n\t\t\t\t%\\usepackage{scratch3} \n\t\t\t\t\n\t\t\t\t%%%%% FIGURES %%%%%\n\t\t\t\t\\usepackage{graphics} % à distinguer du package graphicx\n\t\t\t\t\\usepackage{framed} % decoration background\n\t\t\t\t\n\t\t\t\t%%%%%%% PSTRICKS %%%%%%%\n\t\t\t\t\\usepackage{pstricks,pst-plot,pst-tree,pstricks-add}\n\t\t\t\t\\usepackage{pst-eucl}  % permet de faire des dessins de géométrie simplement\n\t\t\t\t\\usepackage{pst-text}\n\t\t\t\t\\usepackage{pst-node,pst-all}\n\t\t\t\t\n\t\t\t\t%%%%%%% TIKZ %%%%%%%\n\t\t\t\t\\usepackage{tkz-tab,tkz-fct}\n\t\t\t\t\\usepackage{tkz-euclide}\n\t\t\t\t\\usepackage[tikz]{bclogo}\n\t\t\t\t\\usetikzlibrary{shadows,decorations.markings}\n\t\t\t\t\\usetikzlibrary{decorations.pathreplacing}\n\t\t\t\t%\\usepackage{tikz} % arbre en proba\n\t\t\t\t%\\usetikzlibrary{trees} % arbre en proba\n\t\t\t\t\\usepackage{forest} % arbre en proba\n\t\t\t\t\n\t\t\t\t%%%%%%% TRACÉS FONNCTIONS %%%%%%%\n\t\t\t\t\\usepackage{pgfplots}\n\t\t\t\t\\pgfplotsset{compat=1.17}\n\t\t\t\t\n\t\t\t\t%%%%% PROGRAMMATION %%%%%\n\t\t\t\t\\usepackage{xkeyval,ifthen}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t%%%%% COMMANDES SPRECIFIQUES %%%%%\n\t\t\t\t\\newcommand{\\textding}[1]{\\text{\\ding{#1}}}\n\t\t\t\t%\\newcommand{\\euro}{\\eurologo{}}\n\t\t\t\t\\renewcommand{\\pstEllipse}[5][]{% arc d'ellipse pour le sujet de Polynésie septembre 2013\n\t\t\t\t\\psset{#1}\n\t\t\t\t\\parametricplot{#4}{#5}{#2\\space t cos mul #3\\space t sin mul}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t%%%%%%% NOTATIONS DES ENSEMBLES %%%%%%%\n\t\t\t\t\\newcommand{\\R}{\\mathbb{R}}\n\t\t\t\t\\newcommand{\\N}{\\mathbb{N}}\n\t\t\t\t\\newcommand{\\D}{\\mathbb{D}}\n\t\t\t\t\\newcommand{\\Z}{\\mathbb{Z}}\n\t\t\t\t\\newcommand{\\Q}{\\mathbb{Q}}\n\t\t\t\t%\\newcommand{\\C}{\\mathbb{C}}\n\t\t\t\t\n\t\t\t\t%%%%% TRACÉS DANS UN REPÈRE %%%%%\n\t\t\t\t\\newcommand{\\vect}[1]{\\overrightarrow{\\,\\mathstrut#1\\,}}\n\t\t\t\t\\def\\Oij{$\\left(\\text{O}~;~\\vect{\\imath},~\\vect{\\jmath}\\right)$}\n\t\t\t\t\\def\\Oijk{$\\left(\\text{O}~;~\\vect{\\imath},~\\vect{\\jmath},~\\vect{k}\\right)$}\n\t\t\t\t\\def\\Ouv{$\\left(\\text{O}~;~\\vect{u},~\\vect{v}\\right)$}\n\t\t\t\t\n\t\t\t\t%%%%% PROBABILITÉS %%%%%\n\t\t\t\t% Structure servant à avoir l'événement et la probabilité.\n\t\t\t\t\\def\\getEvene#1/#2\\endget{$#1$}\n\t\t\t\t\\def\\getProba#1/#2\\endget{$#2$}\n\t\t\t\t\n\t\t\t\t%%%%% NOMBRES PREMIERS %%%%%\n\t\t\t\t\\input{xlop} % JM pour les opérations\n\t\t\t\t%%% Table des nombres premiers  %%%%\n\t\t\t\t\\newcount\\primeindex\n\t\t\t\t\\newcount\\tryindex\n\t\t\t\t\\newif\\ifprime\n\t\t\t\t\\newif\\ifagain\n\t\t\t\t\\newcommand\\getprime[1]{%\n\t\t\t\t\\opcopy{2}{P0}%\n\t\t\t\t\\opcopy{3}{P1}%\n\t\t\t\t\\opcopy{5}{try}\n\t\t\t\t\\primeindex=2\n\t\t\t\t\\loop\n\t\t\t\t\\ifnum\\primeindex<#1\\relax\n\t\t\t\t\\testprimality\n\t\t\t\t\\ifprime\n\t\t\t\t\\opcopy{try}{P\\the\\primeindex}%\n\t\t\t\t\\advance\\primeindex by1\n\t\t\t\t\\fi\n\t\t\t\t\\opadd*{try}{2}{try}%\n\t\t\t\t\\ifnum\\primeindex<#1\\relax\n\t\t\t\t\\testprimality\n\t\t\t\t\\ifprime\n\t\t\t\t\\opcopy{try}{P\\the\\primeindex}%\n\t\t\t\t\\advance\\primeindex by1\n\t\t\t\t\\fi\n\t\t\t\t\\opadd*{try}{4}{try}%\n\t\t\t\t\\fi\n\t\t\t\t\\repeat\n\t\t\t\t}\n\t\t\t\t\\newcommand\\testprimality{%\n\t\t\t\t\\begingroup\n\t\t\t\t\\againtrue\n\t\t\t\t\\global\\primetrue\n\t\t\t\t\\tryindex=0\n\t\t\t\t\\loop\n\t\t\t\t\\opidiv*{try}{P\\the\\tryindex}{q}{r}%\n\t\t\t\t\\opcmp{r}{0}%\n\t\t\t\t\\ifopeq \\global\\primefalse \\againfalse \\fi\n\t\t\t\t\\opcmp{q}{P\\the\\tryindex}%\n\t\t\t\t\\ifoplt \\againfalse \\fi\n\t\t\t\t\\advance\\tryindex by1\n\t\t\t\t\\ifagain\n\t\t\t\t\\repeat\n\t\t\t\t\\endgroup\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t%%% Décomposition en nombres premiers %%%\n\t\t\t\t\\newcommand\\primedecomp[2][nil]{%\n\t\t\t\t\\begingroup\n\t\t\t\t\\opset{#1}%\n\t\t\t\t\\opcopy{#2}{NbtoDecompose}%\n\t\t\t\t\\opabs{NbtoDecompose}{NbtoDecompose}%\n\t\t\t\t\\opinteger{NbtoDecompose}{NbtoDecompose}%\n\t\t\t\t\\opcmp{NbtoDecompose}{0}%\n\t\t\t\t\\ifopeq\n\t\t\t\tJe refuse de décomposer zéro.\n\t\t\t\t\\else\n\t\t\t\t\\setbox1=\\hbox{\\opdisplay{operandstyle.1}%\n\t\t\t\t{NbtoDecompose}}%\n\t\t\t\t{\\setbox2=\\box2{}}%\n\t\t\t\t\\count255=1\n\t\t\t\t\\primeindex=0\n\t\t\t\t\\loop\n\t\t\t\t\\opcmp{NbtoDecompose}{1}\\ifopneq\n\t\t\t\t\\opidiv*{NbtoDecompose}{P\\the\\primeindex}{q}{r}%\n\t\t\t\t\\opcmp{0}{r}\\ifopeq\n\t\t\t\t\\ifvoid2\n\t\t\t\t\\setbox2=\\hbox{%\n\t\t\t\t\\opdisplay{intermediarystyle.\\the\\count255}%\n\t\t\t\t{P\\the\\primeindex}}%\n\t\t\t\t\\else\n\t\t\t\t\\setbox2=\\vtop{%\n\t\t\t\t\\hbox{\\box2}\n\t\t\t\t\\hbox{%\n\t\t\t\t\\opdisplay{intermediarystyle.\\the\\count255}%\n\t\t\t\t{P\\the\\primeindex}}}\n\t\t\t\t\\fi\n\t\t\t\t\\opcopy{q}{NbtoDecompose}%\n\t\t\t\t\\advance\\count255 by1\n\t\t\t\t\\setbox1=\\vtop{%\n\t\t\t\t\\hbox{\\box1}\n\t\t\t\t\\hbox{%\n\t\t\t\t\\opdisplay{operandstyle.\\the\\count255}%\n\t\t\t\t{NbtoDecompose}}\n\t\t\t\t}%\n\t\t\t\t\\else\n\t\t\t\t\\advance\\primeindex by1\n\t\t\t\t\\fi\n\t\t\t\t\\repeat\n\t\t\t\t\\hbox{\\box1\n\t\t\t\t\\kern0.5\\opcolumnwidth\n\t\t\t\t\\opvline(0,0.75){\\the\\count255.25}\n\t\t\t\t\\kern0.5\\opcolumnwidth\n\t\t\t\t\\box2}%\n\t\t\t\t\\fi\n\t\t\t\t\\endgroup\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t%%%%% VÉRIFIER L'UTILITÉ %%%%%\n\t\t\t\t%\\renewcommand{\\theenumi}{\\textbf{\\arabic{enumi}}}\n\t\t\t\t%\\renewcommand{\\labelenumi}{\\textbf{\\theenumi.}}\n\t\t\t\t%\\renewcommand{\\theenumii}{\\textbf{\\alph{enumii}}}\n\t\t\t\t%\\renewcommand{\\labelenumii}{\\textbf{\\theenumii.}}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t%Tapuscrit : Denis Vergès\t\t\t\t\n\t\t\t\t\n\t\t\t\t";break;default:t+=`\\usepackage{${r}}\n`}return t}function $cf7a0e0dfc1e90c0e915b74752829335$export$export_QCM_AMC(e,t){let r,i,n,o,s,a,c,l=function(e){let t=e[1].slice(),r=e[2].slice();for(let e=0;e<t.length-1;e++)for(let i=e+1;i<t.length;)t[e]==t[i]?(console.log("doublon trouvé",t[e],t[i]),1==r[e]?(t.splice(i,1),r.splice(i,1)):1==r[i]?(t.splice(i,1),r.splice(i,1),r[e]=1):(t.splice(i,1),r.splice(i,1))):i++;return[e[0],t,r]},p="",u="",f=0;e.length>4?(a=e[4],c="undefined"===a.vertical?"reponseshoriz":"reponses"):(a={ordered:!1,lastChoices:0},c="reponseshoriz");for(let d=0;d<e[1].length;d++)switch(r=e[1][d].slice(0),i=0,e[3]){case 1:r=l(r),i=0;for(let e of r[2])1==e&&i++;1==i?u="question":i>1&&(u="questionmult"),p+=`\\element{${e[0]}}{\n `,p+=`\t\\begin{${u}}{question-${e[0]}-${$cf7a0e0dfc1e90c0e915b74752829335$export$lettre_depuis_chiffre(t+1)}-${f}} \n `,p+=`\t\t${r[0]} \n `,p+=`\t\t\\begin{${c}}`,1==a.ordered&&(p+="[o]"),p+="\n ";for(let e=0;e<r[1].length;e++)switch(a.lastChoices>0&&e==a.lastChoices&&(p+="\\lastchoices\n"),r[2][e]){case 1:p+=`\t\t\t\\bonne{${r[1][e]}}\n `;break;case 0:p+=`\t\t\t\\mauvaise{${r[1][e]}}\n `}p+=`\t\t\\end{${c}}\n `,p+=`\t\\end{${u}}\n }\n `,f++;break;case 2:r=l(r),u="questionmult",p+=`\\element{${e[0]}}{\n `,p+=`\t\\begin{${u}}{question-${e[0]}-${$cf7a0e0dfc1e90c0e915b74752829335$export$lettre_depuis_chiffre(t+1)}-${f}} \n `,p+=`\t\t${r[0]} \n `,p+=`\t\t\\begin{${c}}`,1==a.ordered&&(p+="[o]"),p+=" \n ";for(let e=0;e<r[1].length;e++)switch(a.lastChoices>0&&e==a.lastChoices&&(p+="\\lastchoices\n"),r[2][e]){case 1:p+=`\t\t\t\\bonne{${r[1][e]}}\n `;break;case 0:p+=`\t\t\t\\mauvaise{${r[1][e]}}\n `}p+=`\t\t\\end{${c}}\n `,p+=`\t\\end{${u}}\n }\n `,f++;break;case 3:p+=`\\element{${e[0]}}{\n `,p+=`\t\\begin{question}{question-${e[0]}-${$cf7a0e0dfc1e90c0e915b74752829335$export$lettre_depuis_chiffre(t+1)}-${f}} \n `,p+=`\t\t${r[0]} \n `,p+=`\\explain{${r[1][0]}}\n`,p+=`\\notation{${r[2][0]}}\n`,p+="\\end{question}\n }\n",f++;break;case 4:0==r[2].exposant_nb_chiffres&&(s=r[1][1],0==r[2].digits&&(o=$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_de_chiffres_dans_la_partie_decimale(s),r[2].decimals=o,n=$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_de_chiffres_dans_la_partie_entiere(s),r[2].digits=o+n)),p+=`\\element{${e[0]}}{\n `,p+=`\t\\begin{questionmultx}{question-${e[0]}-${$cf7a0e0dfc1e90c0e915b74752829335$export$lettre_depuis_chiffre(t+1)}-${f}} \n `,p+=`\t\t${r[0]} \n `,p+=`\\explain{${r[1][0]}}\n`,p+=`\\AMCnumericChoices{${r[1][1]}}{digits=${r[2].digits},decimals=${r[2].decimals},sign=${r[2].signe},`,0!=r[2][3]&&(p+=`exponent=${r[2].exposant_nb_chiffres},exposign=${r[2].exposant_signe},`),0!=r[2].approx&&(p+=`approx=${r[2].approx},`),void 0!==r[2].vertical&&(p+=`vertical=${r[2].vertical},`),void 0!==r[2].strict&&(p+=`strict=${r[2].strict},`),void 0!==r[2].vhead&&(p+=`vhead=${r[2].vhead},`),p+="borderwidth=0pt,backgroundcol=lightgray,scoreapprox=0.5,scoreexact=1,Tpoint={,}}\n",p+="\\end{questionmultx}\n }\n",f++;break;case 5:p+=`\\element{${e[0]}}{\n `,p+="\\begin{minipage}[b]{0.7 \\linewidth}\n",p+=`\t\\begin{question}{question-${e[0]}-${$cf7a0e0dfc1e90c0e915b74752829335$export$lettre_depuis_chiffre(t+1)}-${f}a} \n `,p+=`\t\t${r[0]} \n `,p+=`\\explain{${r[1][0]}}\n`,p+=`\\notation{${r[1][2]}}\n`,p+="\\end{question}\n\\end{minipage}\n",0==r[2].exposant_nb_chiffres&&(s=r[1][1],0==r[2].digits&&(o=$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_de_chiffres_dans_la_partie_decimale(s),r[2].decimals=o,n=$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_de_chiffres_dans_la_partie_entiere(s),r[2].digits=o+n)),p+="\\begin{minipage}[b]{0.3 \\linewidth}\n",p+=`\t\\begin{questionmultx}{question-${e[0]}-${$cf7a0e0dfc1e90c0e915b74752829335$export$lettre_depuis_chiffre(t+1)}-${f}b} \n `,p+=`\\AMCnumericChoices{${r[1][1]}}{digits=${r[2].digits},decimals=${r[2].decimals},sign=${r[2].signe},`,0!=r[2][3]&&(p+=`exponent=${r[2].exposant_nb_chiffres},exposign=${r[2].exposant_signe},`),0!=r[2].approx&&(p+=`approx=${r[2].approx},`),p+="borderwidth=0pt,backgroundcol=lightgray,scoreapprox=0.5,scoreexact=1,Tpoint={,},vertical=true}\n",p+="\\end{questionmultx}\n\\end{minipage}}\n",f++}return[p,e[0],e[1].length,e[2]]}
/*
MathALEA2D
@name      mathalea2d.js
@author    Rémi Angot & Jean-Claude Lhote
@license   MIT License - CC-BY-SA
@homepage  https://copmaths.fr/mathalea2d.html
*/let $459103e30f4604971e030953f4b52e1b$var$numId=0;function $459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D(){this.positionLabel="above",this.isVisible=!0,this.color="black",this.style="",this.styleTikz="",this.epaisseur=1,this.opacite=1,this.pointilles=!1,this.id=$459103e30f4604971e030953f4b52e1b$var$numId,$459103e30f4604971e030953f4b52e1b$var$numId++,mathalea.objets2D.push(this)}function $459103e30f4604971e030953f4b52e1b$var$Fond_ecran(e,t,r,i,n){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.svg=function(o){return`<image xlink:href="${e}" x="${t}" y="${r}" height="${n}" width="${i}" />`},this.tikz=function(){return`\node[inner sep=0pt] at (${t},${r})\n    {includegraphics[width= l cm]{url}};`}}function $459103e30f4604971e030953f4b52e1b$var$Point(e,t,r,i="above"){this.typeObjet="point",$459103e30f4604971e030953f4b52e1b$var$numId++,this.id=$459103e30f4604971e030953f4b52e1b$var$numId,1==arguments.length?this.nom=e:2==arguments.length?(this.x=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e,2),this.y=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(t,2)):(this.x=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e,2),this.y=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(t,2),this.nom=r),this.positionLabel=i,this.xSVG=function(e){return $cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(this.x*e,2)},this.ySVG=function(e){return-$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(this.y*e,2)},this.nom||(this.nom=" ")}function $459103e30f4604971e030953f4b52e1b$export$point(...e){return new $459103e30f4604971e030953f4b52e1b$var$Point(...e)}function $459103e30f4604971e030953f4b52e1b$var$TracePoint(...e){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.taille=3,this.epaisseur=1,this.opacite=.8,this.style="x","string"==typeof e[e.length-1]?this.color=e[e.length-1]:this.color="black",this.svg=function(t){let r,i,n,o,s,a=[];for(let c of e)c.constructor==$459103e30f4604971e030953f4b52e1b$var$Point&&("x"==this.style?(r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(c.x-this.taille/t,c.y+this.taille/t),$459103e30f4604971e030953f4b52e1b$export$point(c.x+this.taille/t,c.y-this.taille/t),this.color),i=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(c.x-this.taille/t,c.y-this.taille/t),$459103e30f4604971e030953f4b52e1b$export$point(c.x+this.taille/t,c.y+this.taille/t),this.color),r.epaisseur=this.epaisseur,i.epaisseur=this.epaisseur,r.opacite=this.opacite,i.opacite=this.opacite,a.push(r,i),r.isVisible=!1,i.isVisible=!1):"o"==this.style?(n=$459103e30f4604971e030953f4b52e1b$export$point(c.x,c.y),s=$459103e30f4604971e030953f4b52e1b$export$cercle(n,this.taille/t,this.color),s.epaisseur=this.epaisseur,s.opacite=this.opacite,s.couleurDeRemplissage=this.color,s.opaciteDeRemplissage=this.opacite/2,a.push(s)):"#"==this.style?(n=$459103e30f4604971e030953f4b52e1b$export$point(c.x-this.taille/t,c.y-this.taille/t),o=$459103e30f4604971e030953f4b52e1b$export$point(c.x+this.taille/t,c.y-this.taille/t),s=$459103e30f4604971e030953f4b52e1b$export$carre(n,o,this.color),s.epaisseur=this.epaisseur,s.opacite=this.opacite,s.couleurDeRemplissage=this.color,s.opaciteDeRemplissage=this.opacite/2,a.push(s)):"+"==this.style?(r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(c.x,c.y+this.taille/t),$459103e30f4604971e030953f4b52e1b$export$point(c.x,c.y-this.taille/t),this.color),i=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(c.x-this.taille/t,c.y),$459103e30f4604971e030953f4b52e1b$export$point(c.x+this.taille/t,c.y),this.color),r.epaisseur=this.epaisseur,i.epaisseur=this.epaisseur,r.opacite=this.opacite,i.opacite=this.opacite,a.push(r,i)):"|"==this.style&&(r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(c.x,c.y+this.taille/t),$459103e30f4604971e030953f4b52e1b$export$point(c.x,c.y-this.taille/t),this.color),r.epaisseur=this.epaisseur,r.opacite=this.opacite,a.push(r)));let c="";for(let e of a)c+="\n\t"+e.svg(t);return c=`<g id="${this.id}">`+c+"</g>",c},this.tikz=function(){let t,r,i,n,o,s=[],a=this.taille/20/mathalea.scale;for(let c of e)c.constructor==$459103e30f4604971e030953f4b52e1b$var$Point&&("x"==this.style?(t=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(c.x-a,c.y+a),$459103e30f4604971e030953f4b52e1b$export$point(c.x+a,c.y-a),this.color),r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(c.x-a,c.y-a),$459103e30f4604971e030953f4b52e1b$export$point(c.x+a,c.y+a),this.color),t.epaisseur=this.epaisseur,r.epaisseur=this.epaisseur,t.opacite=this.opacite,r.opacite=this.opacite,s.push(t,r)):"o"==this.style?(i=$459103e30f4604971e030953f4b52e1b$export$point(c.x,c.y),o=$459103e30f4604971e030953f4b52e1b$export$cercle(i,a,this.color),o.epaisseur=this.epaisseur,o.opacite=this.opacite,o.couleurDeRemplissage=this.color,o.opaciteDeRemplissage=this.opacite/2,s.push(o)):"#"==this.style?(i=$459103e30f4604971e030953f4b52e1b$export$point(c.x-a,c.y-a),n=$459103e30f4604971e030953f4b52e1b$export$point(c.x+a,c.y-a),o=$459103e30f4604971e030953f4b52e1b$export$carreIndirect(i,n,this.color),o.epaisseur=this.epaisseur,o.opacite=this.opacite,o.couleurDeRemplissage=this.color,o.opaciteDeRemplissage=this.opacite/2,s.push(o)):"+"==this.style?(t=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(c.x,c.y+a),$459103e30f4604971e030953f4b52e1b$export$point(c.x,c.y-a),this.color),r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(c.x-a,c.y),$459103e30f4604971e030953f4b52e1b$export$point(c.x+a,c.y),this.color),t.epaisseur=this.epaisseur,r.epaisseur=this.epaisseur,t.opacite=this.opacite,r.opacite=this.opacite,s.push(t,r)):"|"==this.style&&(t=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(c.x,c.y+a),$459103e30f4604971e030953f4b52e1b$export$point(c.x,c.y-a),this.color),t.epaisseur=this.epaisseur,t.opacite=this.opacite,s.push(t)));let c="";for(let e of s)c+="\n\t"+e.tikz();return c}}function $459103e30f4604971e030953f4b52e1b$export$tracePoint(...e){return new $459103e30f4604971e030953f4b52e1b$var$TracePoint(...e)}function $459103e30f4604971e030953f4b52e1b$var$TracePointSurDroite(e,t){let r,i;$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.lieu=e,this.taille=.2,this.x=e.x,this.y=e.y,t.constructor==$459103e30f4604971e030953f4b52e1b$var$Point&&(r=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(e,t,1),this.direction=$459103e30f4604971e030953f4b52e1b$export$rotation(r,e,90)),t.constructor==$459103e30f4604971e030953f4b52e1b$var$Droite&&(i=$459103e30f4604971e030953f4b52e1b$export$droiteParPointEtPerpendiculaire(e,t),i.isVisible=!1,this.direction=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment($459103e30f4604971e030953f4b52e1b$export$point(i.x1,i.y1),$459103e30f4604971e030953f4b52e1b$export$point(i.x2,i.y2),1)),this.svg=function(e){let t=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.lieu,this.direction,20*this.taille/e),$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.lieu,this.direction,20*-this.taille/e));return this.id=t.id,t.isVisible=!1,t.svg(e)},this.tikz=function(){return $459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.lieu,this.direction,this.taille/mathalea.scale),$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.lieu,this.direction,-this.taille/mathalea.scale)).tikz()}}function $459103e30f4604971e030953f4b52e1b$export$tracePointSurDroite(e,t){return new $459103e30f4604971e030953f4b52e1b$var$TracePointSurDroite(e,t)}function $459103e30f4604971e030953f4b52e1b$export$milieu(e,t,r,i="above"){return new $459103e30f4604971e030953f4b52e1b$var$Point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul((e.x+t.x)/2),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((e.y+t.y)/2),r,i)}function $459103e30f4604971e030953f4b52e1b$export$pointSurSegment(e,t,r,i="",n="above"){return void 0!==r&&"string"!=typeof r||(r=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul($459103e30f4604971e030953f4b52e1b$export$longueur(e,t)*$cf7a0e0dfc1e90c0e915b74752829335$export$randint(15,85)/100)),$459103e30f4604971e030953f4b52e1b$export$homothetie(t,e,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r/$459103e30f4604971e030953f4b52e1b$export$longueur(e,t)),i,n)}function $459103e30f4604971e030953f4b52e1b$export$appartientSegment(e,t,r){let i=(r.x-t.x)*(e.y-t.y)-(e.x-t.x)*(r.y-t.y),n=(e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y),o=(r.x-t.x)**2+(r.y-t.y)**2;return 0==i&&n>0&&n<o}function $459103e30f4604971e030953f4b52e1b$export$appartientDroite(e,t,r){return 0==(r.x-t.x)*(e.y-t.y)-(e.x-t.x)*(r.y-t.y)}function $459103e30f4604971e030953f4b52e1b$export$appartientDemiDroite(e,t,r){let i=(r.x-t.x)*(e.y-t.y)-(e.x-t.x)*(r.y-t.y),n=(e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y);return 0==i&&n>0}function $459103e30f4604971e030953f4b52e1b$export$pointSurCercle(e,t,r,i="above"){return"number"!=typeof t&&(t=$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-180,180)),$459103e30f4604971e030953f4b52e1b$export$point(e.centre.x+e.rayon*Math.cos(Math.radians(t)),e.centre.y+e.rayon*Math.sin(Math.radians(t)),r,i)}function $459103e30f4604971e030953f4b52e1b$export$pointSurDroite(e,t,r,i="above"){return 0==e.b?$459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-e.c/e.a),t,r,i):0==e.a?$459103e30f4604971e030953f4b52e1b$export$point(t,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-e.c/e.b),r,i):$459103e30f4604971e030953f4b52e1b$export$point(t,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((-e.c-e.a*t)/e.b),r,i)}function $459103e30f4604971e030953f4b52e1b$export$pointIntersectionDD(e,t,r="",i="above"){let n,o;return t.a*e.b-t.b*e.a==0?(console.log("Les droites sont parallèles, pas de point d'intersection"),!1):(o=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((t.c*e.a-e.c*t.a)/(t.a*e.b-t.b*e.a)),n=0==e.a?$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((-t.c-t.b*o)/t.a):$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((-e.c-e.b*o)/e.a),$459103e30f4604971e030953f4b52e1b$export$point(n,o,r,i))}function $459103e30f4604971e030953f4b52e1b$export$pointAdistance(...e){let t=e.length,r=$cf7a0e0dfc1e90c0e915b74752829335$export$randint(1,360),i=e[0],n=$459103e30f4604971e030953f4b52e1b$export$point(i.x+1,i.y),o=e[1];return!(t<2)&&(2==t?$459103e30f4604971e030953f4b52e1b$export$similitude(n,i,r,o):3==t?"number"==typeof e[2]?$459103e30f4604971e030953f4b52e1b$export$similitude(n,i,e[2],o):$459103e30f4604971e030953f4b52e1b$export$similitude(n,i,r,o,e[2]):4==t?"number"==typeof e[2]?$459103e30f4604971e030953f4b52e1b$export$similitude(n,i,e[2],o,e[3]):$459103e30f4604971e030953f4b52e1b$export$similitude(n,i,r,o,e[2],e[3]):$459103e30f4604971e030953f4b52e1b$export$similitude(n,i,e[2],o,e[3],e[4]))}function $459103e30f4604971e030953f4b52e1b$var$LabelPoint(...e){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.taille=1,this.svg=function(t){let r,i,n="";Array.isArray(e[0])?this.listePoints=e[0]:this.listePoints=e;for(let e of this.listePoints)switch(r=e.x,i=e.y,e.positionLabel){case"left":n+=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(e.nom,r-15/t,i,"milieu",this.color,this.taille,"",!0).svg(t)+"\n";break;case"right":n+=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(e.nom,r+15/t,i,"milieu",this.color,this.taille,"",!0).svg(t)+"\n";break;case"below":n+=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(e.nom,r,i-15/t,"milieu",this.color,this.taille,"",!0).svg(t)+"\n";break;case"above":n+=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(e.nom,r,i+15/t,"milieu",this.color,this.taille,"",!0).svg(t)+"\n";break;case"above right":n+=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(e.nom,r+15/t,i+15/t,"milieu",this.color,this.taille,"",!0).svg(t)+"\n";break;case"below left":n+=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(e.nom,r-15/t,i-15/t,"milieu",this.color,this.taille,"",!0).svg(t)+"\n";break;case"below right":n+=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(e.nom,r+15/t,i-15/t,"milieu",this.color,this.taille,"",!0).svg(t)+"\n";break;default:n+=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(e.nom,r-15/t,i+15/t,"milieu",this.color,this.taille,"",!0).svg(t)+"\n"}return n=`<g id="${this.id}">${n}</g>`,n},this.tikz=function(){let t="",r="";"black"!=this.color&&(r=`,${this.color}`);for(let i of e)t+=`\t\\draw (${i.x},${i.y}) node[${i.positionLabel}${r}] {$${i.nom}$};\n`;return t}}function $459103e30f4604971e030953f4b52e1b$export$labelPoint(...e){return new $459103e30f4604971e030953f4b52e1b$var$LabelPoint(...e)}function $459103e30f4604971e030953f4b52e1b$export$barycentre(e,t="",r="above"){let i=0,n=0,o=0;for(let t of e.listePoints)i+=t.x,n+=t.y,o++;return new $459103e30f4604971e030953f4b52e1b$var$Point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(i/o),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(n/o),t,r)}function $459103e30f4604971e030953f4b52e1b$var$Droite(e,t,r,i){let n,o,s,a,c,l;if($459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),2==arguments.length?(this.nom="",this.x1=e.x,this.y1=e.y,this.x2=t.x,this.y2=t.y,this.a=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.y1-this.y2),this.b=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.x2-this.x1),this.c=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((this.x1-this.x2)*this.y1+(this.y2-this.y1)*this.x1)):3==arguments.length?"number"==typeof e?(this.nom="",this.a=e,this.b=t,this.c=r,n=e,o=t,s=r,$cf7a0e0dfc1e90c0e915b74752829335$export$egal(n,0)?(this.x1=0,this.x2=1,this.y1=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-s/o),this.y2=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-s/o)):$cf7a0e0dfc1e90c0e915b74752829335$export$egal(o,0)?(this.y1=0,this.y2=1,this.x1=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-s/n),this.x2=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-s/n)):(this.x1=0,this.y1=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-s/o),this.x2=1,this.y2=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((-s-n)/o))):(this.x1=e.x,this.y1=e.y,this.x2=t.x,this.y2=t.y,this.a=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.y1-this.y2),this.b=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.x2-this.x1),this.c=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((this.x1-this.x2)*this.y1+(this.y2-this.y1)*this.x1),this.nom=r):4==arguments.length&&("number"==typeof e?(this.a=e,this.b=t,this.c=r,n=e,o=t,s=r,this.nom=i,$cf7a0e0dfc1e90c0e915b74752829335$export$egal(n,0)?(this.x1=0,this.x2=1,this.y1=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-s/o),this.y2=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-s/o)):$cf7a0e0dfc1e90c0e915b74752829335$export$egal(o,0)?(this.y1=0,this.y2=1,this.x1=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-s/n),this.x2=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-s/n)):(this.x1=0,this.y1=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-s/o),this.x2=1,this.y2=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((-s-n)/o))):(this.x1=e.x,this.y1=e.y,this.x2=t.x,this.y2=t.y,this.a=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.y1-this.y2),this.b=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.x2-this.x1),this.c=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((this.x1-this.x2)*this.y1+(this.y2-this.y1)*this.x1),this.nom=r,this.color=i)),0!=this.b&&(this.pente=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-this.a/this.b)),this.normal=$459103e30f4604971e030953f4b52e1b$export$vecteur(this.a,this.b),this.directeur=$459103e30f4604971e030953f4b52e1b$export$vecteur(this.b,-this.a),this.angleAvecHorizontale=$459103e30f4604971e030953f4b52e1b$export$angleOriente($459103e30f4604971e030953f4b52e1b$export$point(1,0),$459103e30f4604971e030953f4b52e1b$export$point(0,0),$459103e30f4604971e030953f4b52e1b$export$point(this.directeur.x,this.directeur.y)),""!=this.nom){if($cf7a0e0dfc1e90c0e915b74752829335$export$egal(this.b,0,.1))a=-this.c/this.a+.8,c=mathalea.fenetreMathalea2d[1]+1;else if($cf7a0e0dfc1e90c0e915b74752829335$export$egal(this.a,0,.1))a=mathalea.fenetreMathalea2d[0]+.8,c=-this.c/this.b+.8;else{let e=(-this.a*(mathalea.fenetreMathalea2d[0]+1)-this.c)/this.b,t=(-this.a*(mathalea.fenetreMathalea2d[2]-1)-this.c)/this.b,r=(-this.b*(mathalea.fenetreMathalea2d[1]+1)-this.c)/this.a,i=(-this.b*(mathalea.fenetreMathalea2d[3]-1)-this.c)/this.a;e>mathalea.fenetreMathalea2d[1]&&e<mathalea.fenetreMathalea2d[3]?(a=mathalea.fenetreMathalea2d[0]+1,c=e+this.pente):t>mathalea.fenetreMathalea2d[1]&&t<mathalea.fenetreMathalea2d[3]?(a=mathalea.fenetreMathalea2d[2]-1,c=t-this.pente):r>mathalea.fenetreMathalea2d[0]&&r<mathalea.fenetreMathalea2d[2]?(a=r,c=mathalea.fenetreMathalea2d[1]+math.abs(this.pente)):i>mathalea.fenetreMathalea2d[0]&&i<mathalea.fenetreMathalea2d[2]?(a=i,c=mathalea.fenetreMathalea2d[3]+this.pente):(a=(mathalea.fenetreMathalea2d[0]+mathalea.fenetreMathalea2d[2])/2,c=$459103e30f4604971e030953f4b52e1b$export$pointSurDroite(this,a).y)}a=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(a,2),c=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(c,2),l=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.nom,a,c,"milieu",this.color,1.2,"milieu",!0)}this.svg=function(e){if(1!=this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),Boolean(this.pointilles))switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}1!=this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `);let t=$459103e30f4604971e030953f4b52e1b$export$point(this.x1,this.y1),r=$459103e30f4604971e030953f4b52e1b$export$point(this.x2,this.y2),i=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,r,-50),n=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(r,t,-50);return""==this.nom?`<line x1="${i.xSVG(e)}" y1="${i.ySVG(e)}" x2="${n.xSVG(e)}" y2="${n.ySVG(e)}" stroke="${this.color}" ${this.style} id ="${this.id}" />`:`<line x1="${i.xSVG(e)}" y1="${i.ySVG(e)}" x2="${n.xSVG(e)}" y2="${n.ySVG(e)}" stroke="${this.color}" ${this.style} id ="${this.id}" />`+l.svg(e)},this.tikz=function(){let e=[];if(this.color.length>1&&"black"!==this.color&&e.push(this.color),1!=this.epaisseur&&e.push(`line width = ${this.epaisseur}`),Boolean(this.pointilles))switch(this.pointilles){case 1:e.push(" dash dot ");break;case 2:e.push(" densely dash dot dot ");break;case 3:e.push(" dash dot dot ");break;case 4:e.push(" dotted ");break;default:e.push(" dashed ")}1!=this.opacite&&e.push(`opacity = ${this.opacite}`);let t=[];e.length>0&&(t="["+e.join(",")+"]");let r=$459103e30f4604971e030953f4b52e1b$export$point(this.x1,this.y1),i=$459103e30f4604971e030953f4b52e1b$export$point(this.x2,this.y2),n=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(r,i,-50),o=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(i,r,-50);return""!=this.nom?`\\draw${t} (${n.x},${n.y})--(${o.x},${o.y});`+l.tikz():`\\draw${t} (${n.x},${n.y})--(${o.x},${o.y});`},this.svgml=function(e,t){let r=$459103e30f4604971e030953f4b52e1b$export$point(this.x1,this.y1),i=$459103e30f4604971e030953f4b52e1b$export$point(this.x2,this.y2),n=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$pointSurSegment(r,i,-50),$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(i,r,-50),this.color);return n.isVisible=!1,n.svgml(e,t)+l.svg(e)},this.tikzml=function(e){let t=$459103e30f4604971e030953f4b52e1b$export$point(this.x1,this.y1),r=$459103e30f4604971e030953f4b52e1b$export$point(this.x2,this.y2),i=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,r,-50),$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(r,t,-50),this.color);return i.isVisible=!1,i.tikzml(e)+l.tikz()}}function $459103e30f4604971e030953f4b52e1b$export$droite(...e){return new $459103e30f4604971e030953f4b52e1b$var$Droite(...e)}function $459103e30f4604971e030953f4b52e1b$export$droiteParPointEtVecteur(e,t,r="",i="black"){return $459103e30f4604971e030953f4b52e1b$export$droite(e,$459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.x+t.x),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.y+t.y)),r,i)}function $459103e30f4604971e030953f4b52e1b$export$droiteParPointEtParallele(e,t,r="",i="black"){return $459103e30f4604971e030953f4b52e1b$export$droiteParPointEtVecteur(e,t.directeur,r,i)}function $459103e30f4604971e030953f4b52e1b$export$droiteParPointEtPerpendiculaire(e,t,r="",i="black"){return $459103e30f4604971e030953f4b52e1b$export$droiteParPointEtVecteur(e,t.normal,r,i)}function $459103e30f4604971e030953f4b52e1b$export$droiteHorizontaleParPoint(e,t="",r="black"){return $459103e30f4604971e030953f4b52e1b$export$droiteParPointEtPente(e,0,t,r)}function $459103e30f4604971e030953f4b52e1b$export$droiteVerticaleParPoint(e,t="",r){return $459103e30f4604971e030953f4b52e1b$export$droiteParPointEtVecteur(e,$459103e30f4604971e030953f4b52e1b$export$vecteur(0,1),t,r)}function $459103e30f4604971e030953f4b52e1b$export$droiteParPointEtPente(e,t,r="",i="black"){return $459103e30f4604971e030953f4b52e1b$export$droite(e,$459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.x+1),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.y+t)),r,i)}function $459103e30f4604971e030953f4b52e1b$export$mediatrice(e,t,r="",i="black"){let n=$459103e30f4604971e030953f4b52e1b$export$milieu(e,t);return $459103e30f4604971e030953f4b52e1b$export$droite($459103e30f4604971e030953f4b52e1b$export$rotation(e,n,90),$459103e30f4604971e030953f4b52e1b$export$rotation(e,n,-90),r,i)}function $459103e30f4604971e030953f4b52e1b$var$CodageMediatrice(e,t,r="black",i="×"){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.color=r;let n=$459103e30f4604971e030953f4b52e1b$export$milieu(e,t),o=$459103e30f4604971e030953f4b52e1b$export$codageAngleDroit($459103e30f4604971e030953f4b52e1b$export$rotation(e,n,90),n,t,this.color),s=$459103e30f4604971e030953f4b52e1b$export$codeSegments(i,this.color,e,n,n,t);o.isVisible=!1,s.isVisible=!1,this.svg=function(e){return`<g id="${this.id}">${o.svg(e)+"\n"+s.svg(e)}</g>`},this.tikz=function(){return o.tikz()+"\n"+s.tikz()},this.svgml=function(e,t){return o.svgml(e,t)+"\n"+s.svg(e)},this.tikzml=function(e){return o.tikzml(e)+"\n"+s.tikz()}}function $459103e30f4604971e030953f4b52e1b$export$codageMediatrice(...e){return new $459103e30f4604971e030953f4b52e1b$var$CodageMediatrice(...e)}function $459103e30f4604971e030953f4b52e1b$var$CodageMilieu(e,t,r="black",i="×",n=!0){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.color=r;let o=$459103e30f4604971e030953f4b52e1b$export$milieu(e,t),s=$459103e30f4604971e030953f4b52e1b$export$droite(e,t),a=$459103e30f4604971e030953f4b52e1b$export$tracePointSurDroite(o,s),c=$459103e30f4604971e030953f4b52e1b$export$codeSegments(i,r,e,o,o,t),l="";this.svg=function(e){return l=n?a.svg(e)+"\n"+c.svg(e):c.svg(e),l=`<g id="${this.id}">${l}</g>`,a.isVisible=!1,s.isVisible=!1,c.isVisible=!1,l},this.tikz=function(){return n?a.tikz()+"\n"+c.tikz():c.tikz()}}function $459103e30f4604971e030953f4b52e1b$export$codageMilieu(...e){return new $459103e30f4604971e030953f4b52e1b$var$CodageMilieu(...e)}function $459103e30f4604971e030953f4b52e1b$var$ConstructionMediatrice(e,t,r=!1,i="blue",n="×",o="||",s="red",a=2){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this);let c=$459103e30f4604971e030953f4b52e1b$export$milieu(e,t),l=$459103e30f4604971e030953f4b52e1b$export$rotation(e,c,90),p=$459103e30f4604971e030953f4b52e1b$export$rotation(e,c,-90),u=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(c,l,.785*$459103e30f4604971e030953f4b52e1b$export$longueur(e,t)),f=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(c,p,.785*$459103e30f4604971e030953f4b52e1b$export$longueur(e,t)),d=$459103e30f4604971e030953f4b52e1b$export$traceCompas(e,u),h=$459103e30f4604971e030953f4b52e1b$export$traceCompas(t,u),b=$459103e30f4604971e030953f4b52e1b$export$traceCompas(e,f),$=$459103e30f4604971e030953f4b52e1b$export$traceCompas(t,f),m=$459103e30f4604971e030953f4b52e1b$export$mediatrice(e,t);d.isVisible=!1,h.isVisible=!1,b.isVisible=!1,$.isVisible=!1,m.isVisible=!1,m.color=s,m.epaisseur=a;let g=$459103e30f4604971e030953f4b52e1b$export$codageMediatrice(e,t,i,n);g.isVisible=!1;let x=[d,h,b,$,m,g];if(r){let r=$459103e30f4604971e030953f4b52e1b$export$segment(e,u);r.pointilles=!0;let n=$459103e30f4604971e030953f4b52e1b$export$segment(t,u);n.pointilles=!0;let s=$459103e30f4604971e030953f4b52e1b$export$segment(e,f);s.pointilles=!0;let a=$459103e30f4604971e030953f4b52e1b$export$segment(t,f);a.pointilles=!0;let c=$459103e30f4604971e030953f4b52e1b$export$codeSegments(o,i,e,u,t,u,e,f,t,f);x.push(r,n,s,a,c,g)}this.svg=function(e){let t="";for(let r of x)t+="\n\t"+r.svg(e);return t=`<g id="${this.id}">${t}</g>`,t},this.tikz=function(){let e="";for(let t of x)e+="\n\t"+t.tikz();return e},this.svgml=function(e,t){let r="";for(let i of x)void 0===i.svgml?r+="\n\t"+i.svg(e):r+="\n\t"+i.svgml(e,t);return r},this.tikzml=function(e){let t="";for(let r of x)void 0===r.tikzml?t+="\n\t"+r.tikz():t+="\n\t"+r.tikzml(e);return t}}function $459103e30f4604971e030953f4b52e1b$export$constructionMediatrice(...e){return new $459103e30f4604971e030953f4b52e1b$var$ConstructionMediatrice(...e)}function $459103e30f4604971e030953f4b52e1b$export$bissectrice(e,t,r,i="black"){let n=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul($459103e30f4604971e030953f4b52e1b$export$angleOriente(e,t,r)/2);return $459103e30f4604971e030953f4b52e1b$export$demiDroite(t,$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,e,3),t,n),i)}function $459103e30f4604971e030953f4b52e1b$var$CodageBissectrice(e,t,r,i="black",n="×"){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.color=i,this.mark=n,this.centre=t,this.depart=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,e,1.5),this.demiangle=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul($459103e30f4604971e030953f4b52e1b$export$angleOriente(e,t,r)/2),this.lieu=$459103e30f4604971e030953f4b52e1b$export$rotation(this.depart,t,this.demiangle),this.arrivee=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,r,1.5),this.svg=function(e){let r=$459103e30f4604971e030953f4b52e1b$export$codeAngle($459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.centre,this.depart,30/e),t,this.demiangle,30/e,this.mark,this.color,2,1),i=$459103e30f4604971e030953f4b52e1b$export$codeAngle($459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.centre,this.lieu,30/e),t,this.demiangle,30/e,this.mark,this.color,2,1);return r.svg(e)+"\n"+i.svg(e)+"\n"},this.tikz=function(){let e=$459103e30f4604971e030953f4b52e1b$export$codeAngle($459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.centre,this.depart,1.5/mathalea.scale),t,this.demiangle,1.5/mathalea.scale,this.mark,this.color,2,1),r=$459103e30f4604971e030953f4b52e1b$export$codeAngle($459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.centre,this.lieu,1.5/mathalea.scale),t,this.demiangle,1.5/mathalea.scale,this.mark,this.color,2,1);return e.tikz()+"\n"+r.tikz()+"\n"}}function $459103e30f4604971e030953f4b52e1b$export$codageBissectrice(...e){return new $459103e30f4604971e030953f4b52e1b$var$CodageBissectrice(...e)}function $459103e30f4604971e030953f4b52e1b$var$ConstructionBissectrice(e,t,r,i=!1,n="blue",o="×",s=5,a="red",c=2){let l=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,e,s),p=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,r,s),u=$459103e30f4604971e030953f4b52e1b$export$segment(t,l),f=$459103e30f4604971e030953f4b52e1b$export$segment(t,p);u.styleExtremites="-|",f.styleExtremites="-|";let d=$459103e30f4604971e030953f4b52e1b$export$droite(l,p);d.isVisible=!1;let h=$459103e30f4604971e030953f4b52e1b$export$symetrieAxiale(t,d),b=$459103e30f4604971e030953f4b52e1b$export$traceCompas(p,h),$=$459103e30f4604971e030953f4b52e1b$export$traceCompas(l,h),m=$459103e30f4604971e030953f4b52e1b$export$bissectrice(e,t,r);m.color=a,m.epaisseur=c;let g=[u,f,b,$,m];if(i){let e=$459103e30f4604971e030953f4b52e1b$export$segment(l,h),r=$459103e30f4604971e030953f4b52e1b$export$segment(p,h);e.pointilles=!0,r.pointilles=!0;let i=$459103e30f4604971e030953f4b52e1b$export$codeSegments(o,n,t,l,l,h,t,p,p,h);g.push(e,r,i)}this.svg=function(e){let t="";for(let r of g)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of g)e+="\n\t"+t.tikz();return e}}function $459103e30f4604971e030953f4b52e1b$export$constructionBissectrice(...e){return new $459103e30f4604971e030953f4b52e1b$var$ConstructionBissectrice(...e)}function $459103e30f4604971e030953f4b52e1b$var$Polyline(...e){if($459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),Array.isArray(e[0])?(this.listePoints=e[0],this.color=e[1]):this.listePoints=e,this.nom="",e.length<15)for(let t of e)this.nom+=t.nom;this.svg=function(e){if(1!=this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),Boolean(this.pointilles))switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}1!=this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `);let t="";for(let r of this.listePoints)t+=`${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r.x*e)},${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-r.y*e)} `;return`<polyline points="${t}" fill="none" stroke="${this.color}" ${this.style} id="${this.id}" />`},this.tikz=function(){let e=[];if(this.color.length>1&&"black"!==this.color&&e.push(this.color),1!=this.epaisseur&&e.push(`line width = ${this.epaisseur}`),Boolean(this.pointilles))switch(this.pointilles){case 1:e.push(" dash dot ");break;case 2:e.push(" densely dash dot dot ");break;case 3:e.push(" dash dot dot ");break;case 4:e.push(" dotted ");break;default:e.push(" dashed ")}1!=this.opacite&&e.push(`opacity = ${this.opacite}`);let t=[];e.length>0&&(t="["+e.join(",")+"]");let r="";for(let e of this.listePoints)r+=`(${e.x},${e.y})--`;return r=r.substr(0,r.length-2),`\\draw${t} ${r};`},this.svgml=function(e,t){let r,i="";for(let n=1;n<this.listePoints.length;n++)r=$459103e30f4604971e030953f4b52e1b$export$segment(this.listePoints[n-1],this.listePoints[n]),r.epaisseur=this.epaisseur,r.color=this.color,r.opacite=this.opacite,i+=r.svgml(e,t);return i},this.tikzml=function(e){let t=[];this.color.length>1&&"black"!==this.color&&t.push(this.color),1!=this.epaisseur&&t.push(`line width = ${this.epaisseur}`),1!=this.opacite&&t.push(`opacity = ${this.opacite}`),t.push(`decorate,decoration={random steps , segment length=3pt, amplitude = ${e}pt}`);let r=[];t.length>0&&(r="["+t.join(",")+"]");let i="";for(let e of this.listePoints)i+=`(${e.x},${e.y})--`;return i=i.substr(0,i.length-2),`\\draw${r} ${i};`}}function $459103e30f4604971e030953f4b52e1b$export$polyline(...e){return new $459103e30f4604971e030953f4b52e1b$var$Polyline(...e)}function $459103e30f4604971e030953f4b52e1b$var$Pave(e=10,t=5,r=5,i=$459103e30f4604971e030953f4b52e1b$export$point(0,0),n=!0,o=30,s=.5){let a=[],c=i,l=$459103e30f4604971e030953f4b52e1b$export$point(c.x+e,c.y),p=$459103e30f4604971e030953f4b52e1b$export$point(l.x,l.y+t),u=$459103e30f4604971e030953f4b52e1b$export$point(c.x,c.y+t),f=$459103e30f4604971e030953f4b52e1b$export$polygone(c,l,p,u),d=$459103e30f4604971e030953f4b52e1b$export$pointAdistance(c,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r*s),o),h=$459103e30f4604971e030953f4b52e1b$export$translation(l,$459103e30f4604971e030953f4b52e1b$export$vecteur(c,d)),b=$459103e30f4604971e030953f4b52e1b$export$translation(p,$459103e30f4604971e030953f4b52e1b$export$vecteur(c,d)),$=$459103e30f4604971e030953f4b52e1b$export$translation(u,$459103e30f4604971e030953f4b52e1b$export$vecteur(c,d)),m=$459103e30f4604971e030953f4b52e1b$export$segment(c,d),g=$459103e30f4604971e030953f4b52e1b$export$segment(l,h),x=$459103e30f4604971e030953f4b52e1b$export$segment(p,b),v=$459103e30f4604971e030953f4b52e1b$export$segment(u,$),y=$459103e30f4604971e030953f4b52e1b$export$segment(d,h),_=$459103e30f4604971e030953f4b52e1b$export$segment(h,b),E=$459103e30f4604971e030953f4b52e1b$export$segment(b,$),k=$459103e30f4604971e030953f4b52e1b$export$segment($,d);m.pointilles=!0,y.pointilles=!0,k.pointilles=!0,a.push(f,m,g,x,v,y,_,E,k),n&&(a.push($459103e30f4604971e030953f4b52e1b$export$afficheCoteSegment($459103e30f4604971e030953f4b52e1b$export$segment(l,c),"",1)),a.push($459103e30f4604971e030953f4b52e1b$export$afficheCoteSegment($459103e30f4604971e030953f4b52e1b$export$segment(c,u),"",1)),a.push($459103e30f4604971e030953f4b52e1b$export$afficheCoteSegment($459103e30f4604971e030953f4b52e1b$export$segment(h,l),r+" cm",1))),this.svg=function(e){let t="";for(let r of a)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of a)e+="\n\t"+t.tikz();return e}}function $459103e30f4604971e030953f4b52e1b$export$pave(...e){return new $459103e30f4604971e030953f4b52e1b$var$Pave(...e)}function $459103e30f4604971e030953f4b52e1b$var$Vecteur(e,t,r=""){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),1==arguments.length?this.nom=e:("number"==typeof e?(this.x=e,this.y=t):(this.x=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t.x-e.x),this.y=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t.y-e.y)),this.nom=r),this.norme=function(){return $cf7a0e0dfc1e90c0e915b74752829335$export$calcul(Math.sqrt(this.x**2+this.y**2))},this.oppose=function(){this.x=-this.x,this.y=-this.y},this.xSVG=function(e){return this.x*e},this.ySVG=function(e){return-this.y*e},this.representant=function(e){let t=$459103e30f4604971e030953f4b52e1b$export$segment(e,$459103e30f4604971e030953f4b52e1b$export$point(e.x+this.x,e.y+this.y));return t.styleExtremites="|->",t},this.representantNomme=function(e,t,r=1,i="black"){let n=$459103e30f4604971e030953f4b52e1b$export$point(e.x+this.x,e.y+this.y),o=$459103e30f4604971e030953f4b52e1b$export$segment(e,n).angleAvecHorizontale,s=$459103e30f4604971e030953f4b52e1b$export$translation($459103e30f4604971e030953f4b52e1b$export$milieu(e,n),$459103e30f4604971e030953f4b52e1b$export$similitude(this,e,90,1/this.norme()));return $459103e30f4604971e030953f4b52e1b$export$nomVecteurParPosition(t,s.x,s.y,r,o,i)}}function $459103e30f4604971e030953f4b52e1b$export$vecteur(...e){return new $459103e30f4604971e030953f4b52e1b$var$Vecteur(...e)}function $459103e30f4604971e030953f4b52e1b$var$NomVecteurParPosition(e,t,r,i=1,n=0,o="black"){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.nom=e,this.x=t,this.y=r,this.color=o,this.angle=n,this.taille=i;let s,a,c,l,p,u,f,d,h=[];a=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.nom,this.x,this.y,-this.angle,this.color,this.taille,"middle",!0),u=$459103e30f4604971e030953f4b52e1b$export$point(this.x,this.y),f=$459103e30f4604971e030953f4b52e1b$export$point(u.x+1.1*this.nom.length,u.y),l=$459103e30f4604971e030953f4b52e1b$export$similitude(f,u,90+this.angle,.5/this.nom.length),c=$459103e30f4604971e030953f4b52e1b$export$translation(l,$459103e30f4604971e030953f4b52e1b$export$vecteur(f,u)),p=$459103e30f4604971e030953f4b52e1b$export$translation(l,$459103e30f4604971e030953f4b52e1b$export$vecteur(u,f)),d=$459103e30f4604971e030953f4b52e1b$export$vecteur(c,p),d=$459103e30f4604971e030953f4b52e1b$export$rotation(d,u,this.angle),p=$459103e30f4604971e030953f4b52e1b$export$translation(c,d),s=$459103e30f4604971e030953f4b52e1b$export$segment(c,p),s.styleExtremites="->",s.tailleExtremites=3,s.color=this.color,h.push(a,s),this.svg=function(e){let t="";for(let r of h)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of h)e+="\n\t"+t.tikz();return e}}function $459103e30f4604971e030953f4b52e1b$export$nomVecteurParPosition(e,t,r,i=1,n=0,o="black"){return new $459103e30f4604971e030953f4b52e1b$var$NomVecteurParPosition(e,t,r,i,n,o)}function $459103e30f4604971e030953f4b52e1b$var$Segment(e,t,r,i,n){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.typeObjet="segment",this.styleExtremites="",this.tailleExtremites=4,2==arguments.length?(this.x1=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e.x,2),this.y1=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e.y,2),this.x2=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(t.x,2),this.y2=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(t.y,2)):3==arguments.length?(this.x1=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e.x,2),this.y1=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e.y,2),this.x2=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(t.x,2),this.y2=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(t.y,2),this.color=r):4==arguments.length?(this.x1=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e,2),this.y1=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(t,2),this.x2=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(r,2),this.y2=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(i,2)):(this.x1=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e,2),this.y1=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(t,2),this.x2=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(r,2),this.y2=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(i,2),this.color=n),this.extremite1=$459103e30f4604971e030953f4b52e1b$export$point(this.x1,this.y1),this.extremite2=$459103e30f4604971e030953f4b52e1b$export$point(this.x2,this.y2),this.longueur=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(Math.sqrt((this.x2-this.x1)**2+(this.y2-this.y1)**2)),this.angleAvecHorizontale=$459103e30f4604971e030953f4b52e1b$export$angleOriente($459103e30f4604971e030953f4b52e1b$export$point(this.x1+1,this.y1),this.extremite1,this.extremite2),this.svg=function(e){let t=this.tailleExtremites;if(1!=this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),Boolean(this.pointilles))switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}1!=this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `);let r="",i=$459103e30f4604971e030953f4b52e1b$export$point(this.x1,this.y1),n=$459103e30f4604971e030953f4b52e1b$export$point(this.x2,this.y2);if(this.styleExtremites.length>1){if("|"==this.styleExtremites.substr(-1)){let o=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(n,i,t/mathalea.pixelsParCm),s=$459103e30f4604971e030953f4b52e1b$export$rotation(o,n,90),a=$459103e30f4604971e030953f4b52e1b$export$rotation(o,n,-90);r+=`<line x1="${s.xSVG(e)}" y1="${s.ySVG(e)}" x2="${a.xSVG(e)}" y2="${a.ySVG(e)}" stroke="${this.color}" />`}if(">"==this.styleExtremites.substr(-1)){let o=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(n,i,t/mathalea.pixelsParCm),s=$459103e30f4604971e030953f4b52e1b$export$rotation(n,o,90),a=$459103e30f4604971e030953f4b52e1b$export$rotation(n,o,-90);r+=`<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${s.xSVG(e)}" y2="${s.ySVG(e)}" stroke="${this.color}" />`,r+=`\n\t<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${a.xSVG(e)}" y2="${a.ySVG(e)}" stroke="${this.color}" />`}if("<"==this.styleExtremites.substr(-1)){let o=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(n,i,-t/mathalea.pixelsParCm),s=$459103e30f4604971e030953f4b52e1b$export$rotation(n,o,90),a=$459103e30f4604971e030953f4b52e1b$export$rotation(n,o,-90);r+=`<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${s.xSVG(e)}" y2="${s.ySVG(e)}" stroke="${this.color}" />`,r+=`\n\t<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${a.xSVG(e)}" y2="${a.ySVG(e)}" stroke="${this.color}" />`}if("<"==this.styleExtremites[0]){let o=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(i,n,t/mathalea.pixelsParCm),s=$459103e30f4604971e030953f4b52e1b$export$rotation(i,o,90),a=$459103e30f4604971e030953f4b52e1b$export$rotation(i,o,-90);r+=`<line x1="${i.xSVG(e)}" y1="${i.ySVG(e)}" x2="${s.xSVG(e)}" y2="${s.ySVG(e)}" stroke="${this.color}" />`,r+=`\n\t<line x1="${i.xSVG(e)}" y1="${i.ySVG(e)}" x2="${a.xSVG(e)}" y2="${a.ySVG(e)}" stroke="${this.color}" />`}if(">"==this.styleExtremites[0]){let o=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(i,n,-t/mathalea.pixelsParCm),s=$459103e30f4604971e030953f4b52e1b$export$rotation(i,o,90),a=$459103e30f4604971e030953f4b52e1b$export$rotation(i,o,-90);r+=`<line x1="${i.xSVG(e)}" y1="${i.ySVG(e)}" x2="${s.xSVG(e)}" y2="${s.ySVG(e)}" stroke="${this.color}" />`,r+=`\n\t<line x1="${i.xSVG(e)}" y1="${i.ySVG(e)}" x2="${a.xSVG(e)}" y2="${a.ySVG(e)}" stroke="${this.color}" />`}if("|"==this.styleExtremites[0]){let o=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(i,n,t/mathalea.pixelsParCm),s=$459103e30f4604971e030953f4b52e1b$export$rotation(o,i,90),a=$459103e30f4604971e030953f4b52e1b$export$rotation(o,i,-90);r+=`<line x1="${s.xSVG(e)}" y1="${s.ySVG(e)}" x2="${a.xSVG(e)}" y2="${a.ySVG(e)}" stroke="${this.color}" />`}}return r+=`\n\t<line x1="${i.xSVG(e)}" y1="${i.ySVG(e)}" x2="${n.xSVG(e)}" y2="${n.ySVG(e)}" stroke="${this.color}" ${this.style} />`,r=this.styleExtremites.length>0?`<g id="${this.id}">${r}</g>`:r.replace("/>",`id="${this.id}" />`),r},this.tikz=function(){let e=[],t=[];if(this.color.length>1&&"black"!==this.color&&t.push(this.color),1!=this.epaisseur&&t.push(`line width = ${this.epaisseur}`),1!=this.opacite&&t.push(`opacity = ${this.opacite}`),Boolean(this.pointilles))switch(this.pointilles){case 1:t.push(" dash dot ");break;case 2:t.push(" densely dash dot dot ");break;case 3:t.push(" dash dot dot ");break;case 4:t.push(" dotted ");break;default:t.push(" dashed ")}return this.styleExtremites.length>1&&t.push(this.styleExtremites),t.length>0&&(e="["+t.join(",")+"]"),`\\draw${e} (${this.x1},${this.y1})--(${this.x2},${this.y2});`},this.svgml=function(e,t){this.style='fill="none"',1!=this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),1!=this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `);let r=$459103e30f4604971e030953f4b52e1b$export$point(this.x1,this.y1),i=$459103e30f4604971e030953f4b52e1b$export$point(this.x2,this.y2),n=$459103e30f4604971e030953f4b52e1b$export$longueur(r,i),o=(i.xSVG(e)-r.xSVG(e))/n/2,s=(i.ySVG(e)-r.ySVG(e))/n/2,a=`<path d="M ${r.xSVG(e)}, ${r.ySVG(e)} Q ${Math.round(r.xSVG(e),0)}, ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(r.ySVG(e),0)} `,c=1;for(let i=0;i<2*n+.25;i+=.5)c++,a+=`${Math.round(r.xSVG(e)+i*o+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-2,2,0)*t)}, ${Math.round(r.ySVG(e)+i*s+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-2,2,0)*t)} `;return a+=c%2==1?` ${Math.round(i.xSVG(e),0)}, ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(i.ySVG(e),0)}" stroke="${this.color}" ${this.style}/>`:` ${Math.round(i.xSVG(e),0)}, ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(i.ySVG(e),0)} ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(i.xSVG(e),0)}, ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(i.ySVG(e),0)}" stroke="${this.color}" ${this.style}/>`,a},this.tikzml=function(e){let t=$459103e30f4604971e030953f4b52e1b$export$point(this.x1,this.y1),r=$459103e30f4604971e030953f4b52e1b$export$point(this.x2,this.y2),i=[],n=[];return this.color.length>1&&"black"!==this.color&&n.push(this.color),1!=this.epaisseur&&n.push(`line width = ${this.epaisseur}`),1!=this.opacite&&n.push(`opacity = ${this.opacite}`),this.styleExtremites.length>1&&n.push(this.styleExtremites),n.push(`decorate,decoration={random steps , amplitude = ${e}pt}`),i="["+n.join(",")+"]",`\\draw${i} (${t.x},${t.y})--(${r.x},${r.y});`}}function $459103e30f4604971e030953f4b52e1b$export$segment(...e){return new $459103e30f4604971e030953f4b52e1b$var$Segment(...e)}function $459103e30f4604971e030953f4b52e1b$export$segmentAvecExtremites(...e){let t=$459103e30f4604971e030953f4b52e1b$export$segment(...e);return t.styleExtremites="|-|",t}function $459103e30f4604971e030953f4b52e1b$export$demiDroite(e,t,r="black"){return $459103e30f4604971e030953f4b52e1b$export$segment(e,$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,e,-10),r)}function $459103e30f4604971e030953f4b52e1b$export$demiDroiteAvecExtremite(e,t,r="black"){let i=$459103e30f4604971e030953f4b52e1b$export$segment(e,$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,e,-10),r);return i.styleExtremites="|-",i}function $459103e30f4604971e030953f4b52e1b$var$Polygone(...e){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.couleurDeRemplissage="",this.opaciteDeRemplissage=1.1,this.hachures=!1,this.couleurDesHachures="black",this.epaisseurDesHachures=1,this.distanceDesHachures=10,Array.isArray(e[0])?(this.listePoints=e[0],e[1]&&(this.color=e[1]),this.nom=this.listePoints.join()):(this.listePoints=e,this.nom=this.listePoints.join()),this.binomesXY=function(e){let t="";for(let r of this.listePoints)t+=`${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r.x*e)},${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-r.y*e)} `;return t},this.svg=function(e){if(1!=this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),Boolean(this.pointilles))switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}return this.hachures?(this.couleurDeRemplissage.length<1&&(this.couleurDeRemplissage="none"),$459103e30f4604971e030953f4b52e1b$var$pattern({motif:this.hachures,id:this.id,distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures,couleurDeRemplissage:this.couleurDeRemplissage,opaciteDeRemplissage:this.opaciteDeRemplissage})+`<polygon points="${this.binomesXY(e)}" stroke="${this.color}" ${this.style} id="${this.id}" fill="url(#pattern${this.id})" />`):(""==this.couleurDeRemplissage?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),1!=this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),`<polygon points="${this.binomesXY(e)}" stroke="${this.color}" ${this.style} id="${this.id}" />`)},this.tikz=function(){let e=[];if(this.color.length>1&&"black"!==this.color&&e.push(this.color),1!=this.epaisseur&&e.push(`line width = ${this.epaisseur}`),Boolean(this.pointilles))switch(this.pointilles){case 1:e.push(" dash dot ");break;case 2:e.push(" densely dash dot dot ");break;case 3:e.push(" dash dot dot ");break;case 4:e.push(" dotted ");break;default:e.push(" dashed ")}1!=this.opacite&&e.push(`opacity=${this.opacite}`),1!=this.opaciteDeRemplissage&&e.push(`fill opacity = ${this.opaciteDeRemplissage}`),""!=this.couleurDeRemplissage&&e.push(`fill = ${this.couleurDeRemplissage}`),this.hachures&&this.hachures&&e.push($459103e30f4604971e030953f4b52e1b$var$pattern({motif:this.hachures,id:this.id,distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures,couleurDeRemplissage:this.couleurDeRemplissage,opaciteDeRemplissage:this.opaciteDeRemplissage}));let t=[];e.length>0&&(t="["+e.join(",")+"]");let r="";for(let e of this.listePoints)r+=`(${e.x},${e.y})--`;return""==this.couleurDeRemplissage?`\\draw ${t} ${r}cycle;`:`\\filldraw ${t} ${r}cycle;`},this.svgml=function(e,t){let r,i,n="",o=this.listePoints[0];for(let s=1;s<=this.listePoints.length;s++)i=this.listePoints[s%this.listePoints.length],o=this.listePoints[s-1],r=$459103e30f4604971e030953f4b52e1b$export$segment(o,i),r.isVisible=!0,r.epaisseur=this.epaisseur,r.color=this.color,r.opacite=this.opacite,n+=r.svgml(e,t);return n},this.tikzml=function(e){let t,r,i,n="";for(let o=1;o<=this.listePoints.length;o++)i=this.listePoints[o%this.listePoints.length],r=this.listePoints[o-1],t=$459103e30f4604971e030953f4b52e1b$export$segment(r,i),t.isVisible=!1,t.epaisseur=this.epaisseur,t.color=this.color,t.opacite=this.opacite,n+="\t"+t.tikzml(e)+"\n";return n}}function $459103e30f4604971e030953f4b52e1b$export$polygone(...e){return new $459103e30f4604971e030953f4b52e1b$var$Polygone(...e)}function $459103e30f4604971e030953f4b52e1b$export$polygoneAvecNom(...e){let t,r=$459103e30f4604971e030953f4b52e1b$export$polygone(...e);return r.sommets=$459103e30f4604971e030953f4b52e1b$export$nommePolygone(r),t=[r,r.sommets],t}function $459103e30f4604971e030953f4b52e1b$export$polygoneRegulier(e,t,r,i="black"){let n=[e,t];for(let e=1;e<r-1;e++)n[e+1]=$459103e30f4604971e030953f4b52e1b$export$rotation(n[e-1],n[e],$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(360/r-180));return $459103e30f4604971e030953f4b52e1b$export$polygone(n,i)}function $459103e30f4604971e030953f4b52e1b$export$polygoneRegulierIndirect(e,t,r,i="black"){let n=[e,t];for(let e=1;e<r-1;e++)n[e+1]=$459103e30f4604971e030953f4b52e1b$export$rotation(n[e-1],n[e],$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(180-360/r));return $459103e30f4604971e030953f4b52e1b$export$polygone(n,i)}function $459103e30f4604971e030953f4b52e1b$export$carre(e,t,r){return $459103e30f4604971e030953f4b52e1b$export$polygoneRegulier(e,t,4,r)}function $459103e30f4604971e030953f4b52e1b$export$carreIndirect(e,t,r){return $459103e30f4604971e030953f4b52e1b$export$polygoneRegulierIndirect(e,t,4,r)}function $459103e30f4604971e030953f4b52e1b$var$CodageCarre(e,t="black",r="×"){let i=[];i.push($459103e30f4604971e030953f4b52e1b$export$codeSegments(r,t,e.listePoints)),i.push($459103e30f4604971e030953f4b52e1b$export$codageAngleDroit(e.listePoints[0],e.listePoints[1],e.listePoints[2],t)),i.push($459103e30f4604971e030953f4b52e1b$export$codageAngleDroit(e.listePoints[1],e.listePoints[2],e.listePoints[3],t)),i.push($459103e30f4604971e030953f4b52e1b$export$codageAngleDroit(e.listePoints[2],e.listePoints[3],e.listePoints[0],t)),i.push($459103e30f4604971e030953f4b52e1b$export$codageAngleDroit(e.listePoints[3],e.listePoints[0],e.listePoints[1],t)),this.svg=function(e){let t="";for(let r of i)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of i)e+="\n\t"+t.tikz();return e}}function $459103e30f4604971e030953f4b52e1b$export$codageCarre(...e){return new $459103e30f4604971e030953f4b52e1b$var$CodageCarre(...e)}function $459103e30f4604971e030953f4b52e1b$export$polygoneRegulierParCentreEtRayon(e,t,r,i="black"){let n=[];n[0]=$459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.x+t),e.y);for(let t=1;t<r;t++)n[t]=$459103e30f4604971e030953f4b52e1b$export$rotation(n[t-1],e,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-360/r));return $459103e30f4604971e030953f4b52e1b$export$polygone(n,i)}function $459103e30f4604971e030953f4b52e1b$export$triangle2points2longueurs(e,t,r,i,n=1){let o,s=$459103e30f4604971e030953f4b52e1b$export$cercle(e,r),a=$459103e30f4604971e030953f4b52e1b$export$cercle(t,i);return o=1==n?$459103e30f4604971e030953f4b52e1b$export$pointIntersectionCC(s,a):$459103e30f4604971e030953f4b52e1b$export$pointIntersectionCC(s,a,"",2),s.isVisible=!1,a.isVisible=!1,$459103e30f4604971e030953f4b52e1b$export$polygone(e,t,o)}function $459103e30f4604971e030953f4b52e1b$export$triangle2points2angles(e,t,r,i,n=1){1==n?i*=-1:r*=-1;let o=$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$pointSurSegment(e,t,1),e,r),s=$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,e,1),t,i),a=$459103e30f4604971e030953f4b52e1b$export$droite(e,o),c=$459103e30f4604971e030953f4b52e1b$export$droite(t,s);return a.isVisible=!1,c.isVisible=!1,$459103e30f4604971e030953f4b52e1b$export$polygone(e,t,$459103e30f4604971e030953f4b52e1b$export$pointIntersectionDD(a,c,"C"))}function $459103e30f4604971e030953f4b52e1b$export$triangle2points1angle1longueur(e,t,r,i,n=1){return r=1==n?Math.abs(r)%180:-Math.abs(r)%180,$459103e30f4604971e030953f4b52e1b$export$polygone(e,t,$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$pointSurSegment(e,t,i),e,r))}function $459103e30f4604971e030953f4b52e1b$export$triangle2points1angle1longueurOppose(e,t,r,i,n=1){let o;r=n%2==1?Math.abs(r)%180:-Math.abs(r)%180;let s=$459103e30f4604971e030953f4b52e1b$export$droite(e,t),a=$459103e30f4604971e030953f4b52e1b$export$rotation(s,e,r),c=$459103e30f4604971e030953f4b52e1b$export$cercle(t,i);return s.isVisible=!1,a.isVisible=!1,c.isVisible=!1,o=$459103e30f4604971e030953f4b52e1b$export$pointIntersectionLC(a,c,"",n+1>>1==1?1:2),$459103e30f4604971e030953f4b52e1b$export$polygone(e,t,o)}function $459103e30f4604971e030953f4b52e1b$var$NommePolygone(e,t="",r=.5){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.poly=e,this.dist=r;for(let r=0;r<e.listePoints.length;r++)""!=t&&(e.listePoints[r].nom=t[r]);this.svg=function(e){let t,r="",i=this.poly,n=this.dist,o=$459103e30f4604971e030953f4b52e1b$export$barycentre(i);for(let s=0;s<i.listePoints.length;s++)t=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(o,i.listePoints[s],$459103e30f4604971e030953f4b52e1b$export$longueur(o,i.listePoints[s])+20*n/e),t.positionLabel="center",r+="\n\t"+$459103e30f4604971e030953f4b52e1b$export$latexParPoint(i.listePoints[s].nom,t,"black",12,12,"").svg(e);return r},this.tikz=function(){let e,t="",r=this.poly,i=this.dist,n=$459103e30f4604971e030953f4b52e1b$export$barycentre(r);for(let o=0;o<r.listePoints.length;o++)e=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(n,r.listePoints[o],$459103e30f4604971e030953f4b52e1b$export$longueur(n,r.listePoints[o])+i/mathalea.scale),t+="\n\t"+$459103e30f4604971e030953f4b52e1b$export$texteParPoint(`$${r.listePoints[o].nom}$`,e,"milieu").tikz();return t}}function $459103e30f4604971e030953f4b52e1b$export$nommePolygone(...e){return new $459103e30f4604971e030953f4b52e1b$var$NommePolygone(...e)}function $459103e30f4604971e030953f4b52e1b$export$deplaceLabel(e,t,r){for(let i=0;i<e.listePoints.length;i++)for(let n in t)e.listePoints[i].nom==t[n]&&(e.listePoints[i].positionLabel=r,$459103e30f4604971e030953f4b52e1b$export$labelPoint(e.listePoints[i]))}function $459103e30f4604971e030953f4b52e1b$export$aireTriangle(e){if(3!=e.listePoints.length)return!1;let t=e.listePoints[0],r=e.listePoints[1],i=e.listePoints[2];return.5*Math.abs((r.x-t.x)*(i.y-t.y)-(i.x-t.x)*(r.y-t.y))}function $459103e30f4604971e030953f4b52e1b$var$Cercle(e,t,r){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),r&&(this.color=r,this.styleTikz=`[${r}]`),this.centre=e,this.rayon=t,this.couleurDeRemplissage="",this.opaciteDeRemplissage=1.1,this.hachures=!1,this.couleurDesHachures="black",this.epaisseurDesHachures=1,this.distanceDesHachures=10,this.svg=function(r){if(1!=this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),Boolean(this.pointilles))switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}return this.hachures?(this.couleurDeRemplissage.length<1&&(this.couleurDeRemplissage="none"),$459103e30f4604971e030953f4b52e1b$var$pattern({motif:this.hachures,id:this.id,distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures,couleurDeRemplissage:this.couleurDeRemplissage,opaciteDeRemplissage:this.opaciteDeRemplissage})+`<circle cx="${e.xSVG(r)}" cy="${e.ySVG(r)}" r="${t*r}" stroke="${this.color}" ${this.style} id="${this.id}" fill="url(#pattern${this.id})" />`):(1!=this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),""==this.couleurDeRemplissage?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),`<circle cx="${e.xSVG(r)}" cy="${e.ySVG(r)}" r="${t*r}" stroke="${this.color}" ${this.style} id="${this.id}" />`)},this.tikz=function(){let r=[],i=[];if(this.color.length>1&&"black"!==this.color&&i.push(this.color),1!=this.epaisseur&&i.push(`line width = ${this.epaisseur}`),Boolean(this.pointilles))switch(this.pointilles){case 1:i.push(" dash dot ");break;case 2:i.push(" densely dash dot dot ");break;case 3:i.push(" dash dot dot ");break;case 4:i.push(" dotted ");break;default:i.push(" dashed ")}return 1!=this.opacite&&i.push(`opacity = ${this.opacite}`),this.hachures&&this.hachures&&i.push($459103e30f4604971e030953f4b52e1b$var$pattern({motif:this.hachures,id:this.id,distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures,couleurDeRemplissage:this.couleurDeRemplissage,opaciteDeRemplissage:this.opaciteDeRemplissage})),i.length>0&&(r="["+i.join(",")+"]"),`\\draw${r} (${e.x},${e.y}) circle (${t});`},this.svgml=function(r,i){1!=this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),1!=this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),""==this.couleurDeRemplissage?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `);let n=`<path d="M ${e.xSVG(r)+t*r} ${e.ySVG(r)} C ${e.xSVG(r)+t*r} ${e.ySVG(r)}, `;for(let o=1;o<101;o++)n+=`${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e.xSVG(r)+t*Math.cos(2*o*Math.PI/101)*r+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*i,2)} ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e.ySVG(r)+t*Math.sin(2*o*Math.PI/100)*r+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*i,2)}, `;return n+=` ${e.xSVG(r)+t*r} ${e.ySVG(r)} Z" stroke="${this.color}" ${this.style}"/>`,n},this.tikzml=function(r){let i=[],n=[];return this.color.length>1&&"black"!==this.color&&n.push(this.color),1!=this.epaisseur&&n.push(`line width = ${this.epaisseur}`),1!=this.opacite&&n.push(`opacity = ${this.opacite}`),n.push(`decorate,decoration={random steps , amplitude = ${r}pt}`),i="["+n.join(",")+"]",`\\draw${i} (${e.x},${e.y}) circle (${t});`}}function $459103e30f4604971e030953f4b52e1b$export$cercle(...e){return new $459103e30f4604971e030953f4b52e1b$var$Cercle(...e)}function $459103e30f4604971e030953f4b52e1b$var$Ellipse(e,t,i,n){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),n&&(this.color=n,this.styleTikz=`[${n}]`),this.centre=e,this.rx=t,this.ry=i,this.couleurDeRemplissage="",this.opaciteDeRemplissage=1.1,this.svg=function(r){if(1!=this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),Boolean(this.pointilles))switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}return 1!=this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),""==this.couleurDeRemplissage?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),`<ellipse cx="${e.xSVG(r)}" cy="${e.ySVG(r)}" rx="${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t*r)}" ry="${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(i*r)}" stroke="${this.color}" ${this.style} id="${this.id}" />`},this.tikz=function(){let r=[],n=[];if(this.color.length>1&&"black"!==this.color&&n.push(this.color),1!=this.epaisseur&&n.push(`line width = ${this.epaisseur}`),Boolean(this.pointilles))switch(this.pointilles){case 1:n.push(" dash dot ");break;case 2:n.push(" densely dash dot dot ");break;case 3:n.push(" dash dot dot ");break;case 4:n.push(" dotted ");break;default:n.push(" dashed ")}return 1!=this.opacite&&n.push(`opacity = ${this.opacite}`),n.length>0&&(r="["+n.join(",")+"]"),`\\draw${r} (${e.x},${e.y}) ellipse (${t}cm and ${i}cm);;`},this.tikzml=function(t){let i=[],n=[];return this.color.length>1&&"black"!==this.color&&n.push(this.color),1!=this.epaisseur&&n.push(`line width = ${this.epaisseur}`),1!=this.opacite&&n.push(`opacity = ${this.opacite}`),n.push(`decorate,decoration={random steps , amplitude = ${t}pt}`),i="["+n.join(",")+"]",`\\draw${i} (${e.x},${e.y}) circle (${r});`}}function $459103e30f4604971e030953f4b52e1b$export$ellipse(...e){return new $459103e30f4604971e030953f4b52e1b$var$Ellipse(...e)}function $459103e30f4604971e030953f4b52e1b$export$pointIntersectionLC(e,t,r="",i=1){let n,o,s,a,c,l,p=t.centre,u=t.rayon,f=e.a,d=e.b,h=e.c,b=p.x,$=p.y;if(0==d){if(s=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-h/f),c=s,n=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(4*(-b*b-h*h/(f*f)-2*b*h/f+u*u)),n<0)return!1;$cf7a0e0dfc1e90c0e915b74752829335$export$egal(n,0)?(a=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul($+Math.sqrt(n)/2),l=a):(a=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul($-Math.sqrt(n)/2),l=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul($+Math.sqrt(n)/2))}else if(0==f){if(a=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-h/d),l=a,n=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(4*(-$*$-h*h/(d*d)-2*$*h/d+u*u)),n<0)return!1;$cf7a0e0dfc1e90c0e915b74752829335$export$egal(n,0)?(s=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(b+Math.sqrt(n)/2),c=s):(s=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(b-Math.sqrt(n)/2),c=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(b+Math.sqrt(n)/2))}else{if(n=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((2*(f*h/(d*d)+$*f/d-b))**2-4*(1+(f/d)**2)*(b*b+$*$+(h/d)**2+2*$*h/d-u*u)),n<0)return!1;$cf7a0e0dfc1e90c0e915b74752829335$export$egal(n,0)?(o=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(Math.sqrt(n)),s=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((-2*(f*h/(d*d)+$*f/d-b)-o)/(2*(1+(f/d)**2))),c=s,a=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((-f*s-h)/d),l=a):(o=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(Math.sqrt(n)),s=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((-2*(f*h/(d*d)+$*f/d-b)-o)/(2*(1+(f/d)**2))),c=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((-2*(f*h/(d*d)+$*f/d-b)+o)/(2*(1+(f/d)**2))),a=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((-f*s-h)/d),l=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((-f*c-h)/d))}return 1==i?l>a?$459103e30f4604971e030953f4b52e1b$export$point(c,l,r):$459103e30f4604971e030953f4b52e1b$export$point(s,a,r):l>a?$459103e30f4604971e030953f4b52e1b$export$point(s,a,r):$459103e30f4604971e030953f4b52e1b$export$point(c,l,r)}function $459103e30f4604971e030953f4b52e1b$export$pointIntersectionCC(e,t,r="",i=1){let n,o,s,a,c,l,p,u,f,d=e.centre,h=t.centre,b=e.rayon,$=t.rayon,m=d.x,g=h.x,x=d.y;if(o=g-m,s=h.y-x,a=Math.sqrt(s*s+o*o),a>b+$)return!1;if(a<Math.abs(b-$))return!1;n=(b*b-$*$+a*a)/(2*a),u=m+o*n/a,f=x+s*n/a,c=Math.sqrt(b*b-n*n),l=c/a*-s,p=o*(c/a);let v=u+l,y=u-l,_=f+p,E=f-p;return 1==i?E>_?$459103e30f4604971e030953f4b52e1b$export$point(y,E,r):$459103e30f4604971e030953f4b52e1b$export$point(v,_,r):E>_?$459103e30f4604971e030953f4b52e1b$export$point(v,_,r):$459103e30f4604971e030953f4b52e1b$export$point(y,E,r)}function $459103e30f4604971e030953f4b52e1b$var$CercleCentrePoint(e,t,r="black"){$459103e30f4604971e030953f4b52e1b$var$Cercle.call(this,e,$459103e30f4604971e030953f4b52e1b$export$longueur(e,t),r)}function $459103e30f4604971e030953f4b52e1b$export$cercleCentrePoint(...e){return new $459103e30f4604971e030953f4b52e1b$var$CercleCentrePoint(...e)}function $459103e30f4604971e030953f4b52e1b$var$Arc(e,t,r,i=!1,n="none",o="black",s=.2){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.color=o,this.couleurDeRemplissage=n,this.opaciteDeRemplissage=s,this.hachures=!1,this.couleurDesHachures="black",this.epaisseurDesHachures=1,this.distanceDesHachures=10,"number"!=typeof r&&(r=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi($459103e30f4604971e030953f4b52e1b$export$angleOriente(e,t,r),1));let a=$459103e30f4604971e030953f4b52e1b$export$longueur(t,e),c=0,l=0,p=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi($459103e30f4604971e030953f4b52e1b$export$angleOriente($459103e30f4604971e030953f4b52e1b$export$point(t.x+1,t.y),t,e),1),u=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(p+r,1);r>180?(r-=360,c=1,l=0):r<-180?(r=360+r,c=1,l=1):(c=0,l=1-(r>0));let f,d,h,b,$,m,g,x,v=$459103e30f4604971e030953f4b52e1b$export$rotation(e,t,r);this.svg=i?function(r){if(this.style="",1!=this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),Boolean(this.pointilles))switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}return this.hachures?(this.couleurDeRemplissage.length<1&&(this.couleurDeRemplissage="none"),$459103e30f4604971e030953f4b52e1b$var$pattern({motif:this.hachures,id:this.id,distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures,couleurDeRemplissage:this.couleurDeRemplissage,opaciteDeRemplissage:this.opaciteDeRemplissage})+`<path d="M${e.xSVG(r)} ${e.ySVG(r)} A ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(a*r,1)} ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(a*r,1)} 0 ${c} ${l} ${v.xSVG(r)} ${v.ySVG(r)} L ${t.xSVG(r)} ${t.ySVG(r)} Z" stroke="${this.color}"  ${this.style} id="${this.id}" fill="url(#pattern${this.id})" />`):(1!=this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),"none"!=this.couleurDeRemplissage&&(this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),`<path d="M${e.xSVG(r)} ${e.ySVG(r)} A ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(a*r,1)} ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(a*r,1)} 0 ${c} ${l} ${v.xSVG(r)} ${v.ySVG(r)} L ${t.xSVG(r)} ${t.ySVG(r)} Z" stroke="${this.color}" fill="${this.couleurDeRemplissage}" ${this.style}/>`)}:function(t){if(this.style="",1!=this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),Boolean(this.pointilles))switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}return 1!=this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),`<path d="M${e.xSVG(t)} ${e.ySVG(t)} A ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(a*t,1)} ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(a*t,1)} 0 ${c} ${l} ${v.xSVG(t)} ${v.ySVG(t)}" stroke="${this.color}" fill="${n}" ${this.style} id="${this.id}" />`},this.tikz=function(){let r=[],o=[];if(this.color.length>1&&"black"!==this.color&&o.push(this.color),1!=this.epaisseur&&o.push(`line width = ${this.epaisseur}`),Boolean(this.pointilles))switch(this.pointilles){case 1:o.push(" dash dot ");break;case 2:o.push(" densely dash dot dot ");break;case 3:o.push(" dash dot dot ");break;case 4:o.push(" dotted ");break;default:o.push(" dashed ")}return 1!=this.opacite&&o.push(`opacity = ${this.opacite}`),i&&"none"!=n&&o.push(`fill opacity = ${this.opaciteDeRemplissage}`),i&&"none"!=n&&o.push(`fill = ${this.couleurDeRemplissage}`),this.hachures&&o.push($459103e30f4604971e030953f4b52e1b$var$pattern({motif:this.hachures,id:this.id,distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures,couleurDeRemplissage:this.couleurDeRemplissage,opaciteDeRemplissage:this.opaciteDeRemplissage})),o.length>0&&(r="["+o.join(",")+"]"),i?`\\filldraw  ${r} (${v.x},${v.y}) -- (${t.x},${t.y}) -- (${e.x},${e.y}) arc (${p}:${u}:${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi($459103e30f4604971e030953f4b52e1b$export$longueur(t,e),2)}) -- cycle ;`:`\\draw${r} (${e.x},${e.y}) arc (${p}:${u}:${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi($459103e30f4604971e030953f4b52e1b$export$longueur(t,e),2)}) ;`},this.svgml=function(n,s){if(this.style="",i){1!=this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),1!=this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),""==this.couleurDeRemplissage||"none"==this.couleurDeRemplissage?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),f=$459103e30f4604971e030953f4b52e1b$export$longueur(e,t),d=r/f/10,h=`<path d="M${e.xSVG(n)} ${e.ySVG(n)} C `;for(let i=0;i<=r;i+=d)b=$459103e30f4604971e030953f4b52e1b$export$rotation(e,t,i),h+=`${Math.round(b.xSVG(n)+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*s)} ${Math.round(b.ySVG(n)+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*s)}, `;b=$459103e30f4604971e030953f4b52e1b$export$rotation(e,t,f*d),h+=`${Math.round(b.xSVG(n)+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*s)} ${Math.round(b.ySVG(n)+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*s)} `,a=$459103e30f4604971e030953f4b52e1b$export$longueur(t,e),$=(e.xSVG(n)-t.xSVG(n))/(4*a),m=(e.ySVG(n)-t.ySVG(n))/(4*a),g=(t.xSVG(n)-b.xSVG(n))/(4*a),x=(t.ySVG(n)-b.ySVG(n))/(4*a);for(let e=0;e<=4*a;e++)h+=`${Math.round(b.xSVG(n)+e*g+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*s)} ${Math.round(b.ySVG(n)+e*x+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*s)}, `;for(let e=0;e<=4*a;e++)h+=`${Math.round(t.xSVG(n)+e*$+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*s)} ${Math.round(t.ySVG(n)+e*m+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*s)}, `;return h+=`${Math.round(t.xSVG(n)+4*a*$+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*s)} ${Math.round(t.ySVG(n)+4*a*m+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*s)} Z `,h+=`" stroke="${o}" ${this.style} />`,h}1!=this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),1!=this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),this.style+=' fill="none" ',f=$459103e30f4604971e030953f4b52e1b$export$longueur(e,t),d=r/f/10,h=`<path d="M${e.xSVG(n)} ${e.ySVG(n)} C `;for(let i=0;Math.abs(i)<=Math.abs(r);i+=d)b=$459103e30f4604971e030953f4b52e1b$export$rotation(e,t,i),h+=`${Math.round(b.xSVG(n)+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*s)} ${Math.round(b.ySVG(n)+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*s)}, `;return b=$459103e30f4604971e030953f4b52e1b$export$rotation(e,t,r),h+=`${Math.round(b.xSVG(n)+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*s)} ${Math.round(b.ySVG(n)+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*s)} `,h+=`" stroke="${o}" ${this.style}/>`,h},this.tikzml=function(o){let s=[],a=[],c=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi($459103e30f4604971e030953f4b52e1b$export$angleOriente($459103e30f4604971e030953f4b52e1b$export$point(t.x+1,t.y),t,e),1),l=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(c+r,1),p=$459103e30f4604971e030953f4b52e1b$export$rotation(e,t,r);return this.color.length>1&&"black"!==this.color&&a.push(this.color),1!=this.epaisseur&&a.push(`line width = ${this.epaisseur}`),1!=this.opacite&&a.push(`opacity = ${this.opacite}`),i&&"none"!=n&&a.push(`fill opacity = ${this.opaciteDeRemplissage}`),i&&"none"!=n&&a.push(`fill = ${this.couleurDeRemplissage}`),a.push(`decorate,decoration={random steps , amplitude = ${o}pt}`),s="["+a.join(",")+"]",i?`\\filldraw  ${s} (${p.x},${p.y}) -- (${t.x},${t.y}) -- (${e.x},${e.y}) arc (${c}:${l}:${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi($459103e30f4604971e030953f4b52e1b$export$longueur(t,e),2)}) -- cycle ;`:`\\draw${s} (${e.x},${e.y}) arc (${c}:${l}:${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi($459103e30f4604971e030953f4b52e1b$export$longueur(t,e),2)}) ;`}}function $459103e30f4604971e030953f4b52e1b$export$arc(...e){return new $459103e30f4604971e030953f4b52e1b$var$Arc(...e)}function $459103e30f4604971e030953f4b52e1b$var$ArcPointPointAngle(e,t,r,i=!1,n="none",o="black",s=.2){let a,c,l,p,u,f;a=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r<0?(r+180)/2:(r-180)/2),p=$459103e30f4604971e030953f4b52e1b$export$mediatrice(e,t,"black"),p.isVisible=!1,u=$459103e30f4604971e030953f4b52e1b$export$droite(t,e),u.isVisible=!1,f=$459103e30f4604971e030953f4b52e1b$export$rotation(u,t,a),f.isVisible=!1,l=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((-f.c+p.c*f.a/p.a)/(f.b-f.a*p.b/p.a)),c=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-p.c/p.a-p.b*l/p.a);let d=$459103e30f4604971e030953f4b52e1b$export$point(c,l);$459103e30f4604971e030953f4b52e1b$var$Arc.call(this,e,d,r,i,n,o,s)}function $459103e30f4604971e030953f4b52e1b$export$arcPointPointAngle(...e){return new $459103e30f4604971e030953f4b52e1b$var$ArcPointPointAngle(...e)}function $459103e30f4604971e030953f4b52e1b$export$traceCompas(e,t,r=20,i="gray",n=1.1,o=1,s=!1){let a=$459103e30f4604971e030953f4b52e1b$export$arc($459103e30f4604971e030953f4b52e1b$export$rotation(t,e,-r/2),e,r,!1);return a.epaisseur=o,a.opacite=n,a.color=i,a.pointilles=s,a}function $459103e30f4604971e030953f4b52e1b$var$CourbeDeBezier(e,t,r){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.svg=function(i){return`<path d="M${e.xSVG(i)} ${e.ySVG(i)} Q ${t.xSVG(i)} ${t.ySVG(i)}, ${r.xSVG(i)} ${r.ySVG(i)}" stroke="black" fill="transparent"/>`}}function $459103e30f4604971e030953f4b52e1b$export$courbeDeBezier(...e){return new $459103e30f4604971e030953f4b52e1b$var$CourbeDeBezier(...e)}function $459103e30f4604971e030953f4b52e1b$var$SegmentMainLevee(e,t,r,i="black"){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.svg=function(n){1!=this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),1!=this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),""==this.couleurDeRemplissage?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `);let o=Math.round($459103e30f4604971e030953f4b52e1b$export$longueur(e,t)),s=(t.xSVG(n)-e.xSVG(n))/(4*o),a=(t.ySVG(n)-e.ySVG(n))/(4*o),c=`<path d="M${e.xSVG(n)} ${e.ySVG(n)} C `;for(let t=0;t<=4*o;t++)c+=`${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e.xSVG(n)+t*s+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*r,0)} ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e.ySVG(n)+t*a+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*r,0)}, `;return c+=`${t.xSVG(n)} ${t.ySVG(n)}" stroke="${i}" ${this.style}"/>`,c},this.tikz=function(){let i=[],n=[];return this.color.length>1&&"black"!==this.color&&n.push(this.color),1!=this.epaisseur&&n.push(`line width = ${this.epaisseur}`),1!=this.opacite&&n.push(`opacity = ${this.opacite}`),n.push(`decorate,decoration={random steps , amplitude = ${r}pt}`),i="["+n.join(",")+"]",`\\draw ${i} (${e.x},${e.y})--(${t.x},${t.y});`}}function $459103e30f4604971e030953f4b52e1b$export$segmentMainLevee(e,t,r,i="black",n=1){return new $459103e30f4604971e030953f4b52e1b$var$SegmentMainLevee(e,t,r,i,n)}function $459103e30f4604971e030953f4b52e1b$var$CercleMainLevee(e,t,r,i="black"){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.color=i,this.svg=function(n){1!=this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),1!=this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),""==this.couleurDeRemplissage?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `);let o=`<path d="M ${e.xSVG(n)+t*n} ${e.ySVG(n)} C ${e.xSVG(n)+t*n} ${e.ySVG(n)}, `;for(let i=1;i<101;i++)o+=`${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e.xSVG(n)+t*Math.cos(2*i*Math.PI/101)*n+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*r,2)} ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e.ySVG(n)+t*Math.sin(2*i*Math.PI/100)*n+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*r,2)}, `;return o+=` ${e.xSVG(n)+t*n} ${e.ySVG(n)} Z" stroke="${i}" ${this.style}"/>`,o},this.tikz=function(){let i=[],n=[];return this.color.length>1&&"black"!==this.color&&n.push(this.color),1!=this.epaisseur&&n.push(`line width = ${this.epaisseur}`),1!=this.opacite&&n.push(`opacity = ${this.opacite}`),n.push(`decorate,decoration={random steps , amplitude = ${r}pt}`),i="["+n.join(",")+"]",`\\draw${i} (${e.x},${e.y}) circle (${t});`}}function $459103e30f4604971e030953f4b52e1b$export$cercleMainLevee(e,t,r,i="black",n=1){return new $459103e30f4604971e030953f4b52e1b$var$CercleMainLevee(e,t,r,i,n)}function $459103e30f4604971e030953f4b52e1b$var$DroiteMainLevee(e,t,r,i="black"){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.svg=function(n){let o=$459103e30f4604971e030953f4b52e1b$export$droite(e,t,i);return o.isVisible=!1,o.svgml(n,r)},this.tikz=function(){let n=$459103e30f4604971e030953f4b52e1b$export$droite(e,t,i);return n.isVisible=!1,n.tikzml(r)}}function $459103e30f4604971e030953f4b52e1b$export$droiteMainLevee(e,t,r,i="black",n=1){return new $459103e30f4604971e030953f4b52e1b$var$DroiteMainLevee(e,t,r,i,n)}function $459103e30f4604971e030953f4b52e1b$var$PolygoneMainLevee(e,t){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.couleurDeRemplissage="",this.opaciteDeRemplissage=1.1,this.listePoints=e,this.svg=function(e){let r,i,n,o="";for(let s=1;s<=this.listePoints.length;s++)n=this.listePoints[s%this.listePoints.length],i=this.listePoints[s-1],r=$459103e30f4604971e030953f4b52e1b$export$segment(i,n),r.isVisible=!1,r.epaisseur=this.epaisseur,r.color=this.color,r.opacite=this.opacite,o+=r.svgml(e,t);return o},this.tikz=function(){let e,r,i,n="";for(let o=1;o<=this.listePoints.length;o++)i=this.listePoints[o%this.listePoints.length],r=this.listePoints[o-1],e=$459103e30f4604971e030953f4b52e1b$export$segment(r,i),e.isVisible=!1,e.epaisseur=this.epaisseur,e.color=this.color,e.opacite=this.opacite,n+=e.tikzml(t);return n}}function $459103e30f4604971e030953f4b52e1b$export$polygoneMainLevee(e,t,r="black"){return new $459103e30f4604971e030953f4b52e1b$var$PolygoneMainLevee(e,t,r)}function $459103e30f4604971e030953f4b52e1b$var$ArcMainLevee(e,t,r,i,n=!1,o="none",s="black",a=.2){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.couleurDeRemplissage=o,this.opaciteDeRemplissage=a,this.color=s,this.svg=function(o){1!=this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),1!=this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),""==this.couleurDeRemplissage||"none"==this.couleurDeRemplissage?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `);let a,c=Math.round(2*$459103e30f4604971e030953f4b52e1b$export$longueur(e,t)*Math.PI*r/360),l=r/c,p=`<path d="M${e.xSVG(o)} ${e.ySVG(o)} C `;for(let r=0;r<=c;r++)a=$459103e30f4604971e030953f4b52e1b$export$rotation(e,t,r*l),p+=`${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(a.xSVG(o)+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*i,0)} ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(a.ySVG(o)+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*i,0)}, `;p+=`${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(a.xSVG(o)+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*i,0)} ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(a.ySVG(o)+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*i,0)} `;let u=Math.abs(Math.round($459103e30f4604971e030953f4b52e1b$export$longueur(t,e))),f=(e.xSVG(o)-t.xSVG(o))/(4*u),d=(e.ySVG(o)-t.ySVG(o))/(4*u),h=(t.xSVG(o)-a.xSVG(o))/(4*u),b=(t.ySVG(o)-a.ySVG(o))/(4*u);if(n){for(let e=0;e<=4*u;e++)p+=`${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(a.xSVG(o)+e*h+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*i,0)} ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(a.ySVG(o)+e*b+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*i,0)}, `;for(let e=0;e<=4*u;e++)p+=`${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(t.xSVG(o)+e*f+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*i,0)} ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(t.ySVG(o)+e*d+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*i,0)}, `;p+=`${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(t.xSVG(o)+4*u*f+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*i,0)} ${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(t.ySVG(o)+4*u*d+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-1,1)*i,0)} Z `}return p+=`" stroke="${s}" ${this.style}"/>`,p},this.tikz=function(){let s=[],a=[],c=$459103e30f4604971e030953f4b52e1b$export$angleOriente($459103e30f4604971e030953f4b52e1b$export$point(t.x+1,t.y),t,e),l=c+r,p=$459103e30f4604971e030953f4b52e1b$export$rotation(e,t,r);return this.color.length>1&&"black"!==this.color&&a.push(this.color),1!=this.epaisseur&&a.push(`line width = ${this.epaisseur}`),1!=this.opacite&&a.push(`opacity = ${this.opacite}`),n&&"none"!=o&&a.push(`fill opacity = ${this.opaciteDeRemplissage}`),n&&"none"!=o&&a.push(`fill = ${this.couleurDeRemplissage}`),a.push(`decorate,decoration={random steps , amplitude = ${i}pt}`),s="["+a.join(",")+"]",n?`\\filldraw  ${s} (${p.x},${p.y}) -- (${t.x},${t.y}) -- (${e.x},${e.y}) arc (${c}:${l}:${$459103e30f4604971e030953f4b52e1b$export$longueur(t,e)}) -- cycle ;`:`\\draw${s} (${e.x},${e.y}) arc (${c}:${l}:${$459103e30f4604971e030953f4b52e1b$export$longueur(t,e)}) ;`}}function $459103e30f4604971e030953f4b52e1b$export$arcMainLevee(e,t,r,i,n=!1,o="none",s="black",a=.2){return new $459103e30f4604971e030953f4b52e1b$var$ArcMainLevee(e,t,r,i,n,o,s,a)}function $459103e30f4604971e030953f4b52e1b$export$dansLaCibleCarree(e,t,r,i,n){let o=n[0].charCodeAt(0)-64,s=Math.floor(4*i),a=parseInt(n[1]),c=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul($cf7a0e0dfc1e90c0e915b74752829335$export$randint(-s,s)/10),l=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul($cf7a0e0dfc1e90c0e915b74752829335$export$randint(-s,s)/10),p=i/2;return a>r||o>r?"Cette cellule n'existe pas dans la cible":[$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e+c-o*i+p+r*p,2),$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(t+l-2*a*p+(r+1)*p,2)]}function $459103e30f4604971e030953f4b52e1b$export$dansLaCibleRonde(e,t,r,i,n){let o=n[0].charCodeAt(0)-64,s=Math.floor(4*i),a=parseInt(n[1]),c=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul($cf7a0e0dfc1e90c0e915b74752829335$export$randint(-s,s)/10),l=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(45*(o-1)-157.5+$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-20,20)),p=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(i/2+(a-1)*i+c),u=$459103e30f4604971e030953f4b52e1b$export$similitude($459103e30f4604971e030953f4b52e1b$export$point(1,0),$459103e30f4604971e030953f4b52e1b$export$point(0,0),l,p);return u.x+=e,u.y+=t,a>r||o>8?"Cette cellule n'existe pas dans la cible":[$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(u.x,2),$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(u.y,2)]}function $459103e30f4604971e030953f4b52e1b$var$CibleCarree({x:e=0,y:t=0,rang:r=4,num:i,taille:n=.6,color:o="gray",opacite:s=.5}){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.x=e,this.y=t,this.rang=r,void 0!==i&&(this.num=i),this.taille=n,this.color=o,this.opacite=s;let a,c,l,p=[];void 0!==i&&(a=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(i,e-r*this.taille/4,t-r*this.taille/4,"milieu",this.color),a.opacite=.5,a.taille=30*this.taille,a.contour=!0,p.push(a)),this.num=i,p.push($459103e30f4604971e030953f4b52e1b$export$grille($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e-r*this.taille/2),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t-r*this.taille/2),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e+r*this.taille/2),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t+r*this.taille/2),this.color,this.opacite,this.taille,!1));for(let i=0;i<r;i++)c=$459103e30f4604971e030953f4b52e1b$export$texteParPosition($cf7a0e0dfc1e90c0e915b74752829335$export$lettre_depuis_chiffre(1+i),e-r*this.taille/2+(2*i+1)*this.taille/2,t-(r+1)*this.taille/2,"milieu"),l=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(i+1,e-(r+1)*this.taille/2,t-r*this.taille/2+(2*i+1)*this.taille/2,"milieu"),c.taille=10*this.taille,l.taille=10*this.taille,p.push(c),p.push(l);this.svg=function(e){let t="";for(let r of p)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of p)e+="\n\t"+t.tikz();return e}}function $459103e30f4604971e030953f4b52e1b$export$cibleCarree({x:e=0,y:t=0,rang:r=4,num:i,taille:n=.6}){return new $459103e30f4604971e030953f4b52e1b$var$CibleCarree({x:e,y:t,rang:r,num:i,taille:n})}function $459103e30f4604971e030953f4b52e1b$var$CibleRonde({x:e=0,y:t=0,rang:r=3,num:i,taille:n=.3}){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.x=e,this.y=t,this.num=i,this.taille=n,this.rang=r,this.opacite=.5,this.color="gray";let o,s,a,c,l,p=[];a=$459103e30f4604971e030953f4b52e1b$export$point(this.x,this.y,this.y),c=$459103e30f4604971e030953f4b52e1b$export$point(this.x+this.rang*this.taille,this.y);let u=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(a,c,$459103e30f4604971e030953f4b52e1b$export$longueur(a,c)+.3);for(let e=0;e<8;e++)l=$459103e30f4604971e030953f4b52e1b$export$segment(a,$459103e30f4604971e030953f4b52e1b$export$rotation(c,a,45*e)),l.color=this.color,l.opacite=this.opacite,p.push(l),p.push($459103e30f4604971e030953f4b52e1b$export$texteParPoint($cf7a0e0dfc1e90c0e915b74752829335$export$lettre_depuis_chiffre(1+e),$459103e30f4604971e030953f4b52e1b$export$rotation(u,a,45*e+22.5),"milieu","gray"));for(let e=0;e<this.rang;e++)s=$459103e30f4604971e030953f4b52e1b$export$cercle($459103e30f4604971e030953f4b52e1b$export$point(this.x,this.y),this.taille*(1+e)),s.opacite=this.opacite,s.color=this.color,p.push(s);o=$459103e30f4604971e030953f4b52e1b$export$texteParPosition($cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(i),this.x,this.y,0,"gray"),o.opacite=.5,o.taille=30,o.contour=!0,p.push(o),this.svg=function(e){let t="";for(let r of p)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of p)e+="\n\t"+t.tikz();return e}}function $459103e30f4604971e030953f4b52e1b$export$cibleRonde({x:e=0,y:t=0,rang:r=3,num:i=1,taille:n=.3}){return new $459103e30f4604971e030953f4b52e1b$var$CibleRonde({x:e,y:t,rang:r,num:i,taille:n})}function $459103e30f4604971e030953f4b52e1b$var$CibleCouronne({x:e=0,y:t=0,taille:r=5,depart:i=0,nbDivisions:n=18,nbSubDivisions:o=3,semi:s=!1,label:a=!0}){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.x=e,this.y=t,this.taille=r,this.opacite=.5,this.color="gray";let c,l,p,u,f,d,h,b=[];h=s?180:360,l=$459103e30f4604971e030953f4b52e1b$export$point(this.x,this.y),p=$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$point(this.x+this.taille,this.y),l,i);let $=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(l,p,$459103e30f4604971e030953f4b52e1b$export$longueur(l,p)+1),m=[];f=$459103e30f4604971e030953f4b52e1b$export$arc(p,l,h-.1,!1,"none","gray"),d=$459103e30f4604971e030953f4b52e1b$export$arc($,l,h-.1,!1,"none","gray"),u=$459103e30f4604971e030953f4b52e1b$export$segment(p,$),b.push(f,d,u);for(let e=0;e<n;e++){for(let e=1;e<o;e++)m[e-1]=$459103e30f4604971e030953f4b52e1b$export$rotation(u,l,e*h/n/o),m[e-1].pointilles=1,m[e-1].color=this.color,m[e-1].opacite=this.opacite,b.push(m[e-1]);a&&(c=$459103e30f4604971e030953f4b52e1b$export$texteParPoint($cf7a0e0dfc1e90c0e915b74752829335$export$lettre_depuis_chiffre(1+e),$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$milieu(p,$),l,h/n/2),"milieu","gray"),c.contour=!0,b.push(c)),u.color=this.color,u.opacite=this.opacite,b.push(u),p=$459103e30f4604971e030953f4b52e1b$export$rotation(p,l,h/n),$=$459103e30f4604971e030953f4b52e1b$export$rotation($,l,h/n),u=$459103e30f4604971e030953f4b52e1b$export$segment(p,$)}this.svg=function(e){let t="";for(let r of b)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of b)e+="\n\t"+t.tikz();return e}}function $459103e30f4604971e030953f4b52e1b$export$cibleCouronne({x:e=0,y:t=0,taille:r=5,depart:i=0,nbDivisions:n=18,nbSubDivisions:o=3,semi:s=!1,label:a=!0}){return new $459103e30f4604971e030953f4b52e1b$var$CibleCouronne({x:e,y:t,taille:r,depart:i,nbDivisions:n,nbSubDivisions:o,semi:s,label:a})}function $459103e30f4604971e030953f4b52e1b$export$translation(e,t,r="",i="above"){if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Point){return $459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.x+t.x),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.y+t.y),r,i)}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Polygone){let r=[];for(let i=0;i<e.listePoints.length;i++)r[i]=$459103e30f4604971e030953f4b52e1b$export$translation(e.listePoints[i],t),r[i].nom=e.listePoints[i].nom+"'";return $459103e30f4604971e030953f4b52e1b$export$polygone(r)}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Droite){return $459103e30f4604971e030953f4b52e1b$export$droite($459103e30f4604971e030953f4b52e1b$export$translation($459103e30f4604971e030953f4b52e1b$export$point(e.x1,e.y1),t),$459103e30f4604971e030953f4b52e1b$export$translation($459103e30f4604971e030953f4b52e1b$export$point(e.x2,e.y2),t))}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Segment){let r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$translation(e.extremite1,t),$459103e30f4604971e030953f4b52e1b$export$translation(e.extremite2,t));return r.styleExtremites=e.styleExtremites,r}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Vecteur)return e}function $459103e30f4604971e030953f4b52e1b$export$translation2Points(e,t,r,i="",n="above"){if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Point){return $459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.x+r.x-t.x),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.y+r.y-t.y),i,n)}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Polygone){let i=[];for(let n=0;n<e.listePoints.length;n++)i[n]=$459103e30f4604971e030953f4b52e1b$export$translation2Points(e.listePoints[n],e,t,r),i[n].nom=t.listePoints[n].nom+"'";return $459103e30f4604971e030953f4b52e1b$export$polygone(i)}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Droite){return $459103e30f4604971e030953f4b52e1b$export$droite($459103e30f4604971e030953f4b52e1b$export$translation2Points($459103e30f4604971e030953f4b52e1b$export$point(e.x1,e.y1),t,r),$459103e30f4604971e030953f4b52e1b$export$translation2Points($459103e30f4604971e030953f4b52e1b$export$point(e.x2,e.y2),t,r))}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Segment){let i=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$translation2Points(e.extremite1,t,r),$459103e30f4604971e030953f4b52e1b$export$translation2Points(e.extremite2,t,r));return i.styleExtremites=e.styleExtremites,i}if(t.constructor==$459103e30f4604971e030953f4b52e1b$var$Vecteur)return t}function $459103e30f4604971e030953f4b52e1b$export$rotation(e,t,r,i="",n="above"){if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Point){return $459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t.x+(e.x-t.x)*Math.cos(r*Math.PI/180)-(e.y-t.y)*Math.sin(r*Math.PI/180)),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t.y+(e.x-t.x)*Math.sin(r*Math.PI/180)+(e.y-t.y)*Math.cos(r*Math.PI/180)),i,n)}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Polygone){let i=[];for(let n=0;n<e.listePoints.length;n++)i[n]=$459103e30f4604971e030953f4b52e1b$export$rotation(e.listePoints[n],t,r),i[n].nom=e.listePoints[n].nom+"'";return $459103e30f4604971e030953f4b52e1b$export$polygone(i)}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Droite){return $459103e30f4604971e030953f4b52e1b$export$droite($459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$point(e.x1,e.y1),t,r),$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$point(e.x2,e.y2),t,r))}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Segment){let i=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$rotation(e.extremite1,t,r),$459103e30f4604971e030953f4b52e1b$export$rotation(e.extremite2,t,r));return i.styleExtremites=e.styleExtremites,i}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Vecteur){return $459103e30f4604971e030953f4b52e1b$export$vecteur($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.x*Math.cos(r*Math.PI/180)-e.y*Math.sin(r*Math.PI/180)),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.x*Math.sin(r*Math.PI/180)+e.y*Math.cos(r*Math.PI/180)))}}function $459103e30f4604971e030953f4b52e1b$var$Sens_de_rotation(e,t,r){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this);let i,n,o,s,a,c,l=[];i=$459103e30f4604971e030953f4b52e1b$export$arc(e,t,20*r),s=$459103e30f4604971e030953f4b52e1b$export$rotation(e,t,20*r),a=$459103e30f4604971e030953f4b52e1b$export$similitude(s,t,-5*r,.95),c=$459103e30f4604971e030953f4b52e1b$export$similitude(s,t,-5*r,1.05),n=$459103e30f4604971e030953f4b52e1b$export$segment(s,a),o=$459103e30f4604971e030953f4b52e1b$export$segment(s,c),l.push(i,n,o),this.svg=function(e){let t="";for(let r of l)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of l)e+="\n\t"+t.tikz();return e}}function $459103e30f4604971e030953f4b52e1b$export$sens_de_rotation(e,t,r){return new $459103e30f4604971e030953f4b52e1b$var$Sens_de_rotation(e,t,r)}function $459103e30f4604971e030953f4b52e1b$export$homothetie(e,t,r,i="",n="above"){if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Point){return new $459103e30f4604971e030953f4b52e1b$var$Point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t.x+r*(e.x-t.x)),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t.y+r*(e.y-t.y)),i,n)}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Polygone){let i=[];for(let n=0;n<e.listePoints.length;n++)i[n]=$459103e30f4604971e030953f4b52e1b$export$homothetie(e.listePoints[n],t,r),i[n].nom=e.listePoints[n].nom+"'";return $459103e30f4604971e030953f4b52e1b$export$polygone(i)}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Droite){return $459103e30f4604971e030953f4b52e1b$export$droite($459103e30f4604971e030953f4b52e1b$export$homothetie($459103e30f4604971e030953f4b52e1b$export$point(e.x1,e.y1),t,r),$459103e30f4604971e030953f4b52e1b$export$homothetie($459103e30f4604971e030953f4b52e1b$export$point(e.x2,e.y2),t,r))}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Segment){let i=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$homothetie(e.extremite1,t,r),$459103e30f4604971e030953f4b52e1b$export$homothetie(e.extremite2,t,r));return i.styleExtremites=e.styleExtremites,i}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Vecteur){return $459103e30f4604971e030953f4b52e1b$export$vecteur(e.x*r,e.y*r)}}function $459103e30f4604971e030953f4b52e1b$export$symetrieAxiale(e,t,r="",i="above"){let n,o,s=t.a,a=t.b,c=t.c,l=1/(s*s+a*a);if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Point)return 0==s?(n=e.x,o=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-(e.y+2*c/a))):0==a?(o=e.y,n=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-(e.x+2*c/s))):(n=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(l*((a*a-s*s)*e.x-2*s*a*e.y-2*s*c)),o=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(l*((s*s-a*a)*e.y-2*s*a*e.x+s*s*c/a-a*c)-c/a)),$459103e30f4604971e030953f4b52e1b$export$point(n,o,r,i);if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Polygone){let r=[];for(let i=0;i<e.listePoints.length;i++)r[i]=$459103e30f4604971e030953f4b52e1b$export$symetrieAxiale(e.listePoints[i],t),r[i].nom=e.listePoints[i].nom+"'";return $459103e30f4604971e030953f4b52e1b$export$polygone(r)}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Droite){return $459103e30f4604971e030953f4b52e1b$export$droite($459103e30f4604971e030953f4b52e1b$export$symetrieAxiale($459103e30f4604971e030953f4b52e1b$export$point(e.x1,e.y1),t),$459103e30f4604971e030953f4b52e1b$export$symetrieAxiale($459103e30f4604971e030953f4b52e1b$export$point(e.x2,e.y2),t))}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Segment){let r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$symetrieAxiale(e.extremite1,t),$459103e30f4604971e030953f4b52e1b$export$symetrieAxiale(e.extremite2,t));return r.styleExtremites=e.styleExtremites,r}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Vecteur){let r;return r=$cf7a0e0dfc1e90c0e915b74752829335$export$egal(a,0)?$459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-c/s),0):$459103e30f4604971e030953f4b52e1b$export$point(0,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-c/a)),$459103e30f4604971e030953f4b52e1b$export$vecteur(r,$459103e30f4604971e030953f4b52e1b$export$symetrieAxiale($459103e30f4604971e030953f4b52e1b$export$translation(r,e),t))}}function $459103e30f4604971e030953f4b52e1b$export$distancePointDroite(e,t){return $459103e30f4604971e030953f4b52e1b$export$longueur(e,$459103e30f4604971e030953f4b52e1b$export$projectionOrtho(e,t),9)}function $459103e30f4604971e030953f4b52e1b$export$projectionOrtho(e,t,r="",i="above"){let n,o,s=t.a,a=t.b,c=t.c,l=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(1/(s*s+a*a));if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Point)return 0==s?(n=e.x,o=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-c/a)):0==a?(o=e.y,n=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-c/s)):(n=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(l*(a*a*e.x-s*a*e.y-s*c)),o=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(l*(-s*a*e.x+s*s*e.y+s*s*c/a)-c/a)),$459103e30f4604971e030953f4b52e1b$export$point(n,o,r,i);if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Vecteur){let r;return r=$cf7a0e0dfc1e90c0e915b74752829335$export$egal(a,0)?$459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-c/s),0):$459103e30f4604971e030953f4b52e1b$export$point(0,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-c/a)),$459103e30f4604971e030953f4b52e1b$export$vecteur(r,$459103e30f4604971e030953f4b52e1b$export$projectionOrtho($459103e30f4604971e030953f4b52e1b$export$translation(r,e),t))}}function $459103e30f4604971e030953f4b52e1b$export$affiniteOrtho(e,t,r,i="",n="above"){let o,s,a=t.a,c=t.b,l=t.c,p=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(1/(a*a+c*c));if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Point)return 0==a?(o=e.x,s=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r*e.y+l*(r-1)/c)):0==c?(s=e.y,o=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r*e.x+l*(r-1)/a)):(o=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(p*(c*c*e.x-a*c*e.y-a*l)*(1-r)+r*e.x),s=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(p*(a*a*e.y-a*c*e.x+a*a*l/c)*(1-r)+r*l/c+r*e.y-l/c)),$459103e30f4604971e030953f4b52e1b$export$point(o,s,i,n);if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Polygone){let i=[];for(let n=0;n<e.listePoints.length;n++)i[n]=$459103e30f4604971e030953f4b52e1b$export$affiniteOrtho(e.listePoints[n],t,r),i[n].nom=e.listePoints[n].nom+"'";return $459103e30f4604971e030953f4b52e1b$export$polygone(i)}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Droite){return $459103e30f4604971e030953f4b52e1b$export$droite($459103e30f4604971e030953f4b52e1b$export$affiniteOrtho($459103e30f4604971e030953f4b52e1b$export$point(e.x1,e.y1),t,r),$459103e30f4604971e030953f4b52e1b$export$affiniteOrtho($459103e30f4604971e030953f4b52e1b$export$point(e.x2,e.y2),t,r))}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Segment){let i=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$affiniteOrtho(e.extremite1,t,r),$459103e30f4604971e030953f4b52e1b$export$affiniteOrtho(e.extremite2,t,r));return i.styleExtremites=e.styleExtremites,i}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Vecteur){let i;return i=$cf7a0e0dfc1e90c0e915b74752829335$export$egal(c,0)?$459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-l/a),0):$459103e30f4604971e030953f4b52e1b$export$point(0,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(-l/c)),$459103e30f4604971e030953f4b52e1b$export$vecteur(i,$459103e30f4604971e030953f4b52e1b$export$affiniteOrtho($459103e30f4604971e030953f4b52e1b$export$translation(i,e),t,r))}}function $459103e30f4604971e030953f4b52e1b$export$similitude(e,t,r,i,n="",o="above"){if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Point){let s=Math.radians(r);return $459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t.x+i*(Math.cos(s)*(e.x-t.x)-Math.sin(s)*(e.y-t.y))),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t.y+i*(Math.cos(s)*(e.y-t.y)+Math.sin(s)*(e.x-t.x))),n,o)}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Polygone){let n=[];for(let o=0;o<e.listePoints.length;o++)n[o]=$459103e30f4604971e030953f4b52e1b$export$similitude(e.listePoints[o],t,r,i),n[o].nom=e.listePoints[o].nom+"'";return $459103e30f4604971e030953f4b52e1b$export$polygone(n)}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Droite){return $459103e30f4604971e030953f4b52e1b$export$droite($459103e30f4604971e030953f4b52e1b$export$similitude($459103e30f4604971e030953f4b52e1b$export$point(e.x1,e.y1),t,r,i),$459103e30f4604971e030953f4b52e1b$export$similitude($459103e30f4604971e030953f4b52e1b$export$point(e.x2,e.y2),t,r,i))}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Segment){let n=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$similitude(e.extremite1,t,r,i),$459103e30f4604971e030953f4b52e1b$export$similitude(e.extremite2,t,r,i));return n.styleExtremites=e.styleExtremites,n}if(e.constructor==$459103e30f4604971e030953f4b52e1b$var$Vecteur){return $459103e30f4604971e030953f4b52e1b$export$homothetie($459103e30f4604971e030953f4b52e1b$export$rotation(e,t,r),t,i)}}function $459103e30f4604971e030953f4b52e1b$var$TranslationAnimee(e,t,r='begin="0s" dur="2s" repeatCount="indefinite"'){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.svg=function(i){let n="<g> ";if(Array.isArray(e))for(const t of e)n+="\n"+t.svg(i);else n+="\n"+e.svg(i);if(Array.isArray(t)){n+='<animateMotion path="M 0 0 l';for(const e of t)n+=` ${e.xSVG(i)} ${e.ySVG(i)} `;n+=`${r} />`}else n+=`<animateMotion path="M 0 0 l ${t.xSVG(i)} ${t.ySVG(i)} " ${r} />`;return n+="</g>",n}}function $459103e30f4604971e030953f4b52e1b$export$translationAnimee(...e){return new $459103e30f4604971e030953f4b52e1b$var$TranslationAnimee(...e)}function $459103e30f4604971e030953f4b52e1b$var$RotationAnimee(e,t,r,i='begin="0s" dur="2s" repeatCount="indefinite"'){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.svg=function(n){let o="<g> ";if(Array.isArray(e))for(const t of e)o+="\n"+t.svg(n);else o+="\n"+e.svg(n);return o+=`<animateTransform\n\tattributeName="transform"\n\ttype="rotate"\n\tfrom="0 ${t.xSVG(n)} ${t.ySVG(n)}"\n\tto="${-r} ${t.xSVG(n)} ${t.ySVG(n)}"\n\t${i}\n\t/>`,o+="</g>",o}}function $459103e30f4604971e030953f4b52e1b$export$rotationAnimee(...e){return new $459103e30f4604971e030953f4b52e1b$var$RotationAnimee(...e)}function $459103e30f4604971e030953f4b52e1b$var$HomothetieAnimee(e,t,r,i='begin="0s" dur="2s" repeatCount="indefinite"'){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.svg=function(n){let o=e.binomesXY(n),s=$459103e30f4604971e030953f4b52e1b$export$homothetie(e,t,r);s.isVisible=!1;let a=s.binomesXY(n);return`<polygon stroke="${e.color}" stroke-width="${e.epaisseur}" fill="none" >\n\t\t<animate attributeName="points" ${i}\n\t\tfrom="${o}"\n\t\tto="${a}"\n\t\t/>\n\t\t</polygon>`}}function $459103e30f4604971e030953f4b52e1b$export$homothetieAnimee(...e){return new $459103e30f4604971e030953f4b52e1b$var$HomothetieAnimee(...e)}function $459103e30f4604971e030953f4b52e1b$var$SymetrieAnimee(e,t,r='begin="0s" dur="2s" repeatCount="indefinite"'){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.svg=function(i){let n=e.binomesXY(i),o=$459103e30f4604971e030953f4b52e1b$export$symetrieAxiale(e,t);o.isVisible=!1;let s=o.binomesXY(i);return`<polygon stroke="${e.color}" stroke-width="${e.epaisseur}" fill="none" >\n\t\t<animate attributeName="points" ${r}\n\t\tfrom="${n}"\n\t\tto="${s}"\n\t\t/>\n\t\t</polygon>`}}function $459103e30f4604971e030953f4b52e1b$export$symetrieAnimee(...e){return new $459103e30f4604971e030953f4b52e1b$var$SymetrieAnimee(...e)}function $459103e30f4604971e030953f4b52e1b$var$AffiniteOrthoAnimee(e,t,r,i='begin="0s" dur="2s" repeatCount="indefinite"'){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.svg=function(n){let o=e.binomesXY(n),s=$459103e30f4604971e030953f4b52e1b$export$affiniteOrtho(e,t,r);s.isVisible=!1;let a=s.binomesXY(n);return`<polygon stroke="${e.color}" stroke-width="${e.epaisseur}" fill="none" >\n\t\t<animate attributeName="points" ${i}\n\t\tfrom="${o}"\n\t\tto="${a}"\n\t\t/>\n\t\t</polygon>`}}function $459103e30f4604971e030953f4b52e1b$export$affiniteOrthoAnimee(...e){return new $459103e30f4604971e030953f4b52e1b$var$AffiniteOrthoAnimee(...e)}function $459103e30f4604971e030953f4b52e1b$export$montrerParDiv(e){document.getElementById(e).style.visibility="visible"}function $459103e30f4604971e030953f4b52e1b$export$cacherParDiv(e){document.getElementById(e).style.visibility="hidden"}function $459103e30f4604971e030953f4b52e1b$export$afficherTempo(e,t=1,r=5,i="Infinity"){let n=1,o=setInterval((function(){if(document.getElementById(e.id))if(clearInterval(o),$459103e30f4604971e030953f4b52e1b$export$cacherParDiv(e.id),1==i)setTimeout((function(){$459103e30f4604971e030953f4b52e1b$export$montrerParDiv(e.id)}),1e3*t);else{let o=setInterval((function(){$459103e30f4604971e030953f4b52e1b$export$cacherParDiv(e.id)}),1e3*r);setTimeout((function(){$459103e30f4604971e030953f4b52e1b$export$montrerParDiv(e.id);let t=setInterval((function(){$459103e30f4604971e030953f4b52e1b$export$montrerParDiv(e.id),n++,"number"==typeof i&&n>=i&&(clearInterval(o),clearInterval(t))}),1e3*r)}),1e3*t)}}),100)}function $459103e30f4604971e030953f4b52e1b$export$afficherTempoId(e,t=1,r=5,i="Infinity"){let n=1,o=setInterval((function(){if(document.getElementById(e))if(clearInterval(o),$459103e30f4604971e030953f4b52e1b$export$cacherParDiv(e),1==i)setTimeout((function(){$459103e30f4604971e030953f4b52e1b$export$montrerParDiv(e)}),1e3*t);else{let o=setInterval((function(){$459103e30f4604971e030953f4b52e1b$export$cacherParDiv(e)}),1e3*r);setTimeout((function(){$459103e30f4604971e030953f4b52e1b$export$montrerParDiv(e);let t=setInterval((function(){$459103e30f4604971e030953f4b52e1b$export$montrerParDiv(e),n++,"number"==typeof i&&n>=i&&(clearInterval(o),clearInterval(t))}),1e3*r)}),1e3*t)}}),100)}function $459103e30f4604971e030953f4b52e1b$export$afficherUnParUn(e,t=1,r="Infinity",i=5){let n=t,o=e.length*t+i;for(let i of e)$459103e30f4604971e030953f4b52e1b$export$afficherTempo(i,n,o,r),n+=t}function $459103e30f4604971e030953f4b52e1b$export$medianeTriangle(e,t,r,i="black"){return $459103e30f4604971e030953f4b52e1b$export$droite(e,$459103e30f4604971e030953f4b52e1b$export$milieu(t,r),"",i)}function $459103e30f4604971e030953f4b52e1b$export$centreGraviteTriangle(e,t,r,i=""){let n=$459103e30f4604971e030953f4b52e1b$export$medianeTriangle(t,e,r),o=$459103e30f4604971e030953f4b52e1b$export$medianeTriangle(e,t,r);n.isVisible=!1,o.isVisible=!1;let s=$459103e30f4604971e030953f4b52e1b$export$pointIntersectionDD(n,o);return $459103e30f4604971e030953f4b52e1b$export$point(s.x,s.y,"",i)}function $459103e30f4604971e030953f4b52e1b$export$hauteurTriangle(e,t,r,i="black"){let n=$459103e30f4604971e030953f4b52e1b$export$droite(t,r);return n.isVisible=!1,$459103e30f4604971e030953f4b52e1b$export$droite($459103e30f4604971e030953f4b52e1b$export$projectionOrtho(e,n),e,"",i)}function $459103e30f4604971e030953f4b52e1b$export$CodageHauteurTriangle(e,t,r,i="black"){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.color=i;let n=$459103e30f4604971e030953f4b52e1b$export$droite(t,r),o=$459103e30f4604971e030953f4b52e1b$export$projectionOrtho(e,n),s=$459103e30f4604971e030953f4b52e1b$export$rotation(e,o,-90);t.x<r.x?o.x>r.x||o.x<t.x?(n.isVisible=!0,n.pointilles=!0):n.isVisible=!1:r.x<t.x?o.x<r.x||o.x>t.x?(n.isVisible=!0,n.pointilles=!0):n.isVisible=!1:t.y<r.y?o.y>r.y||o.y<t.y?(n.isVisible=!0,n.pointilles=!0):n.isVisible=!1:r.y<t.y&&(o.y<r.y||o.y>t.y?(n.isVisible=!0,n.pointilles=!0):n.isVisible=!1);let a=$459103e30f4604971e030953f4b52e1b$export$codageAngleDroit(e,o,s,this.color);this.svg=function(e){return n.isVisible?a.svg(e)+"\n\t"+n.svg(e):a.svg(e)},this.tikz=function(){return n.isVisible?a.tikz()+"\n\t"+n.tikz():a.tikz()}}function $459103e30f4604971e030953f4b52e1b$export$codageHauteurTriangle(...e){return new $459103e30f4604971e030953f4b52e1b$export$CodageHauteurTriangle(...e)}function $459103e30f4604971e030953f4b52e1b$var$CodageMedianeTriangle(e,t,r="black",i="//"){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.color=r;let n=$459103e30f4604971e030953f4b52e1b$export$milieu(e,t),o=$459103e30f4604971e030953f4b52e1b$export$codeSegments(i,this.color,e,n,n,t);this.svg=function(e){return o.svg(e)},this.tikz=function(){return o.tikz(coeff)}}function $459103e30f4604971e030953f4b52e1b$export$codageMedianeTriangle(...e){return new $459103e30f4604971e030953f4b52e1b$var$CodageMedianeTriangle(...e)}function $459103e30f4604971e030953f4b52e1b$export$orthoCentre(e,t,r,i="",n="above"){let o=$459103e30f4604971e030953f4b52e1b$export$hauteurTriangle(t,e,r),s=$459103e30f4604971e030953f4b52e1b$export$hauteurTriangle(e,t,r);o.isVisible=!1,s.isVisible=!1;let a=$459103e30f4604971e030953f4b52e1b$export$pointIntersectionDD(o,s);return $459103e30f4604971e030953f4b52e1b$export$point(a.x,a.y,i,n)}function $459103e30f4604971e030953f4b52e1b$export$centreCercleCirconscrit(e,t,r,i="",n="above"){let o=$459103e30f4604971e030953f4b52e1b$export$mediatrice(e,t),s=$459103e30f4604971e030953f4b52e1b$export$mediatrice(t,r);o.isVisible=!1,s.isVisible=!1;let a=$459103e30f4604971e030953f4b52e1b$export$pointIntersectionDD(o,s);return $459103e30f4604971e030953f4b52e1b$export$point(a.x,a.y,i,n)}function $459103e30f4604971e030953f4b52e1b$var$CodageAngleDroit(e,t,r,i="black",n=.4){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.sommet=t,this.depart=e,this.arrivee=r,this.taille=n,this.color=i,this.svg=function(t){let n=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.sommet,this.depart,20*this.taille/t),o=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.sommet,this.arrivee,20*this.taille/t),s={};s=$459103e30f4604971e030953f4b52e1b$export$angleOriente(e,this.sommet,r)>0?$459103e30f4604971e030953f4b52e1b$export$rotation(this.sommet,n,-90):$459103e30f4604971e030953f4b52e1b$export$rotation(this.sommet,n,90);let a=$459103e30f4604971e030953f4b52e1b$export$polyline([n,s,o],i);return a.isVisible=!1,this.id=a.id,a.svg(t)},this.tikz=function(){let t=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.sommet,this.depart,this.taille/mathalea.scale),n=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.sommet,this.arrivee,this.taille/mathalea.scale),o={};return o=$459103e30f4604971e030953f4b52e1b$export$angleOriente(e,this.sommet,r)>0?$459103e30f4604971e030953f4b52e1b$export$rotation(this.sommet,t,-90):$459103e30f4604971e030953f4b52e1b$export$rotation(this.sommet,t,90),$459103e30f4604971e030953f4b52e1b$export$polyline([t,o,n],i).tikz()},this.svgml=function(t,n){let o=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.sommet,this.depart,20*this.taille/t),s=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.sommet,this.arrivee,20*this.taille/t),a={};return a=$459103e30f4604971e030953f4b52e1b$export$angleOriente(e,this.sommet,r)>0?$459103e30f4604971e030953f4b52e1b$export$rotation(this.sommet,o,-90):$459103e30f4604971e030953f4b52e1b$export$rotation(this.sommet,o,90),$459103e30f4604971e030953f4b52e1b$export$polyline([o,a,s],i).svgml(t,n)},this.tikzml=function(t){let n=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.sommet,this.depart,this.taille/mathalea.scale),o=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.sommet,this.arrivee,this.taille/mathalea.scale),s={};return s=$459103e30f4604971e030953f4b52e1b$export$angleOriente(e,this.sommet,r)>0?$459103e30f4604971e030953f4b52e1b$export$rotation(this.sommet,n,-90):$459103e30f4604971e030953f4b52e1b$export$rotation(this.sommet,n,90),$459103e30f4604971e030953f4b52e1b$export$polyline([n,s,o],i).tikzml(t)}}function $459103e30f4604971e030953f4b52e1b$export$codageAngleDroit(e,t,r,i="black",n=.4){return new $459103e30f4604971e030953f4b52e1b$var$CodageAngleDroit(e,t,r,i,n)}function $459103e30f4604971e030953f4b52e1b$var$AfficheLongueurSegment(e,t,r="black",i=.5){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.color=r,this.extremite1=e,this.extremite2=t,this.distance=i,this.svg=function(e){let t,r=$459103e30f4604971e030953f4b52e1b$export$milieu(this.extremite1,this.extremite2),i=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(r,$459103e30f4604971e030953f4b52e1b$export$rotation(this.extremite1,r,-90),20*this.distance/e),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.extremite1,this.extremite2);n.isVisible=!1;let o=$cf7a0e0dfc1e90c0e915b74752829335$export$string_nombre($cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(n.longueur,1));return t=this.extremite2.x>this.extremite1.x?-n.angleAvecHorizontale:180-n.angleAvecHorizontale,$459103e30f4604971e030953f4b52e1b$export$texteParPoint(o+" cm",i,t,this.color).svg(e)},this.tikz=function(){let e,t=$459103e30f4604971e030953f4b52e1b$export$milieu(this.extremite1,this.extremite2),r=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,$459103e30f4604971e030953f4b52e1b$export$rotation(this.extremite1,t,-90),this.distance/mathalea.scale),i=$459103e30f4604971e030953f4b52e1b$export$segment(this.extremite1,this.extremite2);i.isVisible=!1;let n=$cf7a0e0dfc1e90c0e915b74752829335$export$string_nombre($cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(i.longueur,1));return e=this.extremite2.x>this.extremite1.x?-i.angleAvecHorizontale:180-i.angleAvecHorizontale,$459103e30f4604971e030953f4b52e1b$export$texteParPoint(n+" cm",r,e,this.color).tikz()}}function $459103e30f4604971e030953f4b52e1b$export$afficheLongueurSegment(...e){return new $459103e30f4604971e030953f4b52e1b$var$AfficheLongueurSegment(...e)}function $459103e30f4604971e030953f4b52e1b$var$TexteSurSegment(e,t,r,i="black",n=.5){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.color=i,this.extremite1=t,this.extremite2=r,this.distance=n,this.texte=e,this.svg=function(e){let t,r=$459103e30f4604971e030953f4b52e1b$export$milieu(this.extremite1,this.extremite2),i=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(r,$459103e30f4604971e030953f4b52e1b$export$rotation(this.extremite1,r,-90),20*this.distance/e),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.extremite1,this.extremite2);return n.isVisible=!1,t=this.extremite2.x>this.extremite1.x?-n.angleAvecHorizontale:180-n.angleAvecHorizontale,$459103e30f4604971e030953f4b52e1b$export$texteParPoint(this.texte,i,t,this.color).svg(e)},this.tikz=function(){let e,t=$459103e30f4604971e030953f4b52e1b$export$milieu(this.extremite1,this.extremite2),r=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,$459103e30f4604971e030953f4b52e1b$export$rotation(this.extremite1,t,-90),this.distance/mathalea.scale),i=$459103e30f4604971e030953f4b52e1b$export$segment(this.extremite1,this.extremite2);return i.isVisible=!1,e=this.extremite2.x>this.extremite1.x?-i.angleAvecHorizontale:180-i.angleAvecHorizontale,$459103e30f4604971e030953f4b52e1b$export$texteParPoint(this.texte,r,e,this.color).tikz()}}function $459103e30f4604971e030953f4b52e1b$export$texteSurSegment(...e){return new $459103e30f4604971e030953f4b52e1b$var$TexteSurSegment(...e)}function $459103e30f4604971e030953f4b52e1b$var$AfficheMesureAngle(e,t,r,i="black",n=1.5,o=""){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.depart=e,this.arrivee=r,this.sommet=t,this.distance=n,this.svg=function(e){let r,n,s=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.sommet,this.depart,this.distance),a=$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.sommet,s,this.distance+10/e),this.sommet,$459103e30f4604971e030953f4b52e1b$export$angleOriente(this.depart,this.sommet,this.arrivee)/2,"","center");return""!=o?(n=o,r=30):(n=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi_virgule($459103e30f4604971e030953f4b52e1b$export$angle(this.depart,this.sommet,this.arrivee),0)+"°",r=20),"\n"+$459103e30f4604971e030953f4b52e1b$export$latexParPoint(n,a,i,r,10,"").svg(e)+"\n"+$459103e30f4604971e030953f4b52e1b$export$arc(s,t,$459103e30f4604971e030953f4b52e1b$export$angleOriente(this.depart,this.sommet,this.arrivee)).svg(e)},this.tikz=function(){let e,r,n=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.sommet,this.depart,this.distance),s=$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.sommet,n,this.distance+.5),this.sommet,$459103e30f4604971e030953f4b52e1b$export$angleOriente(this.depart,this.sommet,this.arrivee)/2,"","center");return""!=o?(r=o,e=30):(r=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi_virgule($459103e30f4604971e030953f4b52e1b$export$angle(this.depart,this.sommet,this.arrivee),0)+"°",e=20),"\n"+$459103e30f4604971e030953f4b52e1b$export$latexParPoint(r,s,i,e,10,"").tikz()+"\n"+$459103e30f4604971e030953f4b52e1b$export$arc(n,t,$459103e30f4604971e030953f4b52e1b$export$angleOriente(this.depart,this.sommet,this.arrivee)).tikz()}}function $459103e30f4604971e030953f4b52e1b$export$afficheMesureAngle(...e){return new $459103e30f4604971e030953f4b52e1b$var$AfficheMesureAngle(...e)}function $459103e30f4604971e030953f4b52e1b$var$AfficheCoteSegment(e,t="",r=.5,i="black",n=1,o=.5,s="black"){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.positionCoteSVG=20*r/mathalea.pixelsParCm,this.positionCoteTIKZ=r/mathalea.scale,this.positionValeur=o,this.seg=e,this.cote=t,this.svg=function(e){let t,r=this.seg.extremite1,o=this.seg.extremite2,a=$459103e30f4604971e030953f4b52e1b$export$similitude($459103e30f4604971e030953f4b52e1b$export$vecteur(r,o),r,90,this.positionCoteSVG/this.seg.longueur),c=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$translation(r,a),$459103e30f4604971e030953f4b52e1b$export$translation(o,a),i);return $459103e30f4604971e030953f4b52e1b$export$longueur(r,o)>1?c.styleExtremites="<->":c.styleExtremites=">-<",c.epaisseur=n,t=""==this.cote?$459103e30f4604971e030953f4b52e1b$export$afficheLongueurSegment(c.extremite1,c.extremite2,s,this.positionValeur):$459103e30f4604971e030953f4b52e1b$export$texteSurSegment(this.cote,c.extremite1,c.extremite2,s,this.positionValeur),"\n\t"+c.svg(e)+"\n\t"+t.svg(e)},this.tikz=function(){let e,t=this.seg.extremite1,r=this.seg.extremite2,o=$459103e30f4604971e030953f4b52e1b$export$similitude($459103e30f4604971e030953f4b52e1b$export$vecteur(t,r),t,90,this.positionCoteTIKZ/this.seg.longueur),a=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$translation(t,o),$459103e30f4604971e030953f4b52e1b$export$translation(r,o),i);return $459103e30f4604971e030953f4b52e1b$export$longueur(t,r)>1?a.styleExtremites="<->":a.styleExtremites=">-<",a.epaisseur=n,e=""==this.cote?$459103e30f4604971e030953f4b52e1b$export$afficheLongueurSegment(a.extremite1,a.extremite2,s,this.positionValeur):$459103e30f4604971e030953f4b52e1b$export$texteSurSegment(this.cote,a.extremite1,a.extremite2,s,this.positionValeur),"\n\t"+a.tikz()+"\n\t"+e.tikz()}}function $459103e30f4604971e030953f4b52e1b$export$afficheCoteSegment(...e){return new $459103e30f4604971e030953f4b52e1b$var$AfficheCoteSegment(...e)}function $459103e30f4604971e030953f4b52e1b$var$CodeSegment(e,t,r="||",i="black"){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.color=i;let n,o=$459103e30f4604971e030953f4b52e1b$export$milieu(e,t),s=$459103e30f4604971e030953f4b52e1b$export$segment(e,t);return s.isVisible=!1,n=t.x>e.x?-parseInt(s.angleAvecHorizontale):180-parseInt(s.angleAvecHorizontale),$459103e30f4604971e030953f4b52e1b$export$texteParPoint(r,o,n,this.color)}function $459103e30f4604971e030953f4b52e1b$export$codeSegment(...e){return new $459103e30f4604971e030953f4b52e1b$var$CodeSegment(...e)}function $459103e30f4604971e030953f4b52e1b$var$CodeSegments(e="||",t="black",...r){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.svg=function(i){let n="";if(Array.isArray(r[0])){for(let o=0;o<r[0].length-1;o++){let s=$459103e30f4604971e030953f4b52e1b$export$codeSegment(r[0][o],r[0][o+1],e,t);s.isVisible=!1,n+=s.svg(i),n+="\n"}let o=$459103e30f4604971e030953f4b52e1b$export$codeSegment(r[0][r[0].length-1],r[0][0],e,t);o.isVisible=!1,n+=o.svg(i),n+="\n"}else if(r[0].constructor==$459103e30f4604971e030953f4b52e1b$var$Segment)for(let o=0;o<r.length;o++){let s=$459103e30f4604971e030953f4b52e1b$export$codeSegment(r[o].extremite1,r[o].extremite2,e,t);s.isVisible=!1,n+=s.svg(i),n+="\n"}else for(let o=0;o<r.length;o+=2){let s=$459103e30f4604971e030953f4b52e1b$export$codeSegment(r[o],r[o+1],e,t);s.isVisible=!1,n+=s.svg(i),n+="\n"}return n=`<g id="${this.id}">${n}</g>`,n},this.tikz=function(){let i="";if(Array.isArray(r[0])){for(let n=0;n<r[0].length-1;n++)i+=$459103e30f4604971e030953f4b52e1b$export$codeSegment(r[0][n],r[0][n+1],e,t).tikz(),i+="\n";i+=$459103e30f4604971e030953f4b52e1b$export$codeSegment(r[0][r[0].length-1],r[0][0],e,t).tikz(),i+="\n"}else if(r[0].constructor==$459103e30f4604971e030953f4b52e1b$var$Segment)for(let n=0;n<r.length;n++)i+=$459103e30f4604971e030953f4b52e1b$export$codeSegment(r[n].extremite1,r[n].extremite2,e,t).tikz(),i+="\n";else for(let n=0;n<r.length;n+=2)i+=$459103e30f4604971e030953f4b52e1b$export$codeSegment(r[n],r[n+1],e,t).tikz(),i+="\n";return i}}function $459103e30f4604971e030953f4b52e1b$export$codeSegments(e="||",t="black",...r){return new $459103e30f4604971e030953f4b52e1b$var$CodeSegments(e,t,...r)}function $459103e30f4604971e030953f4b52e1b$var$CodeAngle(e,t,r,i=.8,n="",o="black",s=1,a=1,c="none",l=.2,p=!1){let u;$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.color=o,this.debut=e,this.centre=t,this.taille=i,this.mark=n,this.epaisseur=s,this.opacite=a,"none"!=c?(this.couleurDeRemplissage=c,this.opaciteDeRemplissage=l):this.couleurDeRemplissage="none",u="none"!=c,this.angle=r,this.svg=function(e){let t,s,a,c,l,f,d="",h=[];if(s=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.centre,this.debut,20*this.taille/mathalea.pixelsParCm),t=$459103e30f4604971e030953f4b52e1b$export$rotation(s,this.centre,this.angle/2),f=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.centre,t,i+12/e),a=$459103e30f4604971e030953f4b52e1b$export$droite(this.centre,t),a.isVisible=!1,l=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi_virgule(Math.abs(r),0)+"°",c=$459103e30f4604971e030953f4b52e1b$export$arc(s,this.centre,this.angle,u,this.couleurDeRemplissage,this.color),c.isVisible=!1,h.push(c),c.opacite=this.opacite,c.epaisseur=this.epaisseur,c.couleurDeRemplissage=this.couleurDeRemplissage,c.opaciteDeRemplissage=this.opaciteDeRemplissage,""!=this.mark){let e=$459103e30f4604971e030953f4b52e1b$export$texteParPoint(n,t,90-a.angleAvecHorizontale,o);e.isVisible=!1,h.push(e)}if(p){let e=$459103e30f4604971e030953f4b52e1b$export$texteParPoint(l,f,"milieu",o);e.isVisible=!1,h.push(e)}for(let t of h)d+="\n\t"+t.svg(e);return h.length>1?d=`<g id="${this.id}">${d}</g>`:this.id=c.id,d},this.tikz=function(){let e,t,s,a,c,l,f="";return t=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.centre,this.debut,this.taille/mathalea.scale),e=$459103e30f4604971e030953f4b52e1b$export$rotation(t,this.centre,this.angle/2),l=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.centre,e,i+.6/mathalea.scale),c=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi_virgule(Math.abs(r),0)+"°",s=$459103e30f4604971e030953f4b52e1b$export$droite(this.centre,e),s.isVisible=!1,a=$459103e30f4604971e030953f4b52e1b$export$arc(t,this.centre,this.angle,u,this.couleurDeRemplissage,this.color),a.opacite=this.opacite,a.epaisseur=this.epaisseur,a.couleurDeRemplissage=this.couleurDeRemplissage,a.opaciteDeRemplissage=this.opaciteDeRemplissage,""!=this.mark&&(f+=$459103e30f4604971e030953f4b52e1b$export$texteParPoint(n,e,90-s.angleAvecHorizontale,o).tikz()+"\n"),p&&(f+=$459103e30f4604971e030953f4b52e1b$export$texteParPoint(c,l,"milieu",o).tikz()+"\n"),f+=a.tikz(),f},this.svgml=function(e,t){let s,a,c,l,u,f,d="";return a=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.centre,this.debut,20*this.taille/mathalea.pixelsParCm),s=$459103e30f4604971e030953f4b52e1b$export$rotation(a,this.centre,this.angle/2),f=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.centre,s,i+12/e),u=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi_virgule(Math.abs(r),0)+"°",c=$459103e30f4604971e030953f4b52e1b$export$droite(this.centre,s),c.isVisible=!1,l=$459103e30f4604971e030953f4b52e1b$export$arc(a,this.centre,this.angle,!1,this.couleurDeRemplissage,this.color),l.opacite=this.opacite,l.epaisseur=this.epaisseur,l.couleurDeRemplissage=this.couleurDeRemplissage,l.opaciteDeRemplissage=this.opaciteDeRemplissage,""!=this.mark&&(d+=$459103e30f4604971e030953f4b52e1b$export$texteParPoint(n,s,90-c.angleAvecHorizontale,o).svg(e)+"\n"),p&&(d+=$459103e30f4604971e030953f4b52e1b$export$texteParPoint(u,f,"milieu",o).svg(e)+"\n"),d+=l.svgml(e,t),d},this.tikzml=function(e){let t,s,a,c,l,f,d="";return s=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.centre,this.debut,this.taille/mathalea.scale),t=$459103e30f4604971e030953f4b52e1b$export$rotation(s,this.centre,this.angle/2),f=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(this.centre,t,i+.6/mathalea.scale),l=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi_virgule(Math.abs(r),0)+"°",a=$459103e30f4604971e030953f4b52e1b$export$droite(this.centre,t),a.isVisible=!1,c=$459103e30f4604971e030953f4b52e1b$export$arc(s,this.centre,this.angle,u,this.couleurDeRemplissage,this.color),c.opacite=this.opacite,c.epaisseur=this.epaisseur,c.couleurDeRemplissage=this.couleurDeRemplissage,c.opaciteDeRemplissage=this.opaciteDeRemplissage,""!=this.mark&&(d+=$459103e30f4604971e030953f4b52e1b$export$texteParPoint(n,t,90-a.angleAvecHorizontale,o).tikz()+"\n"),p&&(d+=$459103e30f4604971e030953f4b52e1b$export$texteParPoint(l,f,"milieu",o).tikz()+"\n"),d+=c.tikzml(e),d}}function $459103e30f4604971e030953f4b52e1b$export$codeAngle(e,t,r,i=.8,n="",o="black",s=1,a=1,c="none",l=.2,p=!1){return"number"!=typeof r&&(r=$459103e30f4604971e030953f4b52e1b$export$angleOriente(e,t,r)),90==r||-90==r?new $459103e30f4604971e030953f4b52e1b$var$CodageAngleDroit(e,t,$459103e30f4604971e030953f4b52e1b$export$rotation(e,t,r),o,i):new $459103e30f4604971e030953f4b52e1b$var$CodeAngle(e,t,r,i,n,o,s,a,c,l,p)}function $459103e30f4604971e030953f4b52e1b$var$NomAngleParPosition(e,t,r,i,n){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this);let o,s,a=[];a.push($459103e30f4604971e030953f4b52e1b$export$texteParPosition(e,t,r,"milieu",i,1,"middle",!0)),o=$459103e30f4604971e030953f4b52e1b$export$segment(t-.6,r+.4-n/10,t+.1,r+.4+n/10),s=$459103e30f4604971e030953f4b52e1b$export$segment(t+.1,r+.4+n/10,t+.8,r+.4-n/10),o.color=i,s.color=i,a.push(o,s),this.svg=function(e){let t="";for(let r of a)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of a)e+="\n\t"+t.tikz();return e}}function $459103e30f4604971e030953f4b52e1b$export$nomAngleSaillantParPosition(e,t,r,i){return new $459103e30f4604971e030953f4b52e1b$var$NomAngleParPosition(e,t,r,i,1)}function $459103e30f4604971e030953f4b52e1b$export$nomAngleRentrantParPosition(e,t,r,i){return new $459103e30f4604971e030953f4b52e1b$var$NomAngleParPosition(e,t,r,i,-1)}function $459103e30f4604971e030953f4b52e1b$var$DroiteGraduee(e=0,t=0,r="H",i="dd",n=10,o=10,s=15,a=0,c=1,l="O",p="I",u=!0,...f){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this);let d,h,b,$,m,g,x=[1,0],v=c-a;"H"!=r&&(x=[0,1]);let y=[];for(let r=0;r<f.length;r++)y.push($459103e30f4604971e030953f4b52e1b$export$texteParPosition(f[r][0],e+(-a+f[r][1])*x[0]*n/v+.8*x[1],t+(-a+f[r][1])*x[1]*n/v+.8*x[0])),y.push($459103e30f4604971e030953f4b52e1b$export$texteParPosition("X",e+(-a+f[r][1])*x[0]*n/v,t+(-a+f[r][1])*x[1]*n/v,"milieu","blue"));g=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(e+s*x[0],t+s*x[1]),$459103e30f4604971e030953f4b52e1b$export$point(e+(s-.3)*x[0]+.3*x[1],t+(s-.3)*x[1]+.3*x[0])),g.epaisseur=2,y.push(g),g=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(e+s*x[0],t+s*x[1]),$459103e30f4604971e030953f4b52e1b$export$point(e+(s-.3)*x[0]-.3*x[1],t+(s-.3)*x[1]-.3*x[0])),g.epaisseur=2,y.push(g);let _=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(n/o,2);d=$459103e30f4604971e030953f4b52e1b$export$segment("dd"==i?$459103e30f4604971e030953f4b52e1b$export$point(e,t):$459103e30f4604971e030953f4b52e1b$export$point(e-.5*x[0],t-.5*x[1]),$459103e30f4604971e030953f4b52e1b$export$point(e+s*x[0],t+s*x[1])),h=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(l,e-.8*x[1],t-.8*x[0]),b=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(p,e-.8*x[1]+n*x[0],t-.8*x[0]+n*x[1]),$=0;for(let r=0;r<s;r+=_)$%o==0?(m=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(e+r*x[0]-.3*x[1],t-.3*x[0]+r*x[1]),$459103e30f4604971e030953f4b52e1b$export$point(e+r*x[0]+.3*x[1],t+.3*x[0]+r*x[1])),m.epaisseur=2,y.push(m),u&&0!=$&&$!=o&&y.push($459103e30f4604971e030953f4b52e1b$export$texteParPosition($cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace($cf7a0e0dfc1e90c0e915b74752829335$export$arrondi($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(a+r/n*v),3)),e+r*x[0]-.8*x[1],t+r*x[1]-.8*x[0]))):(m=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(e+r*x[0]-.2*x[1],t-.2*x[0]+r*x[1]),$459103e30f4604971e030953f4b52e1b$export$point(e+r*x[0]+.2*x[1],t+.2*x[0]+r*x[1])),y.push(m)),$++;y.push(d,h,b,undefined),this.svg=function(e){let t="";for(let r of y)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of y)e+="\n\t"+t.tikz();return e},this.svgml=function(e,t){let r="";for(let i of y)mathalea.mainlevee&&void 0!==i.svgml?r+="\t"+i.svgml(e,t)+"\n":r+="\t"+i.svg(e)+"\n";return r},this.tikzml=function(e){let t="";for(let r of y)mathalea.mainlevee&&void 0!==r.tikzml?t+="\t"+r.tikzml(e)+"\n":t+="\t"+r.tikz()+"\n";return t}}function $459103e30f4604971e030953f4b52e1b$export$droiteGraduee(...e){return new $459103e30f4604971e030953f4b52e1b$var$DroiteGraduee(...e)}function $459103e30f4604971e030953f4b52e1b$var$DroiteGraduee2({Unite:e=10,Min:t=0,Max:r=2,x:i=0,y:n=0,axeEpaisseur:o=2,axeCouleur:s="black",axeStyle:a="->",axeHauteur:c=4,axePosition:l="H",thickEpaisseur:p=2,thickCouleur:u=s,thickDistance:f=1,thickOffset:d=.1,thickSecDist:h=.1,thickSec:b=!1,thickTerDist:$=.01,thickTer:m=!1,pointListe:g=!1,pointCouleur:x="blue",pointTaille:v=4,pointStyle:y="+",pointOpacite:_=.8,pointEpaisseur:E=2,labelsPrincipaux:k=!0,labelsSecondaires:S=!1,step1:w=1,step2:A=1,labelDistance:T=(c+10)/mathalea.pixelsParCm,labelListe:M=!1,Legende:C="",LegendePosition:P=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((r-t)*e+1.5)}={}){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.Unite=e,this.Min=t,this.Max=r;let I,N,O,L,q,D=[],R=(r-t)*e+1.1,B=[1,0];"H"!=l&&(B=[0,1]),"->"==a?(R+=.2,I=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(i-.2*B[0],n-.2*B[1]),$459103e30f4604971e030953f4b52e1b$export$point(i+R*B[0],n+R*B[1]),s),I.styleExtremites="->",I.tailleExtremites=c,I.epaiseur=o):(I=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(i,n),$459103e30f4604971e030953f4b52e1b$export$point(i+R*B[0],n+R*B[1]),s),I.styleExtremites="|->",I.epaiseur=o,I.tailleExtremites=c),D.push(I);let U=10/mathalea.pixelsParCm;q=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(m?1/$:b?1/h:1/f);let G,F=Math.round((t+d)*q),z=Math.round((r-d)*q),V=Math.round(f*q),j=Math.round(h*q);for(let r=F;r<=z;r++)L=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((r-t*q)/q),r%V==0?(I=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(i+L*e*B[0]-c/8*U*B[1],n-c/8*U*B[0]+L*e*B[1]),$459103e30f4604971e030953f4b52e1b$export$point(i+L*e*B[0]+c/8*U*B[1],n+c/8*U*B[0]+L*e*B[1]),u),I.epaisseur=p,D.push(I)):r%j==0&&b?(I=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(i+L*e*B[0]-c/12*U*B[1],n-c/12*U*B[0]+L*e*B[1]),$459103e30f4604971e030953f4b52e1b$export$point(i+L*e*B[0]+c/12*U*B[1],n+c/12*U*B[0]+L*e*B[1]),u),I.epaisseur=p/2,I.opacite=.8,D.push(I)):m&&(I=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(i+L*e*B[0]-c/16*U*B[1],n-c/16*U*B[0]+L*e*B[1]),$459103e30f4604971e030953f4b52e1b$export$point(i+L*e*B[0]+c/16*U*B[1],n+c/16*U*B[0]+L*e*B[1]),u),I.epaisseur=p/4,I.opacite=.6,D.push(I));if(k)for(let r=F;r<=z;r++)r%(w*V)==0&&(L=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((r-t*q)/q),N=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(`${$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace($cf7a0e0dfc1e90c0e915b74752829335$export$arrondi($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t+L),3))}`,i+L*e*B[0]-T*B[1],n+L*e*B[1]-T*B[0]),D.push(N));if(S)for(let r=F;r<=z;r++)r%(A*j)==0&&r%V!=0&&(L=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((r-t*q)/q),N=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(`${$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace($cf7a0e0dfc1e90c0e915b74752829335$export$arrondi($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t+L),3))}`,i+L*e*B[0]-T*B[1],n+L*e*B[1]-T*B[0]),D.push(N));if(M)for(let r of M)G=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(r[1],i-T*B[1]+(r[0]-t)*B[0]*e,n-T*B[0]+(r[0]-t)*B[1]*e),D.push(G);if(""!=C&&D.push($459103e30f4604971e030953f4b52e1b$export$texteParPosition(C,i+P*B[0],n+P*B[1])),g)for(let r of g)O=$459103e30f4604971e030953f4b52e1b$export$point(i+(r[0]-t)*B[0]*e,n+(r[0]-t)*B[1]*e,r[1],"above"),N=$459103e30f4604971e030953f4b52e1b$export$tracePoint(O,x),N.taille=v,N.opacite=_,N.style=y,N.epaisseur=E,D.push(N,$459103e30f4604971e030953f4b52e1b$export$labelPoint(O));this.svg=function(e){let t="";for(let r of D)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of D)e+="\n\t"+t.tikz();return e},this.svgml=function(e,t){let r="";for(let i of D)void 0===i.svgml?r+="\t"+i.svg(e)+"\n":r+="\t"+i.svgml(e,t)+"\n";return r},this.tikzml=function(e){let t="";for(let r of D)void 0===r.tikzml?t+="\t"+r.tikz()+"\n":t+="\t"+r.tikzml(e)+"\n";return t}}function $459103e30f4604971e030953f4b52e1b$export$droiteGraduee2(...e){return new $459103e30f4604971e030953f4b52e1b$var$DroiteGraduee2(...e)}function $459103e30f4604971e030953f4b52e1b$var$Axes(e=-30,t=-30,r=30,i=30,n=.2,o=1,s=1,a=2,c="black"){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this);let l,p,u=[];l=t>0?t:0,p=e>0?e:0;let f=$459103e30f4604971e030953f4b52e1b$export$segment(e,l,r,l);f.styleExtremites="->",f.epaisseur=a,f.color=c;let d=$459103e30f4604971e030953f4b52e1b$export$segment(p,t,p,i);d.styleExtremites="->",d.epaisseur=a,u.push(f,d),d.color=c;for(let t=e;t<r;t=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t+o)){let e=$459103e30f4604971e030953f4b52e1b$export$segment(t,l-n,t,l+n);e.epaisseur=a,e.color=c,u.push(e)}for(let e=t;e<i;e=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e+s)){let t=$459103e30f4604971e030953f4b52e1b$export$segment(p-n,e,p+n,e);t.epaisseur=a,t.color=c,u.push(t)}this.svg=function(e){let t="";for(let r of u)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of u)e+="\n\t"+t.tikz();return e},this.commentaire=`Axes(xmin = ${e}, ymin = ${t}, xmax = ${r}, ymax = ${i}, thick = ${n})`}function $459103e30f4604971e030953f4b52e1b$export$axes(...e){return new $459103e30f4604971e030953f4b52e1b$var$Axes(...e)}function $459103e30f4604971e030953f4b52e1b$var$LabelX(e=1,t=20,r=1,i="black",n=-.6,o=1){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this);let s=[];for(let a=Math.ceil(e/o);$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(a*o)<=t;a=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(a+r))s.push($459103e30f4604971e030953f4b52e1b$export$texteParPoint(Intl.NumberFormat("fr-FR",{maximumFractionDigits:20}).format($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(a*o)).toString(),$459103e30f4604971e030953f4b52e1b$export$point(a,n),"milieu",i));this.svg=function(e){let t="";for(let r of s)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of s)e+="\n\t"+t.tikz();return e},this.commentaire=`labelX(xmin=${e},xmax=${t},step=${r},color=${i},pos=${n},coeff=${o})`}function $459103e30f4604971e030953f4b52e1b$export$labelX(...e){return new $459103e30f4604971e030953f4b52e1b$var$LabelX(...e)}function $459103e30f4604971e030953f4b52e1b$var$LabelY(e=1,t=20,r=1,i="black",n=-.6,o=1){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this);let s=[];for(let a=Math.ceil(e/o);$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(a*o)<=t;a=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(a+r))s.push($459103e30f4604971e030953f4b52e1b$export$texteParPoint(Intl.NumberFormat("fr-FR",{maximumFractionDigits:20}).format($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(a*o)).toString(),$459103e30f4604971e030953f4b52e1b$export$point(n,a),"milieu",i));this.svg=function(e){let t="";for(let r of s)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of s)e+="\n\t"+t.tikz();return e},this.commentaire=`labelX(ymin=${e},ymax=${t},step=${r},color=${i},pos=${n})`}function $459103e30f4604971e030953f4b52e1b$export$labelY(...e){return new $459103e30f4604971e030953f4b52e1b$var$LabelY(...e)}function $459103e30f4604971e030953f4b52e1b$var$Grille(e=-30,t=-30,r=30,i=30,n="gray",o=.4,s=1,a=!1){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.color=n,this.opacite=o;let c=[];for(let n=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e,2);n<=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(r,2);n=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(n+s),2)){let e=$459103e30f4604971e030953f4b52e1b$export$segment(n,t,n,i);e.color=this.color,e.opacite=this.opacite,a&&(e.pointilles=!0),c.push(e)}for(let n=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(t,2);n<=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(i+.005,2);n=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(n+s),2)){let t=$459103e30f4604971e030953f4b52e1b$export$segment(e,n,r,n);t.color=this.color,t.opacite=this.opacite,a&&(t.pointilles=!0),c.push(t)}this.commentaire=`Grille(xmin = ${e}, ymin = ${t}, xmax = ${r}, ymax = ${i}, color = ${n}, opacite = ${o}, pas = ${s})`,this.svg=function(e){let t="";for(let r of c)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of c)e+="\n\t"+t.tikz();return e}}function $459103e30f4604971e030953f4b52e1b$export$grille(...e){return new $459103e30f4604971e030953f4b52e1b$var$Grille(...e)}function $459103e30f4604971e030953f4b52e1b$var$GrilleHorizontale(e=-30,t=-30,r=30,i=30,n="gray",o=.4,s=1,a=!1){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.color=n,this.opacite=o;let c=[];for(let n=t;n<=i;n+=s){let t=$459103e30f4604971e030953f4b52e1b$export$segment(e,n,r,n);t.color=this.color,t.opacite=this.opacite,a&&(t.pointilles=!0),c.push(t)}this.svg=function(e){let t="";for(let r of c)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of c)e+="\n\t"+t.tikz();return e}}function $459103e30f4604971e030953f4b52e1b$export$grilleHorizontale(...e){return new $459103e30f4604971e030953f4b52e1b$var$GrilleHorizontale(...e)}function $459103e30f4604971e030953f4b52e1b$var$GrilleVerticale(e=-30,t=-30,r=30,i=30,n="gray",o=.4,s=1,a=!1){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.color=n,this.opacite=o;let c=[];for(let n=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(e,2);n<=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(r,2);n=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(n+s),2)){let e=$459103e30f4604971e030953f4b52e1b$export$segment(n,t,n,i);e.color=this.color,e.opacite=this.opacite,a&&(e.pointilles=!0),c.push(e)}this.svg=function(e){let t="";for(let r of c)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of c)e+="\n\t"+t.tikz();return e}}function $459103e30f4604971e030953f4b52e1b$export$grilleVerticale(...e){return new $459103e30f4604971e030953f4b52e1b$var$GrilleVerticale(...e)}function $459103e30f4604971e030953f4b52e1b$var$Seyes(e=0,t=0,r=15,i=15,n=.5,o=.2){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this);let s=[];for(let n=t;n<=i;n=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(n+.25))if(n%1!=0){let t=$459103e30f4604971e030953f4b52e1b$export$segment(e,n,r,n);t.color="red",t.opacite=o,s.push(t)}s.push($459103e30f4604971e030953f4b52e1b$export$grille(e,t,r,i,"blue",n,1)),this.svg=function(e){let t="";for(let r of s)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of s)e+="\n\t"+t.tikz();return e}}function $459103e30f4604971e030953f4b52e1b$export$seyes(...e){return new $459103e30f4604971e030953f4b52e1b$var$Seyes(...e)}function $459103e30f4604971e030953f4b52e1b$var$Repere({xmin:e=-10,xmax:t=10,ymin:r=-10,ymax:i=10,xscale:n=1,yscale:o=1,xstep:s=1,ystep:a=1,graduationColor:c="black",afficheZero:l=!1,afficheNumeros:p=!0,afficheLabelX:u=!0,afficheLabelY:f=!0,axesEpaisseur:d=2,axesColor:h="black",grilleHorizontaleVisible:b=!1,grillePrincipaleDistance:$=1,grillePrincipaleColor:m="gray",grillePrincipaleOpacite:g=1.1,grillePrincipalePointilles:x=!1,grillePrincipaleVisible:v=!0,grilleSecondaireDistance:y=.1,grilleSecondaireColor:_="gray",grilleSecondaireOpacite:E=.3,grilleSecondairePointilles:k=!1,grilleSecondaireVisible:S=!1,graduationsxMin:w=e,graduationsxMax:A=t,graduationsyMin:T=r,graduationsyMax:M=i,positionLabelX:C=-.6,positionLabelY:P=-.6,legendeX:I="x",legendeY:N="y",positionLegendeX:O,positionLegendeY:L}={}){let q,D;$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),q=r>0?r:0,D=e>0?e:0,1!=o&&(r=$cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleInferieur(o,r),i=$cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleSuperieur(o,i)),1!=n&&(e=$cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleInferieur(n,e),t=$cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleSuperieur(n,t)),this.svg=function(R){let B="";return v&&(B+=b?$459103e30f4604971e030953f4b52e1b$export$grilleHorizontale($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r/o),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(i/o),m,g,$,x).svg(R):$459103e30f4604971e030953f4b52e1b$export$grille($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r/o),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(i/o),m,g,$,x).svg(R)),S&&(B+=$459103e30f4604971e030953f4b52e1b$export$grille($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r/o),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(i/o),_,E,y,k).svg(R)),B+=$459103e30f4604971e030953f4b52e1b$export$axes($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r/o),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(i/o),4/R,s,a,d,h).svg(R),p&&(l?(u&&(B+=$459103e30f4604971e030953f4b52e1b$export$labelX($cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleSuperieur(s,w),A,s,c,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(q/o)+20*C/R,n).svg(R)),f&&(B+=$459103e30f4604971e030953f4b52e1b$export$labelY($cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleSuperieur(a,T),M,a,c,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(D/n)+20*P/R,o).svg(R))):(u&&(B+=$459103e30f4604971e030953f4b52e1b$export$labelX($cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleSuperieur(s,w),-1,s,c,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(q/o)+20*C/R,n).svg(R)),f&&(B+=$459103e30f4604971e030953f4b52e1b$export$labelY($cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleSuperieur(a,T),-1,a,c,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(D/n)+20*P/R,o).svg(R)),u&&(B+=$459103e30f4604971e030953f4b52e1b$export$labelX(Math.max(s,$cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleSuperieur(s,w)),A,s,c,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(q/o)+20*C/R,n).svg(R)),f&&(B+=$459103e30f4604971e030953f4b52e1b$export$labelY(Math.max(a,$cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleSuperieur(a,T)),M,a,c,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(D/n)+20*P/R,o).svg(R)))),void 0===O&&(O=[t+4/R,q+6/R]),void 0===L&&(L=[D+6/R,i+8/R]),B+=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(I,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(O[0]/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(O[1]/o),"droite").svg(R),B+=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(N,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(L[0]/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(L[1]/o),"droite").svg(R),B},this.tikz=function(){let p="";return v&&(p+=b?$459103e30f4604971e030953f4b52e1b$export$grilleHorizontale($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r/o),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(i/o),m,g,$,x).tikz():$459103e30f4604971e030953f4b52e1b$export$grille($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r/o),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(i/o),m,g,$,x).tikz()),S&&(p+=$459103e30f4604971e030953f4b52e1b$export$grille($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r/o),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(i/o),_,E,y,k).tikz()),p+=$459103e30f4604971e030953f4b52e1b$export$axes($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r/o),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(i/o),.2/mathalea.scale,s,a,d,h).tikz(),l?(u&&(p+=$459103e30f4604971e030953f4b52e1b$export$labelX($cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleSuperieur(s,w),A,s,c,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(q/o)+C/mathalea.scale,n).tikz()),f&&(p+=$459103e30f4604971e030953f4b52e1b$export$labelY($cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleSuperieur(a,T),M,a,c,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(D/n)+P/mathalea.scale,o).tikz())):(u&&(p+=$459103e30f4604971e030953f4b52e1b$export$labelX($cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleSuperieur(s,w),-1,s,c,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(q/o)+C/mathalea.scale,n).tikz()),f&&(p+=$459103e30f4604971e030953f4b52e1b$export$labelY($cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleSuperieur(a,T),-1,a,c,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(D/n)+P/mathalea.scale,o).tikz()),u&&(p+=$459103e30f4604971e030953f4b52e1b$export$labelX(Math.max(s,$cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleSuperieur(s,w)),A,s,c,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(q/o)+C/mathalea.scale,n).tikz()),f&&(p+=$459103e30f4604971e030953f4b52e1b$export$labelY(Math.max(a,$cf7a0e0dfc1e90c0e915b74752829335$export$premierMultipleSuperieur(a,T)),M,a,c,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(D/n)+P/mathalea.scale,o).tikz())),void 0===O&&(O=[t+.2/mathalea.scale,q+.3/mathalea.scale]),void 0===L&&(L=[D+.3/mathalea.scale,i+.2/mathalea.scale]),p+=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(I,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(O[0]/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(O[1]/o),"droite").tikz(),p+=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(N,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(L[0]/n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(L[1]/o),"droite").tikz(),p},this.xscale=n,this.yscale=o}function $459103e30f4604971e030953f4b52e1b$export$repere(...e){return new $459103e30f4604971e030953f4b52e1b$var$Repere(...e)}function $459103e30f4604971e030953f4b52e1b$var$Repere2({xUnite:e=1,yUnite:t=1,xMin:r=-10,xMax:i=10,yMin:n=-10,yMax:o=10,axesEpaisseur:s=2,axesCouleur:a="black",axeXStyle:c="->",axeYStyle:l="->",thickEpaisseur:p=2,thickHauteur:u=.2,thickCouleur:f=a,xThickDistance:d=1,xThickListe:h=!1,xThickMin:b=r+d,xThickMax:$=i-d,yThickDistance:m=1,yThickListe:g=!1,yThickMin:x=n+m,yThickMax:v=o-m,xLabelDistance:y=d,xLabelListe:_=!1,xLabelMin:E=b,xLabelMax:k=$,yLabelDistance:S=m,yLabelListe:w=!1,yLabelMin:A=x,yLabelMax:T=v,xLegende:M="",xLegendePosition:C=[$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(i*e)+.5,.5],yLegende:P="",yLegendePosition:I=[.5,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(o*t)+.5],grille:N=!0,grilleDistance:O=!1,grilleCouleur:L="black",grilleOpacite:q=.5,grilleEpaisseur:D=1,grilleSecondaire:R=!1,grilleSecondaireDistance:B=!1,grilleSecondaireCouleur:U="gray",grilleSecondaireOpacite:G=.3,grilleSecondaireEpaisseur:F=1,grilleX:z=N,grilleXListe:V=!1,grilleXDistance:j=O,grilleXMin:H=!1,grilleXMax:X=!1,grilleXCouleur:W=L,grilleXOpacite:Y=q,grilleY:Z=N,grilleYListe:Q=!1,grilleYDistance:K=O,grilleYMin:J=!1,grilleYMax:ee=!1,grilleYCouleur:te=L,grilleYOpacite:re=q,grilleSecondaireX:ie=R,grilleSecondaireXListe:ne=!1,grilleSecondaireXDistance:oe=B,grilleSecondaireXMin:se=!1,grilleSecondaireXMax:ae=!1,grilleSecondaireXCouleur:ce=U,grilleSecondaireXOpacite:le=G,grilleSecondaireY:pe=R,grilleSecondaireYListe:ue=!1,grilleSecondaireYDistance:fe=B,grilleSecondaireYMin:de=!1,grilleSecondaireYMax:he=!1,grilleSecondaireYCouleur:be=U,grilleSecondaireYOpacite:$e=G}={}){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.xUnite=e,this.yUnite=t,this.xMin=r,this.xMax=i,this.yMin=n,this.yMax=o;let me=[],ge=Math.max(0,n),xe=$459103e30f4604971e030953f4b52e1b$export$segment($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(ge*t),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(i*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(ge*t));xe.epaisseur=s,xe.styleExtremites=c,xe.color=a;let ve,ye=Math.max(0,r),_e=$459103e30f4604971e030953f4b52e1b$export$segment($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(ye*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(n*t),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(ye*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(o*t));_e.epaisseur=s,_e.styleExtremites=l,_e.color=a,me.push(xe,_e),xe.isVisible=!1,_e.isVisible=!1,h||(h=$cf7a0e0dfc1e90c0e915b74752829335$export$rangeMinMax(b,$,[0],d));for(let r of h){let i=$459103e30f4604971e030953f4b52e1b$export$segment($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(ge*t-u),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(ge*t+u));i.isVisible=!1,i.epaisseur=p,i.color=f,me.push(i)}g||(g=$cf7a0e0dfc1e90c0e915b74752829335$export$rangeMinMax(x,v,[0],m));for(let r of g){let i=$459103e30f4604971e030953f4b52e1b$export$segment($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(ye*e-u),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r*t),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(ye*e+u),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r*t));i.isVisible=!1,i.epaisseur=p,i.color=f,me.push(i)}_||(_=$cf7a0e0dfc1e90c0e915b74752829335$export$rangeMinMax(E,k,[0],y));for(let r of _){let i=$459103e30f4604971e030953f4b52e1b$export$texteParPosition($cf7a0e0dfc1e90c0e915b74752829335$export$tex_nombre(r),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(ge*t)-.5,"milieu","black",1,"middle",!0);i.isVisible=!1,me.push(i)}w||(w=$cf7a0e0dfc1e90c0e915b74752829335$export$rangeMinMax(A,T,[0],S));for(let r of w){ve=r<0?.18*(Math.ceil(Math.log10(1-r))+1):.18*Math.ceil(Math.log10(r+1));let i=$459103e30f4604971e030953f4b52e1b$export$texteParPosition($cf7a0e0dfc1e90c0e915b74752829335$export$tex_nombre(r),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(ye*e)-.5,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r*t),"milieu","black",1,"middle",!0);i.isVisible=!1,me.push(i)}if(M.length>0&&me.push($459103e30f4604971e030953f4b52e1b$export$texteParPosition(M,C[0],C[1],"droite")),P.length>0&&me.push($459103e30f4604971e030953f4b52e1b$export$texteParPosition(P,I[0],I[1],"droite")),Z){Q||("number"!=typeof J&&(J=x),"number"!=typeof ee&&(ee=v),K||(K=m),Q=$cf7a0e0dfc1e90c0e915b74752829335$export$rangeMinMax(J,ee,[0],K));for(let n of Q){let o=$459103e30f4604971e030953f4b52e1b$export$segment($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(n*t),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(i*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(n*t));o.isVisible=!1,o.color=te,o.opacite=re,o.epaisseur=D,"pointilles"==Z&&(o.pointilles=!0),me.push(o)}}if(z){V||("number"!=typeof H&&(H=b),"number"!=typeof X&&(X=$),"number"!=typeof j&&(j=d),V=$cf7a0e0dfc1e90c0e915b74752829335$export$rangeMinMax(H,X,[0],j));for(let r of V){let i=$459103e30f4604971e030953f4b52e1b$export$segment($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(n*t),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(o*t));i.isVisible=!1,i.color=W,i.opacite=Y,i.epaisseur=D,"pointilles"==z&&(i.pointilles=!0),me.push(i)}}if(pe){ue||("number"!=typeof de&&(de=x),"number"!=typeof he&&(he=v),"number"!=typeof fe&&(fe=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(m/2)),ue=$cf7a0e0dfc1e90c0e915b74752829335$export$rangeMinMax(de,he,[0],fe));for(let n of ue){let o=$459103e30f4604971e030953f4b52e1b$export$segment($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(n*t),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(i*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(n*t));o.isVisible=!1,o.color=be,o.opacite=$e,o.epaisseur=F,"pointilles"==pe&&(o.pointilles=!0),me.push(o)}}if(ie){ne||("number"!=typeof se&&(se=b/2),"number"!=typeof ae&&(ae=$),"number"!=typeof oe&&(oe=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(d/2)),ne=$cf7a0e0dfc1e90c0e915b74752829335$export$rangeMinMax(se,ae,[0],oe));for(let r of ne){let i=$459103e30f4604971e030953f4b52e1b$export$segment($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(n*t),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(o*t));i.isVisible=!1,i.color=ce,i.opacite=le,i.epaisseur=F,"pointilles"==ie&&(i.pointilles=!0),me.push(i)}}this.svg=function(e){let t="";for(let r of me)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of me)e+="\n\t"+t.tikz();return e},this.svgml=function(e,t){let r="";for(let i of me)void 0===i.svgml?r+="\n\t"+i.svg(e):r+="\n\t"+i.svgml(e,t);return r},this.tikzml=function(e){let t="";for(let r of me)void 0===r.tikzml?t+="\n\t"+r.tikz():t+="\n\t"+r.tikzml(e);return t}}function $459103e30f4604971e030953f4b52e1b$export$repere2(...e){return new $459103e30f4604971e030953f4b52e1b$var$Repere2(...e)}function $459103e30f4604971e030953f4b52e1b$export$pointDansRepere(e,t,r={xUnite:1,yUnite:1}){return $459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e*r.xUnite),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t*r.yUnite))}function $459103e30f4604971e030953f4b52e1b$var$TraceGraphiqueCartesien(e,t,{couleurDesPoints:r="red",couleurDuTrait:i="blue",styleDuTrait:n="",epaisseurDuTrait:o=2,styleDesPoints:s="x",tailleDesPoints:a=3}={}){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this);let c=[],l=[];for(let[i,n]of e){let e=$459103e30f4604971e030953f4b52e1b$export$pointDansRepere(i,n,t);l.push(e);let o=$459103e30f4604971e030953f4b52e1b$export$tracePoint(e);o.color=r,o.style=s,o.taille=a,o.isVisible=!1,e.isVisible=!1,c.push(o)}let p=$459103e30f4604971e030953f4b52e1b$export$polyline(...l);p.isVisible=!1,p.epaisseur=o,p.color=i,"pointilles"==n&&(p.pointilles=!0),c.push(p),this.svg=function(e){let t="";for(let r of c)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of c)e+="\n\t"+t.tikz();return e},this.svgml=function(e,t){let r="";for(let i of c)void 0===i.svgml?r+="\n\t"+i.svg(e):r+="\n\t"+i.svgml(e,t);return r},this.tikzml=function(e){let t="";for(let r of c)void 0===r.tikzml?t+="\n\t"+r.tikz():t+="\n\t"+r.tikzml(e);return t}}function $459103e30f4604971e030953f4b52e1b$export$traceGraphiqueCartesien(...e){return new $459103e30f4604971e030953f4b52e1b$var$TraceGraphiqueCartesien(...e)}function $459103e30f4604971e030953f4b52e1b$var$Tableau_de_variation({tabInit:e,tabLines:t,lgt:r,escpl:i,deltacl:n,colors:o,hauteurLignes:s,colorBackground:a}){if($459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.tabInit=e,this.tabLines=t,this.colors=o,this.lgt=r,this.escpl=i,this.deltacl=n,this.hauteurLignes=[],0!=s.length)this.hauteurLignes=s;else for(let t=0;t<e[0].length;t++)this.hauteurLignes.push(10);this.svg=function(e){let t,r,n,o,s,c,l=this.tabInit[0],p=this.tabInit[1],u=this.tabLines,f=0,d=[],h=0,b=[],$=[],m=[],g=[],x=[],v="",y=this.lgt+(p.length/2-1)*i+2*this.deltacl,_=function(e){return"$"==e[0]&&(e=e.substring(1,e.length-1)),e};for(let e=-1;e<l.length&&h<u.length;)if(-1==e){e++,d.push($459103e30f4604971e030953f4b52e1b$export$segment(0,f,y,f)),d.push($459103e30f4604971e030953f4b52e1b$export$segment(0,f,0,f-l[e][1]*this.hauteurLignes[e]/15)),d.push($459103e30f4604971e030953f4b52e1b$export$segment(this.lgt,f,this.lgt,f-l[e][1]*this.hauteurLignes[e]/15)),d.push($459103e30f4604971e030953f4b52e1b$export$segment(y,f,y,f-l[e][1]*this.hauteurLignes[e]/15)),t=l[0][0],r=l[0][2],b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(t),this.lgt/2,-l[0][1]*this.hauteurLignes[0]/28,"black",r,15,a));for(let e=0;e<p.length/2;e++)t=p[2*e],r=p[2*e+1],-1!=t.indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(t),this.lgt+this.deltacl+this.escpl*e,-l[0][1]*this.hauteurLignes[0]/28,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(t),this.lgt+this.deltacl+this.escpl*e,-l[0][1]*this.hauteurLignes[0]/28,"black",r,15,a));f-=l[0][1]*this.hauteurLignes[0]/15}else switch(u[h][0]){case"Line":e++,r=l[e][2],b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(l[e][0]),this.lgt/2,f-l[e][1]*this.hauteurLignes[e]/30,"black",r,15,a));for(let i=1;i<u[h].length/2;i++)if(""!=u[h][2*i])if(t=u[h][2*i],r=u[h][2*i+1],1==t.length)switch(t[0]){case"z":b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees("0",this.lgt+this.deltacl+this.escpl/2*(i-1),f-l[e][1]*this.hauteurLignes[e]/30,"black",r,15,a)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl/2*(i-1),f,this.lgt+this.deltacl+this.escpl/2*(i-1),f-l[e][1]*this.hauteurLignes[e]/15),n.pointilles=4,d.push(n);break;case"d":d.push($459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl/2*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl/2*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15)),d.push($459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl/2*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl/2*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15));break;case"t":n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl/2*(i-1),f,this.lgt+this.deltacl+this.escpl/2*(i-1),f-l[e][1]*this.hauteurLignes[e]/15),n.pointilles=4,d.push(n);break;case"h":o=$459103e30f4604971e030953f4b52e1b$export$polygone($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl/2*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl/2*i,f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl/2*i,f-l[e][1]*this.hauteurLignes[e]/15),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl/2*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),o.couleurDeRemplissage="gray",d.push(o);break;case"+":b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees("+",this.lgt+this.deltacl+this.escpl/2*(i-1),f-l[e][1]*this.hauteurLignes[e]/30,"black",r,15,a));break;case"-":b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees("-",this.lgt+this.deltacl+this.escpl/2*(i-1),f-l[e][1]*this.hauteurLignes[e]/30,"black",r,15,a))}else"R/"==t||b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(t),this.lgt+this.deltacl+this.escpl/2*(i-1),f-l[e][1]*this.hauteurLignes[e]/30,"black",r,this.hauteurLignes[e],a));d.push($459103e30f4604971e030953f4b52e1b$export$segment(0,f,y,f)),d.push($459103e30f4604971e030953f4b52e1b$export$segment(0,f,0,f-l[e][1]*this.hauteurLignes[e]/15)),d.push($459103e30f4604971e030953f4b52e1b$export$segment(this.lgt,f,this.lgt,f-l[e][1]*this.hauteurLignes[e]/15)),d.push($459103e30f4604971e030953f4b52e1b$export$segment(y,f,y,f-l[e][1]*this.hauteurLignes[e]/15)),f-=l[e][1]*this.hauteurLignes[e]/15,h++;break;case"Var":e++,$=[],g=[],c=!1,x=[];for(let i=1;i<u[h].length/2;i++)if(b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(l[e][0]),this.lgt/2,f-l[e][1]*this.hauteurLignes[e]/30,"black",l[e][2],15,a)),""!=u[h][2*i])switch(t=u[h][2*i],r=u[h][2*i+1],m=t.split("/"),m.length){case 1:break;case 2:switch(m[0]){case"+":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"-":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"+C":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"-C":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"+D":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"-D":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"+H":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!0,x.push(!0);break;case"-H":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!0,x.push(!0);break;case"D-":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"D+":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"-DH":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1)+.06,f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1)+.06,f-l[e][1]*this.hauteurLignes[e]/15)),c=!0,x.push(!0);break;case"+DH":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,30)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,15)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1)+.06,f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1)+.06,f-l[e][1]*this.hauteurLignes[e]/15)),c=!0,x.push(!0);break;case"-CH":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1)+.06,f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1)+.06,f-l[e][1]*this.hauteurLignes[e]/15)),c=!0,x.push(!0);break;case"+CH":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1)+.06,f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1)+.06,f-l[e][1]*this.hauteurLignes[e]/15)),c=!0,x.push(!0)}case 3:switch(m[0]){case"":break;case"-CD-":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),-1!=m[2].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"+CD+":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-.95,"black",r,15,a)),-1!=m[2].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)+r/14,f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)+r/14,f-.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"-CD+":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),-1!=m[2].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),x.push(!0),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"+CD-":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1),f-.95,"black",r,15,a)),-1!=m[2].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),x.push(!0),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"-D-":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),-1!=m[2].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),x.push(!0),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"+D+":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,15,a)),-1!=m[2].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),x.push(!0),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"-D+":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),-1!=m[2].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),x.push(!0),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"+D-":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,15,a)),-1!=m[2].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),x.push(!0),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"-DC-":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),-1!=m[2].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"+DC+":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,15,a)),-1!=m[2].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1),f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1),f-.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"-DC+":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),-1!=m[2].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1),f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1),f-.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),x.push(!0),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"+DC-":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,15,a)),-1!=m[2].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),x.push(!0),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)-.05,f,this.lgt+this.deltacl+this.escpl*(i-1)-.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),n=$459103e30f4604971e030953f4b52e1b$export$segment(this.lgt+this.deltacl+this.escpl*(i-1)+.05,f,this.lgt+this.deltacl+this.escpl*(i-1)+.05,f-l[e][1]*this.hauteurLignes[e]/15),d.push(n),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"-V-":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),-1!=m[2].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"+V+":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,15,a)),-1!=m[2].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"-V+":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),-1!=m[2].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),x.push(!0),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1);break;case"+V-":-1!=m[1].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[1]),this.lgt+this.deltacl+this.escpl*(i-1)-r/28,f-.95,"black",r,15,a)),-1!=m[2].indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(m[2]),this.lgt+this.deltacl+this.escpl*(i-1)+r/28,f-l[e][1]*this.hauteurLignes[e]/15+.95,"black",r,15,a)),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-.95)),x.push(!0),$.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15+.95)),c&&(g.push($459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f),$459103e30f4604971e030953f4b52e1b$export$point(this.lgt+this.deltacl+this.escpl*(i-1),f-l[e][1]*this.hauteurLignes[e]/15)),c=!1),x.push(!1)}}for(let e=0;e<$.length-1;e++)x[e]||(s=$459103e30f4604971e030953f4b52e1b$export$vecteur($459103e30f4604971e030953f4b52e1b$export$translation($[e],$459103e30f4604971e030953f4b52e1b$export$vecteur(1.5,0)),$459103e30f4604971e030953f4b52e1b$export$translation($[e+1],$459103e30f4604971e030953f4b52e1b$export$vecteur(-1.5,0))).representant($459103e30f4604971e030953f4b52e1b$export$translation($[e],$459103e30f4604971e030953f4b52e1b$export$vecteur(1.5,0))),s.styleExtremites="->",d.push(s));for(let e=0;e<=g.length/4-1;e++)o=$459103e30f4604971e030953f4b52e1b$export$polygone(g[4*e],g[4*e+2],g[4*e+3],g[4*e+1]),o.opacite=1,o.hachures="north east lines",d.push(o);d.push($459103e30f4604971e030953f4b52e1b$export$segment(0,f,y,f)),d.push($459103e30f4604971e030953f4b52e1b$export$segment(0,f,0,f-l[e][1]*this.hauteurLignes[e]/15)),d.push($459103e30f4604971e030953f4b52e1b$export$segment(this.lgt,f,this.lgt,f-l[e][1]*this.hauteurLignes[e]/15)),d.push($459103e30f4604971e030953f4b52e1b$export$segment(y,f,y,f-l[e][1]*this.hauteurLignes[e]/15)),f-=l[e][1]*this.hauteurLignes[e]/15,h++;break;case"Val":""!=u[h][5]&&(r=u[h][6],b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(u[h][5]),this.lgt+this.deltacl+this.escpl*(u[h][1]-1)+1+(this.escpl-2)*(u[h][2]-u[h][1])*u[h][3],f+1.1+u[h][3]*l[e][1]*this.hauteurLignes[e]/30,"black",r,this.hauteurLignes[e],a)),b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(u[h][4]),this.lgt+this.deltacl+this.escpl*(u[h][1]-1)+1+(this.escpl-2)*(u[h][2]-u[h][1])*u[h][3],-l[0][1]*this.hauteurLignes[e]/30,"black",r,this.hauteurLignes[e],a))),h++;break;case"Ima":""!=u[h][3]&&(t=u[h][3],r=u[h][4],-1!=t.indexOf("frac")?b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(t),this.lgt+this.deltacl+this.escpl*(u[h][1]-1+(u[h][2]-1))/2,f+l[e][1]*this.hauteurLignes[e]/30-.1,"black",r,30,a)):b.push($459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(_(t),this.lgt+this.deltacl+this.escpl*(u[h][1]-1+(u[h][2]-1))/2,f+l[e][1]*this.hauteurLignes[e]/30-.1,"black",r,15,a))),h++;break;case"Slope":for(let i=1;i<u[h].length/2;i++)""!=u[h][2*i]&&(t=u[h][2*i],r=u[h][2*i+1],console.log("tabSlope",t,r,e,h))}d.push($459103e30f4604971e030953f4b52e1b$export$segment(0,f,y,f));for(let t=0;t<d.length;t++)v+="\n\t"+d[t].svg(e);for(let t=0;t<b.length;t++)v+="\n\t"+b[t].svg(e);return v},this.tikz=function(){let e=`\\tkzTabInit[lgt=${r},delatcl=${n},escpl=${i}`;for(let t=0;t<this.colors.length;t++)e+=`,${this.colors[t]}`;e+="]{";let t,o=this.tabInit[0],s=this.tabInit[1];for(let t=0;t<o.length;t++)-1!=o[t][0].indexOf(",")&&(o[t][0]=`{${o[t][0]}}`),e+=` ${o[t][0]} / ${o[t][1]},`;e=e.substring(0,e.length-1),e+="}{";for(let t=0;t<s.length/2;t++)-1!=s[2*t].indexOf(",")&&(s[2*t]=`{${s[2*t]}}`),e+=` ${s[2*t]},`;e=e.substring(0,e.length-1),e+="}\n\t";for(let r=0;r<this.tabLines.length;r++)if(t=this.tabLines[r][0],"Val"==t||"Ima"==t){e+=`\\tkzTab${t}`;for(let t=1;t<this.tabLines[r].length-1;t++)-1!=this.tabLines[r][t].indexOf(",")&&(this.tabLines[r][t]=`{${this.tabLines[r][t]}}`),e+=`{${this.tabLines[r][t]}},`;e+="\n\t"}else if("Var"==t||"Line"==t){e+=`\\tkzTab${t}{ `;for(let t=2;t<this.tabLines[r].length;t+=2)-1!=this.tabLines[r][t].indexOf(",")&&(this.tabLines[r][t]=`{${this.tabLines[r][t]}}`),e+=` ${this.tabLines[r][t]},`;e=e.substring(0,e.length-1),e+="}\n\t"}return e}}function $459103e30f4604971e030953f4b52e1b$var$TraceBarre(e,t,r="",{epaisseur:i=.6,couleurDeRemplissage:n="blue",color:o="black",opaciteDeRemplissage:s=.3,angle:a=66,unite:c=1,hachures:l=!1}={}){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this);let p=$459103e30f4604971e030953f4b52e1b$export$polygone($459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e-i/2),0),$459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e-i/2),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t*c)),$459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e+i/2),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t*c)),$459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e+i/2),0));p.couleurDeRemplissage=n,p.opaciteDeRemplissage=s,p.color=o,l&&(p.hachures=l);let u=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(r,e,-.2,a,"black",1,"gauche");this.tikz=function(){return p.tikz()+"\n"+u.tikz()},this.svg=function(e){return p.svg(e)+"\n"+u.svg(e)}}function $459103e30f4604971e030953f4b52e1b$export$traceBarre(...e){return new $459103e30f4604971e030953f4b52e1b$var$TraceBarre(...e)}function $459103e30f4604971e030953f4b52e1b$var$TraceBarreHorizontale(e,t,r="",{epaisseur:i=.6,couleurDeRemplissage:n="blue",color:o="black",opaciteDeRemplissage:s=.3,unite:a=1}={}){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this);let c=$459103e30f4604971e030953f4b52e1b$export$polygone($459103e30f4604971e030953f4b52e1b$export$point(0,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t-i/2)),$459103e30f4604971e030953f4b52e1b$export$point(0,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t+i/2)),$459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(a*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t+i/2)),$459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(a*e),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t-i/2)));c.couleurDeRemplissage=n,c.opaciteDeRemplissage=s,c.color=o;let l=$459103e30f4604971e030953f4b52e1b$export$texteParPosition(r,-.2,t,"gauche","black");this.tikz=function(){return c.tikz()+"\n"+l.tikz()},this.svg=function(e){return c.svg(e)+"\n"+l.svg(e)}}function $459103e30f4604971e030953f4b52e1b$export$traceBarreHorizontale(...e){return new $459103e30f4604971e030953f4b52e1b$var$TraceBarreHorizontale(...e)}function $459103e30f4604971e030953f4b52e1b$var$LectureImage(e,t,r=1,i=1,n="red",o="",s=""){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.x=e,this.y=t,this.xscale=r,this.yscale=i,""==o&&(o=e.toString()),""==s&&(s=t.toString()),this.text_abs=o,this.text_ord=s,this.color=n,this.svg=function(e){let t=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.x/this.xscale),r=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.y/this.yscale),i=$459103e30f4604971e030953f4b52e1b$export$point(t,r),n=$459103e30f4604971e030953f4b52e1b$export$point(t,0),o=$459103e30f4604971e030953f4b52e1b$export$point(0,r),s=$459103e30f4604971e030953f4b52e1b$export$segment(n,i,this.color),a=$459103e30f4604971e030953f4b52e1b$export$segment(i,o,this.color);return s.styleExtremites="->",a.styleExtremites="->",s.pointilles=!0,a.pointilles=!0,"\t\n"+s.svg(e)+"\t\n"+a.svg(e)+"\t\n"+$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.text_abs,t,-20/e,"milieu",this.color).svg(e)+"\t\n"+$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.text_ord,-20/e,r,"milieu",this.color).svg(e)},this.tikz=function(){let e=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.x/this.xscale),t=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.y/this.yscale),r=$459103e30f4604971e030953f4b52e1b$export$point(e,t),i=$459103e30f4604971e030953f4b52e1b$export$point(e,0),n=$459103e30f4604971e030953f4b52e1b$export$point(0,t),o=$459103e30f4604971e030953f4b52e1b$export$segment(i,r,this.color),s=$459103e30f4604971e030953f4b52e1b$export$segment(r,n,this.color);return o.styleExtremites="->",s.styleExtremites="->",o.pointilles=!0,s.pointilles=!0,"\t\n"+o.tikz()+"\t\n"+s.tikz()+"\t\n"+$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.text_abs,e,-1/mathalea.scale,"milieu",this.color).tikz()+"\t\n"+$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.text_ord,-1/mathalea.scale,t,"milieu",this.color).tikz()},this.svgml=function(r,i){let n=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.x/this.xscale),o=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.y/this.yscale),s=$459103e30f4604971e030953f4b52e1b$export$point(e,t),a=$459103e30f4604971e030953f4b52e1b$export$point(n,0),c=$459103e30f4604971e030953f4b52e1b$export$point(0,o),l=$459103e30f4604971e030953f4b52e1b$export$segment(a,s,this.color),p=$459103e30f4604971e030953f4b52e1b$export$segment(s,c,this.color);return l.styleExtremites="->",p.styleExtremites="->",l.pointilles=!0,p.pointilles=!0,"\t\n"+l.svgml(r,i)+"\t\n"+p.svgml(r,i)+"\t\n"+$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.text_abs,n,-20/r,"milieu",this.color).svg(r)+"\t\n"+$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.text_ord,-20/r,o,"milieu",this.color).svg(r)},this.tikzml=function(r){let i=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.x/this.xscale),o=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.y/this.yscale),s=$459103e30f4604971e030953f4b52e1b$export$point(e,t),a=$459103e30f4604971e030953f4b52e1b$export$point(i,0),c=$459103e30f4604971e030953f4b52e1b$export$point(0,o),l=$459103e30f4604971e030953f4b52e1b$export$segment(a,s,n),p=$459103e30f4604971e030953f4b52e1b$export$segment(s,c,n);return l.styleExtremites="->",p.styleExtremites="->",l.pointilles=!0,p.pointilles=!0,"\t\n"+l.tikzml(r)+"\t\n"+p.tikzml(r)+"\t\n"+$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.text_abs,i,-1/mathalea.scale,"milieu",this.color).tikz()+"\t\n"+$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.text_ord,-1/mathalea.scale,o,"milieu",this.color).tikz()}}function $459103e30f4604971e030953f4b52e1b$export$lectureImage(...e){return new $459103e30f4604971e030953f4b52e1b$var$LectureImage(...e)}function $459103e30f4604971e030953f4b52e1b$var$LectureAntecedent(e,t,r,i,n,o,s){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.x=e,this.y=t,this.xscale=r,this.yscale=i,""==s&&(s=this.x.toString()),""==o&&(o=this.y.toString()),this.text_abs=s,this.text_ord=o,this.color=n,this.svg=function(e){let t=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.x/this.xscale),r=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.y/this.yscale),i=$459103e30f4604971e030953f4b52e1b$export$point(t,r),o=$459103e30f4604971e030953f4b52e1b$export$point(t,0),s=$459103e30f4604971e030953f4b52e1b$export$point(0,r),a=$459103e30f4604971e030953f4b52e1b$export$segment(i,o,n),c=$459103e30f4604971e030953f4b52e1b$export$segment(s,i,n);return a.styleExtremites="->",c.styleExtremites="->",a.pointilles=!0,c.pointilles=!0,"\t\n"+a.svg(e)+"\t\n"+c.svg(e)+"\t\n"+$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.text_abs,t,-20/e,"milieu",this.color).svg(e)+"\t\n"+$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.text_ord,-20/e,r,"milieu",this.color).svg(e)},this.tikz=function(){let e=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.x/this.xscale),t=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.y/this.yscale),r=$459103e30f4604971e030953f4b52e1b$export$point(e,t),i=$459103e30f4604971e030953f4b52e1b$export$point(e,0),o=$459103e30f4604971e030953f4b52e1b$export$point(0,t),s=$459103e30f4604971e030953f4b52e1b$export$segment(r,i,n),a=$459103e30f4604971e030953f4b52e1b$export$segment(o,r,n);return s.styleExtremites="->",a.styleExtremites="->",s.pointilles=!0,a.pointilles=!0,"\t\n"+s.tikz()+"\t\n"+a.tikz()+"\t\n"+$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.text_abs,e,-1/mathalea.scale,"milieu",this.color).tikz()+"\t\n"+$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.text_ord,-1/mathalea.scale,t,"milieu",this.color).tikz()},this.svgml=function(e,t){let r=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.x/this.xscale),i=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.y/this.yscale),o=$459103e30f4604971e030953f4b52e1b$export$point(r,i),s=$459103e30f4604971e030953f4b52e1b$export$point(r,0),a=$459103e30f4604971e030953f4b52e1b$export$point(0,i),c=$459103e30f4604971e030953f4b52e1b$export$segment(o,s,n),l=$459103e30f4604971e030953f4b52e1b$export$segment(a,o,n);return c.styleExtremites="->",l.styleExtremites="->",c.pointilles=!0,l.pointilles=!0,"\t\n"+c.svgml(e,t)+"\t\n"+l.svgml(e,t)+"\t\n"+$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.text_abs,r,-20/e,"milieu",this.color).svg(e)+"\t\n"+$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.text_ord,-20/e,i,"milieu",this.color).svg(e)},this.tikzml=function(e){let t=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.x/this.xscale),r=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.y/this.yscale),i=$459103e30f4604971e030953f4b52e1b$export$point(t,r),o=$459103e30f4604971e030953f4b52e1b$export$point(t,0),s=$459103e30f4604971e030953f4b52e1b$export$point(0,r),a=$459103e30f4604971e030953f4b52e1b$export$segment(i,o,n),c=$459103e30f4604971e030953f4b52e1b$export$segment(s,i,n);return a.styleExtremites="->",c.styleExtremites="->",a.pointilles=!0,c.pointilles=!0,"\t\n"+a.tikzml(e)+"\t\n"+c.tikzml(e)+"\t\n"+$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.text_abs,t,-1/mathalea.scale,"milieu",this.color).tikz()+"\t\n"+$459103e30f4604971e030953f4b52e1b$export$texteParPosition(this.text_ord,-1/mathalea.scale,r,"milieu",this.color).tikz()}}function $459103e30f4604971e030953f4b52e1b$export$lectureAntecedent(...e){return new $459103e30f4604971e030953f4b52e1b$var$LectureAntecedent(...e)}function $459103e30f4604971e030953f4b52e1b$var$Courbe(e,t=-20,r=30,i="black",n=2,o=[1,1],s=.1){let a,c;$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.color=i,o.constructor===$459103e30f4604971e030953f4b52e1b$var$Repere?(a=o.xscale,c=o.yscale):(a=o[0],c=o[1]);let l=[];for(let i=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t/a);i<=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r/a);i=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(i+s))isFinite(e(i*a))&&l.push($459103e30f4604971e030953f4b52e1b$export$point(i,e(i*a)/c));let p=$459103e30f4604971e030953f4b52e1b$export$polyline([...l],this.color);return p.epaisseur=n,p}function $459103e30f4604971e030953f4b52e1b$export$courbe(e,t=-20,r=30,i="black",n=2,o=[1,1],s=.1){return new $459103e30f4604971e030953f4b52e1b$var$Courbe(e,t,r,i,n,o,s)}function $459103e30f4604971e030953f4b52e1b$var$Courbe2(e,{repere:t={},color:r="black",epaisseur:i=2,step:n=!1,xMin:o=-10,xMax:s=10,yMin:a=-10,yMax:c=10,xUnite:l=1,yUnite:p=1}={}){let u,f,d,h,b,$;$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.color=r,u=t.xMin,f=t.yMin,d=t.xMax,h=t.yMax,b=t.xUnite,$=t.yUnite,isNaN(u)&&(u=o),isNaN(d)&&(d=s),isNaN(f)&&(f=a),isNaN(h)&&(h=c),isNaN(b)&&(b=l),isNaN($)&&($=p);let m,g=[],x=[];m=n||$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(.2/l);for(let t=u;t<=d;t+=m){if(e(t)<h+.2&&e(t)>f-.2)x.push($459103e30f4604971e030953f4b52e1b$export$point($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t*b),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e(t)*$)));else{let e=$459103e30f4604971e030953f4b52e1b$export$polyline([...x],this.color);e.epaisseur=i,g.push(e),x=[]}let r=$459103e30f4604971e030953f4b52e1b$export$polyline([...x],this.color);r.epaisseur=i,g.push(r)}this.svg=function(e){let t="";for(let r of g)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of g)e+="\n\t"+t.tikz();return e},this.svgml=function(e,t){let r="";for(let i of g)void 0===i.svgml?r+="\n\t"+i.svg(e):r+="\n\t"+i.svgml(e,t);return r},this.tikzml=function(e){let t="";for(let r of g)void 0===r.tikzml?t+="\n\t"+r.tikz():t+="\n\t"+r.tikzml(e);return t}}function $459103e30f4604971e030953f4b52e1b$export$courbe2(...e){return new $459103e30f4604971e030953f4b52e1b$var$Courbe2(...e)}const $459103e30f4604971e030953f4b52e1b$var$cosineInterpolate=(e,t,r)=>{const i=(1-Math.cos(r*Math.PI))/2;return e*(1-i)+t*i};function $459103e30f4604971e030953f4b52e1b$var$CourbeInterpolee(e,t="black",r=2,i=[1,1],n,o){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this);let s=[];for(let a=0;a<e.length-1;a++){let c,l,p=e[a][0],u=e[a][1],f=e[a+1][0],d=e[a+1][1];c=n>p?n:p,l=o<f?o:f;let h=$459103e30f4604971e030953f4b52e1b$export$courbe((e=>$459103e30f4604971e030953f4b52e1b$var$cosineInterpolate(u,d,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((e-p)/(f-p)))),c,l,t,r,i);s.push(h),this.svg=function(e){let t="";for(let r of s)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of s)e+="\n\t"+t.tikz();return e}}}function $459103e30f4604971e030953f4b52e1b$export$courbeInterpolee(...e){return new $459103e30f4604971e030953f4b52e1b$var$CourbeInterpolee(...e)}function $459103e30f4604971e030953f4b52e1b$var$GraphiqueInterpole(e,{color:t="black",epaisseur:r=1,repere:i={},step:n=.2}={}){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this);let o=[];for(let s=0;s<e.length-1;s++){let a,c,l=e[s][0],p=e[s][1],u=e[s+1][0],f=e[s+1][1],d=e=>$459103e30f4604971e030953f4b52e1b$var$cosineInterpolate(p,f,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((e-l)/(u-l)));a=i.xMin>l?i.xMin:l,c=i.xMax<u?i.xMax:u;let h=$459103e30f4604971e030953f4b52e1b$export$courbe2(d,{step:n,xMin:a,xMax:c,color:t,epaisseur:r,xUnite:i.xUnite,yUnite:i.yUnite,yMin:i.yMin,yMax:i.yMax});o.push(h),this.svg=function(e){let t="";for(let r of o)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(let t of o)e+="\n\t"+t.tikz();return e}}}function $459103e30f4604971e030953f4b52e1b$export$graphiqueInterpole(...e){return new $459103e30f4604971e030953f4b52e1b$var$GraphiqueInterpole(...e)}function $459103e30f4604971e030953f4b52e1b$export$imageInterpolee(e,t){let r=e[0][0],i=e[0][1],n=e[1][0],o=e[1][1];return $459103e30f4604971e030953f4b52e1b$var$cosineInterpolate(i,o,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((t-r)/(n-r)))}function $459103e30f4604971e030953f4b52e1b$export$antecedentInterpole(e,t){let r=e[0][0],i=e[0][1],n=e[1][0],o=e[1][1];return $459103e30f4604971e030953f4b52e1b$var$AntecedentParDichotomie(r,n,(e=>$459103e30f4604971e030953f4b52e1b$var$cosineInterpolate(i,o,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((e-r)/(n-r)))),t,.01)}function $459103e30f4604971e030953f4b52e1b$var$AntecedentParDichotomie(e,t,r,i,n=.01){let o,s;for(e>t&&(o=e,e=t,t=o),o=(t+e)/2,s=r(o);Math.abs(s-i)>n;)r(e)<r(t)?s>i?t=o:e=o:s>i?e=o:t=o,o=(e+t)/2,s=r(o);return o}function $459103e30f4604971e030953f4b52e1b$var$CrochetD(e,t="blue"){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.epaisseur=2,this.color=t,this.taille=.2,this.svg=function(t){if(1!=this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),Boolean(this.pointilles))switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}let r=`<polyline points="${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.xSVG(t)+20*this.taille)},${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.ySVG(t)+2*this.taille*20/t*t)} ${e.xSVG(t)},${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.ySVG(t)+2*this.taille*20)} ${e.xSVG(t)},${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.ySVG(t)+-2*this.taille*20)} ${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.xSVG(t)+20*this.taille)},${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.ySVG(t)+-2*this.taille*20)}" fill="none" stroke="${this.color}" ${this.style} />`;return r+=`\n\t<text x="${e.xSVG(t)}" y="${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.ySVG(t)+20*this.taille*5)}" text-anchor="middle" dominant-baseline="central" fill="${this.color}">${e.nom}</text>\n `,r},this.tikz=function(){return code=`\\draw[very thick,${this.color}] (${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.x+this.taille/mathalea.scale)},${e.y+this.taille/mathalea.scale})--(${e.x},${e.y+this.taille/mathalea.scale})--(${e.x},${e.y-this.taille/mathalea.scale})--(${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.x+this.taille/mathalea.scale)},${e.y-this.taille/mathalea.scale});`,code+=`\n\t\\draw[${this.color}] (${e.x},${e.y-this.taille/mathalea.scale}) node[below] {$${e.nom}$};`,code}}function $459103e30f4604971e030953f4b52e1b$export$crochetD(...e){return new $459103e30f4604971e030953f4b52e1b$var$CrochetD(...e)}function $459103e30f4604971e030953f4b52e1b$var$CrochetG(e,t="blue"){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.epaisseur=2,this.color=t,this.taille=.2,this.svg=function(t){if(1!=this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),Boolean(this.pointilles))switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}let r=`<polyline points="${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.xSVG(t)-20*this.taille)},${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.ySVG(t)+2*this.taille*20)} ${e.xSVG(t)},${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.ySVG(t)+2*this.taille*20)} ${e.xSVG(t)},${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.ySVG(t)-2*this.taille*20)} ${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.xSVG(t)-20*this.taille)},${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.ySVG(t)-2*this.taille*20)}" fill="none" stroke="${this.color}" ${this.style} />`;return r+=`\n\t<text x="${e.xSVG(t)}" y="${e.ySVG(t)+5*this.taille*20}" text-anchor="middle" dominant-baseline="central" fill="${this.color}">${e.nom}</text>\n `,r},this.tikz=function(){return code=`\\draw[very thick,${this.color}] (${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.x-this.taille/mathalea.scale)},${e.y+this.taille/mathalea.scale})--(${e.x},${e.y+this.taille/mathalea.scale})--(${e.x},${e.y-this.taille/mathalea.scale})--(${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e.x-this.taille/mathalea.scale)},${e.y-this.taille/mathalea.scale});`,code+=`\n\t\\draw[${this.color}] (${e.x},${e.y-this.taille/mathalea.scale}) node[below] {$${e.nom}$};`,code}}function $459103e30f4604971e030953f4b52e1b$export$crochetG(...e){return new $459103e30f4604971e030953f4b52e1b$var$CrochetG(...e)}function $459103e30f4604971e030953f4b52e1b$export$intervalle(e,t,r="blue",i=0){let n=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(e.x,e.y+i),$459103e30f4604971e030953f4b52e1b$export$point(t.x,t.y+i));return n.epaisseur=3,n.color=r,n}function $459103e30f4604971e030953f4b52e1b$var$TexteParPoint(e,t,r="milieu",i="black",n=1,o="middle",s=!1){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.color=i,this.contour=!1,this.taille=10*n,this.opacite=1,this.svg=function(i){let n="",a="";if(s&&(a=' font-family= "KaTeX_Math" '),this.contour?a+=` style="font-size:${this.taille}px;fill:none;fill-opacity:${this.opacite};stroke:${this.color};stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:${this.opacite}" `:a+=` style="font-size:${this.taille}px;fill:${this.color};fill-opacity:${this.opacite}" `,"number"==typeof r)n=`<text ${a} x="${t.xSVG(i)}" y="${t.ySVG(i)}" text-anchor = ${o} dominant-baseline = "central" fill="${this.color}" transform="rotate(${r} ${t.xSVG(i)} ${t.ySVG(i)})" id="${this.id}" >${e}</text>\n `;else switch(r){case"milieu":n=`<text ${a} x="${t.xSVG(i)}" y="${t.ySVG(i)}" text-anchor="middle" dominant-baseline="central" fill="${this.color}" id="${this.id}" >${e}</text>\n `;break;case"gauche":n=`<text x="${t.xSVG(i)}" y="${t.ySVG(i)}" text-anchor="end" dominant-baseline="central" fill="${this.color}" id="${this.id}" >${e}</text>\n `;break;case"droite":n=`<text x="${t.xSVG(i)}" y="${t.ySVG(i)}" text-anchor="start" dominant-baseline="central" fill="${this.color}" id="${this.id}" >${e}</text>\n `}return n},this.tikz=function(){let a="";if(s&&(e="$"+e+"$"),"number"==typeof r){let n="center";"gauche"==o&&(n="west"),"droite"==o&&(n="east"),a=`\\draw [${i}] (${t.x},${t.y}) node[anchor = ${n}, rotate = ${-r}] {${e}};`}else{let o="";"gauche"==r&&(o=`node[anchor = east,scale=${n}]`),"droite"==r&&(o=`node[anchor = west,scale=${n}]`),"milieu"==r&&(o=`node[anchor = center,scale=${n}]`),a=`\\draw [${i}] (${t.x},${t.y}) ${o} {${e}};`}return a}}function $459103e30f4604971e030953f4b52e1b$export$texteParPoint(...e){return new $459103e30f4604971e030953f4b52e1b$var$TexteParPoint(...e)}function $459103e30f4604971e030953f4b52e1b$export$texteParPosition(e,t,r,i="milieu",n,o=1,s="middle",a=!1){return new $459103e30f4604971e030953f4b52e1b$var$TexteParPoint(e,$459103e30f4604971e030953f4b52e1b$export$point(t,r),i,n,o,s,a)}function $459103e30f4604971e030953f4b52e1b$export$latexParPoint(e,t,r="black",i=200,n=12,o="white"){let s,a,c=mathalea.pixelsParCm;switch(t.positionLabel){case"above":s=t.x,a=t.y+15/c;break;case"below":s=t.x,a=t.y-15/c;break;case"left":s=t.x-15/c,a=t.y;break;case"right":s=t.x+15/c,a=t.y;break;case"above right":s=t.x+15/c,a=t.y+15/c;break;case"above left":s=t.x-15/c,a=t.y+15/c;break;case"below right":s=t.x+15/c,a=t.y-15/c;break;case"below left":s=t.x-15/c,a=t.y-15/c;break;case"center":default:s=t.x,a=t.y}return $459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(e,s,a,r,i,n,o)}function $459103e30f4604971e030953f4b52e1b$var$LatexParCoordonnees(e,t,r,i="black",n=200,o=12,s="white"){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.x=t,this.y=r,this.size=n,this.hauteurLigne=o,this.colorBackground=s,this.color=i,this.texte=e,this.svg=function(e){let t=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.size/2),r=.25*mathalea.pixelsParCm;return""!=s?`<foreignObject style=" overflow: visible; line-height: 0;" x="${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(this.x*e,2)-t}" y="${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(-this.y*e,2)-this.hauteurLigne/2-r}"  width="${this.size}" height="${this.hauteurLigne}" id="${this.id}" ><div style="margin:auto;width:${this.size}px;height:${o}px;position:fixed!important; text-align:center">\n    $\\colorbox{${this.colorBackground}}{$\\color{${i}}{${this.texte}}$}$</div></foreignObject>`:`<foreignObject style=" overflow: visible; line-height: 0;" x="${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(this.x*e,2)-t}" y="${$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(-this.y*e,2)-this.hauteurLigne/2-r}"  width="${this.size}" height="${this.hauteurLigne}" id="${this.id}" ><div style="width:${this.size}px;height:${this.hauteurLigne}px;position:fixed!important; text-align:center">\n      $\\color{${this.color}}{${this.texte}}$</div></foreignObject>`},this.tikz=function(){let n;return n=""!=s?`\\draw (${t},${r}) node[anchor = center] {\\colorbox{${s}}{\\color{${i}}{${e}}}};`:`\\draw (${t},${r}) node[anchor = center] {$\\color{${i}}{${e}}$};`,n}}function $459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees(e,t,r,i="black",n=200,o=12,s="white"){return new $459103e30f4604971e030953f4b52e1b$var$LatexParCoordonnees(e,t,r,i,n,o,s)}function $459103e30f4604971e030953f4b52e1b$var$FractionParPosition({x:e=0,y:t=0,fraction:r=r(1,2),couleur:i="black"}){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this);let n=Math.abs(r.num),o=Math.abs(r.den),s=$cf7a0e0dfc1e90c0e915b74752829335$export$unSiPositifMoinsUnSinon(r.num)*$cf7a0e0dfc1e90c0e915b74752829335$export$unSiPositifMoinsUnSinon(r.den),a=10*Math.max(Math.floor(Math.log10(n))+1,Math.floor(Math.log10(o))+1);this.svg=function(r){let c=$459103e30f4604971e030953f4b52e1b$export$segment(e-a/r/2,t,e+a/r/2,t,i);c.isVisible=!1;let l=c.svg(r);-1==s&&(l+=$459103e30f4604971e030953f4b52e1b$export$segment($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e-(a+15)/r/2,0),t,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e-(a+5)/r/2,0),t,i).svg(r));let p=$459103e30f4604971e030953f4b52e1b$export$texteParPosition($cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(n),e,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t+10/r),"milieu",i);l+=p.svg(r);let u=$459103e30f4604971e030953f4b52e1b$export$texteParPosition($cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(o),e,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t-10/r),"milieu",i);return l+=u.svg(r),p.isVisible=!1,u.isVisible=!1,l=`<g id="${this.id}">${l}</g>`,l},this.tikz=function(){let r=$459103e30f4604971e030953f4b52e1b$export$segment(e,t,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e+a/30/mathalea.scale,2),t,i).tikz();return-1==s&&(r+=$459103e30f4604971e030953f4b52e1b$export$segment($cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e-(a/30+.785)/mathalea.scale/2,2),t,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e-(a/30+.25)/mathalea.scale/2,2),t,i).tikz()),r+=$459103e30f4604971e030953f4b52e1b$export$texteParPosition($cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(n),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e+a/60/mathalea.scale,2),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t+10/30/mathalea.scale,2),"milieu",i).tikz(),r+=$459103e30f4604971e030953f4b52e1b$export$texteParPosition($cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(o),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e+a/60/mathalea.scale,2),$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t-10/30/mathalea.scale,2),"milieu",i).tikz(),r}}function $459103e30f4604971e030953f4b52e1b$export$fractionParPosition(e){return new $459103e30f4604971e030953f4b52e1b$var$FractionParPosition(e)}function $459103e30f4604971e030953f4b52e1b$var$Print2d(e){if("number"==typeof e)return $459103e30f4604971e030953f4b52e1b$export$texteParPosition(e.toString(),0,0,"droite");$459103e30f4604971e030953f4b52e1b$export$texteParPosition(e,0,0,"droite")}function $459103e30f4604971e030953f4b52e1b$export$print2d(...e){let t=[];for(let r=0;r<e.length;r++)t.push($459103e30f4604971e030953f4b52e1b$var$Print2d(e[r]));return t}function $459103e30f4604971e030953f4b52e1b$export$longueur(e,t,r){return void 0===r?$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)):$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),r)}function $459103e30f4604971e030953f4b52e1b$export$norme(e){return $cf7a0e0dfc1e90c0e915b74752829335$export$calcul(Math.sqrt(e.x**2+e.y**2))}function $459103e30f4604971e030953f4b52e1b$export$angle(e,t,r){let i=$459103e30f4604971e030953f4b52e1b$export$longueur(t,e),n=$459103e30f4604971e030953f4b52e1b$export$longueur(t,r),o=$459103e30f4604971e030953f4b52e1b$export$longueur(e,r),s=$459103e30f4604971e030953f4b52e1b$export$vecteur(t,e),a=$459103e30f4604971e030953f4b52e1b$export$vecteur(t,r);return s.x*a.y-s.y*a.x==0?s.x*a.x>0?0:s.x*a.x<0?180:s.y*a.y>0?0:180:$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(180*Math.acos((o**2-i**2-n**2)/(-2*i*n))/Math.PI,2)}function $459103e30f4604971e030953f4b52e1b$export$angleOriente(e,t,r){let i=$459103e30f4604971e030953f4b52e1b$export$rotation(e,t,90),n=$459103e30f4604971e030953f4b52e1b$export$vecteur(t,r),o=$459103e30f4604971e030953f4b52e1b$export$vecteur(t,i);return $cf7a0e0dfc1e90c0e915b74752829335$export$unSiPositifMoinsUnSinon(n.x*o.x+n.y*o.y)*$459103e30f4604971e030953f4b52e1b$export$angle(e,t,r)}function $459103e30f4604971e030953f4b52e1b$export$angleradian(e,t,r){let i=$459103e30f4604971e030953f4b52e1b$export$longueur(t,e),n=$459103e30f4604971e030953f4b52e1b$export$longueur(t,r),o=$459103e30f4604971e030953f4b52e1b$export$longueur(e,r);return $cf7a0e0dfc1e90c0e915b74752829335$export$calcul(Math.acos((o**2-i**2-n**2)/(-2*i*n)),2)}function $459103e30f4604971e030953f4b52e1b$export$angleScratchTo2d(e){let t=90-e;return t<-180&&(t+=360),$459103e30f4604971e030953f4b52e1b$export$angleModulo(t)}function $459103e30f4604971e030953f4b52e1b$export$angleModulo(e){return e<-180?e+360:e>180?e-360:e}function $459103e30f4604971e030953f4b52e1b$var$ObjetLutin(){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.x=0,this.y=0,this.xSVG=function(e){return this.x*e},this.ySVG=function(e){return-this.y*e},this.orientation=0,this.historiquePositions=[],this.crayonBaisse=!1,this.isVisible=!0,this.costume='<radialGradient id="Ball" cx="29.7275" cy="-13.1396" r="38.5299" gradientUnits="userSpaceOnUse">\n  <stop offset="0" style="stop-color:#FFFF99"/>\n  <stop offset="1" style="stop-color:#FF9400"/>\n</radialGradient> <circle fill="url(#Ball)"  r="22.5" stroke-width="1" ',this.listeTraces=[],this.color="black",this.epaisseur=2,this.pointilles=!1,this.opacite=1,this.style="",this.svg=function(e){let t="";for(let r of this.listeTraces){let i=$459103e30f4604971e030953f4b52e1b$export$point(r[0],r[1]),n=$459103e30f4604971e030953f4b52e1b$export$point(r[2],r[3]),o=r[4],s=r[5],a=r[6],c=r[7],l="";1!=s&&(l+=` stroke-width="${s}" `),a&&(l+=' stroke-dasharray="4 3" '),1!=c&&(l+=` stroke-opacity="${c}" `),t+=`\n\t<line x1="${i.xSVG(e)}" y1="${i.ySVG(e)}" x2="${n.xSVG(e)}" y2="${n.ySVG(e)}" stroke="${o}" ${l}  />`}if(this.isVisible){t+=`\n<g>${this.costume} x="${this.listeTraces[0][0]*e}" y="${-this.listeTraces[0][1]*e}">\n<animateMotion path="M ${this.listeTraces[0][0]*e} ${-this.listeTraces[0][1]*e} L`;for(let r=0;r<this.listeTraces.length;r++){let i=$459103e30f4604971e030953f4b52e1b$export$point(this.listeTraces[r][2],this.listeTraces[r][3]);t+=` ${i.xSVG(e)} ${i.ySVG(e)} `}t+='" \'begin="10s" dur="10s" repeatCount="indefinite"\' />;\n    </circle>\n    </g>'}return t},this.tikz=function(){let e="";for(let t of this.listeTraces){let r=$459103e30f4604971e030953f4b52e1b$export$point(t[0],t[1]),i=$459103e30f4604971e030953f4b52e1b$export$point(t[2],t[3]),n=t[4],o=t[5],s=t[6],a=t[7],c=[],l=[];n.length>1&&"black"!==n&&l.push(n),1!=o&&l.push(`line width = ${o}`),1!=a&&l.push(`opacity = ${a}`),s&&l.push("dashed"),l.length>0&&(c="["+l.join(",")+"]"),e+=`\n\t\\draw${c} (${r.x},${r.y})--(${i.x},${i.y});`}return e}}function $459103e30f4604971e030953f4b52e1b$export$creerLutin(...e){return new $459103e30f4604971e030953f4b52e1b$var$ObjetLutin(...e)}function $459103e30f4604971e030953f4b52e1b$export$avance(e,t=mathalea.lutin){let r=t.x,i=t.y;t.x=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t.x+e/mathalea.unitesLutinParCm*Math.cos(Math.radians(t.orientation))),t.y=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t.y+e/mathalea.unitesLutinParCm*Math.sin(Math.radians(t.orientation))),t.historiquePositions.push([t.x,t.y]),t.crayonBaisse&&t.listeTraces.push([r,i,t.x,t.y,t.color,t.epaisseur,t.pointilles,t.opacite])}function $459103e30f4604971e030953f4b52e1b$export$baisseCrayon(e=mathalea.lutin){e.crayonBaisse=!0}function $459103e30f4604971e030953f4b52e1b$export$leveCrayon(e=mathalea.lutin){e.crayonBaisse=!1}function $459103e30f4604971e030953f4b52e1b$export$orienter(e,t=mathalea.lutin){t.orientation=$459103e30f4604971e030953f4b52e1b$export$angleModulo(e)}function $459103e30f4604971e030953f4b52e1b$export$tournerG(e,t=mathalea.lutin){t.orientation=$459103e30f4604971e030953f4b52e1b$export$angleModulo(t.orientation+e)}function $459103e30f4604971e030953f4b52e1b$export$tournerD(e,t=mathalea.lutin){t.orientation=$459103e30f4604971e030953f4b52e1b$export$angleModulo(t.orientation-e)}function $459103e30f4604971e030953f4b52e1b$export$allerA(e,t,r=mathalea.lutin){let i=r.x,n=r.y;r.x=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e/mathalea.unitesLutinParCm),r.y=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(t/mathalea.unitesLutinParCm),r.historiquePositions.push([r.x,r.y]),r.crayonBaisse&&r.listeTraces.push([i,n,r.x,r.y,r.color,r.epaisseur,r.pointilles,r.opacite])}function $459103e30f4604971e030953f4b52e1b$export$mettrexA(e,t=mathalea.lutin){let r=t.x;t.x=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e/mathalea.unitesLutinParCm),t.historiquePositions.push([t.x,t.y]),t.crayonBaisse&&t.listeTraces.push([r,t.y,t.x,t.y,t.color,t.epaisseur,t.pointilles])}function $459103e30f4604971e030953f4b52e1b$export$mettreyA(e,t=mathalea.lutin){let r=t.y;t.y=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e/mathalea.unitesLutinParCm),t.historiquePositions.push([t.x,t.y]),t.crayonBaisse&&t.listeTraces.push([t.x,r,t.x,t.y,t.color,t.epaisseur,t.pointilles])}function $459103e30f4604971e030953f4b52e1b$export$ajouterAx(e,t=mathalea.lutin){let r=t.x;t.x+=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e/mathalea.unitesLutinParCm),t.historiquePositions.push([t.x,t.y]),t.crayonBaisse&&t.listeTraces.push([r,t.y,t.x,t.y,t.color,t.epaisseur,t.pointilles])}function $459103e30f4604971e030953f4b52e1b$export$ajouterAy(e,t=mathalea.lutin){let r=t.y;t.y+=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(e/mathalea.unitesLutinParCm),t.historiquePositions.push([t.x,t.y]),t.crayonBaisse&&t.listeTraces.push([t.x,r,t.x,t.y,t.color,t.epaisseur,t.pointilles])}function $459103e30f4604971e030953f4b52e1b$export$scratchblock(e){let t,r,i=/[\\\{\}]/,n=/[\[\]<>]/,o=/[\{\ ]/,s=function(e,t,r){let a,c,l,p,u,f,d=[],h=[],b=[],$=[];switch(a=function(e){let t;return"}"==e[0]?"}":(t=e.split(o)[0],t)}(e.substring(t)),a.substring(0,5)){case"\\bloc":switch(l=a.split("{")[0],c=l.length,l=l.substring(6),r++,l){case"stop":h=s(e,t+c+1,r),b=s(e,h[1],h[2]),d=[`${h[0]} ${b[0]} `,b[1],b[2]];break;case"move":case"control":h=s(e,t+c+1,r),d=[h[0],h[1],h[2]];break;case"list":h=s(e,t+c+1,r),d=[h[0]+" :: list",h[1],h[2]];break;case"init":h=s(e,t+c+1,r),d=[h[0],h[1],h[2]];break;case"space\n":d=["\n",11+t,--r];break;case"if":for(h=s(e,t+c+1,r),b=s(e,h[1],h[2]),$=s(e,b[1],b[2]),d=[`${h[0]} ${b[0]} ${$[0]}`,$[1]+1,$[2]-1],u=(r=d[2])+1,f=e.substring(d[1]).indexOf("{")+d[1],d[1]=f+1,d[0]+="\n";u>r;)h=s(e,d[1],u),d[0]+=" "+h[0],d[1]=h[1],u=h[2];d[0]+=" fin";break;case"ifelse":for(h=s(e,t+c+1,r),b=s(e,h[1],h[2]),$=s(e,b[1],b[2]),d=[`${h[0]} ${b[0]} ${$[0]}`,$[1]+1,$[2]-1],u=(r=d[2])+1,f=e.substring(d[1]).indexOf("{")+d[1],d[1]=f+1,d[0]+="\n";u>r;)h=s(e,d[1],u),d[0]+=" "+h[0],d[1]=h[1],u=h[2];for(d[0]+=" sinon",u=r+1,f=e.substring(d[1]).indexOf("{")+d[1],d[1]=f+1,d[0]+="\n";u>r;)h=s(e,d[1],u),d[0]+=" "+h[0],d[1]=h[1],u=h[2];d[0]+=" fin";break;case"repeat":for(h=s(e,t+c+1,r),"indéfiniment"!=h[0].split(" ")[1]?"jusqu'à"!=h[0].split(" ")[1]?(b=s(e,h[1],h[2]),$=s(e,b[1],b[2]),d=[`${h[0]} ${b[0]} ${$[0]}`,$[1]+1,$[2]-1],r=d[2]):(b=s(e,h[1],h[2]),d=[`${h[0]} ${b[0]} `,b[1]+1,b[2]-1],r=d[2]):(d=[`${h[0]} `,h[1]+1,h[2]-1],r=d[2]),u=r+1,f=e.substring(d[1]).indexOf("{")+d[1],d[1]=f+1,d[0]+="\n";u>r;)h=s(e,d[1],u),d[0]+=" "+h[0],d[1]=h[1],u=h[2];d[0]+=" fin";break;default:h=s(e,t+c+1,r),d=[h[0],h[1],h[2]]}break;case"\\oval":switch(l=a.split("{")[0],c=l.length,l=l.substring(5),r++,"*"==l.charAt(l.length-1)?(p=!0,l=l.substring(0,l.length-1)):p=!1,l){case"num":h=s(e,t+c+1,r),d=isNaN(h[0])&&h[0].indexOf(n)?[`[${h[0]}]`,h[1]+1,h[2]-1]:[`(${h[0]})`,h[1]+1,h[2]-1];break;case"moreblocks":h=s(e,t+c+1,r),d=p?[`(${h[0]} v)`,h[1],h[2]]:[`(${h[0]})`,h[1],h[2]];break;case"variable":h=s(e,t+c+1,r),d=p?[`(${h[0]} v)`,h[1]+1,h[2]-1]:[`(${h[0]})`,h[1]+1,h[2]-1];break;case"sound":h=s(e,t+c+1,r),d=p?[`(${h[0]} v :: sound)`,h[1]+1,h[2]-1]:[`(${h[0]} :: sound)`,h[1]+1,h[2]-1];break;case"sensing":h=s(e,t+c+1,r),d=p?[`(${h[0]} v :: sensing)`,h[1]+1,h[2]-1]:[`(${h[0]} :: sensing)`,h[1]+1,h[2]-1];break;case"operator":for(h=s(e,t+c+1,r),b=s(e,h[1],h[2]),d=[`(${h[0]} ${b[0]}`,b[1],b[2]];"}"!=e.charAt(b[1]);)b=s(e,b[1],b[2]),d[0]+=" "+b[0];d[0]+=")",d[1]=b[1]+1,d[2]=b[2]-1;break;default:h=s(e,t+c+1,r),d=p?[`(${h[0]} v)`,h[1]+1,h[2]-1]:[`(${h[0]})`,h[1]+1,h[2]-1]}break;case"\\bool":switch(l=a.split(/\{ /)[0],c=l.length,l=l.substring(5,9),l){case"oper":for(r++,h=s(e,t+c+1,r),b=s(e,h[1],h[2]),d=[`<${h[0]} ${b[0]}`,b[1],b[2]];"}"!=e.charAt(b[1]);)b=s(e,b[1],b[2]),d[0]+=" "+b[0];d[0]+=" :: operators boolean>",d[1]=b[1]+1,d[2]=b[2]-1;break;case"empt":d=["< vide :: operators boolean>",t+c+1,r];break;case"sens":for(r++,h=s(e,t+c+1,r),b=s(e,h[1],h[2]),d=[`<${h[0]} ${b[0]}`,b[1],b[2]];"}"!=e.charAt(b[1]);)b=s(e,b[1],b[2]),d[0]+=" "+b[0];d[0]+=" :: sensing>",d[1]=b[1]+1,d[2]=b[2]-1;break;case"list":for(r++,h=s(e,t+c+1,r),b=s(e,h[1],h[2]),d=[`<${h[0]} ${b[0]}`,b[1],b[2]];"}"!=e.charAt(b[1]);)b=s(e,b[1],b[2]),d[0]+=" "+b[0];d[0]+=" :: list>",d[1]=b[1]+1,d[2]=b[2]-1;break;default:h=s(e,t+c+1,r),d=[`<${h[0]}>`,h[1],h[2]]}break;case"\\init":l=a.split("{")[0],c=l.length,r++,h=s(e,t+c+1,r),b=s(e,h[1],h[2]),d=[`${h[0]} ${b[0]} `,b[1],b[2]];break;case"\\name":for(l=a.split("{")[0],c=l.length,r++,h=s(e,t+c+1,r),b=s(e,h[1],h[2]),d=[`${h[0]} ${b[0]}`,b[1],b[2]];"}"!=e.charAt(b[1]);)b=s(e,b[1],b[2]),d[0]+=" "+b[0];d[1]=b[1]+1,d[2]=b[2]-1;break;default:switch(a){case"}":d=[" ",1+t,--r];break;case"\\begin":r++,"["==e.substring(15+t)[0]?t=e.substring(15+t).indexOf("]")+16+t:t+=15,d=[" \x3c!-- Code Scratch  --\x3e",t,r];break;case"\\end":d=[" \x3c!-- Fin du Code Scratch  --\x3e\n",13+t,--r];break;case"\\turnleft":d=["gauche ",11+t,r];break;case"\\turnright":d=["droite ",12+t,r];break;case"\\greenflag":d=[" @greenFlag ",10+t,r];break;case"\\selectmenu":r++,h=s(e,12+t,r),d=[`[${h[0]} v]`,h[1]+1,h[2]-1];break;default:l=e.substring(t).split(i)[0],d=[l,l.length+t,r]}}return d},a="",c=[],l=0;if((e.match(/\{/g)||[]).length!=(e.match(/\}/g)||[]).length)return console.log("Il n'y a pas le même nombre de { que de }. Je préfère m'arrêter."),!1;if(sortie_html){for(a="<pre class='blocks'>",r=0,t=!1;!t;)c=s(e,r,l),a+=c[0],r=c[1],l=c[2],0==l&&(t=!0);a+="</pre>\n"}else a=e;return a}function $459103e30f4604971e030953f4b52e1b$var$AfficherCrayon(e){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.x=e.x,this.y=e.y,this.svg=function(){return`<g id="${this.id}" stroke="#000000" fill="none" transform="translate(${(this.x-.2)*mathalea.pixelsParCm},${-60-(this.y-.2)*mathalea.pixelsParCm}) scale(.1) ">\n   <path id="rect2990" d="m70.064 422.35 374.27-374.26 107.58 107.58-374.26 374.27-129.56 21.97z" stroke-width="30"/>\n   <path id="path3771" d="m70.569 417.81 110.61 110.61" stroke-width="25"/>\n   <path id="path3777" d="m491.47 108.37-366.69 366.68" stroke-width="25"/>\n   <path id="path3763" d="m54.222 507.26 40.975 39.546" stroke-width="25"/>\n  </g>`}}function $459103e30f4604971e030953f4b52e1b$export$afficherCrayon(...e){return new $459103e30f4604971e030953f4b52e1b$var$AfficherCrayon(...e)}function $459103e30f4604971e030953f4b52e1b$export$codeSvg(e,t,r,...i){let n="",o=e[0],s=-1*e[3],a=e[2],c=-1*e[1];n=`<svg width="${(a-o)*t}" height="${(c-s)*t}" viewBox="${o*t} ${s*t} ${(a-o)*t} ${(c-s)*t}" xmlns="http://www.w3.org/2000/svg">\n`;for(let e of i){if(Array.isArray(e))for(let i=0;i<e.length;i++)try{e[i].isVisible&&(r&&void 0!==e[i].svgml?n+="\t"+e[i].svgml(t,mathalea.amplitude)+"\n":n+="\t"+e[i].svg(t)+"\n")}catch(e){}try{e.isVisible&&(r&&void 0!==e.svgml?n+="\t"+e.svgml(t,amplitude)+"\n":n+="\t"+e.svg(t)+"\n")}catch(e){}}return n+="</svg>",n}function $459103e30f4604971e030953f4b52e1b$export$codeTikz(e,t,r,...i){let n="",o=e[0],s=-1*e[3],a=e[2],c=-1*e[1],l=sortie_html;sortie_html=!1,n+=1==t?"\\begin{tikzpicture}[baseline]\n":`\\begin{tikzpicture}[baseline,scale = ${t}]\n`,n+=`\\tikzset{\n\t\tpoint/.style={\n\t\t\tthick,\n\t\t\tdraw,\n\t\t\tcross out,\n\t\t\tinner sep=0pt,\n\t\t\tminimum width=5pt,\n\t\t\tminimum height=5pt,\n\t\t},\n\t}\n\t\\clip (${o},${s}) rectangle (${a},${c});\n\n\t\n\n`;for(let e of i){if(Array.isArray(e))for(let t=0;t<e.length;t++)try{e[t].isVisible&&(r&&void 0!==e[t].tikzml?n+="\t"+e[t].tikzml(mathalea.amplitude)+"\n":n+="\t"+e[t].tikz()+"\n")}catch(e){}try{e.isVisible&&(r&&void 0!==e.tikzml?n+="\t"+e.tikzml(mathalea.amplitude)+"\n":n+="\t"+e.tikz()+"\n")}catch(e){}}return n+="\\end{tikzpicture}\n",sortie_html=l,n}function $459103e30f4604971e030953f4b52e1b$export$mathalea2d({xmin:e=0,ymin:t=0,xmax:r=15,ymax:i=6,pixelsParCm:n=20,scale:o=1,optionsTikz:s,mainlevee:a=!1,amplitude:c=1}={},...l){let p="";if(sortie_html){p=`<svg class="mathalea2d" width="${(r-e)*n}" height="${(i-t)*n}" viewBox="${e*n} ${-i*n} ${(r-e)*n} ${(i-t)*n}" xmlns="http://www.w3.org/2000/svg">\n`;for(let e of l){if(Array.isArray(e))for(let t=0;t<e.length;t++)try{e[t].isVisible&&(a&&void 0!==e[t].svgml?p+="\t"+e[t].svgml(n,c)+"\n":p+="\t"+e[t].svg(n)+"\n")}catch(r){console.log("premiere boucle",r.message,e[t],t)}try{e.isVisible&&(a&&void 0!==e.svgml?p+="\t"+e.svgml(n,c)+"\n":p+="\t"+e.svg(n)+"\n")}catch(t){console.log("le try tout seul",t.message,e)}}p+="\n</svg>",p=p.replace(/\\thickspace/gm," ")}else{let n=[];if(void 0!==s&&("string"==typeof s?n.push(s):s.forEach((e=>n.push(e)))),1==o){p="\\begin{tikzpicture}[baseline";for(let e=0;e<n.length;e++)p+=`,${n[e]}`;p+="]\n"}else{p=`\\begin{tikzpicture}[baseline,scale = ${o}`;for(let e=0;e<n.length;e++)p+=`,${n[e]}`;p+="]\n"}p+=`\n\t\t\\tikzset{\n\t\t\tpoint/.style={\n\t\t\t\tthick,\n\t\t\t\tdraw,\n\t\t\t\tcross out,\n\t\t\t\tinner sep=0pt,\n\t\t\t\tminimum width=5pt,\n\t\t\t\tminimum height=5pt,\n\t\t\t},\n\t\t}\n\t\t\\clip (${e},${t}) rectangle (${r},${i});\n\n\n\t\t`;for(let e of l){if(Array.isArray(e))for(let t=0;t<e.length;t++)try{e[t].isVisible&&(a&&void 0!==e[t].tikzml?p+="\t"+e[t].tikzml(c)+"\n":p+="\t"+e[t].tikz()+"\n")}catch(e){}try{e.isVisible&&(a&&void 0!==e.tikzml?p+="\t"+e.tikzml(c)+"\n":p+="\t"+e.tikz()+"\n")}catch(e){}}p+="\n\\end{tikzpicture}"}return p}function $459103e30f4604971e030953f4b52e1b$export$motifs(e){switch(e){case 0:return"north east lines";case 1:return"horizontal lines";case 2:return"vertical lines";case 3:return"dots";case 4:return"crosshatch dots";case 5:return"fivepointed stars";case 6:return"sixpointed stars";case 7:return"bricks";case 8:return"checkerboard";case 9:return"grid";case 10:return"crosshatch";default:return"north east lines"}}function $459103e30f4604971e030953f4b52e1b$var$pattern({motif:e="north east lines",id:t,distanceDesHachures:r=10,epaisseurDesHachures:i=1,couleurDesHachures:n="black",couleurDeRemplissage:o="none",opaciteDeRemplissage:s=.5}){let a="";if(sortie_html){switch(o.length<1&&(o="none"),e){case"north east lines":a+=`<pattern id="pattern${t}" width="${r}" height="${r}"  patternTransform="rotate(45 0 0)" patternUnits="userSpaceOnUse">\n            <rect x="0" y="0" width="${r}" height="${r}" fill="${o}" fill-opacity="${s}"/>\n            <line x1="0" y1="0" x2="0" y2="${r}" style="stroke:${n}; stroke-width:${i}" />\n            </pattern>`;break;case"horizontal lines":a+=`<pattern id="pattern${t}" width="${r}" height="${r}"  patternUnits="userSpaceOnUse">\n            <rect x="0" y="0" width="${r}" height="${r}" fill="${o}" fill-opacity="${s}"/>\n            <line x1="0" y1="${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r/2)}" x2="${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r)}" y2="${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(r/2)}" style="stroke:${n}; stroke-width:${i}" />\n            </pattern>`;break;case"vertical lines":a+=`<pattern id="pattern${t}" width="${r}" height="${r}"  patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n            <rect x="0" y="0" width="${r}" height="${r}" fill="${o}" fill-opacity="${s}"/>\n            <line x1="0" y1="0" x2="0" y2="${r}" style="stroke:${n}; stroke-width:${i}" />\n            </pattern>`;break;case"dots":a+=`<pattern id="pattern${t}" width="${r}" height="${r}"  patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n            <circle cx="3" cy="3" r="1.5" fill="${o}" fill-opacity="${s}"/>\n            <circle cx="8" cy="3" r="1.5" fill="${o}" fill-opacity="${s}"/>\n            <circle cx="3" cy="8" r="1.5" fill="${o}" fill-opacity="${s}"/>\n            <circle cx="8" cy="8" r="1.5" fill="${o}" fill-opacity="${s}"/>\n            </pattern>`;break;case"crosshatch dots":a+=`<pattern id="pattern${t}" width="12" height="12" x="12" y="12" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n          <circle cx="2" cy="2" r="1.5" fill="${o}" fill-opacity="${s}"/>\n          <circle cx="8" cy="2" r="1.5" fill="${o}" fill-opacity="${s}"/>\n          <circle cx="5" cy="5" r="1.5" fill="${o}" fill-opacity="${s}"/>\n          <circle cx="2" cy="8" r="1.5" fill="${o}" fill-opacity="${s}"/>\n          <circle cx="8" cy="8" r="1.5" fill="${o}" fill-opacity="${s}"/>\n          <circle cx="5" cy="11" r="1.5" fill="${o}" fill-opacity="${s}"/>\n          <circle cx="11" cy="5" r="1.5" fill="${o}" fill-opacity="${s}"/>\n          <circle cx="11" cy="11" r="1.5" fill="${o}" fill-opacity="${s}"/>\n          </pattern>`;break;case"fivepointed stars":a+=`<pattern id="pattern${t}" width="12" height="12" x="10" y="10" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n          <polygon points="10,5 6.2,4.2 6.6,0.2 4.6,3.6 1,2 3.6,5 1,8 4.6,6.4 6.6,9.8 6.2,5.8 " stroke="${n}"  fill="${o}" fill-opacity="${s}" />\n          </pattern>`;break;case"sixpointed stars":a+=`<pattern id="pattern${t}"  width="12" height="12" x="10" y="10" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n        <polygon points="10,5 7.6,3.4 7.6,0.6 5,2 2.6,0.6 2.4,3.4 0,5 2.4,6.4 2.6,9.4 5,8 7.6,9.4 7.6,6.4 " stroke="${n}" fill="${o}" fill-opacity="${s}" />\n        </pattern>`;break;case"crosshatch":a+=`<pattern id="pattern${t}" width="12" height="12" x="10" y="10" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n          <polygon points="2,2 7.6,7.6 7,8.4 9.8,8.4 9.8,5.6 9,6.2 3.4,0.6 " stroke="${n}"  fill="${o}" fill-opacity="${s}" />\n          </pattern>`;break;case"bricks":a+=`<pattern id="pattern${t}" width="18" height="16" x="18" y="16" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n          <line x1="4" y1="2" x2="4" y2="4" stroke="${n}" fill="${o}" fill-opacity="${s}"  />\n          <line x1="0" y1="4" x2="16" y2="4" stroke="${n}" fill="${o}" fill-opacity="${s}"   />\n          <line x1="14" y1="4" x2="14" y2="12" stroke="${n}" fill="${o}" fill-opacity="${s}"   />\n          <line x1="16" y1="12" x2="0" y2="12" stroke="${n}" fill="${o}" fill-opacity="${s}"   />\n          <line x1="4" y1="12" x2="4" y2="16" stroke="${n}" fill="${o}" fill-opacity="${s}"   />\n          </pattern>`;break;case"grid":a+=`<pattern id="pattern${t}" width="10" height="10" x="10" y="10" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n          <polyline points="8,8 0,8 0,0 " fill="none" stroke="${n}" />\n          </pattern>`;break;case"checkerboard":a+=`<pattern id="pattern${t}" width="8" height="8" x="8" y="8" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n          <polygon points="4,4 8,4 8,0 4,0 "  fill="${o}" fill-opacity="${s}" />\n          <polygon points="0,4 4,4 4,8 0,8 "  fill="${o}" fill-opacity="${s}" />\n        \n          </pattern>`;break;default:a+=`<pattern id="pattern${t}" width="${r}" height="${r}"  patternTransform="rotate(45 0 0)" patternUnits="userSpaceOnUse">\n        <rect x="0" y="0" width="${r}" height="${r}" fill="${o}" fill-opacity="${s}"/>\n        <line x1="0" y1="0" x2="0" y2="${r}" style="stroke:${n}; stroke-width:${i}" />\n        </pattern>`}return a}if(mathalea.sortieNB)switch(e){case"north east lines":case"horizontal lines":case"vertical lines":case"dots":case"crosshatch dots":case"fivepointed stars":case"sixpointed stars":case"crosshatch":case"bricks":case"grid":case"checkerboard":a=`pattern = ${e}`;break;default:a="pattern = north east lines"}else switch(e){case"north east lines":case"horizontal lines":case"vertical lines":case"dots":case"crosshatch dots":case"fivepointed stars":case"sixpointed stars":case"crosshatch":case"bricks":case"grid":case"checkerboard":a=`pattern color = ${n} , pattern = ${e}`;break;default:a=`pattern color = ${n} , pattern = north east lines`}return`${a}`}function $459103e30f4604971e030953f4b52e1b$var$Labyrinthe(){this.murs2d=[],this.chemin2d=[],this.nombres2d=[],this.chemin=[],this.niveau=3,this.nombres=[[]];let e,t="brown",r=[[[1,0],[2,0],[3,0],[4,0],[5,0],[5,1],[6,1]],[[1,0],[2,0],[3,0],[4,0],[4,1],[5,1],[6,1]],[[1,0],[2,0],[2,1],[3,1],[4,1],[5,1],[6,1]],[[1,0],[1,1],[2,1],[3,1],[4,1],[5,1],[6,1]],[[1,0],[2,0],[3,0],[4,0],[5,0],[5,1],[5,2],[6,2]],[[1,0],[2,0],[3,0],[4,0],[4,1],[5,1],[5,2],[6,2]],[[1,0],[2,0],[3,0],[4,0],[4,1],[4,2],[5,2],[6,2]],[[1,0],[2,0],[3,0],[3,1],[4,1],[5,1],[5,2],[6,2]],[[1,0],[2,0],[3,0],[3,1],[3,2],[4,2],[5,2],[6,2]],[[1,0],[2,0],[2,1],[3,1],[4,1],[4,2],[5,2],[6,2]],[[1,0],[1,1],[2,1],[2,2],[3,2],[4,2],[5,2],[6,2]],[[1,0],[1,1],[2,1],[3,1],[4,1],[4,0],[5,0],[6,0]],[[1,0],[1,1],[2,1],[3,1],[4,1],[5,1],[5,2],[6,2]],[[1,0],[1,1],[1,2],[2,2],[3,2],[4,2],[5,2],[6,2]],[[1,0],[1,1],[2,1],[2,2],[3,2],[4,2],[5,2],[5,1],[6,1]],[[1,0],[2,0],[3,0],[3,1],[3,2],[4,2],[5,2],[5,1],[6,1]],[[1,0],[1,1],[1,2],[2,2],[3,2],[3,1],[4,1],[5,1],[6,1]],[[1,0],[1,1],[1,2],[2,2],[3,2],[4,2],[4,1],[5,1],[6,1]],[[1,0],[2,0],[3,0],[3,1],[3,2],[4,2],[5,2],[5,1],[5,0],[6,0]],[[1,0],[1,1],[2,1],[2,2],[3,2],[4,2],[4,1],[4,0],[5,0],[6,0]],[[1,0],[1,1],[2,1],[2,2],[3,2],[4,2],[5,2],[5,1],[5,0],[6,0]],[[1,0],[1,1],[1,2],[2,2],[3,2],[4,2],[4,1],[4,0],[5,0],[6,0]],[[1,0],[1,1],[1,2],[2,2],[3,2],[3,1],[3,0],[4,0],[5,0],[5,1],[5,2],[6,2]],[[1,0],[1,1],[1,2],[2,2],[3,2],[3,1],[3,0],[4,0],[5,0],[5,1],[5,2],[6,2]]];for(let t=0;t<24;t++){e=[];for(let i=0;i<r[t].length;i++)e.push([r[t][i][0],2-r[t][i][1]]);r.push(e)}this.choisitChemin=function(e){let t,i=$cf7a0e0dfc1e90c0e915b74752829335$export$choice([0,24]);switch(e){case 1:t=$cf7a0e0dfc1e90c0e915b74752829335$export$randint(0,3)+i;break;case 2:t=$cf7a0e0dfc1e90c0e915b74752829335$export$randint(4,13)+i;break;case 3:t=$cf7a0e0dfc1e90c0e915b74752829335$export$randint(14,17)+i;break;case 4:t=$cf7a0e0dfc1e90c0e915b74752829335$export$randint(18,21)+i;break;case 5:t=$cf7a0e0dfc1e90c0e915b74752829335$export$randint(22,23)+i;break;case 6:t=$cf7a0e0dfc1e90c0e915b74752829335$export$randint(0,23)+i}return r[t]},this.construitMurs=function(e){let t,r,i,n,o,s,a=[];t=0==e[0][1]?0:2;for(let e=0;e<6;e++)0==t?(r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(3*e,1),$459103e30f4604971e030953f4b52e1b$export$point(3*e,2)),r.epaisseur=2,a.push(r),e>0&&(i=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(3*e,10),$459103e30f4604971e030953f4b52e1b$export$point(3*e,9)),i.epaisseur=2,a.push(i))):(r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(3*e,10),$459103e30f4604971e030953f4b52e1b$export$point(3*e,9)),r.epaisseur=2,a.push(r),e>0&&(i=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(3*e,1),$459103e30f4604971e030953f4b52e1b$export$point(3*e,2)),i.epaisseur=2,a.push(i)));0==t?(r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(0,10),$459103e30f4604971e030953f4b52e1b$export$point(0,3)),r.epaisseur=3,a.push(r),r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(-3,1),$459103e30f4604971e030953f4b52e1b$export$point(0,1),"green"),r.epaisseur=3,a.push(r),r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(-3,1),$459103e30f4604971e030953f4b52e1b$export$point(-3,4),"green"),r.epaisseur=3,a.push(r),r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(-3,4),$459103e30f4604971e030953f4b52e1b$export$point(0,4),"green"),r.epaisseur=3,a.push(r),a.push($459103e30f4604971e030953f4b52e1b$export$texteParPoint("Départ",$459103e30f4604971e030953f4b52e1b$export$point(-1.5,2.5),"milieu","blue",1.5,0,!1))):(r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(0,1),$459103e30f4604971e030953f4b52e1b$export$point(0,8)),r.epaisseur=3,a.push(r),r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(-3,10),$459103e30f4604971e030953f4b52e1b$export$point(0,10),"green"),r.epaisseur=3,a.push(r),r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(-3,7),$459103e30f4604971e030953f4b52e1b$export$point(-3,10),"green"),r.epaisseur=3,a.push(r),r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(-3,7),$459103e30f4604971e030953f4b52e1b$export$point(0,7),"green"),r.epaisseur=3,a.push(r),a.push($459103e30f4604971e030953f4b52e1b$export$texteParPoint("Départ",$459103e30f4604971e030953f4b52e1b$export$point(-1.5,8.5),"milieu","blue",1.5,0,!1)));for(let e=1;e<6;e++)r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(3*e,8),$459103e30f4604971e030953f4b52e1b$export$point(3*e,6),"black"),r.epaisseur=2,i=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(3*e-.5,7),$459103e30f4604971e030953f4b52e1b$export$point(3*e+.5,7),"black"),i.epaisseur=2,n=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(3*e,5),$459103e30f4604971e030953f4b52e1b$export$point(3*e,3),"black"),n.epaisseur=2,o=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(3*e-.5,4),$459103e30f4604971e030953f4b52e1b$export$point(3*e+.5,4),"black"),o.epaisseur=2,a.push(i,n,o,r);r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(18,9),$459103e30f4604971e030953f4b52e1b$export$point(18,10)),r.epaisseur=3,a.push(r),r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(0,10),$459103e30f4604971e030953f4b52e1b$export$point(18,10)),r.epaisseur=3,a.push(r),r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(18,9),$459103e30f4604971e030953f4b52e1b$export$point(18,10)),r.epaisseur=3,a.push(r),r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(18,1),$459103e30f4604971e030953f4b52e1b$export$point(18,2)),r.epaisseur=3,a.push(r),r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(0,1),$459103e30f4604971e030953f4b52e1b$export$point(18,1)),r.epaisseur=3,a.push(r);for(let e=0;e<2;e++)r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(18,6-3*e),$459103e30f4604971e030953f4b52e1b$export$point(20,6-3*e)),r.epaisseur=3,i=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(18,7-3*e),$459103e30f4604971e030953f4b52e1b$export$point(17,7-3*e)),i.epaisseur=3,n=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(18,8-3*e),$459103e30f4604971e030953f4b52e1b$export$point(20,8-3*e)),n.epaisseur=3,o=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(18,8-3*e),$459103e30f4604971e030953f4b52e1b$export$point(18,6-3*e)),o.epaisseur=3,s=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(0,7-3*e),$459103e30f4604971e030953f4b52e1b$export$point(1,7-3*e)),s.epaisseur=3,a.push(r,i,n,o,s);for(let e=1;e<=3;e++)a.push($459103e30f4604971e030953f4b52e1b$export$texteParPoint(`Sortie ${e}`,$459103e30f4604971e030953f4b52e1b$export$point(19.5,11.5-3*e),"milieu","blue",1.5,0,!1));return r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(18,9),$459103e30f4604971e030953f4b52e1b$export$point(20,9)),r.epaisseur=3,i=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(18,2),$459103e30f4604971e030953f4b52e1b$export$point(20,2)),i.epaisseur=3,a.push(r,i),a},this.traceChemin=function(e){let r,i=e[0][1],n=0,o=[];for(let s=0;s<e.length;s++)r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(3*n-1.5,3*i+2.5),$459103e30f4604971e030953f4b52e1b$export$point(3*e[s][0]-1.5,3*e[s][1]+2.5),t),r.pointilles=!0,r.stylePointilles=2,r.epaisseur=5,r.opacite=.3,o.push(r),n=e[s][0],i=e[s][1];return r=$459103e30f4604971e030953f4b52e1b$export$segment($459103e30f4604971e030953f4b52e1b$export$point(3*n-1.5,3*i+2.5),$459103e30f4604971e030953f4b52e1b$export$point(3*n+1.5,3*i+2.5),t),r.pointilles=!0,r.stylePointilles=2,r.epaisseur=5,r.opacite=.3,o.push(r),o},this.placeNombres=function(e,t){let r=[];for(let i=1;i<7;i++)for(let n=0;n<3;n++)"number"==typeof e[i-1][n]?r.push($459103e30f4604971e030953f4b52e1b$export$texteParPoint($cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(e[i-1][n]),$459103e30f4604971e030953f4b52e1b$export$point(3*i-1.5,2.5+3*n),"milieu","black",t,0,!0)):"string"==typeof e[i-1][n]?r.push($459103e30f4604971e030953f4b52e1b$export$texteParPosition(e[i-1][n],3*i-1.5,2.5+3*n,"milieu","black",t,0,!0)):r.push($459103e30f4604971e030953f4b52e1b$export$fractionParPosition({x:3*i-1.5,y:2.5+3*n,fraction:e[i-1][n]}));return r}}function $459103e30f4604971e030953f4b52e1b$export$labyrinthe(){return new $459103e30f4604971e030953f4b52e1b$var$Labyrinthe}function $459103e30f4604971e030953f4b52e1b$var$Pavage(){this.type=1,this.polygones=[],this.barycentres=[],this.tracesCentres=[],this.numeros=[],this.coordonnees=[],this.Nx=1,this.Ny=1,this.echelle=20,this.fenetre={},this.nb_polygones,this.construit=function(e=1,t=1,r=1,i=3){let n,o,s,a,c,l,p,u,f,d,h,b,$,m,g,x,v,y,_=0,E=0,k=0,S=0;switch(n=$459103e30f4604971e030953f4b52e1b$export$point(0,0),o=$459103e30f4604971e030953f4b52e1b$export$point(i,0),e){case 1:s=$459103e30f4604971e030953f4b52e1b$export$vecteur(n,o),a=$459103e30f4604971e030953f4b52e1b$export$rotation(s,n,-90),a=$459103e30f4604971e030953f4b52e1b$export$homothetie(a,n,1.73205);for(let e=0;e<r;e++){for(let e=0;e<t;e++){p=$459103e30f4604971e030953f4b52e1b$export$polygoneRegulier(n,o,3),u=$459103e30f4604971e030953f4b52e1b$export$rotation(p,n,60),f=$459103e30f4604971e030953f4b52e1b$export$rotation(p,n,-60),d=$459103e30f4604971e030953f4b52e1b$export$rotation(p,n,-120),this.polygones.push(p,u,f,d);for(let e of p.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of u.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of f.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of d.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);n=$459103e30f4604971e030953f4b52e1b$export$translation(n,s),o=$459103e30f4604971e030953f4b52e1b$export$translation(o,s)}n=$459103e30f4604971e030953f4b52e1b$export$translation(n,$459103e30f4604971e030953f4b52e1b$export$vecteur(-t*s.x,-2*s.y)),o=$459103e30f4604971e030953f4b52e1b$export$translation(o,$459103e30f4604971e030953f4b52e1b$export$vecteur(-t*s.x,-2*s.y)),n=$459103e30f4604971e030953f4b52e1b$export$translation(n,a),o=$459103e30f4604971e030953f4b52e1b$export$translation(o,a)}break;case 2:s=$459103e30f4604971e030953f4b52e1b$export$vecteur(n,o),s=$459103e30f4604971e030953f4b52e1b$export$homothetie(s,n,2),a=$459103e30f4604971e030953f4b52e1b$export$rotation(s,n,-90);for(let e=0;e<r;e++){for(let e=0;e<t;e++){p=$459103e30f4604971e030953f4b52e1b$export$polygoneRegulier(n,o,4),u=$459103e30f4604971e030953f4b52e1b$export$rotation(p,n,90),f=$459103e30f4604971e030953f4b52e1b$export$rotation(p,n,-90),d=$459103e30f4604971e030953f4b52e1b$export$rotation(p,n,-180),this.polygones.push(p,u,f,d);for(let e of p.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of u.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of f.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of d.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);n=$459103e30f4604971e030953f4b52e1b$export$translation(n,s),o=$459103e30f4604971e030953f4b52e1b$export$translation(o,s)}n=$459103e30f4604971e030953f4b52e1b$export$translation(n,$459103e30f4604971e030953f4b52e1b$export$vecteur(-t*s.x,-2*s.y)),o=$459103e30f4604971e030953f4b52e1b$export$translation(o,$459103e30f4604971e030953f4b52e1b$export$vecteur(-t*s.x,-2*s.y)),n=$459103e30f4604971e030953f4b52e1b$export$translation(n,a),o=$459103e30f4604971e030953f4b52e1b$export$translation(o,a)}break;case 3:o=$459103e30f4604971e030953f4b52e1b$export$homothetie(o,n,.8),s=$459103e30f4604971e030953f4b52e1b$export$vecteur(n,o),s=$459103e30f4604971e030953f4b52e1b$export$homothetie(s,n,2),a=$459103e30f4604971e030953f4b52e1b$export$rotation(s,n,-90),a=$459103e30f4604971e030953f4b52e1b$export$homothetie(a,n,1.73205);for(let e=0;e<r;e++){for(let e=0;e<t;e++){c=$459103e30f4604971e030953f4b52e1b$export$similitude(o,n,30,1.1547),p=$459103e30f4604971e030953f4b52e1b$export$polygoneRegulier(n,c,6),u=$459103e30f4604971e030953f4b52e1b$export$rotation(p,n,-120),f=$459103e30f4604971e030953f4b52e1b$export$translation(p,s),d=$459103e30f4604971e030953f4b52e1b$export$translation(u,s),this.polygones.push(p,u,f,d);for(let e of p.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of u.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of f.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of d.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);n=$459103e30f4604971e030953f4b52e1b$export$translation(n,$459103e30f4604971e030953f4b52e1b$export$vecteur(2*s.x,0)),o=$459103e30f4604971e030953f4b52e1b$export$translation(o,$459103e30f4604971e030953f4b52e1b$export$vecteur(2*s.x,0))}n=$459103e30f4604971e030953f4b52e1b$export$translation(n,$459103e30f4604971e030953f4b52e1b$export$vecteur(2*-t*s.x,a.y)),o=$459103e30f4604971e030953f4b52e1b$export$translation(o,$459103e30f4604971e030953f4b52e1b$export$vecteur(2*-t*s.x,a.y))}break;case 4:s=$459103e30f4604971e030953f4b52e1b$export$vecteur(n,o),s=$459103e30f4604971e030953f4b52e1b$export$homothetie(s,n,2.73205),a=$459103e30f4604971e030953f4b52e1b$export$rotation(s,n,-90);for(let e=0;e<r;e++){for(let e=0;e<t;e++){c=$459103e30f4604971e030953f4b52e1b$export$rotation(o,n,60),p=$459103e30f4604971e030953f4b52e1b$export$polygoneRegulier(n,o,3),u=$459103e30f4604971e030953f4b52e1b$export$rotation(p,n,150),b=$459103e30f4604971e030953f4b52e1b$export$rotation(p,o,-150),$=$459103e30f4604971e030953f4b52e1b$export$rotation(p,o,60),g=$459103e30f4604971e030953f4b52e1b$export$rotation(u,c,150),x=$459103e30f4604971e030953f4b52e1b$export$rotation(g,n,-60),v=$459103e30f4604971e030953f4b52e1b$export$rotation(u,o,60),y=$459103e30f4604971e030953f4b52e1b$export$rotation(b,n,-60),f=$459103e30f4604971e030953f4b52e1b$export$polygoneRegulier(n,c,4),d=$459103e30f4604971e030953f4b52e1b$export$polygoneRegulierIndirect(o,c,4),h=$459103e30f4604971e030953f4b52e1b$export$rotation(d,o,-150),m=$459103e30f4604971e030953f4b52e1b$export$rotation(f,n,150),this.polygones.push(p,u,f,d,h,b,$,m,g,x,v,y);for(let e of p.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of u.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of v.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of y.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of f.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of d.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of h.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of b.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of $.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of m.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of g.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of x.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);n=$459103e30f4604971e030953f4b52e1b$export$translation(n,$459103e30f4604971e030953f4b52e1b$export$vecteur(s.x,0)),o=$459103e30f4604971e030953f4b52e1b$export$translation(o,$459103e30f4604971e030953f4b52e1b$export$vecteur(s.x,0))}n=$459103e30f4604971e030953f4b52e1b$export$translation(n,$459103e30f4604971e030953f4b52e1b$export$vecteur(-t*s.x,a.y)),o=$459103e30f4604971e030953f4b52e1b$export$translation(o,$459103e30f4604971e030953f4b52e1b$export$vecteur(-t*s.x,a.y))}break;case 5:s=$459103e30f4604971e030953f4b52e1b$export$vecteur(n,o),s=$459103e30f4604971e030953f4b52e1b$export$homothetie(s,n,2.4142),a=$459103e30f4604971e030953f4b52e1b$export$rotation(s,n,-90);for(let e=0;e<r;e++){for(let e=0;e<t;e++){c=$459103e30f4604971e030953f4b52e1b$export$rotation(n,o,-135),p=$459103e30f4604971e030953f4b52e1b$export$polygoneRegulier(n,o,8),u=$459103e30f4604971e030953f4b52e1b$export$polygoneRegulierIndirect(n,o,8),f=$459103e30f4604971e030953f4b52e1b$export$translation(p,s),d=$459103e30f4604971e030953f4b52e1b$export$translation(u,s),h=$459103e30f4604971e030953f4b52e1b$export$polygoneRegulierIndirect(o,c,4),b=$459103e30f4604971e030953f4b52e1b$export$translation(h,s),$=$459103e30f4604971e030953f4b52e1b$export$translation(h,a),m=$459103e30f4604971e030953f4b52e1b$export$translation(b,a),this.polygones.push(p,u,f,d,h,b,$,m);for(let e of p.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of u.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of f.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of d.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of h.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of b.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of $.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of m.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);n=$459103e30f4604971e030953f4b52e1b$export$translation(n,$459103e30f4604971e030953f4b52e1b$export$vecteur(2*s.x,0)),o=$459103e30f4604971e030953f4b52e1b$export$translation(o,$459103e30f4604971e030953f4b52e1b$export$vecteur(2*s.x,0))}n=$459103e30f4604971e030953f4b52e1b$export$translation(n,$459103e30f4604971e030953f4b52e1b$export$vecteur(2*-t*s.x,2*a.y)),o=$459103e30f4604971e030953f4b52e1b$export$translation(o,$459103e30f4604971e030953f4b52e1b$export$vecteur(2*-t*s.x,2*a.y))}break;case 6:s=$459103e30f4604971e030953f4b52e1b$export$vecteur(n,o),a=$459103e30f4604971e030953f4b52e1b$export$rotation(s,n,60),s=$459103e30f4604971e030953f4b52e1b$export$vecteur(s.x+a.x,s.y+a.y),a=$459103e30f4604971e030953f4b52e1b$export$rotation(s,n,-60);for(let e=0;e<r;e++){for(let e=0;e<t;e++){c=$459103e30f4604971e030953f4b52e1b$export$rotation(n,o,120),l=$459103e30f4604971e030953f4b52e1b$export$rotation(o,c,60),p=$459103e30f4604971e030953f4b52e1b$export$polygone(n,o,c,l),u=$459103e30f4604971e030953f4b52e1b$export$rotation(p,c,-60),f=$459103e30f4604971e030953f4b52e1b$export$rotation(p,n,60),d=$459103e30f4604971e030953f4b52e1b$export$translation(u,s),h=$459103e30f4604971e030953f4b52e1b$export$translation(p,s),b=$459103e30f4604971e030953f4b52e1b$export$translation(f,s),$=$459103e30f4604971e030953f4b52e1b$export$translation(p,a),m=$459103e30f4604971e030953f4b52e1b$export$translation(u,a),g=$459103e30f4604971e030953f4b52e1b$export$translation(f,a),this.polygones.push(p,u,f,d,h,b,$,m,g);for(let e of p.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of u.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of f.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of d.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of h.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of b.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of $.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of m.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of g.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);n=$459103e30f4604971e030953f4b52e1b$export$translation(n,$459103e30f4604971e030953f4b52e1b$export$vecteur(a.x+s.x,a.y+s.y)),o=$459103e30f4604971e030953f4b52e1b$export$translation(o,$459103e30f4604971e030953f4b52e1b$export$vecteur(a.x+s.x,a.y+s.y))}n=$459103e30f4604971e030953f4b52e1b$export$translation(n,$459103e30f4604971e030953f4b52e1b$export$vecteur(-t*(a.x+s.x)+2*a.x-s.x,2*a.y-s.y)),o=$459103e30f4604971e030953f4b52e1b$export$translation(o,$459103e30f4604971e030953f4b52e1b$export$vecteur(-t*(a.x+s.x)+2*a.x-s.x,2*a.y-s.y))}break;case 7:s=$459103e30f4604971e030953f4b52e1b$export$vecteur(n,o),s=$459103e30f4604971e030953f4b52e1b$export$homothetie(s,n,2),a=$459103e30f4604971e030953f4b52e1b$export$rotation(s,n,-60);for(let e=0;e<r;e++){for(let e=0;e<t;e++){c=$459103e30f4604971e030953f4b52e1b$export$rotation(n,o,-120),l=$459103e30f4604971e030953f4b52e1b$export$rotation(o,c,-120),p=$459103e30f4604971e030953f4b52e1b$export$polygoneRegulier(n,o,6),u=$459103e30f4604971e030953f4b52e1b$export$polygoneRegulier(c,o,3),f=$459103e30f4604971e030953f4b52e1b$export$rotation(u,c,180),d=$459103e30f4604971e030953f4b52e1b$export$translation(f,a),h=$459103e30f4604971e030953f4b52e1b$export$translation(u,a),b=$459103e30f4604971e030953f4b52e1b$export$rotation(p,o,180),this.polygones.push(p,u,f,b,h,d);for(let e of p.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of u.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of f.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of d.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of h.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);for(let e of b.listePoints)_=Math.min(_,e.x),k=Math.max(k,e.x),E=Math.min(E,e.y),S=Math.max(S,e.y);n=$459103e30f4604971e030953f4b52e1b$export$translation(n,s),o=$459103e30f4604971e030953f4b52e1b$export$translation(o,s)}n=$459103e30f4604971e030953f4b52e1b$export$translation(n,$459103e30f4604971e030953f4b52e1b$export$vecteur(-t*s.x+2*a.x-s.x,2*a.y-s.y)),o=$459103e30f4604971e030953f4b52e1b$export$translation(o,$459103e30f4604971e030953f4b52e1b$export$vecteur(-t*s.x+2*a.x-s.x,2*a.y-s.y))}}this.echelle=$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(80/Math.sqrt(k-_),0),this.fenetre={xmin:_-.5,ymin:E-.5,xmax:k+.5,ymax:S+.5,pixelsParCm:this.echelle,scale:$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(this.echelle/30,2)},function(e){let t,r;for(let i=0;i<e.length;i++){t=$459103e30f4604971e030953f4b52e1b$export$barycentre(e[i]);for(let n=i+1;n<e.length;)r=$459103e30f4604971e030953f4b52e1b$export$barycentre(e[n]),$cf7a0e0dfc1e90c0e915b74752829335$export$egal(t.x,r.x,.1)&&$cf7a0e0dfc1e90c0e915b74752829335$export$egal(t.y,r.y,.1)?e.splice(n,1):n++}}(this.polygones),this.nb_polygones=this.polygones.length;for(let e=0;e<this.nb_polygones;e++)this.barycentres.push($459103e30f4604971e030953f4b52e1b$export$barycentre(this.polygones[e])),this.tracesCentres.push($459103e30f4604971e030953f4b52e1b$export$tracePoint(this.barycentres[e])),this.tracesCentres[e].opacite=.5,this.tracesCentres[e].color="blue",this.tracesCentres[e].taille=2,this.coordonnees.push([$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(this.barycentres[e].x,2),$cf7a0e0dfc1e90c0e915b74752829335$export$arrondi(this.barycentres[e].y,2)]),this.numeros.push($459103e30f4604971e030953f4b52e1b$export$texteParPosition($cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(e+1),this.barycentres[e].x+.5,this.barycentres[e].y,"milieu","black",50/this.echelle,0,!0))}}function $459103e30f4604971e030953f4b52e1b$export$pavage(){return new $459103e30f4604971e030953f4b52e1b$var$Pavage}function $459103e30f4604971e030953f4b52e1b$var$TkzTab({tabInit:e,tabLines:t}){$459103e30f4604971e030953f4b52e1b$export$ObjetMathalea2D.call(this),this.tabInit=e,this.tabLines=t,this.svg=function(){},this.makeFirstStrTabInit=function(){let t=e[0],r="";for(let e=0;e<t.length;e++)r+=` ${t[e][0]} / ${t[e][1]},`;return r=r.substring(0,r.length-1),r},this.makeSecondStrTabInit=function(){let t=e[1],r="";for(let e=0;e<t.length;e++)r+=` ${t[e]},`;return r=r.substring(0,r.length-1),r},this.tkzTabInit=function(){return`\\tkzTabInit[lgt=3.5]{${this.makeFirstStrTabInit()}}{${this.makeSecondStrTabInit()}}`},this.makeStrTabLines=function(){let e=t,r=[],i="";for(let t=0;t<e.length;t++){i+="";for(let r=1;r<e[t].length;r++)i+=` ${e[t][r]},`;r.push(i.substring(0,i.length-1))}return r},this.tikz=function(){let e=this.tkzTabInit();for(let t=0;t<this.tabLines.length;t++)type=this.tabLines[t][0],e+=`\\tkzTab${type}{ `,e+=Lines[t],e+="}\n\t";return e}}function $e1faf184a8c16f1036c671ab28e49c69$export$default(){this.idIEP=0,this.idHTML=0,this.tempo=5,this.vitesse=10,this.couleur="blue",this.couleurCompas="forestgreen",this.couleurTexte="black",this.couleurPoint="black",this.couleurCodage="#f15929",this.couleurTraitsDeConstruction="gray",this.epaisseur=2,this.epaisseurTraitsDeConstruction=1,this.pointilles=!1,this.liste_script=[],this.translationX=0,this.translationY=10,this.recadre=function(e,t){this.translationX=1-e,this.translationY=t+3},this.xMin=0,this.yMin=0,this.xMax=0,this.yMax=0,this.reacdreViewBox=function(e,t,r,i){this.liste_script.push(`<viewBox x ="${30*e}" y="${-30*t}" width="${30*(r-e)}" height="${30*(i-t)}" />`)},this.x=function(e){const t=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(30*(e.x+this.translationX),0);return t>this.xMax&&(this.xMax=t),t<this.xMin&&(this.xMin=t),t},this.y=function(e){const t=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(30*(-e.y+this.translationY),0);return t<this.yMin&&(this.yMin=t),t>this.yMax&&(this.yMax=t),t},this.regle={visibilite:!1,position:$459103e30f4604971e030953f4b52e1b$export$point(0,0),angle:0,longueur:15,zoom:100},this.crayon={visibilite:!1,position:$459103e30f4604971e030953f4b52e1b$export$point(0,0),angle:0,zoom:100},this.equerre={visibilite:!1,position:$459103e30f4604971e030953f4b52e1b$export$point(0,0),angle:0,zoom:100},this.requerre={visibilite:!1,position:$459103e30f4604971e030953f4b52e1b$export$point(0,0),angle:0,zoom:100},this.rapporteur={visibilite:!1,position:$459103e30f4604971e030953f4b52e1b$export$point(0,0),angle:0,zoom:100},this.compas={visibilite:!1,position:$459103e30f4604971e030953f4b52e1b$export$point(0,0),angle:0,orientation:"droite",ecartement:0,leve:!1,zoom:100},this.xml="",this.script=function(){if(this.xml.length>1)return this.xml;{let e='<?xml version="1.0" encoding="UTF-8"?>\n';return e+='<INSTRUMENPOCHE version="2">\n',e+=this.liste_script.join("\n"),e+="\n</INSTRUMENPOCHE>",e}},this.html=function(e,t){if(window.sortie_html){const r=`IEP_${e}_${t}`;window.listeScriptsIep[r]=this.script();const i=`<div id="IEPContainer${r}" ></div>`;return window.listeAnimationsIepACharger.push(r),i}},this.htmlBouton=function(e,t=""){if(window.sortie_html){const r=`IEP_${e}_${t}`;window.listeScriptsIep[r]=this.script();const i=`<br><button class="ui mini compact button" id="btnAnimation${r}" onclick="toggleVisibilityIEP('${r}')"><i class="large play circle outline icon"></i>Voir animation</button>\n            <div id="IEPContainer${r}" style="display: none;" ></div>`;return window.toggleVisibilityIEP||(window.toggleVisibilityIEP=function(e){const t=document.getElementById(`IEPContainer${e}`),r=document.getElementById(`btnAnimation${e}`),i=window.listeScriptsIep[e];"none"===t.style.display?(t.style.display="block",r.innerHTML='<i class="large stop circle outline icon"></i>Masquer animation',iepLoad(t,i,{zoom:!0},(e=>{console.log(e)}))):(t.style.display="none",r.innerHTML='<i class="large play circle outline icon"></i>Voir animation')}),i}return""},this.montrer=function(e,t,{tempo:r=this.tempo,vitesse:i=this.vitesse}={}){if(!this[e].visibilite||this[e].position!==t){let n,o="";n=void 0===t?this[e].position:t,this[e].visibilite?this.deplacer(e,n,{tempo:r,vitesse:i}):(o=`<action objet="${e}" mouvement="montrer" abscisse="${this.x(n)}" ordonnee="${this.y(n)}" tempo="${r}" />`,this[e].visibilite=!0),this[e].position=n,this.liste_script.push(o)}},this.regleMontrer=function(e,t){this.montrer("regle",e,t)},this.crayonMontrer=function(e,t){this.montrer("crayon",e,t)},this.equerreMontrer=function(e,t){this.montrer("equerre",e,t)},this.requerreMontrer=function(e,t){this.montrer("requerre",e,t)},this.compasMontrer=function(e,t){this.montrer("compas",e,t)},this.rapporteurMontrer=function(e,t){this.montrer("rapporteur",e,t)},this.masquer=function(e,{tempo:t=this.tempo}={}){if(this[e].visibilite){const r=`<action objet="${e}" mouvement="masquer" tempo="${t}" />`;this[e].visibilite=!1,this.liste_script.push(r)}},this.regleMasquer=function(e){this.masquer("regle",e)},this.crayonMasquer=function(e){this.masquer("crayon",e)},this.equerreMasquer=function(e){this.masquer("equerre",e)},this.requerreMasquer=function(e){this.masquer("requerre",e)},this.compasMasquer=function(e){this.masquer("compas",e)},this.rapporteurMasquer=function(e){this.masquer("rapporteur",e)},this.deplacer=function(e,t,{tempo:r=this.tempo,vitesse:i=this.vitesse}={}){if(this[e].position!==t){const n=`<action objet="${e}" mouvement="translation" abscisse="${this.x(t)}" ordonnee="${this.y(t)}" tempo="${r}" vitesse="${i}" />`;this[e].position=t,this.liste_script.push(n)}},this.regleDeplacer=function(e,t){this.deplacer("regle",e,t)},this.texteDeplacer=function(e,t,{tempo:r=this.tempo,vitesse:i=this.vitesse}={}){const n=`<action objet="texte" id="${e}" mouvement="translation" abscisse="${this.x(t)}" ordonnee="${this.y(t)}" tempo="${r}" vitesse="${i}" />`;this.liste_script.push(n)},this.crayonDeplacer=function(e,t){this.deplacer("crayon",e,t)},this.equerreDeplacer=function(e,t){this.deplacer("equerre",e,t)},this.requerreDeplacer=function(e,t){this.deplacer("requerre",e,t)},this.compasDeplacer=function(e,t){this.deplacer("compas",e,t)},this.rapporteurDeplacer=function(e,t){this.deplacer("rapporteur",e,t)},this.rotation=function(e,t,{tempo:r=this.tempo,sens:i=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.vitesse/2,0)}={}){let n;if("point"===t.typeObjet){n=$459103e30f4604971e030953f4b52e1b$export$droite(this[e].position,t).angleAvecHorizontale}else n=t;if(this[e].angle!==t){const t=`<action objet="${e}" mouvement="rotation" angle="${-1*n}" tempo="${r}" sens="${i}" />`;this[e].angle=n,"number"==typeof n&&isFinite(n)?this.liste_script.push(t):console.log("Angle de rotation non défini.")}},this.regleRotation=function(e,t){this.rotation("regle",e,t)},this.crayonRotation=function(e,t){this.rotation("crayon",e,t)},this.equerreRotation=function(e,t){this.rotation("equerre",e,t)},this.requerreRotation=function(e,t){this.rotation("requerre",e,t)},this.compasRotation=function(e,t){this.rotation("compas",e,t)},this.rapporteurRotation=function(e,t){this.rotation("rapporteur",e,t)},this.regleZoom=function(e,{tempo:t=0}={}){this.regle.zoom=e,this.liste_script.push(`<action echelle="${e}" mouvement="zoom" objet="regle" tempo="${t}" />`)},this.equerreZoom=function(e,{tempo:t=0}={}){this.equerre.zoom=e,this.liste_script.push(`<action echelle="${e}" mouvement="zoom" objet="equerre" tempo="${t}" />`)},this.requerreZoom=function(e,{tempo:t=0}={}){this.requerre.zoom=e,this.liste_script.push(`<action echelle="${e}" mouvement="zoom" objet="requerre" tempo="${t}" />`)},this.rapporteurZoom=function(e,{tempo:t=0}={}){this.rapporteur.zoom=e,this.liste_script.push(`<action echelle="${e}" mouvement="zoom" objet="rapporteur" tempo="${t}" />`)},this.compasZoom=function(e,{tempo:t=0}={}){this.compas.zoom=e,this.liste_script.push(`<action echelle="${e}" mouvement="zoom" objet="compas" />`)},this.pointCreer=function(e,{label:t=e.nom,tempo:r=this.tempo,couleur:i=this.couleurPoint,couleurLabel:n=this.couleurTexte,id:o}={}){let s;void 0!==o?e.id=o:(this.idIEP++,e.id=this.idIEP),t?(s=`<action abscisse="${this.x(e)}" ordonnee="${this.y(e)}" couleur="${i}" id="${e.id}" mouvement="creer" objet="point" />`,s+=`\n<action couleur="${n}" nom="${t}" id="${this.idIEP}" mouvement="nommer" objet="point" tempo="${r}"  />`):s=`<action abscisse="${this.x(e)}" ordonnee="${this.y(e)}" couleur="${i}" id="${e.id}" mouvement="creer" objet="point" tempo="${r}" />`,this.liste_script.push(s)},this.pointsCreer=function(...e){for(const t of e)this.pointCreer(t,{tempo:0})},this.pointMasquer=function(e,{tempo:t=0}={}){this.liste_script.push(`<action id="${e.id}" mouvement="masquer" objet="point" tempo="${t}" />`)},this.pointMontrer=function(e,{tempo:t=this.tempo}={}){this.liste_script.push(`<action id="${e.id}" mouvement="montrer" objet="point" tempo="${t}" />`)},this.pointDeplacer=function(e,t,r,{tempo:i=this.tempo,vitesse:n=this.vitesse}={}){const o=$459103e30f4604971e030953f4b52e1b$export$point(t,r);this.liste_script.push(`<action abscisse="${this.x(o)}" ordonnee="${this.y(o)}" id="${e.id}" mouvement="translation" objet="point" tempo="${i}" vitesse="${n}" />`)},this.pointNommer=function(e,t,{dx:r,dy:i,couleur:n=this.couleurPoint,tempo:o=this.tempo}={}){let s="";void 0!==r&&void 0!==i&&(s=`abscisse="${30*r}" ordonnee="${30*-i}"`),this.liste_script.push(`<action couleur="${n}" nom="${t}" id="${e.id}" mouvement="nommer" objet="point" tempo="${o}" ${s} />`)},this.compasRetourner=function({tempo:e=this.tempo}={}){const t=`<action mouvement="retourner" objet="compas" tempo="${e}" />`;"droite"===this.compas.orientation?this.compas.orientation="gauche":this.compas.orientation="droite",this.liste_script.push(t)},this.compasEcarter=function(e,{tempo:t=this.tempo,vitesse:r=this.vitesse}={}){const i=`<action ecart="${$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(30*e,1)}" mouvement="ecarter" objet="compas" tempo="${t}" vitesse="${r}" />`;this.compas.ecartement=e,this.liste_script.push(i)},this.compasEcarterAvecRegle=function(e,{tempo:t=this.tempo,vitesse:r=this.vitesse,sens:i=this.vitesse/2}={}){this.regleRotation(0,{tempo:0,sens:i}),this.regleMontrer(this.compas.position,{tempo:0}),this.regleDeplacer(this.compas.position,{tempo:0,vitesse:r}),this.compasMontrer(),this.compasRotation(0,{tempo:0,sens:i}),this.compasEcarter(e,{tempo:t,vitesse:r,sens:i})},this.compasEcarter2Points=function(e,t,{tempo:r=this.tempo,vitesse:i=this.vitesse,sens:n=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.vitesse/2)}={}){this.compasMontrer(e),this.compasDeplacer(e,{tempo:r,vitesse:i});const o=$459103e30f4604971e030953f4b52e1b$export$segment(e,t);o.isVisible=!1;const s=o.angleAvecHorizontale;this.compasRotation(s,{tempo:r,sens:n}),this.compasEcarter($459103e30f4604971e030953f4b52e1b$export$longueur(e,t),{tempo:r,vitesse:i})},this.compasLever=function({tempo:e=this.tempo}={}){if(!this.compas.leve){const t=`<action mouvement="lever" objet="compas" tempo="${e} />`;this.compas.leve=!0,this.liste_script.push(t)}},this.compasCoucher=function({tempo:e=this.tempo}={}){if(this.compas.leve){const t=`<action mouvement="coucher" objet="compas" tempo="${e}" />`;this.compas.leve=!1,this.liste_script.push(t)}},this.compasTracerArc2Angles=function(e,t,{tempo:r=this.tempo,sens:i=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.vitesse/2,0),epaisseur:n=this.epaisseur,couleur:o=this.couleurCompas,pointilles:s=this.pointilles}={}){const a=s?'pointille="tiret"':"";this.idIEP+=1,Math.abs(this.compas.angle-e)>Math.abs(this.compas.angle-t)&&([e,t]=[t,e]);let c,l=`<action sens="${i}" angle="${-e}" mouvement="rotation" objet="compas" tempo="${r}" />\n`;return l+='<action mouvement="lever" objet="compas" />\n',l+=`<action sens="${i}" angle="${-e}" mouvement="rotation" objet="compas" />\n`,c=t>e?i:-1*i,l+=`<action couleur="${o}" epaisseur="${n}" sens="${c}" debut="${-e}" fin="${-t}" mouvement="tracer" objet="compas"  ${a} id="${this.idIEP}" />\n`,l+=`<action mouvement="coucher" objet="compas" tempo="${r}"/>`,this.compas.angle=t,this.liste_script.push(l),this.idIEP},this.compasTracerArcCentrePoint=function(e,t,{delta:r=10,tempo:i=this.tempo,vitesse:n=this.vitesse,sens:o=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.vitesse/2,0),epaisseur:s=this.epaisseur,couleur:a=this.couleurCompas,pointilles:c=this.pointilles}={}){this.compasMontrer(),this.compasDeplacer(e,{tempo:i,vitesse:n});const l=$459103e30f4604971e030953f4b52e1b$export$segment(e,t);l.visibility=!1;const p=l.angleAvecHorizontale-r,u=l.angleAvecHorizontale+r;return Math.abs(this.compas.ecartement-$459103e30f4604971e030953f4b52e1b$export$longueur(this.compas.position,t))>.1&&this.compasEcarter($459103e30f4604971e030953f4b52e1b$export$longueur(e,t),{tempo:i,vitesse:n}),this.compasTracerArc2Angles(p,u,{tempo:i,vitesse:n,epaisseur:s,sens:o,couleur:a,pointilles:c})},this.compasCercleCentrePoint=function(e,t,{tempo:r=this.tempo,couleur:i=this.couleur,vitesse:n=this.vitesse,sens:o=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.vitesse/2),epaisseur:s=this.epaisseur,pointilles:a=this.pointilles}={}){this.compasEcarter2Points(e,t,{vitesse:n,tempo:r});const c=$459103e30f4604971e030953f4b52e1b$export$droite(e,t).angleAvecHorizontale;this.compasTracerArc2Angles(c,c+360,{tempo:r,vitesse:n,sens:o,epaisseur:s,couleur:i,pointilles:a})},this.requerreGlisserEquerre=function(e,{tempo:t=this.tempo,vitesse:r=this.vitesse}={}){this.liste_script.push(`<action abscisse="${30*e}" mouvement="glisser" objet="requerre" tempo="${t}" vitesse="${r}" />`)},this.rapporteurMasquerGraduationsExterieures=function({tempo:e=this.tempo}={}){this.liste_script.push(`<action mouvement="masquer_nombres" objet="rapporteur" tempo="${e}"/>`)},this.rapporteurMontrerGraduationsExterieures=function({tempo:e=this.tempo}={}){this.liste_script.push(`<action mouvement="montrer_nombres" objet="rapporteur" tempo="${e}"/>`)},this.rapporteurMasquerGraduationsInterieures=function({tempo:e=this.tempo}={}){this.liste_script.push(`<action mouvement="vide" objet="rapporteur" tempo="${e}"/>`)},this.rapporteurMontrerGraduationsInterieures=function({tempo:e=this.tempo}={}){this.liste_script.push(`<action mouvement="graduations" objet="rapporteur" tempo="${e}"/>`)},this.rapporteurDeplacerRotation2Points=function(e,t,{tempo:r=this.tempo,vitesse:i=this.vitesse,sens:n=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.tempo/2)}={}){const o=$459103e30f4604971e030953f4b52e1b$export$droite(e,t);o.isVisible=!1,this.rapporteurMontrer(),this.rapporteurDeplacer(e,{tempo:r,vitesse:i}),this.rapporteurRotation(o.angleAvecHorizontale,{tempo:r,vitesse:i,sens:n})},this.rapporteurCrayonMarqueAngle=function(e,{tempo:t=this.tempo,vitesse:r=this.vitesse,couleur:i=this.couleurTraitsDeConstruction,epaisseur:n=this.epaisseurTraitsDeConstruction}={}){const o=this.rapporteur.position,s=$459103e30f4604971e030953f4b52e1b$export$pointAdistance(o,5.2,e+this.rapporteur.angle),a=$459103e30f4604971e030953f4b52e1b$export$pointAdistance(o,5.5,e+this.rapporteur.angle);this.crayonMontrer(),this.crayonDeplacer(s,{tempo:t,vitesse:r}),this.tracer(a,{tempo:t,vitesse:r,couleur:i,epaisseur:n})},this.rapporteurTracerDemiDroiteAngle=function(e,t,r,{longueur:i=.9*this.regle.longueur,couleur:n=this.couleur,tempo:o=this.tempo,vitesse:s=this.vitesse,sens:a=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.vitesse/2),epaisseur:c=this.epaisseur,pointilles:l=this.pointilles}={}){this.rapporteurDeplacerRotation2Points(e,t,{tempo:o,vitesse:s,sens:a}),this.rapporteurCrayonMarqueAngle(r,{tempo:o,vitesse:s,sens:a});const p=$459103e30f4604971e030953f4b52e1b$export$droite(e,t);p.isVisible=!1;const u=$459103e30f4604971e030953f4b52e1b$export$pointAdistance(e,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(5.2*this.rapporteur.zoom/100,1),p.angleAvecHorizontale+r);this.rapporteurMasquer({tempo:o}),this.regleDemiDroiteOriginePoint(e,u,{longueur:i,couleur:n,tempo:o,vitesse:s,sens:a,epaisseur:c,pointilles:l})},this.regleMasquerGraduations=function({tempo:e=this.tempo}={}){this.liste_script.push(`<action mouvement="vide" objet="regle" tempo="${e}"/>`)},this.regleMontrerGraduations=function({tempo:e=this.tempo}={}){this.liste_script.push(`<action mouvement="graduations" objet="regle" tempo="${e}"/>`)},this.regleModifierLongueur=function(e=20,{tempo:t=this.tempo}={}){this.regle.longueur=e,this.liste_script.push(`<action mouvement="modifier_longueur" objet="regle" longueur="${e}" tempo="${t}"/>`)},this.regleDemiDroiteOriginePoint=function(e,t,r={}){r.longueur||(r.longueur=this.regle.longueur);const i=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(e,t,r.longueur);this.regleSegment(e,i,r)},this.regleDroite=function(e,t,r={}){r.longueur||(r.longueur=this.regle.longueur);const i=$459103e30f4604971e030953f4b52e1b$export$homothetie(t,e,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((.5*-r.longueur+.5*$459103e30f4604971e030953f4b52e1b$export$longueur(e,t))/$459103e30f4604971e030953f4b52e1b$export$longueur(e,t))),n=$459103e30f4604971e030953f4b52e1b$export$homothetie(e,t,$cf7a0e0dfc1e90c0e915b74752829335$export$calcul((.5*-r.longueur+.5*$459103e30f4604971e030953f4b52e1b$export$longueur(e,t))/$459103e30f4604971e030953f4b52e1b$export$longueur(e,t)));this.regleMontrer(),this.x(e)<this.x(t)?(this.regleDeplacer(e,r),this.regleRotation(n,r),this.regleSegment(i,n,r)):(this.regleDeplacer(t,r),this.regleRotation(i,r),this.regleSegment(n,i,r))},this.regleProlongerSegment=function(e,t,r={}){let i;if(i=r.longueur?r.longueur:this.regle.longueur-3,r.longueur>0){const n=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,e,3),o=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,e,-1*i);this.regleSegment(n,o,r)}else{const n=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(e,t,3),o=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(e,t,i);this.regleSegment(n,o,r)}},this.tracer=function(e,{tempo:t=this.tempo,vitesse:r=this.vitesse,epaisseur:i=this.epaisseur,couleur:n=this.couleur,pointilles:o=this.pointilles,vecteur:s=!1}={}){const a=o?'pointille="tiret"':"",c=s?'style="vecteur"':"";this.idIEP+=1;const l=`<action abscisse="${this.x(e)}" ordonnee="${this.y(e)}" epaisseur="${i}" couleur="${n}" mouvement="tracer" objet="crayon" tempo="${t}" vitesse="${r}"  ${a} ${c} id="${this.idIEP}" />`;return this.crayon.position=e,this.liste_script.push(l),this.idIEP},this.trait=function(e,t,r={}){return this.crayonDeplacer(e,r),this.tracer(t,r)},this.traitRapide=function(e,t,r={}){return r.tempo=0,r.vitesse=1e4,this.crayonDeplacer(e,r),this.tracer(t,r)},this.traitMasquer=function(e,{tempo:t=0,vitesse:r=200}={}){this.liste_script.push(`<action mouvement="masquer" objet="trait" id="${e}" vitesse="${r}" />`)},this.regleSegment=function(e,t,r){let i,n,o,s;return"segment"===e.typeObjet?(i=e.extremite1,n=e.extremite2,o=t):(i=e,n=t,o=r),i.x<n.x?(this.regleMontrer(i,o),this.regleRotation(n,o)):(this.regleMontrer(n,o),this.regleRotation(i,o)),$459103e30f4604971e030953f4b52e1b$export$longueur(this.crayon.position,i)<$459103e30f4604971e030953f4b52e1b$export$longueur(this.crayon.position,n)?(this.crayonMontrer(i,o),s=this.tracer(n,o)):(this.crayonMontrer(n,o),s=this.tracer(i,o)),s},this.polygoneTracer=function(...e){for(let t=0;t<e.length-1;t++)this.regleSegment(e[t],e[t+1]);this.regleSegment(e[e.length-1],e[0])},this.polygoneRapide=function(...e){for(let t=0;t<e.length-1;t++)this.traitRapide(e[t],e[t+1]);this.traitRapide(e[e.length-1],e[0])},this.textePoint=function(e,t,{tempo:r=this.tempo,police:i=!1,couleur:n=this.couleurTexte,taille:o,couleurFond:s,opaciteFond:a,couleurCadre:c,epaisseurCadre:l,marge:p,margeGauche:u,margeDroite:f,margeHaut:d,margeBas:h}={}){this.idIEP++;const b=i?`police="${i}"`:"";let $="";void 0!==s&&($+=` couleur_fond="${s}"`),void 0!==a&&($+=` opacite_fond="${a}"`),void 0!==c&&($+=` couleur_cadre="${c}"`),void 0!==l&&($+=` epaisseur_cadre="${l}"`),void 0!==p&&($+=` marge="${p}"`),void 0!==u&&($+=` marge_gauche="${u}"`),void 0!==f&&($+=` marge_droite="${f}"`),void 0!==h&&($+=` marge_bas="${h}"`),void 0!==d&&($+=` marge_haut="${d}"`),void 0!==o&&($+=` taille="${o}"`);let m=`<action abscisse="${this.x(t)}" ordonnee="${this.y(t)}" id="${this.idIEP}" mouvement="creer" objet="texte" />`;return m+=`\n<action ${b} couleur="${n}" texte="${e}" id="${this.idIEP}" mouvement="ecrire" objet="texte" ${$} tempo="${r}" />`,this.liste_script.push(m),this.idIEP},this.textePosition=function(e,t,r,i){const n=$459103e30f4604971e030953f4b52e1b$export$point(t,r);return this.textePoint(e,n,i)},this.texteMasquer=function(e,{tempo:t=0}={}){this.liste_script.push(`<action mouvement="masquer" objet="texte" id="${e}"  />`)},this.pause=function(){this.liste_script.push('<action mouvement="pause" />')},this.segmentCodage=function(e,t={},r={}){let i,n={};"segment"===e.typeObjet?(i=e,n=t):(i=$459103e30f4604971e030953f4b52e1b$export$segment(e,t),n={...r}),void 0===n.tempo&&(n.tempo=this.tempo),void 0===n.couleur&&(n.couleur=this.couleurCodage),void 0===n.codage&&(n.codage="\\"),this.idIEP++;const o=this.idIEP,s=$459103e30f4604971e030953f4b52e1b$export$milieu(i.extremite1,i.extremite2),a=`<action abscisse="${this.x(s)}" ordonnee="${this.y(s)}" forme="${n.codage}"  couleur="${n.couleur}" id="${o}" tempo="${n.tempo}" mouvement="creer" objet="longueur" />`;return this.liste_script.push(a),o},this.segmentCodageMasquer=function(e,{tempo:t=this.tempo}={}){this.liste_script.push(`<action id="${e}" mouvement="masquer" objet="longueur" tempo="${t}" />`)},this.segmentCodageMontrer=function(e,{tempo:t=this.tempo}={}){this.liste_script.push(`<action id="${e}" mouvement="montrer" objet="longueur" tempo="${t}" />`)},this.codageAngleDroit=function(e,t,r,i={}){this.crayonMontrer(),void 0===i.longueur&&(i.longueur=.3),void 0===i.couleur&&(i.couleur=this.couleurCodage);const n=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,r,i.longueur),o=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,e,i.longueur),s=$459103e30f4604971e030953f4b52e1b$export$translation2Points(o,t,n),a={...i};a.tempo=0;return[this.trait(n,s,a),this.trait(s,o,i)]},this.codageAngleDroitMasquer=function(e,{tempo:t=0}={}){this.traitMasquer(e[0],{tempo:t}),this.traitMasquer(e[1],{tempo:t})},this.angleCodage=function(e,t,r,{couleur:i=this.couleurCodage,codage:n="plein",rayon:o=1,tempo:s=this.tempo}={}){const a=e.id+"_"+t.id+"_"+r.id,c=$459103e30f4604971e030953f4b52e1b$export$droite(t,e),l=$459103e30f4604971e030953f4b52e1b$export$droite(t,r);c.isVisible=!1,l.isVisible=!1;const p=-c.angleAvecHorizontale,u=-l.angleAvecHorizontale,f=`<action abscisse="${this.x(t)}" ordonnee="${this.y(t)}" rayon="${30*o}" angle1="${p}" angle2="${u}" forme="${n}"  couleur="${i}" id="${a}" tempo="${s}" mouvement="creer" objet="angle" />`;return this.liste_script.push(f),a},this.angleCodageMasquer=function(e,t,r,{tempo:i=0}={}){const n=e.id+"_"+t.id+"_"+r.id;this.liste_script.push(`<action id="${n}" mouvement="masquer" objet="angle" tempo="${i}" />`)},this.angleCodageMontrer=function(e,t,r,{tempo:i=0}={}){const n=e.id+"_"+t.id+"_"+r.id;this.liste_script.push(`<action id="${n}" mouvement="montrer" objet="angle" tempo="${i}" />`)},this.image=function(e,t=$459103e30f4604971e030953f4b52e1b$export$point(0,0)){let r;return this.idIEP++,r=`<action id="${this.idIEP}" url="${e}" mouvement="chargement" objet="image" />`,r+=`\n<action abscisse="${this.x(t)}" ordonnee="${this.y(t)}" id="${this.idIEP}" mouvement="translation" objet="image" vitesse="100000" />`,this.liste_script.push(r),this.idIEP},this.paralleleRegleEquerre2points3epoint=function(e,t,r,i){let n,o,s;e.x<t.x?(n=e,o=t):(n=t,o=e);const a=$459103e30f4604971e030953f4b52e1b$export$droite(e,t),c=$459103e30f4604971e030953f4b52e1b$export$projectionOrtho(r,a);s=c.x<o.x?$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(c,o,-2):$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(c,o,2);const l=$459103e30f4604971e030953f4b52e1b$export$projectionOrtho(s,$459103e30f4604971e030953f4b52e1b$export$droiteParPointEtParallele(r,a)),p=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(l,r,6);if(c.x<n.x&&$459103e30f4604971e030953f4b52e1b$export$longueur(c,n)>3&&(this.regleProlongerSegment(o,n),this.regleMasquer()),c.x>o.x&&$459103e30f4604971e030953f4b52e1b$export$longueur(c,o)>3&&this.regleProlongerSegment(n,o),this.equerreMontrer(s),p.x>l.x?this.equerreRotation(a.angleAvecHorizontale-90):this.equerreRotation(a.angleAvecHorizontale+90),s.y>l.y)this.regle.visibilite?(this.regleDeplacer(s,{vitesse:this.vitesse,tempo:0}),this.regleRotation(l,{sens:this.vitesse/2,tempo:0})):(this.regleDeplacer(s,{vitesse:1e3,tempo:0}),this.regleRotation(l,{sens:1e3,tempo:0}));else{const e=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(l,s,-2);this.regle.visibilite?(this.regleDeplacer(e,{vitesse:this.vitesse,tempo:0}),this.regleRotation(s,{sens:this.vitesse/2,tempo:0})):(this.regleDeplacer(e,{vitesse:1e3,tempo:0}),this.regleRotation(s,{sens:1e3,tempo:0}))}this.regleMontrer(),this.equerreDeplacer(l,i),this.crayonMontrer(),this.crayonDeplacer(l,i),this.tracer(p,i)},this.mediatriceAuCompas=function(e,t,r={}){void 0===r.longueur1&&(r.longueur1=3),void 0===r.longueur2&&(r.longueur2=-3),void 0===r.codage&&(r.codage="X"),void 0===r.couleurCodage&&(r.couleurCodage=this.couleurCodage),void 0===r.couleurCompas&&(r.couleurCompas=this.couleurCompas);const i=$459103e30f4604971e030953f4b52e1b$export$milieu(e,t),n=$459103e30f4604971e030953f4b52e1b$export$rotation(e,i,-90),o=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(i,n,r.longueur1),s=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(i,n,r.longueur2);let a,c,l,p;this.compasMontrer(),this.compasDeplacer(e,r),r.longueur1===-1*r.longueur2?(this.compasEcarter($459103e30f4604971e030953f4b52e1b$export$longueur(e,o),{vitesse:r.vitesse,sens:r.vitesse}),a=this.compasTracerArcCentrePoint(e,o,{delta:r.delta,couleur:r.couleurCompas,sens:r.sens,vitesse:r.vitesse,tempo:r.tempo}),c=this.compasTracerArcCentrePoint(e,s,{delta:r.delta,couleur:r.couleurCompas,sens:r.sens,vitesse:r.vitesse,tempo:r.tempo}),l=this.compasTracerArcCentrePoint(t,o,{delta:r.delta,couleur:r.couleurCompas,sens:r.sens,vitesse:r.vitesse,tempo:r.tempo}),p=this.compasTracerArcCentrePoint(t,s,{delta:r.delta,couleur:r.couleurCompas,sens:r.sens,vitesse:r.vitesse,tempo:r.tempo})):(this.compasEcarter($459103e30f4604971e030953f4b52e1b$export$longueur(e,o),r),a=this.compasTracerArcCentrePoint(e,o,{delta:r.delta,couleur:r.couleurCompas,sens:r.sens,vitesse:r.vitesse,tempo:r.tempo}),c=this.compasTracerArcCentrePoint(t,o,{delta:r.delta,couleur:r.couleurCompas,sens:r.sens,vitesse:r.vitesse,tempo:r.tempo}),l=this.compasTracerArcCentrePoint(t,s,{delta:r.delta,couleur:r.couleurCompas,sens:r.sens,vitesse:r.vitesse,tempo:r.tempo}),p=this.compasTracerArcCentrePoint(e,s,{delta:r.delta,couleur:r.couleurCompas,sens:r.sens,vitesse:r.vitesse,tempo:r.tempo})),this.compasMasquer(),this.regleDroite(o,s,r),this.regleMasquer();return[a,c,l,p,this.segmentCodage(e,i,{codage:r.codage,couleur:r.couleurCodage,tempo:r.tempo}),this.segmentCodage(i,t,{codage:r.codage,couleur:r.couleurCodage,tempo:r.tempo}),this.codageAngleDroit(e,i,n,{couleur:r.couleurCodage,tempo:r.tempo,vitesse:r.vitesse})]},this.mediatriceRegleEquerre=function(e,t,r="X"){const i=$459103e30f4604971e030953f4b52e1b$export$milieu(e,t);this.regleMontrer(),this.regleDeplacer(e),this.regleRotation(t),this.crayonMontrer();const n=$459103e30f4604971e030953f4b52e1b$export$rotation(e,i,-90),o=$459103e30f4604971e030953f4b52e1b$export$rotation(e,i,90),s=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(i,n,.2),a=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(i,o,.2);this.y(s)>this.y(a)?this.trait(i,s):this.trait(i,a),this.regleMasquer(),this.x(e)<this.x(t)?(this.equerreDeplacer(e),this.equerreMontrer(),this.equerreRotation(t)):(this.equerreDeplacer(t),this.equerreMontrer(),this.equerreRotation(e)),this.equerreDeplacer(i),this.crayonDeplacer(i),this.trait(i,n),this.equerreMasquer(),this.regleDroite(n,o),this.regleMasquer(),this.segmentCodage(e,i,r),this.segmentCodage(i,t,r),this.codageAngleDroit(e,i,n)},this.hauteur=function(e,t,r,i=!0){const n=$459103e30f4604971e030953f4b52e1b$export$droite(e,t);n.isVisible=!1;const o=$459103e30f4604971e030953f4b52e1b$export$projectionOrtho(r,n);let s,a;this.x(e)<this.x(t)?(s=e,a=t):(s=t,a=e),this.x(o)<this.x(s)&&this.regleProlongerSegment(a,s,$459103e30f4604971e030953f4b52e1b$export$longueur(s,o)+2,this.couleur,this.tempo,this.vitesse,this.epaisseurTraitsDeConstruction,!0),this.x(o)>this.x(a)&&this.regleProlongerSegment(s,a,$459103e30f4604971e030953f4b52e1b$export$longueur(a,o)+2,this.couleur,this.tempo,this.vitesse,this.epaisseurTraitsDeConstruction,!0),(this.x(o)<this.x(s)||this.x(o)>this.x(a))&&this.regleMasquer(),this.x(e)<this.x(t)?(this.equerreDeplacer(e),this.equerreMontrer(),this.equerreRotation(t)):(this.equerreDeplacer(t),this.equerreMontrer(),this.equerreRotation(e)),this.equerreDeplacer(o),this.crayonMontrer(),this.crayonDeplacer(o),this.trait(o,r),this.equerreMasquer(),i&&this.codageAngleDroit(e,o,r),this.crayonMasquer()},this.mediane=function(e,t,r,i={}){void 0===i.codage&&(i.codage="X"),void 0===i.couleurTraitsDeConstruction&&(i.couleurTraitsDeConstruction=this.couleurTraitsDeConstruction),void 0===i.epaisseurTraitsDeConstruction&&(i.epaisseurTraitsDeConstruction=this.epaisseurTraitsDeConstruction);const n=$459103e30f4604971e030953f4b52e1b$export$milieu(e,t);this.regleMontrer(e,i),this.regleRotation(t,i),this.crayonMontrer();const o=$459103e30f4604971e030953f4b52e1b$export$rotation(e,n,-90),s=$459103e30f4604971e030953f4b52e1b$export$rotation(e,n,90),a=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(n,o,.2),c=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(n,s,.2);a.y>c.y?this.trait(n,a,{vitesse:i.vitesse,tempo:i.tempo,couleur:i.couleurTraitsDeConstruction,epaisseur:i.epaisseurTraitsDeConstruction}):this.trait(n,c,{vitesse:i.vitesse,tempo:i.tempo,couleur:i.couleurTraitsDeConstruction,epaisseur:i.epaisseurTraitsDeConstruction}),this.regleSegment(n,r,i),i.codage&&(this.segmentCodage(e,n,i),this.segmentCodage(n,t,i))},this.bissectriceAuCompas=function(e,t,r,{codage:i="/",l:n=2,couleur:o=this.couleur,tempo:s=this.tempo,vitesse:a=this.vitesse,sens:c=$cf7a0e0dfc1e90c0e915b74752829335$export$calcul(this.vitesse/2,0),epaisseur:l=this.epaisseur,pointilles:p=this.pointilles,couleurCodage:u=this.couleurCodage,masquerTraitsDeConstructions:f=!0}={}){const d=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,e,n),h=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,r,n),b=$459103e30f4604971e030953f4b52e1b$export$rotation(t,d,-(180-$459103e30f4604971e030953f4b52e1b$export$angleOriente(e,t,r))),$={couleur:o,tempo:s,vitesse:a,sens:c,pointilles:!1},m=this.compasTracerArcCentrePoint(t,d,$),g=this.compasTracerArcCentrePoint(t,h,$),x=this.compasTracerArcCentrePoint(d,b,$),v=this.compasTracerArcCentrePoint(h,b,$);return this.compasMasquer(),this.regleDemiDroiteOriginePoint(t,b,{longueur:$459103e30f4604971e030953f4b52e1b$export$longueur(t,e),couleur:o,tempo:s,vitesse:a,sens:c,epaisseur:l,pointilles:p}),this.regleMasquer(),this.crayonMasquer(),i&&(this.angleCodage(e,t,b,{couleur:u,codage:i,tempo:s}),this.angleCodage(b,t,r,{couleur:u,codage:i,tempo:s})),f&&(this.traitMasquer(m),this.traitMasquer(g),this.traitMasquer(x),this.traitMasquer(v)),{arc1:m,arc2:g,arc3:x,arc4:v}},this.cercleCirconscrit=function(e,t,r,i={}){void 0===i.couleur&&(i.couleur=this.couleur),void 0===i.couleurMediatrice&&(i.couleurMediatrice=i.couleur),void 0===i.couleurCercle&&(i.couleurCercle=i.couleur),i.codage="X",i.couleur=i.couleurMediatrice;const n=this.mediatriceAuCompas(e,t,i);this.traitMasquer(n[0]),this.traitMasquer(n[1]),this.traitMasquer(n[2]),this.traitMasquer(n[3]),i.codage="||";const o=this.mediatriceAuCompas(t,r,i);this.traitMasquer(o[0]),this.traitMasquer(o[1]),this.traitMasquer(o[2]),this.traitMasquer(o[3]),i.codage="///";const s=this.mediatriceAuCompas(e,r,i);this.traitMasquer(s[0]),this.traitMasquer(s[1]),this.traitMasquer(s[2]),this.traitMasquer(s[3]);const a=$459103e30f4604971e030953f4b52e1b$export$centreCercleCirconscrit(e,t,r);i.couleur=i.couleurCercle,this.compasCercleCentrePoint(a,e,i)},this.triangle3longueurs=function(e,t,r,i,n=!0){const o=$459103e30f4604971e030953f4b52e1b$export$point(6,0),s=$459103e30f4604971e030953f4b52e1b$export$pointAdistance(o,t,$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-20,20)),a=$459103e30f4604971e030953f4b52e1b$export$triangle2points2longueurs(o,s,r,i).listePoints[2];return 3!==e.length?n=!1:(o.nom=e[0],s.nom=e[1],a.nom=e[2]),n&&this.textePosition(`${o.nom+s.nom} = ${$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(t)} cm`,0,-2),this.pointCreer(o),this.regleSegment(o,s),this.pointCreer(s),this.crayonMasquer(),n&&this.textePosition(`${o.nom+a.nom} = ${$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(r)} cm donc ${a.nom} appartient au cercle de centre ${o.nom} et de rayon ${$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(r)} cm.`,0,-3),this.couleur="forestgreen",this.epaisseur=2,this.compasMontrer(o),this.compasEcarterAvecRegle(r),this.compasTracerArcCentrePoint(o,a,40),n&&this.textePosition(`${s.nom+a.nom} = ${$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(i)} cm donc ${a.nom} appartient au cercle de centre ${s.nom} et de rayon ${$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(i)} cm.`,0,-4),this.compasDeplacer(s),this.compasEcarterAvecRegle(i),this.compasTracerArcCentrePoint(s,a),this.compasMasquer(),this.couleur="blue",this.epaisseur=3,n&&this.textePosition(`Le point ${a.nom} est à une intersection des deux cercles.`,0,-5),this.pointCreer(a),this.regleSegment(s,a),this.regleSegment(a,o),this.crayonMasquer(),this.regleMasquer(),[o,s,a]},this.triangleRectangleCoteHypotenuse=function(e,t,r,i=!0){const n=$459103e30f4604971e030953f4b52e1b$export$point(6,0),o=$459103e30f4604971e030953f4b52e1b$export$pointAdistance(n,t,$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-20,20)),s=$459103e30f4604971e030953f4b52e1b$export$droite(n,o);s.isVisible=!1;const a=$459103e30f4604971e030953f4b52e1b$export$droiteParPointEtPerpendiculaire(o,s);a.isVisible=!1;const c=$459103e30f4604971e030953f4b52e1b$export$cercle(n,r);c.isVisible=!1;const l=$459103e30f4604971e030953f4b52e1b$export$pointIntersectionLC(a,c),p=$459103e30f4604971e030953f4b52e1b$export$homothetie(l,o,1.2);return 3!==e.length?i=!1:(n.nom=e[0],o.nom=e[1],l.nom=e[2]),$459103e30f4604971e030953f4b52e1b$export$longueur(n,l)>8&&this.equerreZoom(150),i&&this.textePosition(`${n.nom+o.nom} = ${$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(t)} cm`,0,-2),this.equerreRotation(s.angleAvecHorizontale),this.pointCreer(n),this.regleSegment(n,o),this.pointCreer(o),i&&this.textePosition(`${n.nom+o.nom+l.nom} est un triangle rectangle en ${o.nom} donc ${l.nom} appartient à la perpendiculaire à (${n.nom+o.nom}) passant par ${o.nom}.`,0,-3),this.equerreMontrer(n),this.equerreDeplacer(o),this.tracer(p),this.equerreMasquer(),this.codageAngleDroit(n,o,l),this.crayonMasquer(),i&&this.textePosition(`${n.nom+l.nom} = ${$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(r)} cm donc ${l.nom} appartient au cercle de centre ${n.nom} et de rayon ${$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(r)} cm.`,0,-4),this.compasMontrer(n),this.compasEcarterAvecRegle(r),this.couleur="forestgreen",this.epaisseur=2,this.compasTracerArcCentrePoint(n,l),this.couleur="blue",this.epaisseur=2,i&&this.textePosition(`${l.nom} est à une intersection de la perpendiculaire et du cercle.`,0,-5),this.crayonMontrer(l),this.pointCreer(l),this.compasMasquer(),this.regleSegment(n,l),this.regleMasquer(),this.crayonMasquer(),[n,o,l]},this.triangleRectangle2Cotes=function(e,t,r,i=!0){const n=$459103e30f4604971e030953f4b52e1b$export$point(6,0),o=$459103e30f4604971e030953f4b52e1b$export$pointAdistance(n,t,$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-20,20)),s=$459103e30f4604971e030953f4b52e1b$export$droite(n,o);s.isVisible=!1;const a=$459103e30f4604971e030953f4b52e1b$export$droiteParPointEtPerpendiculaire(o,s);a.isVisible=!1;const c=$459103e30f4604971e030953f4b52e1b$export$cercle(o,r);c.isVisible=!1;const l=$459103e30f4604971e030953f4b52e1b$export$pointIntersectionLC(a,c),p=$459103e30f4604971e030953f4b52e1b$export$homothetie(l,o,1.2);return 3!==e.length?i=!1:(n.nom=e[0],o.nom=e[1],l.nom=e[2]),$459103e30f4604971e030953f4b52e1b$export$longueur(n,l)>8&&this.equerreZoom(150),i&&this.textePosition(`${n.nom+o.nom} = ${$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(t)} cm`,0,-2),this.equerreRotation(s.angleAvecHorizontale),this.pointCreer(n),this.regleSegment(n,o),this.pointCreer(o),i&&this.textePosition(`${n.nom+o.nom+l.nom} est un triangle rectangle en ${o.nom} donc ${l.nom} appartient à la perpendiculaire à (${n.nom+o.nom}) passant par ${o.nom}.`,0,-3),this.equerreMontrer(n),this.equerreDeplacer(o),this.tracer(p),this.equerreMasquer(),this.codageAngleDroit(n,o,l),i&&this.textePosition(`${o.nom+l.nom} = ${$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(r)} cm donc ${l.nom} est à ${$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(r)} cm de ${o.nom} sur la perpendiculaire à (${n.nom+o.nom}) passant par ${o.nom}.`,0,-4),this.regleMontrer(o),this.regleRotation(l),this.crayonDeplacer(l),this.pointCreer(l),this.couleur="blue",this.epaisseur=2,this.compasMasquer(),this.regleSegment(n,l),this.regleMasquer(),this.crayonMasquer(),[n,o,l]},this.triangle1longueur2angles=function(e,t,r,i,n=!0,o=!1){const s=$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-20,20),a=r,c=i,l=$459103e30f4604971e030953f4b52e1b$export$point(6,0),p=$459103e30f4604971e030953f4b52e1b$export$pointAdistance(l,t,s),u=$459103e30f4604971e030953f4b52e1b$export$pointAdistance(l,5.2,a+s),f=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(l,u,10),d=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(u,f,.4),h=$459103e30f4604971e030953f4b52e1b$export$pointAdistance(p,3,180-c+s),b=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(p,h,10),$=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(h,b,-.4),m=$459103e30f4604971e030953f4b52e1b$export$pointAdistance(p,5.2,180-c+s),g=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(m,b,.4),x=$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$droite(l,p),l,a);u.isVisible=!1;const v=$459103e30f4604971e030953f4b52e1b$export$rotation($459103e30f4604971e030953f4b52e1b$export$droite(p,l),p,-c);v.isVisible=!1;const y=$459103e30f4604971e030953f4b52e1b$export$pointIntersectionDD(x,v);return 3!==e.length?n=!1:(l.nom=e[0],p.nom=e[1],y.nom=e[2]),this.couleur="blue",this.epaisseur=3,this.pointCreer(l),n&&this.textePosition(`On trace le côté [${l.nom+p.nom}] de ${$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace(t)} cm.`,0,-4),this.regleSegment(l,p),this.pointCreer(p),this.couleur="grey",this.epaisseur=1,this.rapporteurMontrer(l),this.rapporteurDeplacer(l),this.rapporteurRotation(s),n&&this.textePosition(`On place un repère à ${a} degrés pour tracer la demi-droite [${l.nom+y.nom}).`,0,-5),this.epaisseur=3,this.trait(u,d,20),this.epaisseur=1,this.rapporteurMasquer(),this.regleSegment(l,f),this.regleMasquer(),this.angleCodage(p,l,y),this.rapporteurMontrer(l),this.rapporteurDeplacer(p),n&&this.textePosition(`On place un repère à ${c} degrés pour tracer la demi-droite [${p.nom+y.nom}).`,0,-6),this.epaisseur=3,this.trait(h,$,10),this.trait(m,g,20),this.epaisseur=1,this.rapporteurMasquer(),this.regleMontrer(p),this.regleSegment(p,b),this.angleCodage(y,p,l),this.pointCreer(y,"",0),this.pointNommer(y,y.nom,-.5,1),this.couleur="blue",this.epaisseur=3,this.regleSegment(p,y),this.regleSegment(y,l),this.regleMasquer(),this.crayonMasquer(),n&&o&&this.textePosition(`On peut mesurer ${l.nom+y.nom} ≈ ${$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace($459103e30f4604971e030953f4b52e1b$export$longueur(l,y,1))} cm et ${p.nom+y.nom} ≈ ${$cf7a0e0dfc1e90c0e915b74752829335$export$nombre_avec_espace($459103e30f4604971e030953f4b52e1b$export$longueur(p,y,1))} cm.`,0,-7),[l,p,y]},this.triangleEquilateral2Sommets=function(e,t,r=""){const i=$459103e30f4604971e030953f4b52e1b$export$rotation(t,e,60);return i.nom=r,this.traitRapide(e,t),this.pointCreer(e,e.nom,0),this.pointCreer(t,t.nom,0),this.compasEcarter2Points(e,t),this.compasTracerArcCentrePoint(e,i),this.compasTracerArcCentrePoint(t,i),this.pointCreer(i),this.compasMasquer(),this.regleSegment(e,i),this.regleSegment(i,t),this.regleMasquer(),this.crayonMasquer(),this.segmentCodage(e,t),this.segmentCodage(e,i),this.segmentCodage(t,i),[e,t,i]},this.triangleEquilateral=function(e,t){const r=$459103e30f4604971e030953f4b52e1b$export$point(6,0),i=$459103e30f4604971e030953f4b52e1b$export$pointAdistance(r,t,$cf7a0e0dfc1e90c0e915b74752829335$export$randint(-20,20)),n=$459103e30f4604971e030953f4b52e1b$export$rotation(i,r,60);return 3===e.length&&(r.nom=e[0],i.nom=e[1],n.nom=e[2]),this.regleSegment(r,i),this.pointCreer(r),this.pointCreer(i),this.compasEcarter2Points(r,i),this.compasTracerArcCentrePoint(r,n),this.compasTracerArcCentrePoint(i,n),this.pointCreer(n),this.compasMasquer(),this.regleSegment(r,n),this.regleSegment(n,i),this.regleMasquer(),this.crayonMasquer(),this.segmentCodage(r,i),this.segmentCodage(r,n),this.segmentCodage(i,n),[r,i,n]},this.parallelogramme3sommetsConsecutifs=function(e,t,r,i="",n=!0,o=!0){const s=$459103e30f4604971e030953f4b52e1b$export$translation2Points(r,t,e);s.nom=i;const a=Math.min(e.x,t.x,r.x,s.x),c=Math.min(e.y,t.y,r.y,s.y);this.traitRapide(e,t),this.traitRapide(t,r),this.pointCreer(e,e.nom,0),this.pointCreer(t,t.nom,0),this.pointCreer(r,r.nom,0),this.textePosition(`${e.nom+t.nom+r.nom+s.nom} est un parallélogramme donc ses côtés opposés sont de même longueur.`,a-1,c-1),this.compasEcarter2Points(t,e),this.textePosition(`${t.nom+e.nom} = ${r.nom+s.nom}`,a-1,c-2),this.compasTracerArcCentrePoint(r,s),this.compasEcarter2Points(t,r),this.textePosition(`${t.nom+r.nom} = ${e.nom+s.nom}`,a-1,c-3),this.compasTracerArcCentrePoint(e,s,10),this.pointCreer(s),this.compasMasquer(),this.regleSegment(r,s),this.regleSegment(s,e),this.regleMasquer(),this.crayonMasquer(),this.segmentCodage(e,t,{codage:"///",couleur:this.couleurCodage,tempo:0}),this.segmentCodage(s,r,{codage:"///",couleur:this.couleurCodage,tempo:0}),this.segmentCodage(t,r,{codage:"//",couleur:this.couleurCodage,tempo:0}),this.segmentCodage(e,s,{codage:"//",couleur:this.couleurCodage,tempo:0})},this.parallelogramme2sommetsConsecutifsCentre=function(e,t,r,i="",n="",o=!0){const s=$459103e30f4604971e030953f4b52e1b$export$translation2Points(r,e,r);s.nom=i;const a=$459103e30f4604971e030953f4b52e1b$export$translation2Points(r,t,r);a.nom=n;const c=e.nom+t.nom+s.nom+a.nom;($459103e30f4604971e030953f4b52e1b$export$longueur(e,s)>12||$459103e30f4604971e030953f4b52e1b$export$longueur(t,a)>12)&&this.regleModifierLongueur(30);const l=Math.min(e.x,t.x,s.x,a.x),p=Math.min(e.y,t.y,s.y,a.y);this.traitRapide(e,t),this.pointCreer(e,{tempo:0}),this.pointCreer(t,{tempo:0}),this.pointCreer(r,{tempo:0}),o&&4===c.length&&this.textePosition(`${e.nom+t.nom+s.nom+a.nom} est un parallélogramme donc ses diagonales se coupent en leur milieu.`,l-1,p-1),this.pointilles=!0,this.epaisseur=1,this.couleur=this.couleurTraitsDeConstruction,this.regleDemiDroiteOriginePoint(e,r,{longueur:$459103e30f4604971e030953f4b52e1b$export$longueur(e,s)+3}),this.regleMasquer(),this.crayonMasquer(),this.compasEcarter2Points(e,r),o&&4===c.length&&this.textePosition(`${e.nom+r.nom} = ${r.nom+s.nom}`,l-1,p-2),this.pointilles=!1,this.compasTracerArcCentrePoint(r,s),this.compasMasquer(),this.pointilles=!0,this.regleDemiDroiteOriginePoint(t,r,{longueur:$459103e30f4604971e030953f4b52e1b$export$longueur(t,a)+3}),this.regleMasquer(),this.crayonMasquer(),this.pointilles=!1,this.compasEcarter2Points(t,r),o&&4===c.length&&this.textePosition(`${t.nom+r.nom} = ${r.nom+a.nom}`,l-1,p-3),this.compasTracerArcCentrePoint(r,a),this.compasMasquer(),this.couleur="blue",this.epaisseur=3,this.pointCreer(a),this.regleSegment(e,a),this.regleSegment(a,s),this.regleSegment(s,t),this.regleMasquer(),this.compasMasquer(),this.crayonMasquer(),this.segmentCodage(e,r,{codage:"//",couleur:this.couleurCodage,tempo:0}),this.segmentCodage(r,s,{codage:"//",couleur:this.couleurCodage,tempo:0}),this.segmentCodage(t,r,{codage:"O",couleur:this.couleurCodage,tempo:0}),this.segmentCodage(r,a,{codage:"O",couleur:this.couleurCodage,tempo:0})},this.parallelogrammeAngleCentre=function(e,t,r,i){const n=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,r,$459103e30f4604971e030953f4b52e1b$export$longueur(t,r)+2),o=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment(t,e,$459103e30f4604971e030953f4b52e1b$export$longueur(t,e)+2),s=$459103e30f4604971e030953f4b52e1b$export$translation2Points(r,t,e);this.traitRapide(t,n),this.traitRapide(t,o),this.pointCreer(i,{tempo:0}),this.pointCreer(t,{tempo:0}),this.regleDemiDroiteOriginePoint(t,i,{couleur:this.couleurTraitsDeConstruction,epaisseur:1,pointilles:!0}),this.pointilles=!1,this.regleMasquer(),this.crayonMasquer(),this.compasEcarter2Points(t,i),this.compasTracerArcCentrePoint(i,s,{couleur:this.couleurTraitsDeConstruction}),this.compasMasquer(),this.paralleleRegleEquerre2points3epoint(n,t,s,{couleur:this.couleurTraitsDeConstruction,epaisseur:1}),this.equerreMasquer(),this.regleDroite(s,e,{couleur:this.couleurTraitsDeConstruction,epaisseur:1}),this.paralleleRegleEquerre2points3epoint(t,o,s,{couleur:this.couleurTraitsDeConstruction,epaisseur:1}),this.equerreMasquer(),this.regleDroite(s,r,{couleur:this.couleurTraitsDeConstruction,epaisseur:1}),this.pointCreer(e,{tempo:0}),this.pointCreer(r,{tempo:0}),this.pointCreer(s,{tempo:0}),this.regleSegment(r,s),this.regleSegment(s,e),this.regleMasquer(),this.crayonMasquer()}}var $622c1a26e6a49b59664cb3337f646c0b$exports={},$622c1a26e6a49b59664cb3337f646c0b$var$define,$7e895868db818ba723f7f0453599b604$exports,$7e895868db818ba723f7f0453599b604$var$reservedWords,$7e895868db818ba723f7f0453599b604$var$ecma5AndLessKeywords,$7e895868db818ba723f7f0453599b604$var$keywords,$7e895868db818ba723f7f0453599b604$var$keywordRelationalOperator,$7e895868db818ba723f7f0453599b604$var$nonASCIIidentifierStartChars,$7e895868db818ba723f7f0453599b604$var$nonASCIIidentifierChars,$7e895868db818ba723f7f0453599b604$var$nonASCIIidentifierStart,$7e895868db818ba723f7f0453599b604$var$nonASCIIidentifier,$7e895868db818ba723f7f0453599b604$var$astralIdentifierStartCodes,$7e895868db818ba723f7f0453599b604$var$astralIdentifierCodes,$7e895868db818ba723f7f0453599b604$export$TokenType,$7e895868db818ba723f7f0453599b604$var$beforeExpr,$7e895868db818ba723f7f0453599b604$var$startsExpr,$7e895868db818ba723f7f0453599b604$export$keywordTypes,$7e895868db818ba723f7f0453599b604$export$tokTypes,$7e895868db818ba723f7f0453599b604$export$lineBreak,$7e895868db818ba723f7f0453599b604$export$lineBreakG,$7e895868db818ba723f7f0453599b604$export$nonASCIIwhitespace,$7e895868db818ba723f7f0453599b604$var$skipWhiteSpace,$7e895868db818ba723f7f0453599b604$var$ref,$7e895868db818ba723f7f0453599b604$var$hasOwnProperty,$7e895868db818ba723f7f0453599b604$var$toString,$7e895868db818ba723f7f0453599b604$var$isArray,$7e895868db818ba723f7f0453599b604$export$Position,$7e895868db818ba723f7f0453599b604$export$SourceLocation,$7e895868db818ba723f7f0453599b604$export$defaultOptions,$7e895868db818ba723f7f0453599b604$var$SCOPE_TOP,$7e895868db818ba723f7f0453599b604$var$SCOPE_FUNCTION,$7e895868db818ba723f7f0453599b604$var$SCOPE_VAR,$7e895868db818ba723f7f0453599b604$var$SCOPE_ASYNC,$7e895868db818ba723f7f0453599b604$var$SCOPE_GENERATOR,$7e895868db818ba723f7f0453599b604$var$SCOPE_ARROW,$7e895868db818ba723f7f0453599b604$var$SCOPE_SIMPLE_CATCH,$7e895868db818ba723f7f0453599b604$var$SCOPE_SUPER,$7e895868db818ba723f7f0453599b604$var$SCOPE_DIRECT_SUPER,$7e895868db818ba723f7f0453599b604$var$BIND_NONE,$7e895868db818ba723f7f0453599b604$var$BIND_VAR,$7e895868db818ba723f7f0453599b604$var$BIND_LEXICAL,$7e895868db818ba723f7f0453599b604$var$BIND_FUNCTION,$7e895868db818ba723f7f0453599b604$var$BIND_SIMPLE_CATCH,$7e895868db818ba723f7f0453599b604$var$BIND_OUTSIDE,$7e895868db818ba723f7f0453599b604$export$Parser,$7e895868db818ba723f7f0453599b604$var$prototypeAccessors,$7e895868db818ba723f7f0453599b604$var$pp,$7e895868db818ba723f7f0453599b604$var$literal,$7e895868db818ba723f7f0453599b604$var$pp$1,$7e895868db818ba723f7f0453599b604$var$loopLabel,$7e895868db818ba723f7f0453599b604$var$switchLabel,$7e895868db818ba723f7f0453599b604$var$empty,$7e895868db818ba723f7f0453599b604$var$FUNC_STATEMENT,$7e895868db818ba723f7f0453599b604$var$FUNC_HANGING_STATEMENT,$7e895868db818ba723f7f0453599b604$var$FUNC_NULLABLE_ID,$7e895868db818ba723f7f0453599b604$var$pp$2,$7e895868db818ba723f7f0453599b604$var$pp$3,$7e895868db818ba723f7f0453599b604$var$empty$1,$7e895868db818ba723f7f0453599b604$var$pp$4,$7e895868db818ba723f7f0453599b604$var$pp$5,$7e895868db818ba723f7f0453599b604$var$Scope,$7e895868db818ba723f7f0453599b604$export$Node,$7e895868db818ba723f7f0453599b604$var$pp$6,$7e895868db818ba723f7f0453599b604$export$TokContext,$7e895868db818ba723f7f0453599b604$export$tokContexts,$7e895868db818ba723f7f0453599b604$var$pp$7,$7e895868db818ba723f7f0453599b604$var$ecma9BinaryProperties,$7e895868db818ba723f7f0453599b604$var$ecma10BinaryProperties,$7e895868db818ba723f7f0453599b604$var$ecma11BinaryProperties,$7e895868db818ba723f7f0453599b604$var$unicodeBinaryProperties,$7e895868db818ba723f7f0453599b604$var$unicodeGeneralCategoryValues,$7e895868db818ba723f7f0453599b604$var$ecma9ScriptValues,$7e895868db818ba723f7f0453599b604$var$ecma10ScriptValues,$7e895868db818ba723f7f0453599b604$var$ecma11ScriptValues,$7e895868db818ba723f7f0453599b604$var$unicodeScriptValues,$7e895868db818ba723f7f0453599b604$var$data,$7e895868db818ba723f7f0453599b604$var$pp$8,$7e895868db818ba723f7f0453599b604$var$RegExpValidationState,$7e895868db818ba723f7f0453599b604$export$Token,$7e895868db818ba723f7f0453599b604$var$pp$9,$7e895868db818ba723f7f0453599b604$var$INVALID_TEMPLATE_ESCAPE_ERROR,$7e895868db818ba723f7f0453599b604$export$version,$5874c704389c6c9ce687fcbeaa0dfe86$executed=!1;function $7e895868db818ba723f7f0453599b604$var$isInAstralSet(e,t){for(var r=65536,i=0;i<t.length;i+=2){if((r+=t[i])>e)return!1;if((r+=t[i+1])>=e)return!0}}function $7e895868db818ba723f7f0453599b604$export$isIdentifierStart(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&$7e895868db818ba723f7f0453599b604$var$nonASCIIidentifierStart.test(String.fromCharCode(e)):!1!==t&&$7e895868db818ba723f7f0453599b604$var$isInAstralSet(e,$7e895868db818ba723f7f0453599b604$var$astralIdentifierStartCodes)))}function $7e895868db818ba723f7f0453599b604$export$isIdentifierChar(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&$7e895868db818ba723f7f0453599b604$var$nonASCIIidentifier.test(String.fromCharCode(e)):!1!==t&&($7e895868db818ba723f7f0453599b604$var$isInAstralSet(e,$7e895868db818ba723f7f0453599b604$var$astralIdentifierStartCodes)||$7e895868db818ba723f7f0453599b604$var$isInAstralSet(e,$7e895868db818ba723f7f0453599b604$var$astralIdentifierCodes)))))}function $7e895868db818ba723f7f0453599b604$var$binop(e,t){return new $7e895868db818ba723f7f0453599b604$export$TokenType(e,{beforeExpr:!0,binop:t})}function $7e895868db818ba723f7f0453599b604$var$kw(e,t){return void 0===t&&(t={}),t.keyword=e,$7e895868db818ba723f7f0453599b604$export$keywordTypes[e]=new $7e895868db818ba723f7f0453599b604$export$TokenType(e,t)}function $7e895868db818ba723f7f0453599b604$export$isNewLine(e,t){return 10===e||13===e||!t&&(8232===e||8233===e)}function $7e895868db818ba723f7f0453599b604$var$has(e,t){return $7e895868db818ba723f7f0453599b604$var$hasOwnProperty.call(e,t)}function $7e895868db818ba723f7f0453599b604$var$wordsRegexp(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}function $7e895868db818ba723f7f0453599b604$export$getLineInfo(e,t){for(var r=1,i=0;;){$7e895868db818ba723f7f0453599b604$export$lineBreakG.lastIndex=i;var n=$7e895868db818ba723f7f0453599b604$export$lineBreakG.exec(e);if(!(n&&n.index<t))return new $7e895868db818ba723f7f0453599b604$export$Position(r,t-i);++r,i=n.index+n[0].length}}function $7e895868db818ba723f7f0453599b604$var$getOptions(e){var t={};for(var r in $7e895868db818ba723f7f0453599b604$export$defaultOptions)t[r]=e&&$7e895868db818ba723f7f0453599b604$var$has(e,r)?e[r]:$7e895868db818ba723f7f0453599b604$export$defaultOptions[r];if(t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),$7e895868db818ba723f7f0453599b604$var$isArray(t.onToken)){var i=t.onToken;t.onToken=function(e){return i.push(e)}}return $7e895868db818ba723f7f0453599b604$var$isArray(t.onComment)&&(t.onComment=$7e895868db818ba723f7f0453599b604$var$pushComment(t,t.onComment)),t}function $7e895868db818ba723f7f0453599b604$var$pushComment(e,t){return function(r,i,n,o,s,a){var c={type:r?"Block":"Line",value:i,start:n,end:o};e.locations&&(c.loc=new $7e895868db818ba723f7f0453599b604$export$SourceLocation(this,s,a)),e.ranges&&(c.range=[n,o]),t.push(c)}}function $7e895868db818ba723f7f0453599b604$var$functionFlags(e,t){return $7e895868db818ba723f7f0453599b604$var$SCOPE_FUNCTION|(e?$7e895868db818ba723f7f0453599b604$var$SCOPE_ASYNC:0)|(t?$7e895868db818ba723f7f0453599b604$var$SCOPE_GENERATOR:0)}function $7e895868db818ba723f7f0453599b604$var$DestructuringErrors(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}function $7e895868db818ba723f7f0453599b604$var$finishNodeAt(e,t,r,i){return e.type=t,e.end=r,this.options.locations&&(e.loc.end=i),this.options.ranges&&(e.range[1]=r),e}function $7e895868db818ba723f7f0453599b604$var$buildUnicodeData(e){var t=$7e895868db818ba723f7f0453599b604$var$data[e]={binary:$7e895868db818ba723f7f0453599b604$var$wordsRegexp($7e895868db818ba723f7f0453599b604$var$unicodeBinaryProperties[e]+" "+$7e895868db818ba723f7f0453599b604$var$unicodeGeneralCategoryValues),nonBinary:{General_Category:$7e895868db818ba723f7f0453599b604$var$wordsRegexp($7e895868db818ba723f7f0453599b604$var$unicodeGeneralCategoryValues),Script:$7e895868db818ba723f7f0453599b604$var$wordsRegexp($7e895868db818ba723f7f0453599b604$var$unicodeScriptValues[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}function $7e895868db818ba723f7f0453599b604$var$codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function $7e895868db818ba723f7f0453599b604$var$isSyntaxCharacter(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function $7e895868db818ba723f7f0453599b604$var$isRegExpIdentifierStart(e){return $7e895868db818ba723f7f0453599b604$export$isIdentifierStart(e,!0)||36===e||95===e}function $7e895868db818ba723f7f0453599b604$var$isRegExpIdentifierPart(e){return $7e895868db818ba723f7f0453599b604$export$isIdentifierChar(e,!0)||36===e||95===e||8204===e||8205===e}function $7e895868db818ba723f7f0453599b604$var$isControlLetter(e){return e>=65&&e<=90||e>=97&&e<=122}function $7e895868db818ba723f7f0453599b604$var$isValidUnicode(e){return e>=0&&e<=1114111}function $7e895868db818ba723f7f0453599b604$var$isCharacterClassEscape(e){return 100===e||68===e||115===e||83===e||119===e||87===e}function $7e895868db818ba723f7f0453599b604$var$isUnicodePropertyNameCharacter(e){return $7e895868db818ba723f7f0453599b604$var$isControlLetter(e)||95===e}function $7e895868db818ba723f7f0453599b604$var$isUnicodePropertyValueCharacter(e){return $7e895868db818ba723f7f0453599b604$var$isUnicodePropertyNameCharacter(e)||$7e895868db818ba723f7f0453599b604$var$isDecimalDigit(e)}function $7e895868db818ba723f7f0453599b604$var$isDecimalDigit(e){return e>=48&&e<=57}function $7e895868db818ba723f7f0453599b604$var$isHexDigit(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function $7e895868db818ba723f7f0453599b604$var$hexToInt(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function $7e895868db818ba723f7f0453599b604$var$isOctalDigit(e){return e>=48&&e<=55}function $7e895868db818ba723f7f0453599b604$var$codePointToString$1(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function $7e895868db818ba723f7f0453599b604$export$parse(e,t){return $7e895868db818ba723f7f0453599b604$export$Parser.parse(e,t)}function $7e895868db818ba723f7f0453599b604$export$parseExpressionAt(e,t,r){return $7e895868db818ba723f7f0453599b604$export$Parser.parseExpressionAt(e,t,r)}function $7e895868db818ba723f7f0453599b604$export$tokenizer(e,t){return $7e895868db818ba723f7f0453599b604$export$Parser.tokenizer(e,t)}function $5874c704389c6c9ce687fcbeaa0dfe86$exec(){$7e895868db818ba723f7f0453599b604$exports={},$7e895868db818ba723f7f0453599b604$var$reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},$7e895868db818ba723f7f0453599b604$var$keywords={5:$7e895868db818ba723f7f0453599b604$var$ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this","5module":$7e895868db818ba723f7f0453599b604$var$ecma5AndLessKeywords+" export import",6:$7e895868db818ba723f7f0453599b604$var$ecma5AndLessKeywords+" const class extends export import super"},$7e895868db818ba723f7f0453599b604$var$keywordRelationalOperator=/^in(stanceof)?$/,$7e895868db818ba723f7f0453599b604$var$nonASCIIidentifierStartChars="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞿꟂ-Ᶎꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭧꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",$7e895868db818ba723f7f0453599b604$var$nonASCIIidentifierChars="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷹᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",$7e895868db818ba723f7f0453599b604$var$nonASCIIidentifierStart=new RegExp("["+$7e895868db818ba723f7f0453599b604$var$nonASCIIidentifierStartChars+"]"),$7e895868db818ba723f7f0453599b604$var$nonASCIIidentifier=new RegExp("["+$7e895868db818ba723f7f0453599b604$var$nonASCIIidentifierStartChars+$7e895868db818ba723f7f0453599b604$var$nonASCIIidentifierChars+"]"),$7e895868db818ba723f7f0453599b604$var$nonASCIIidentifierStartChars=$7e895868db818ba723f7f0453599b604$var$nonASCIIidentifierChars=null,$7e895868db818ba723f7f0453599b604$var$astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],$7e895868db818ba723f7f0453599b604$var$astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239],$7e895868db818ba723f7f0453599b604$var$beforeExpr={beforeExpr:!0},$7e895868db818ba723f7f0453599b604$export$keywordTypes={},$7e895868db818ba723f7f0453599b604$export$tokTypes={num:new($7e895868db818ba723f7f0453599b604$export$TokenType=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null})("num",$7e895868db818ba723f7f0453599b604$var$startsExpr={startsExpr:!0}),regexp:new $7e895868db818ba723f7f0453599b604$export$TokenType("regexp",$7e895868db818ba723f7f0453599b604$var$startsExpr),string:new $7e895868db818ba723f7f0453599b604$export$TokenType("string",$7e895868db818ba723f7f0453599b604$var$startsExpr),name:new $7e895868db818ba723f7f0453599b604$export$TokenType("name",$7e895868db818ba723f7f0453599b604$var$startsExpr),eof:new $7e895868db818ba723f7f0453599b604$export$TokenType("eof"),bracketL:new $7e895868db818ba723f7f0453599b604$export$TokenType("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new $7e895868db818ba723f7f0453599b604$export$TokenType("]"),braceL:new $7e895868db818ba723f7f0453599b604$export$TokenType("{",{beforeExpr:!0,startsExpr:!0}),braceR:new $7e895868db818ba723f7f0453599b604$export$TokenType("}"),parenL:new $7e895868db818ba723f7f0453599b604$export$TokenType("(",{beforeExpr:!0,startsExpr:!0}),parenR:new $7e895868db818ba723f7f0453599b604$export$TokenType(")"),comma:new $7e895868db818ba723f7f0453599b604$export$TokenType(",",$7e895868db818ba723f7f0453599b604$var$beforeExpr),semi:new $7e895868db818ba723f7f0453599b604$export$TokenType(";",$7e895868db818ba723f7f0453599b604$var$beforeExpr),colon:new $7e895868db818ba723f7f0453599b604$export$TokenType(":",$7e895868db818ba723f7f0453599b604$var$beforeExpr),dot:new $7e895868db818ba723f7f0453599b604$export$TokenType("."),question:new $7e895868db818ba723f7f0453599b604$export$TokenType("?",$7e895868db818ba723f7f0453599b604$var$beforeExpr),arrow:new $7e895868db818ba723f7f0453599b604$export$TokenType("=>",$7e895868db818ba723f7f0453599b604$var$beforeExpr),template:new $7e895868db818ba723f7f0453599b604$export$TokenType("template"),invalidTemplate:new $7e895868db818ba723f7f0453599b604$export$TokenType("invalidTemplate"),ellipsis:new $7e895868db818ba723f7f0453599b604$export$TokenType("...",$7e895868db818ba723f7f0453599b604$var$beforeExpr),backQuote:new $7e895868db818ba723f7f0453599b604$export$TokenType("`",$7e895868db818ba723f7f0453599b604$var$startsExpr),dollarBraceL:new $7e895868db818ba723f7f0453599b604$export$TokenType("${",{beforeExpr:!0,startsExpr:!0}),eq:new $7e895868db818ba723f7f0453599b604$export$TokenType("=",{beforeExpr:!0,isAssign:!0}),assign:new $7e895868db818ba723f7f0453599b604$export$TokenType("_=",{beforeExpr:!0,isAssign:!0}),incDec:new $7e895868db818ba723f7f0453599b604$export$TokenType("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new $7e895868db818ba723f7f0453599b604$export$TokenType("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:$7e895868db818ba723f7f0453599b604$var$binop("||",1),logicalAND:$7e895868db818ba723f7f0453599b604$var$binop("&&",2),bitwiseOR:$7e895868db818ba723f7f0453599b604$var$binop("|",3),bitwiseXOR:$7e895868db818ba723f7f0453599b604$var$binop("^",4),bitwiseAND:$7e895868db818ba723f7f0453599b604$var$binop("&",5),equality:$7e895868db818ba723f7f0453599b604$var$binop("==/!=/===/!==",6),relational:$7e895868db818ba723f7f0453599b604$var$binop("</>/<=/>=",7),bitShift:$7e895868db818ba723f7f0453599b604$var$binop("<</>>/>>>",8),plusMin:new $7e895868db818ba723f7f0453599b604$export$TokenType("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:$7e895868db818ba723f7f0453599b604$var$binop("%",10),star:$7e895868db818ba723f7f0453599b604$var$binop("*",10),slash:$7e895868db818ba723f7f0453599b604$var$binop("/",10),starstar:new $7e895868db818ba723f7f0453599b604$export$TokenType("**",{beforeExpr:!0}),_break:$7e895868db818ba723f7f0453599b604$var$kw("break"),_case:$7e895868db818ba723f7f0453599b604$var$kw("case",$7e895868db818ba723f7f0453599b604$var$beforeExpr),_catch:$7e895868db818ba723f7f0453599b604$var$kw("catch"),_continue:$7e895868db818ba723f7f0453599b604$var$kw("continue"),_debugger:$7e895868db818ba723f7f0453599b604$var$kw("debugger"),_default:$7e895868db818ba723f7f0453599b604$var$kw("default",$7e895868db818ba723f7f0453599b604$var$beforeExpr),_do:$7e895868db818ba723f7f0453599b604$var$kw("do",{isLoop:!0,beforeExpr:!0}),_else:$7e895868db818ba723f7f0453599b604$var$kw("else",$7e895868db818ba723f7f0453599b604$var$beforeExpr),_finally:$7e895868db818ba723f7f0453599b604$var$kw("finally"),_for:$7e895868db818ba723f7f0453599b604$var$kw("for",{isLoop:!0}),_function:$7e895868db818ba723f7f0453599b604$var$kw("function",$7e895868db818ba723f7f0453599b604$var$startsExpr),_if:$7e895868db818ba723f7f0453599b604$var$kw("if"),_return:$7e895868db818ba723f7f0453599b604$var$kw("return",$7e895868db818ba723f7f0453599b604$var$beforeExpr),_switch:$7e895868db818ba723f7f0453599b604$var$kw("switch"),_throw:$7e895868db818ba723f7f0453599b604$var$kw("throw",$7e895868db818ba723f7f0453599b604$var$beforeExpr),_try:$7e895868db818ba723f7f0453599b604$var$kw("try"),_var:$7e895868db818ba723f7f0453599b604$var$kw("var"),_const:$7e895868db818ba723f7f0453599b604$var$kw("const"),_while:$7e895868db818ba723f7f0453599b604$var$kw("while",{isLoop:!0}),_with:$7e895868db818ba723f7f0453599b604$var$kw("with"),_new:$7e895868db818ba723f7f0453599b604$var$kw("new",{beforeExpr:!0,startsExpr:!0}),_this:$7e895868db818ba723f7f0453599b604$var$kw("this",$7e895868db818ba723f7f0453599b604$var$startsExpr),_super:$7e895868db818ba723f7f0453599b604$var$kw("super",$7e895868db818ba723f7f0453599b604$var$startsExpr),_class:$7e895868db818ba723f7f0453599b604$var$kw("class",$7e895868db818ba723f7f0453599b604$var$startsExpr),_extends:$7e895868db818ba723f7f0453599b604$var$kw("extends",$7e895868db818ba723f7f0453599b604$var$beforeExpr),_export:$7e895868db818ba723f7f0453599b604$var$kw("export"),_import:$7e895868db818ba723f7f0453599b604$var$kw("import",$7e895868db818ba723f7f0453599b604$var$startsExpr),_null:$7e895868db818ba723f7f0453599b604$var$kw("null",$7e895868db818ba723f7f0453599b604$var$startsExpr),_true:$7e895868db818ba723f7f0453599b604$var$kw("true",$7e895868db818ba723f7f0453599b604$var$startsExpr),_false:$7e895868db818ba723f7f0453599b604$var$kw("false",$7e895868db818ba723f7f0453599b604$var$startsExpr),_in:$7e895868db818ba723f7f0453599b604$var$kw("in",{beforeExpr:!0,binop:7}),_instanceof:$7e895868db818ba723f7f0453599b604$var$kw("instanceof",{beforeExpr:!0,binop:7}),_typeof:$7e895868db818ba723f7f0453599b604$var$kw("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:$7e895868db818ba723f7f0453599b604$var$kw("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:$7e895868db818ba723f7f0453599b604$var$kw("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},$7e895868db818ba723f7f0453599b604$export$lineBreak=/\r\n?|\n|\u2028|\u2029/,$7e895868db818ba723f7f0453599b604$export$lineBreakG=new RegExp($7e895868db818ba723f7f0453599b604$export$lineBreak.source,"g"),$7e895868db818ba723f7f0453599b604$export$nonASCIIwhitespace=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,$7e895868db818ba723f7f0453599b604$var$skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,$7e895868db818ba723f7f0453599b604$var$ref=Object.prototype,$7e895868db818ba723f7f0453599b604$var$hasOwnProperty=$7e895868db818ba723f7f0453599b604$var$ref.hasOwnProperty,$7e895868db818ba723f7f0453599b604$var$toString=$7e895868db818ba723f7f0453599b604$var$ref.toString,$7e895868db818ba723f7f0453599b604$var$isArray=Array.isArray||function(e){return"[object Array]"===$7e895868db818ba723f7f0453599b604$var$toString.call(e)},($7e895868db818ba723f7f0453599b604$export$Position=function(e,t){this.line=e,this.column=t}).prototype.offset=function(e){return new $7e895868db818ba723f7f0453599b604$export$Position(this.line,this.column+e)},$7e895868db818ba723f7f0453599b604$export$SourceLocation=function(e,t,r){this.start=t,this.end=r,null!==e.sourceFile&&(this.source=e.sourceFile)},$7e895868db818ba723f7f0453599b604$export$defaultOptions={ecmaVersion:9,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},$7e895868db818ba723f7f0453599b604$var$SCOPE_VAR=($7e895868db818ba723f7f0453599b604$var$SCOPE_TOP=1)|($7e895868db818ba723f7f0453599b604$var$SCOPE_FUNCTION=2),$7e895868db818ba723f7f0453599b604$var$SCOPE_ASYNC=4,$7e895868db818ba723f7f0453599b604$var$SCOPE_GENERATOR=8,$7e895868db818ba723f7f0453599b604$var$SCOPE_ARROW=16,$7e895868db818ba723f7f0453599b604$var$SCOPE_SIMPLE_CATCH=32,$7e895868db818ba723f7f0453599b604$var$SCOPE_SUPER=64,$7e895868db818ba723f7f0453599b604$var$SCOPE_DIRECT_SUPER=128,$7e895868db818ba723f7f0453599b604$var$BIND_NONE=0,$7e895868db818ba723f7f0453599b604$var$BIND_VAR=1,$7e895868db818ba723f7f0453599b604$var$BIND_LEXICAL=2,$7e895868db818ba723f7f0453599b604$var$BIND_FUNCTION=3,$7e895868db818ba723f7f0453599b604$var$BIND_SIMPLE_CATCH=4,$7e895868db818ba723f7f0453599b604$var$BIND_OUTSIDE=5,$7e895868db818ba723f7f0453599b604$var$prototypeAccessors={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}},($7e895868db818ba723f7f0453599b604$export$Parser=function(e,t,r){this.options=e=$7e895868db818ba723f7f0453599b604$var$getOptions(e),this.sourceFile=e.sourceFile,this.keywords=$7e895868db818ba723f7f0453599b604$var$wordsRegexp($7e895868db818ba723f7f0453599b604$var$keywords[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var i="";if(!0!==e.allowReserved){for(var n=e.ecmaVersion;!(i=$7e895868db818ba723f7f0453599b604$var$reservedWords[n]);n--);"module"===e.sourceType&&(i+=" await")}this.reservedWords=$7e895868db818ba723f7f0453599b604$var$wordsRegexp(i);var o=(i?i+" ":"")+$7e895868db818ba723f7f0453599b604$var$reservedWords.strict;this.reservedWordsStrict=$7e895868db818ba723f7f0453599b604$var$wordsRegexp(o),this.reservedWordsStrictBind=$7e895868db818ba723f7f0453599b604$var$wordsRegexp(o+" "+$7e895868db818ba723f7f0453599b604$var$reservedWords.strictBind),this.input=String(t),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf("\n",r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split($7e895868db818ba723f7f0453599b604$export$lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=$7e895868db818ba723f7f0453599b604$export$tokTypes.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope($7e895868db818ba723f7f0453599b604$var$SCOPE_TOP),this.regexpState=null}).prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},$7e895868db818ba723f7f0453599b604$var$prototypeAccessors.inFunction.get=function(){return(this.currentVarScope().flags&$7e895868db818ba723f7f0453599b604$var$SCOPE_FUNCTION)>0},$7e895868db818ba723f7f0453599b604$var$prototypeAccessors.inGenerator.get=function(){return(this.currentVarScope().flags&$7e895868db818ba723f7f0453599b604$var$SCOPE_GENERATOR)>0},$7e895868db818ba723f7f0453599b604$var$prototypeAccessors.inAsync.get=function(){return(this.currentVarScope().flags&$7e895868db818ba723f7f0453599b604$var$SCOPE_ASYNC)>0},$7e895868db818ba723f7f0453599b604$var$prototypeAccessors.allowSuper.get=function(){return(this.currentThisScope().flags&$7e895868db818ba723f7f0453599b604$var$SCOPE_SUPER)>0},$7e895868db818ba723f7f0453599b604$var$prototypeAccessors.allowDirectSuper.get=function(){return(this.currentThisScope().flags&$7e895868db818ba723f7f0453599b604$var$SCOPE_DIRECT_SUPER)>0},$7e895868db818ba723f7f0453599b604$var$prototypeAccessors.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},$7e895868db818ba723f7f0453599b604$export$Parser.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&$7e895868db818ba723f7f0453599b604$var$SCOPE_FUNCTION)>0},$7e895868db818ba723f7f0453599b604$export$Parser.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var r=this,i=0;i<e.length;i++)r=e[i](r);return r},$7e895868db818ba723f7f0453599b604$export$Parser.parse=function(e,t){return new this(t,e).parse()},$7e895868db818ba723f7f0453599b604$export$Parser.parseExpressionAt=function(e,t,r){var i=new this(r,e,t);return i.nextToken(),i.parseExpression()},$7e895868db818ba723f7f0453599b604$export$Parser.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties($7e895868db818ba723f7f0453599b604$export$Parser.prototype,$7e895868db818ba723f7f0453599b604$var$prototypeAccessors),$7e895868db818ba723f7f0453599b604$var$pp=$7e895868db818ba723f7f0453599b604$export$Parser.prototype,$7e895868db818ba723f7f0453599b604$var$literal=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/,$7e895868db818ba723f7f0453599b604$var$pp.strictDirective=function(e){for(;;){$7e895868db818ba723f7f0453599b604$var$skipWhiteSpace.lastIndex=e,e+=$7e895868db818ba723f7f0453599b604$var$skipWhiteSpace.exec(this.input)[0].length;var t=$7e895868db818ba723f7f0453599b604$var$literal.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2]))return!0;e+=t[0].length,$7e895868db818ba723f7f0453599b604$var$skipWhiteSpace.lastIndex=e,e+=$7e895868db818ba723f7f0453599b604$var$skipWhiteSpace.exec(this.input)[0].length,";"===this.input[e]&&e++}},$7e895868db818ba723f7f0453599b604$var$pp.eat=function(e){return this.type===e&&(this.next(),!0)},$7e895868db818ba723f7f0453599b604$var$pp.isContextual=function(e){return this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.name&&this.value===e&&!this.containsEsc},$7e895868db818ba723f7f0453599b604$var$pp.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},$7e895868db818ba723f7f0453599b604$var$pp.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},$7e895868db818ba723f7f0453599b604$var$pp.canInsertSemicolon=function(){return this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.eof||this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.braceR||$7e895868db818ba723f7f0453599b604$export$lineBreak.test(this.input.slice(this.lastTokEnd,this.start))},$7e895868db818ba723f7f0453599b604$var$pp.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},$7e895868db818ba723f7f0453599b604$var$pp.semicolon=function(){this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.semi)||this.insertSemicolon()||this.unexpected()},$7e895868db818ba723f7f0453599b604$var$pp.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},$7e895868db818ba723f7f0453599b604$var$pp.expect=function(e){this.eat(e)||this.unexpected()},$7e895868db818ba723f7f0453599b604$var$pp.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},$7e895868db818ba723f7f0453599b604$var$pp.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var r=t?e.parenthesizedAssign:e.parenthesizedBind;r>-1&&this.raiseRecoverable(r,"Parenthesized pattern")}},$7e895868db818ba723f7f0453599b604$var$pp.checkExpressionErrors=function(e,t){if(!e)return!1;var r=e.shorthandAssign,i=e.doubleProto;if(!t)return r>=0||i>=0;r>=0&&this.raise(r,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")},$7e895868db818ba723f7f0453599b604$var$pp.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},$7e895868db818ba723f7f0453599b604$var$pp.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type},($7e895868db818ba723f7f0453599b604$var$pp$1=$7e895868db818ba723f7f0453599b604$export$Parser.prototype).parseTopLevel=function(e){var t={};for(e.body||(e.body=[]);this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.eof;){var r=this.parseStatement(null,!0,t);e.body.push(r)}if(this.inModule)for(var i=0,n=Object.keys(this.undefinedExports);i<n.length;i+=1){var o=n[i];this.raiseRecoverable(this.undefinedExports[o].start,"Export '"+o+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")},$7e895868db818ba723f7f0453599b604$var$loopLabel={kind:"loop"},$7e895868db818ba723f7f0453599b604$var$switchLabel={kind:"switch"},$7e895868db818ba723f7f0453599b604$var$pp$1.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;$7e895868db818ba723f7f0453599b604$var$skipWhiteSpace.lastIndex=this.pos;var t=$7e895868db818ba723f7f0453599b604$var$skipWhiteSpace.exec(this.input),r=this.pos+t[0].length,i=this.input.charCodeAt(r);if(91===i)return!0;if(e)return!1;if(123===i)return!0;if($7e895868db818ba723f7f0453599b604$export$isIdentifierStart(i,!0)){for(var n=r+1;$7e895868db818ba723f7f0453599b604$export$isIdentifierChar(this.input.charCodeAt(n),!0);)++n;var o=this.input.slice(r,n);if(!$7e895868db818ba723f7f0453599b604$var$keywordRelationalOperator.test(o))return!0}return!1},$7e895868db818ba723f7f0453599b604$var$pp$1.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;$7e895868db818ba723f7f0453599b604$var$skipWhiteSpace.lastIndex=this.pos;var e=$7e895868db818ba723f7f0453599b604$var$skipWhiteSpace.exec(this.input),t=this.pos+e[0].length;return!($7e895868db818ba723f7f0453599b604$export$lineBreak.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!==this.input.length&&$7e895868db818ba723f7f0453599b604$export$isIdentifierChar(this.input.charAt(t+8)))},$7e895868db818ba723f7f0453599b604$var$pp$1.parseStatement=function(e,t,r){var i,n=this.type,o=this.startNode();switch(this.isLet(e)&&(n=$7e895868db818ba723f7f0453599b604$export$tokTypes._var,i="let"),n){case $7e895868db818ba723f7f0453599b604$export$tokTypes._break:case $7e895868db818ba723f7f0453599b604$export$tokTypes._continue:return this.parseBreakContinueStatement(o,n.keyword);case $7e895868db818ba723f7f0453599b604$export$tokTypes._debugger:return this.parseDebuggerStatement(o);case $7e895868db818ba723f7f0453599b604$export$tokTypes._do:return this.parseDoStatement(o);case $7e895868db818ba723f7f0453599b604$export$tokTypes._for:return this.parseForStatement(o);case $7e895868db818ba723f7f0453599b604$export$tokTypes._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1,!e);case $7e895868db818ba723f7f0453599b604$export$tokTypes._class:return e&&this.unexpected(),this.parseClass(o,!0);case $7e895868db818ba723f7f0453599b604$export$tokTypes._if:return this.parseIfStatement(o);case $7e895868db818ba723f7f0453599b604$export$tokTypes._return:return this.parseReturnStatement(o);case $7e895868db818ba723f7f0453599b604$export$tokTypes._switch:return this.parseSwitchStatement(o);case $7e895868db818ba723f7f0453599b604$export$tokTypes._throw:return this.parseThrowStatement(o);case $7e895868db818ba723f7f0453599b604$export$tokTypes._try:return this.parseTryStatement(o);case $7e895868db818ba723f7f0453599b604$export$tokTypes._const:case $7e895868db818ba723f7f0453599b604$export$tokTypes._var:return i=i||this.value,e&&"var"!==i&&this.unexpected(),this.parseVarStatement(o,i);case $7e895868db818ba723f7f0453599b604$export$tokTypes._while:return this.parseWhileStatement(o);case $7e895868db818ba723f7f0453599b604$export$tokTypes._with:return this.parseWithStatement(o);case $7e895868db818ba723f7f0453599b604$export$tokTypes.braceL:return this.parseBlock(!0,o);case $7e895868db818ba723f7f0453599b604$export$tokTypes.semi:return this.parseEmptyStatement(o);case $7e895868db818ba723f7f0453599b604$export$tokTypes._export:case $7e895868db818ba723f7f0453599b604$export$tokTypes._import:if(this.options.ecmaVersion>10&&n===$7e895868db818ba723f7f0453599b604$export$tokTypes._import){$7e895868db818ba723f7f0453599b604$var$skipWhiteSpace.lastIndex=this.pos;var s=$7e895868db818ba723f7f0453599b604$var$skipWhiteSpace.exec(this.input),a=this.pos+s[0].length;if(40===this.input.charCodeAt(a))return this.parseExpressionStatement(o,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===$7e895868db818ba723f7f0453599b604$export$tokTypes._import?this.parseImport(o):this.parseExport(o,r);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(o,!0,!e);var c=this.value,l=this.parseExpression();return n===$7e895868db818ba723f7f0453599b604$export$tokTypes.name&&"Identifier"===l.type&&this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.colon)?this.parseLabeledStatement(o,c,l,e):this.parseExpressionStatement(o,l)}},$7e895868db818ba723f7f0453599b604$var$pp$1.parseBreakContinueStatement=function(e,t){var r="break"===t;this.next(),this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.semi)||this.insertSemicolon()?e.label=null:this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var n=this.labels[i];if(null==e.label||n.name===e.label.name){if(null!=n.kind&&(r||"loop"===n.kind))break;if(e.label&&r)break}}return i===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,r?"BreakStatement":"ContinueStatement")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseDoStatement=function(e){return this.next(),this.labels.push($7e895868db818ba723f7f0453599b604$var$loopLabel),e.body=this.parseStatement("do"),this.labels.pop(),this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push($7e895868db818ba723f7f0453599b604$var$loopLabel),this.enterScope(0),this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.parenL),this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var r=this.isLet();if(this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._var||this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._const||r){var i=this.startNode(),n=r?"let":this.value;return this.next(),this.parseVar(i,!0,n),this.finishNode(i,"VariableDeclaration"),(this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===i.declarations.length?(this.options.ecmaVersion>=9&&(this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,i)):(t>-1&&this.unexpected(t),this.parseFor(e,i))}var o=new $7e895868db818ba723f7f0453599b604$var$DestructuringErrors,s=this.parseExpression(!0,o);return this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._in?t>-1&&this.unexpected(t):e.await=t>-1),this.toAssignable(s,!1,o),this.checkLVal(s),this.parseForIn(e,s)):(this.checkExpressionErrors(o,!0),t>-1&&this.unexpected(t),this.parseFor(e,s))},$7e895868db818ba723f7f0453599b604$var$pp$1.parseFunctionStatement=function(e,t,r){return this.next(),this.parseFunction(e,$7e895868db818ba723f7f0453599b604$var$FUNC_STATEMENT|(r?0:$7e895868db818ba723f7f0453599b604$var$FUNC_HANGING_STATEMENT),!1,t)},$7e895868db818ba723f7f0453599b604$var$pp$1.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.braceL),this.labels.push($7e895868db818ba723f7f0453599b604$var$switchLabel),this.enterScope(0);for(var r=!1;this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.braceR;)if(this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._case||this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._default){var i=this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),i?t.test=this.parseExpression():(r&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),r=!0,t.test=null),this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseThrowStatement=function(e){return this.next(),$7e895868db818ba723f7f0453599b604$export$lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")},$7e895868db818ba723f7f0453599b604$var$empty=[],$7e895868db818ba723f7f0453599b604$var$pp$1.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._catch){var t=this.startNode();if(this.next(),this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.parenL)){t.param=this.parseBindingAtom();var r="Identifier"===t.param.type;this.enterScope(r?$7e895868db818ba723f7f0453599b604$var$SCOPE_SIMPLE_CATCH:0),this.checkLVal(t.param,r?$7e895868db818ba723f7f0453599b604$var$BIND_SIMPLE_CATCH:$7e895868db818ba723f7f0453599b604$var$BIND_LEXICAL),this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push($7e895868db818ba723f7f0453599b604$var$loopLabel),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseLabeledStatement=function(e,t,r,i){for(var n=0,o=this.labels;n<o.length;n+=1){o[n].name===t&&this.raise(r.start,"Label '"+t+"' is already declared")}for(var s=this.type.isLoop?"loop":this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._switch?"switch":null,a=this.labels.length-1;a>=0;a--){var c=this.labels[a];if(c.statementStart!==e.start)break;c.statementStart=this.start,c.kind=s}return this.labels.push({name:t,kind:s,statementStart:this.start}),e.body=this.parseStatement(i?-1===i.indexOf("label")?i+"label":i:"label"),this.labels.pop(),e.label=r,this.finishNode(e,"LabeledStatement")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseBlock=function(e,t){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.braceL),e&&this.enterScope(0);!this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.braceR);){var r=this.parseStatement(null);t.body.push(r)}return e&&this.exitScope(),this.finishNode(t,"BlockStatement")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseFor=function(e,t){return e.init=t,this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.semi),e.test=this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.semi?null:this.parseExpression(),this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.semi),e.update=this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.parenR?null:this.parseExpression(),this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseForIn=function(e,t){var r=this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!r||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)?this.raise(t.start,(r?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===t.type&&this.raise(t.start,"Invalid left-hand side in for-loop"),e.left=t,e.right=r?this.parseExpression():this.parseMaybeAssign(),this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,r?"ForInStatement":"ForOfStatement")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseVar=function(e,t,r){for(e.declarations=[],e.kind=r;;){var i=this.startNode();if(this.parseVarId(i,r),this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.eq)?i.init=this.parseMaybeAssign(t):"const"!==r||this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===i.id.type||t&&(this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._in||this.isContextual("of"))?i.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.comma))break}return e},$7e895868db818ba723f7f0453599b604$var$pp$1.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLVal(e.id,"var"===t?$7e895868db818ba723f7f0453599b604$var$BIND_VAR:$7e895868db818ba723f7f0453599b604$var$BIND_LEXICAL,!1)},$7e895868db818ba723f7f0453599b604$var$FUNC_STATEMENT=1,$7e895868db818ba723f7f0453599b604$var$FUNC_HANGING_STATEMENT=2,$7e895868db818ba723f7f0453599b604$var$FUNC_NULLABLE_ID=4,$7e895868db818ba723f7f0453599b604$var$pp$1.parseFunction=function(e,t,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.star&&t&$7e895868db818ba723f7f0453599b604$var$FUNC_HANGING_STATEMENT&&this.unexpected(),e.generator=this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.star)),this.options.ecmaVersion>=8&&(e.async=!!i),t&$7e895868db818ba723f7f0453599b604$var$FUNC_STATEMENT&&(e.id=t&$7e895868db818ba723f7f0453599b604$var$FUNC_NULLABLE_ID&&this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.name?null:this.parseIdent(),!e.id||t&$7e895868db818ba723f7f0453599b604$var$FUNC_HANGING_STATEMENT||this.checkLVal(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?$7e895868db818ba723f7f0453599b604$var$BIND_VAR:$7e895868db818ba723f7f0453599b604$var$BIND_LEXICAL:$7e895868db818ba723f7f0453599b604$var$BIND_FUNCTION));var n=this.yieldPos,o=this.awaitPos,s=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope($7e895868db818ba723f7f0453599b604$var$functionFlags(e.async,e.generator)),t&$7e895868db818ba723f7f0453599b604$var$FUNC_STATEMENT||(e.id=this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,r,!1),this.yieldPos=n,this.awaitPos=o,this.awaitIdentPos=s,this.finishNode(e,t&$7e895868db818ba723f7f0453599b604$var$FUNC_STATEMENT?"FunctionDeclaration":"FunctionExpression")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseFunctionParams=function(e){this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.parenL),e.params=this.parseBindingList($7e895868db818ba723f7f0453599b604$export$tokTypes.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},$7e895868db818ba723f7f0453599b604$var$pp$1.parseClass=function(e,t){this.next();var r=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var i=this.startNode(),n=!1;for(i.body=[],this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.braceL);!this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.braceR);){var o=this.parseClassElement(null!==e.superClass);o&&(i.body.push(o),"MethodDefinition"===o.type&&"constructor"===o.kind&&(n&&this.raise(o.start,"Duplicate constructor in the same class"),n=!0))}return e.body=this.finishNode(i,"ClassBody"),this.strict=r,this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseClassElement=function(e){var t=this;if(this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.semi))return null;var r=this.startNode(),i=function(e,i){void 0===i&&(i=!1);var n=t.start,o=t.startLoc;return!!t.eatContextual(e)&&(!(t.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.parenL||i&&t.canInsertSemicolon())||(r.key&&t.unexpected(),r.computed=!1,r.key=t.startNodeAt(n,o),r.key.name=e,t.finishNode(r.key,"Identifier"),!1))};r.kind="method",r.static=i("static");var n=this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.star),o=!1;n||(this.options.ecmaVersion>=8&&i("async",!0)?(o=!0,n=this.options.ecmaVersion>=9&&this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.star)):i("get")?r.kind="get":i("set")&&(r.kind="set")),r.key||this.parsePropertyName(r);var s=r.key,a=!1;return r.computed||r.static||!("Identifier"===s.type&&"constructor"===s.name||"Literal"===s.type&&"constructor"===s.value)?r.static&&"Identifier"===s.type&&"prototype"===s.name&&this.raise(s.start,"Classes may not have a static property named prototype"):("method"!==r.kind&&this.raise(s.start,"Constructor can't have get/set modifier"),n&&this.raise(s.start,"Constructor can't be a generator"),o&&this.raise(s.start,"Constructor can't be an async method"),r.kind="constructor",a=e),this.parseClassMethod(r,n,o,a),"get"===r.kind&&0!==r.value.params.length&&this.raiseRecoverable(r.value.start,"getter should have no params"),"set"===r.kind&&1!==r.value.params.length&&this.raiseRecoverable(r.value.start,"setter should have exactly one param"),"set"===r.kind&&"RestElement"===r.value.params[0].type&&this.raiseRecoverable(r.value.params[0].start,"Setter cannot use rest params"),r},$7e895868db818ba723f7f0453599b604$var$pp$1.parseClassMethod=function(e,t,r,i){return e.value=this.parseMethod(t,r,i),this.finishNode(e,"MethodDefinition")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseClassId=function(e,t){this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.name?(e.id=this.parseIdent(),t&&this.checkLVal(e.id,$7e895868db818ba723f7f0453599b604$var$BIND_LEXICAL,!1)):(!0===t&&this.unexpected(),e.id=null)},$7e895868db818ba723f7f0453599b604$var$pp$1.parseClassSuper=function(e){e.superClass=this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes._extends)?this.parseExprSubscripts():null},$7e895868db818ba723f7f0453599b604$var$pp$1.parseExport=function(e,t){if(this.next(),this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.star))return this.expectContextual("from"),this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes._default)){var r;if(this.checkExport(t,"default",this.lastTokStart),this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._function||(r=this.isAsyncFunction())){var i=this.startNode();this.next(),r&&this.next(),e.declaration=this.parseFunction(i,$7e895868db818ba723f7f0453599b604$var$FUNC_STATEMENT|$7e895868db818ba723f7f0453599b604$var$FUNC_NULLABLE_ID,!1,r)}else if(this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._class){var n=this.startNode();e.declaration=this.parseClass(n,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var o=0,s=e.specifiers;o<s.length;o+=1){var a=s[o];this.checkUnreserved(a.local),this.checkLocalExport(a.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},$7e895868db818ba723f7f0453599b604$var$pp$1.checkExport=function(e,t,r){e&&($7e895868db818ba723f7f0453599b604$var$has(e,t)&&this.raiseRecoverable(r,"Duplicate export '"+t+"'"),e[t]=!0)},$7e895868db818ba723f7f0453599b604$var$pp$1.checkPatternExport=function(e,t){var r=t.type;if("Identifier"===r)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===r)for(var i=0,n=t.properties;i<n.length;i+=1){var o=n[i];this.checkPatternExport(e,o)}else if("ArrayPattern"===r)for(var s=0,a=t.elements;s<a.length;s+=1){var c=a[s];c&&this.checkPatternExport(e,c)}else"Property"===r?this.checkPatternExport(e,t.value):"AssignmentPattern"===r?this.checkPatternExport(e,t.left):"RestElement"===r?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===r&&this.checkPatternExport(e,t.expression)},$7e895868db818ba723f7f0453599b604$var$pp$1.checkVariableExport=function(e,t){if(e)for(var r=0,i=t;r<i.length;r+=1){var n=i[r];this.checkPatternExport(e,n.id)}},$7e895868db818ba723f7f0453599b604$var$pp$1.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},$7e895868db818ba723f7f0453599b604$var$pp$1.parseExportSpecifiers=function(e){var t=[],r=!0;for(this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.braceL);!this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.braceR);){if(r)r=!1;else if(this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.comma),this.afterTrailingComma($7e895868db818ba723f7f0453599b604$export$tokTypes.braceR))break;var i=this.startNode();i.local=this.parseIdent(!0),i.exported=this.eatContextual("as")?this.parseIdent(!0):i.local,this.checkExport(e,i.exported.name,i.exported.start),t.push(this.finishNode(i,"ExportSpecifier"))}return t},$7e895868db818ba723f7f0453599b604$var$pp$1.parseImport=function(e){return this.next(),this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.string?(e.specifiers=$7e895868db818ba723f7f0453599b604$var$empty,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},$7e895868db818ba723f7f0453599b604$var$pp$1.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.name){var r=this.startNode();if(r.local=this.parseIdent(),this.checkLVal(r.local,$7e895868db818ba723f7f0453599b604$var$BIND_LEXICAL),e.push(this.finishNode(r,"ImportDefaultSpecifier")),!this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.comma))return e}if(this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.star){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLVal(i.local,$7e895868db818ba723f7f0453599b604$var$BIND_LEXICAL),e.push(this.finishNode(i,"ImportNamespaceSpecifier")),e}for(this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.braceL);!this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.braceR);){if(t)t=!1;else if(this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.comma),this.afterTrailingComma($7e895868db818ba723f7f0453599b604$export$tokTypes.braceR))break;var n=this.startNode();n.imported=this.parseIdent(!0),this.eatContextual("as")?n.local=this.parseIdent():(this.checkUnreserved(n.imported),n.local=n.imported),this.checkLVal(n.local,$7e895868db818ba723f7f0453599b604$var$BIND_LEXICAL),e.push(this.finishNode(n,"ImportSpecifier"))}return e},$7e895868db818ba723f7f0453599b604$var$pp$1.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},$7e895868db818ba723f7f0453599b604$var$pp$1.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])},($7e895868db818ba723f7f0453599b604$var$pp$2=$7e895868db818ba723f7f0453599b604$export$Parser.prototype).toAssignable=function(e,t,r){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",r&&this.checkPatternErrors(r,!0);for(var i=0,n=e.properties;i<n.length;i+=1){var o=n[i];this.toAssignable(o,t),"RestElement"!==o.type||"ArrayPattern"!==o.argument.type&&"ObjectPattern"!==o.argument.type||this.raise(o.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",r&&this.checkPatternErrors(r,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,r);break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else r&&this.checkPatternErrors(r,!0);return e},$7e895868db818ba723f7f0453599b604$var$pp$2.toAssignableList=function(e,t){for(var r=e.length,i=0;i<r;i++){var n=e[i];n&&this.toAssignable(n,t)}if(r){var o=e[r-1];6===this.options.ecmaVersion&&t&&o&&"RestElement"===o.type&&"Identifier"!==o.argument.type&&this.unexpected(o.argument.start)}return e},$7e895868db818ba723f7f0453599b604$var$pp$2.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},$7e895868db818ba723f7f0453599b604$var$pp$2.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},$7e895868db818ba723f7f0453599b604$var$pp$2.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case $7e895868db818ba723f7f0453599b604$export$tokTypes.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList($7e895868db818ba723f7f0453599b604$export$tokTypes.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case $7e895868db818ba723f7f0453599b604$export$tokTypes.braceL:return this.parseObj(!0)}return this.parseIdent()},$7e895868db818ba723f7f0453599b604$var$pp$2.parseBindingList=function(e,t,r){for(var i=[],n=!0;!this.eat(e);)if(n?n=!1:this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.comma),t&&this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.comma)i.push(null);else{if(r&&this.afterTrailingComma(e))break;if(this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var s=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(s),i.push(s)}return i},$7e895868db818ba723f7f0453599b604$var$pp$2.parseBindingListItem=function(e){return e},$7e895868db818ba723f7f0453599b604$var$pp$2.parseMaybeDefault=function(e,t,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.eq))return r;var i=this.startNodeAt(e,t);return i.left=r,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},$7e895868db818ba723f7f0453599b604$var$pp$2.checkLVal=function(e,t,r){switch(void 0===t&&(t=$7e895868db818ba723f7f0453599b604$var$BIND_NONE),e.type){case"Identifier":t===$7e895868db818ba723f7f0453599b604$var$BIND_LEXICAL&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&($7e895868db818ba723f7f0453599b604$var$has(r,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),r[e.name]=!0),t!==$7e895868db818ba723f7f0453599b604$var$BIND_NONE&&t!==$7e895868db818ba723f7f0453599b604$var$BIND_OUTSIDE&&this.declareName(e.name,t,e.start);break;case"MemberExpression":t&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ObjectPattern":for(var i=0,n=e.properties;i<n.length;i+=1){var o=n[i];this.checkLVal(o,t,r)}break;case"Property":this.checkLVal(e.value,t,r);break;case"ArrayPattern":for(var s=0,a=e.elements;s<a.length;s+=1){var c=a[s];c&&this.checkLVal(c,t,r)}break;case"AssignmentPattern":this.checkLVal(e.left,t,r);break;case"RestElement":this.checkLVal(e.argument,t,r);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,r);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}},($7e895868db818ba723f7f0453599b604$var$pp$3=$7e895868db818ba723f7f0453599b604$export$Parser.prototype).checkPropClash=function(e,t,r){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var i,n=e.key;switch(n.type){case"Identifier":i=n.name;break;case"Literal":i=String(n.value);break;default:return}var o=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===i&&"init"===o&&(t.proto&&(r&&r.doubleProto<0?r.doubleProto=n.start:this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),t.proto=!0);else{var s=t[i="$"+i];if(s)("init"===o?this.strict&&s.init||s.get||s.set:s.init||s[o])&&this.raiseRecoverable(n.start,"Redefinition of property");else s=t[i]={init:!1,get:!1,set:!1};s[o]=!0}}},$7e895868db818ba723f7f0453599b604$var$pp$3.parseExpression=function(e,t){var r=this.start,i=this.startLoc,n=this.parseMaybeAssign(e,t);if(this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.comma){var o=this.startNodeAt(r,i);for(o.expressions=[n];this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.comma);)o.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(o,"SequenceExpression")}return n},$7e895868db818ba723f7f0453599b604$var$pp$3.parseMaybeAssign=function(e,t,r){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var i=!1,n=-1,o=-1,s=-1;t?(n=t.parenthesizedAssign,o=t.trailingComma,s=t.shorthandAssign,t.parenthesizedAssign=t.trailingComma=t.shorthandAssign=-1):(t=new $7e895868db818ba723f7f0453599b604$var$DestructuringErrors,i=!0);var a=this.start,c=this.startLoc;this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.parenL&&this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.name||(this.potentialArrowAt=this.start);var l=this.parseMaybeConditional(e,t);if(r&&(l=r.call(this,l,a,c)),this.type.isAssign){var p=this.startNodeAt(a,c);return p.operator=this.value,p.left=this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.eq?this.toAssignable(l,!1,t):l,i||$7e895868db818ba723f7f0453599b604$var$DestructuringErrors.call(t),t.shorthandAssign=-1,this.checkLVal(l),this.next(),p.right=this.parseMaybeAssign(e),this.finishNode(p,"AssignmentExpression")}return i&&this.checkExpressionErrors(t,!0),n>-1&&(t.parenthesizedAssign=n),o>-1&&(t.trailingComma=o),s>-1&&(t.shorthandAssign=s),l},$7e895868db818ba723f7f0453599b604$var$pp$3.parseMaybeConditional=function(e,t){var r=this.start,i=this.startLoc,n=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return n;if(this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.question)){var o=this.startNodeAt(r,i);return o.test=n,o.consequent=this.parseMaybeAssign(),this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.colon),o.alternate=this.parseMaybeAssign(e),this.finishNode(o,"ConditionalExpression")}return n},$7e895868db818ba723f7f0453599b604$var$pp$3.parseExprOps=function(e,t){var r=this.start,i=this.startLoc,n=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)||n.start===r&&"ArrowFunctionExpression"===n.type?n:this.parseExprOp(n,r,i,-1,e)},$7e895868db818ba723f7f0453599b604$var$pp$3.parseExprOp=function(e,t,r,i,n){var o=this.type.binop;if(null!=o&&(!n||this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes._in)&&o>i){var s=this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.logicalOR||this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.logicalAND,a=this.value;this.next();var c=this.start,l=this.startLoc,p=this.parseExprOp(this.parseMaybeUnary(null,!1),c,l,o,n),u=this.buildBinary(t,r,e,p,a,s);return this.parseExprOp(u,t,r,i,n)}return e},$7e895868db818ba723f7f0453599b604$var$pp$3.buildBinary=function(e,t,r,i,n,o){var s=this.startNodeAt(e,t);return s.left=r,s.operator=n,s.right=i,this.finishNode(s,o?"LogicalExpression":"BinaryExpression")},$7e895868db818ba723f7f0453599b604$var$pp$3.parseMaybeUnary=function(e,t){var r,i=this.start,n=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))r=this.parseAwait(),t=!0;else if(this.type.prefix){var o=this.startNode(),s=this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),s?this.checkLVal(o.argument):this.strict&&"delete"===o.operator&&"Identifier"===o.argument.type?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):t=!0,r=this.finishNode(o,s?"UpdateExpression":"UnaryExpression")}else{if(r=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return r;for(;this.type.postfix&&!this.canInsertSemicolon();){var a=this.startNodeAt(i,n);a.operator=this.value,a.prefix=!1,a.argument=r,this.checkLVal(r),this.next(),r=this.finishNode(a,"UpdateExpression")}}return!t&&this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.starstar)?this.buildBinary(i,n,r,this.parseMaybeUnary(null,!1),"**",!1):r},$7e895868db818ba723f7f0453599b604$var$pp$3.parseExprSubscripts=function(e){var t=this.start,r=this.startLoc,i=this.parseExprAtom(e),n="ArrowFunctionExpression"===i.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);if(this.checkExpressionErrors(e)||n)return i;var o=this.parseSubscripts(i,t,r);return e&&"MemberExpression"===o.type&&(e.parenthesizedAssign>=o.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=o.start&&(e.parenthesizedBind=-1)),o},$7e895868db818ba723f7f0453599b604$var$pp$3.parseSubscripts=function(e,t,r,i){for(var n=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&"async"===this.input.slice(e.start,e.end);;){var o=this.parseSubscript(e,t,r,i,n);if(o===e||"ArrowFunctionExpression"===o.type)return o;e=o}},$7e895868db818ba723f7f0453599b604$var$pp$3.parseSubscript=function(e,t,r,i,n){var o=this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.bracketL);if(o||this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.dot)){var s=this.startNodeAt(t,r);s.object=e,s.property=o?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),s.computed=!!o,o&&this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.bracketR),e=this.finishNode(s,"MemberExpression")}else if(!i&&this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.parenL)){var a=new $7e895868db818ba723f7f0453599b604$var$DestructuringErrors,c=this.yieldPos,l=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var u=this.parseExprList($7e895868db818ba723f7f0453599b604$export$tokTypes.parenR,this.options.ecmaVersion>=8&&"Import"!==e.type,!1,a);if(n&&!this.canInsertSemicolon()&&this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.arrow))return this.checkPatternErrors(a,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=c,this.awaitPos=l,this.awaitIdentPos=p,this.parseArrowExpression(this.startNodeAt(t,r),u,!0);this.checkExpressionErrors(a,!0),this.yieldPos=c||this.yieldPos,this.awaitPos=l||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var f=this.startNodeAt(t,r);if(f.callee=e,f.arguments=u,"Import"===f.callee.type){1!==f.arguments.length&&this.raise(f.start,"import() requires exactly one argument");var d=f.arguments[0];d&&"SpreadElement"===d.type&&this.raise(d.start,"... is not allowed in import()")}e=this.finishNode(f,"CallExpression")}else if(this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.backQuote){var h=this.startNodeAt(t,r);h.tag=e,h.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(h,"TaggedTemplateExpression")}return e},$7e895868db818ba723f7f0453599b604$var$pp$3.parseExprAtom=function(e){this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.slash&&this.readRegexp();var t,r=this.potentialArrowAt===this.start;switch(this.type){case $7e895868db818ba723f7f0453599b604$export$tokTypes._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),t=this.startNode(),this.next(),this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.parenL||this.allowDirectSuper||this.raise(t.start,"super() call outside constructor of a subclass"),this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.dot&&this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.bracketL&&this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.parenL&&this.unexpected(),this.finishNode(t,"Super");case $7e895868db818ba723f7f0453599b604$export$tokTypes._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case $7e895868db818ba723f7f0453599b604$export$tokTypes.name:var i=this.start,n=this.startLoc,o=this.containsEsc,s=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&"async"===s.name&&!this.canInsertSemicolon()&&this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes._function))return this.parseFunction(this.startNodeAt(i,n),0,!1,!0);if(r&&!this.canInsertSemicolon()){if(this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.arrow))return this.parseArrowExpression(this.startNodeAt(i,n),[s],!1);if(this.options.ecmaVersion>=8&&"async"===s.name&&this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.name&&!o)return s=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,n),[s],!0)}return s;case $7e895868db818ba723f7f0453599b604$export$tokTypes.regexp:var a=this.value;return(t=this.parseLiteral(a.value)).regex={pattern:a.pattern,flags:a.flags},t;case $7e895868db818ba723f7f0453599b604$export$tokTypes.num:case $7e895868db818ba723f7f0453599b604$export$tokTypes.string:return this.parseLiteral(this.value);case $7e895868db818ba723f7f0453599b604$export$tokTypes._null:case $7e895868db818ba723f7f0453599b604$export$tokTypes._true:case $7e895868db818ba723f7f0453599b604$export$tokTypes._false:return(t=this.startNode()).value=this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._null?null:this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case $7e895868db818ba723f7f0453599b604$export$tokTypes.parenL:var c=this.start,l=this.parseParenAndDistinguishExpression(r);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(l)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),l;case $7e895868db818ba723f7f0453599b604$export$tokTypes.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList($7e895868db818ba723f7f0453599b604$export$tokTypes.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case $7e895868db818ba723f7f0453599b604$export$tokTypes.braceL:return this.parseObj(!1,e);case $7e895868db818ba723f7f0453599b604$export$tokTypes._function:return t=this.startNode(),this.next(),this.parseFunction(t,0);case $7e895868db818ba723f7f0453599b604$export$tokTypes._class:return this.parseClass(this.startNode(),!1);case $7e895868db818ba723f7f0453599b604$export$tokTypes._new:return this.parseNew();case $7e895868db818ba723f7f0453599b604$export$tokTypes.backQuote:return this.parseTemplate();case $7e895868db818ba723f7f0453599b604$export$tokTypes._import:return this.options.ecmaVersion>10?this.parseDynamicImport():this.unexpected();default:this.unexpected()}},$7e895868db818ba723f7f0453599b604$var$pp$3.parseDynamicImport=function(){var e=this.startNode();return this.next(),this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.parenL&&this.unexpected(),this.finishNode(e,"Import")},$7e895868db818ba723f7f0453599b604$var$pp$3.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1)),this.next(),this.finishNode(t,"Literal")},$7e895868db818ba723f7f0453599b604$var$pp$3.parseParenExpression=function(){this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.parenL);var e=this.parseExpression();return this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.parenR),e},$7e895868db818ba723f7f0453599b604$var$pp$3.parseParenAndDistinguishExpression=function(e){var t,r=this.start,i=this.startLoc,n=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o,s=this.start,a=this.startLoc,c=[],l=!0,p=!1,u=new $7e895868db818ba723f7f0453599b604$var$DestructuringErrors,f=this.yieldPos,d=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.parenR;){if(l?l=!1:this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.comma),n&&this.afterTrailingComma($7e895868db818ba723f7f0453599b604$export$tokTypes.parenR,!0)){p=!0;break}if(this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.ellipsis){o=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}c.push(this.parseMaybeAssign(!1,u,this.parseParenItem))}var h=this.start,b=this.startLoc;if(this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.parenR),e&&!this.canInsertSemicolon()&&this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.arrow))return this.checkPatternErrors(u,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=d,this.parseParenArrowList(r,i,c);c.length&&!p||this.unexpected(this.lastTokStart),o&&this.unexpected(o),this.checkExpressionErrors(u,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=d||this.awaitPos,c.length>1?((t=this.startNodeAt(s,a)).expressions=c,this.finishNodeAt(t,"SequenceExpression",h,b)):t=c[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var $=this.startNodeAt(r,i);return $.expression=t,this.finishNode($,"ParenthesizedExpression")}return t},$7e895868db818ba723f7f0453599b604$var$pp$3.parseParenItem=function(e){return e},$7e895868db818ba723f7f0453599b604$var$pp$3.parseParenArrowList=function(e,t,r){return this.parseArrowExpression(this.startNodeAt(e,t),r)},$7e895868db818ba723f7f0453599b604$var$empty$1=[],$7e895868db818ba723f7f0453599b604$var$pp$3.parseNew=function(){var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.dot)){e.meta=t;var r=this.containsEsc;return e.property=this.parseIdent(!0),("target"!==e.property.name||r)&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(e.start,"new.target can only be used in functions"),this.finishNode(e,"MetaProperty")}var i=this.start,n=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(),i,n,!0),this.options.ecmaVersion>10&&"Import"===e.callee.type&&this.raise(e.callee.start,"Cannot use new with import(...)"),this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.parenL)?e.arguments=this.parseExprList($7e895868db818ba723f7f0453599b604$export$tokTypes.parenR,this.options.ecmaVersion>=8&&"Import"!==e.callee.type,!1):e.arguments=$7e895868db818ba723f7f0453599b604$var$empty$1,this.finishNode(e,"NewExpression")},$7e895868db818ba723f7f0453599b604$var$pp$3.parseTemplateElement=function(e){var t=e.isTagged,r=this.startNode();return this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),r.value={raw:this.value,cooked:null}):r.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),r.tail=this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.backQuote,this.finishNode(r,"TemplateElement")},$7e895868db818ba723f7f0453599b604$var$pp$3.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var r=this.startNode();this.next(),r.expressions=[];var i=this.parseTemplateElement({isTagged:t});for(r.quasis=[i];!i.tail;)this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.dollarBraceL),r.expressions.push(this.parseExpression()),this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.braceR),r.quasis.push(i=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(r,"TemplateLiteral")},$7e895868db818ba723f7f0453599b604$var$pp$3.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.name||this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.num||this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.string||this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.star)&&!$7e895868db818ba723f7f0453599b604$export$lineBreak.test(this.input.slice(this.lastTokEnd,this.start))},$7e895868db818ba723f7f0453599b604$var$pp$3.parseObj=function(e,t){var r=this.startNode(),i=!0,n={};for(r.properties=[],this.next();!this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.braceR);){if(i)i=!1;else if(this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.comma),this.afterTrailingComma($7e895868db818ba723f7f0453599b604$export$tokTypes.braceR))break;var o=this.parseProperty(e,t);e||this.checkPropClash(o,n,t),r.properties.push(o)}return this.finishNode(r,e?"ObjectPattern":"ObjectExpression")},$7e895868db818ba723f7f0453599b604$var$pp$3.parseProperty=function(e,t){var r,i,n,o,s=this.startNode();if(this.options.ecmaVersion>=9&&this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.ellipsis))return e?(s.argument=this.parseIdent(!1),this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(s,"RestElement")):(this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),s.argument=this.parseMaybeAssign(!1,t),this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(s,"SpreadElement"));this.options.ecmaVersion>=6&&(s.method=!1,s.shorthand=!1,(e||t)&&(n=this.start,o=this.startLoc),e||(r=this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.star)));var a=this.containsEsc;return this.parsePropertyName(s),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(s)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.star),this.parsePropertyName(s,t)):i=!1,this.parsePropertyValue(s,e,r,i,n,o,t,a),this.finishNode(s,"Property")},$7e895868db818ba723f7f0453599b604$var$pp$3.parsePropertyValue=function(e,t,r,i,n,o,s,a){if((r||i)&&this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.colon&&this.unexpected(),this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,s),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(r,i);else if(t||a||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.comma||this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.braceR)this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((r||i)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=n),e.kind="init",t?e.value=this.parseMaybeDefault(n,o,e.key):this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.eq&&s?(s.shorthandAssign<0&&(s.shorthandAssign=this.start),e.value=this.parseMaybeDefault(n,o,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected();else{(r||i)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var c="get"===e.kind?0:1;if(e.value.params.length!==c){var l=e.value.start;"get"===e.kind?this.raiseRecoverable(l,"getter should have no params"):this.raiseRecoverable(l,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}},$7e895868db818ba723f7f0453599b604$var$pp$3.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.bracketR),e.key;e.computed=!1}return e.key=this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.num||this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},$7e895868db818ba723f7f0453599b604$var$pp$3.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},$7e895868db818ba723f7f0453599b604$var$pp$3.parseMethod=function(e,t,r){var i=this.startNode(),n=this.yieldPos,o=this.awaitPos,s=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=e),this.options.ecmaVersion>=8&&(i.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope($7e895868db818ba723f7f0453599b604$var$functionFlags(t,i.generator)|$7e895868db818ba723f7f0453599b604$var$SCOPE_SUPER|(r?$7e895868db818ba723f7f0453599b604$var$SCOPE_DIRECT_SUPER:0)),this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.parenL),i.params=this.parseBindingList($7e895868db818ba723f7f0453599b604$export$tokTypes.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0),this.yieldPos=n,this.awaitPos=o,this.awaitIdentPos=s,this.finishNode(i,"FunctionExpression")},$7e895868db818ba723f7f0453599b604$var$pp$3.parseArrowExpression=function(e,t,r){var i=this.yieldPos,n=this.awaitPos,o=this.awaitIdentPos;return this.enterScope($7e895868db818ba723f7f0453599b604$var$functionFlags(r,!1)|$7e895868db818ba723f7f0453599b604$var$SCOPE_ARROW),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1),this.yieldPos=i,this.awaitPos=n,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")},$7e895868db818ba723f7f0453599b604$var$pp$3.parseFunctionBody=function(e,t,r){var i=t&&this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.braceL,n=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var s=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);n&&!s||(o=this.strictDirective(this.end))&&s&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var a=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!n&&!o&&!t&&!r&&this.isSimpleParamList(e.params)),e.body=this.parseBlock(!1),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=a}this.exitScope(),this.strict&&e.id&&this.checkLVal(e.id,$7e895868db818ba723f7f0453599b604$var$BIND_OUTSIDE),this.strict=n},$7e895868db818ba723f7f0453599b604$var$pp$3.isSimpleParamList=function(e){for(var t=0,r=e;t<r.length;t+=1){if("Identifier"!==r[t].type)return!1}return!0},$7e895868db818ba723f7f0453599b604$var$pp$3.checkParams=function(e,t){for(var r={},i=0,n=e.params;i<n.length;i+=1){var o=n[i];this.checkLVal(o,$7e895868db818ba723f7f0453599b604$var$BIND_VAR,t?null:r)}},$7e895868db818ba723f7f0453599b604$var$pp$3.parseExprList=function(e,t,r,i){for(var n=[],o=!0;!this.eat(e);){if(o)o=!1;else if(this.expect($7e895868db818ba723f7f0453599b604$export$tokTypes.comma),t&&this.afterTrailingComma(e))break;var s=void 0;r&&this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.comma?s=null:this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.ellipsis?(s=this.parseSpread(i),i&&this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):s=this.parseMaybeAssign(!1,i),n.push(s)}return n},$7e895868db818ba723f7f0453599b604$var$pp$3.checkUnreserved=function(e){var t=e.start,r=e.end,i=e.name;(this.inGenerator&&"yield"===i&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===i&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(i)&&this.raise(t,"Unexpected keyword '"+i+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,r).indexOf("\\"))||(this.strict?this.reservedWordsStrict:this.reservedWords).test(i)&&(this.inAsync||"await"!==i||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+i+"' is reserved"))},$7e895868db818ba723f7f0453599b604$var$pp$3.parseIdent=function(e,t){var r=this.startNode();return this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.name?r.name=this.value:this.type.keyword?(r.name=this.type.keyword,"class"!==r.name&&"function"!==r.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(),this.finishNode(r,"Identifier"),e||(this.checkUnreserved(r),"await"!==r.name||this.awaitIdentPos||(this.awaitIdentPos=r.start)),r},$7e895868db818ba723f7f0453599b604$var$pp$3.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.semi||this.canInsertSemicolon()||this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat($7e895868db818ba723f7f0453599b604$export$tokTypes.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},$7e895868db818ba723f7f0453599b604$var$pp$3.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0),this.finishNode(e,"AwaitExpression")},($7e895868db818ba723f7f0453599b604$var$pp$4=$7e895868db818ba723f7f0453599b604$export$Parser.prototype).raise=function(e,t){var r=$7e895868db818ba723f7f0453599b604$export$getLineInfo(this.input,e);t+=" ("+r.line+":"+r.column+")";var i=new SyntaxError(t);throw i.pos=e,i.loc=r,i.raisedAt=this.pos,i},$7e895868db818ba723f7f0453599b604$var$pp$4.raiseRecoverable=$7e895868db818ba723f7f0453599b604$var$pp$4.raise,$7e895868db818ba723f7f0453599b604$var$pp$4.curPosition=function(){if(this.options.locations)return new $7e895868db818ba723f7f0453599b604$export$Position(this.curLine,this.pos-this.lineStart)},$7e895868db818ba723f7f0453599b604$var$pp$5=$7e895868db818ba723f7f0453599b604$export$Parser.prototype,$7e895868db818ba723f7f0453599b604$var$Scope=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[]},$7e895868db818ba723f7f0453599b604$var$pp$5.enterScope=function(e){this.scopeStack.push(new $7e895868db818ba723f7f0453599b604$var$Scope(e))},$7e895868db818ba723f7f0453599b604$var$pp$5.exitScope=function(){this.scopeStack.pop()},$7e895868db818ba723f7f0453599b604$var$pp$5.treatFunctionsAsVarInScope=function(e){return e.flags&$7e895868db818ba723f7f0453599b604$var$SCOPE_FUNCTION||!this.inModule&&e.flags&$7e895868db818ba723f7f0453599b604$var$SCOPE_TOP},$7e895868db818ba723f7f0453599b604$var$pp$5.declareName=function(e,t,r){var i=!1;if(t===$7e895868db818ba723f7f0453599b604$var$BIND_LEXICAL){var n=this.currentScope();i=n.lexical.indexOf(e)>-1||n.functions.indexOf(e)>-1||n.var.indexOf(e)>-1,n.lexical.push(e),this.inModule&&n.flags&$7e895868db818ba723f7f0453599b604$var$SCOPE_TOP&&delete this.undefinedExports[e]}else if(t===$7e895868db818ba723f7f0453599b604$var$BIND_SIMPLE_CATCH){this.currentScope().lexical.push(e)}else if(t===$7e895868db818ba723f7f0453599b604$var$BIND_FUNCTION){var o=this.currentScope();i=this.treatFunctionsAsVar?o.lexical.indexOf(e)>-1:o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var s=this.scopeStack.length-1;s>=0;--s){var a=this.scopeStack[s];if(a.lexical.indexOf(e)>-1&&!(a.flags&$7e895868db818ba723f7f0453599b604$var$SCOPE_SIMPLE_CATCH&&a.lexical[0]===e)||!this.treatFunctionsAsVarInScope(a)&&a.functions.indexOf(e)>-1){i=!0;break}if(a.var.push(e),this.inModule&&a.flags&$7e895868db818ba723f7f0453599b604$var$SCOPE_TOP&&delete this.undefinedExports[e],a.flags&$7e895868db818ba723f7f0453599b604$var$SCOPE_VAR)break}i&&this.raiseRecoverable(r,"Identifier '"+e+"' has already been declared")},$7e895868db818ba723f7f0453599b604$var$pp$5.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},$7e895868db818ba723f7f0453599b604$var$pp$5.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},$7e895868db818ba723f7f0453599b604$var$pp$5.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&$7e895868db818ba723f7f0453599b604$var$SCOPE_VAR)return t}},$7e895868db818ba723f7f0453599b604$var$pp$5.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&$7e895868db818ba723f7f0453599b604$var$SCOPE_VAR&&!(t.flags&$7e895868db818ba723f7f0453599b604$var$SCOPE_ARROW))return t}},$7e895868db818ba723f7f0453599b604$export$Node=function(e,t,r){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new $7e895868db818ba723f7f0453599b604$export$SourceLocation(e,r)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},($7e895868db818ba723f7f0453599b604$var$pp$6=$7e895868db818ba723f7f0453599b604$export$Parser.prototype).startNode=function(){return new $7e895868db818ba723f7f0453599b604$export$Node(this,this.start,this.startLoc)},$7e895868db818ba723f7f0453599b604$var$pp$6.startNodeAt=function(e,t){return new $7e895868db818ba723f7f0453599b604$export$Node(this,e,t)},$7e895868db818ba723f7f0453599b604$var$pp$6.finishNode=function(e,t){return $7e895868db818ba723f7f0453599b604$var$finishNodeAt.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},$7e895868db818ba723f7f0453599b604$var$pp$6.finishNodeAt=function(e,t,r,i){return $7e895868db818ba723f7f0453599b604$var$finishNodeAt.call(this,e,t,r,i)},$7e895868db818ba723f7f0453599b604$export$tokContexts={b_stat:new($7e895868db818ba723f7f0453599b604$export$TokContext=function(e,t,r,i,n){this.token=e,this.isExpr=!!t,this.preserveSpace=!!r,this.override=i,this.generator=!!n})("{",!1),b_expr:new $7e895868db818ba723f7f0453599b604$export$TokContext("{",!0),b_tmpl:new $7e895868db818ba723f7f0453599b604$export$TokContext("${",!1),p_stat:new $7e895868db818ba723f7f0453599b604$export$TokContext("(",!1),p_expr:new $7e895868db818ba723f7f0453599b604$export$TokContext("(",!0),q_tmpl:new $7e895868db818ba723f7f0453599b604$export$TokContext("`",!0,!0,(function(e){return e.tryReadTemplateToken()})),f_stat:new $7e895868db818ba723f7f0453599b604$export$TokContext("function",!1),f_expr:new $7e895868db818ba723f7f0453599b604$export$TokContext("function",!0),f_expr_gen:new $7e895868db818ba723f7f0453599b604$export$TokContext("function",!0,!1,null,!0),f_gen:new $7e895868db818ba723f7f0453599b604$export$TokContext("function",!1,!1,null,!0)},($7e895868db818ba723f7f0453599b604$var$pp$7=$7e895868db818ba723f7f0453599b604$export$Parser.prototype).initialContext=function(){return[$7e895868db818ba723f7f0453599b604$export$tokContexts.b_stat]},$7e895868db818ba723f7f0453599b604$var$pp$7.braceIsBlock=function(e){var t=this.curContext();return t===$7e895868db818ba723f7f0453599b604$export$tokContexts.f_expr||t===$7e895868db818ba723f7f0453599b604$export$tokContexts.f_stat||(e!==$7e895868db818ba723f7f0453599b604$export$tokTypes.colon||t!==$7e895868db818ba723f7f0453599b604$export$tokContexts.b_stat&&t!==$7e895868db818ba723f7f0453599b604$export$tokContexts.b_expr?e===$7e895868db818ba723f7f0453599b604$export$tokTypes._return||e===$7e895868db818ba723f7f0453599b604$export$tokTypes.name&&this.exprAllowed?$7e895868db818ba723f7f0453599b604$export$lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):e===$7e895868db818ba723f7f0453599b604$export$tokTypes._else||e===$7e895868db818ba723f7f0453599b604$export$tokTypes.semi||e===$7e895868db818ba723f7f0453599b604$export$tokTypes.eof||e===$7e895868db818ba723f7f0453599b604$export$tokTypes.parenR||e===$7e895868db818ba723f7f0453599b604$export$tokTypes.arrow||(e===$7e895868db818ba723f7f0453599b604$export$tokTypes.braceL?t===$7e895868db818ba723f7f0453599b604$export$tokContexts.b_stat:e!==$7e895868db818ba723f7f0453599b604$export$tokTypes._var&&e!==$7e895868db818ba723f7f0453599b604$export$tokTypes._const&&e!==$7e895868db818ba723f7f0453599b604$export$tokTypes.name&&!this.exprAllowed):!t.isExpr)},$7e895868db818ba723f7f0453599b604$var$pp$7.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},$7e895868db818ba723f7f0453599b604$var$pp$7.updateContext=function(e){var t,r=this.type;r.keyword&&e===$7e895868db818ba723f7f0453599b604$export$tokTypes.dot?this.exprAllowed=!1:(t=r.updateContext)?t.call(this,e):this.exprAllowed=r.beforeExpr},$7e895868db818ba723f7f0453599b604$export$tokTypes.parenR.updateContext=$7e895868db818ba723f7f0453599b604$export$tokTypes.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===$7e895868db818ba723f7f0453599b604$export$tokContexts.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},$7e895868db818ba723f7f0453599b604$export$tokTypes.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?$7e895868db818ba723f7f0453599b604$export$tokContexts.b_stat:$7e895868db818ba723f7f0453599b604$export$tokContexts.b_expr),this.exprAllowed=!0},$7e895868db818ba723f7f0453599b604$export$tokTypes.dollarBraceL.updateContext=function(){this.context.push($7e895868db818ba723f7f0453599b604$export$tokContexts.b_tmpl),this.exprAllowed=!0},$7e895868db818ba723f7f0453599b604$export$tokTypes.parenL.updateContext=function(e){var t=e===$7e895868db818ba723f7f0453599b604$export$tokTypes._if||e===$7e895868db818ba723f7f0453599b604$export$tokTypes._for||e===$7e895868db818ba723f7f0453599b604$export$tokTypes._with||e===$7e895868db818ba723f7f0453599b604$export$tokTypes._while;this.context.push(t?$7e895868db818ba723f7f0453599b604$export$tokContexts.p_stat:$7e895868db818ba723f7f0453599b604$export$tokContexts.p_expr),this.exprAllowed=!0},$7e895868db818ba723f7f0453599b604$export$tokTypes.incDec.updateContext=function(){},$7e895868db818ba723f7f0453599b604$export$tokTypes._function.updateContext=$7e895868db818ba723f7f0453599b604$export$tokTypes._class.updateContext=function(e){!e.beforeExpr||e===$7e895868db818ba723f7f0453599b604$export$tokTypes.semi||e===$7e895868db818ba723f7f0453599b604$export$tokTypes._else||e===$7e895868db818ba723f7f0453599b604$export$tokTypes._return&&$7e895868db818ba723f7f0453599b604$export$lineBreak.test(this.input.slice(this.lastTokEnd,this.start))||(e===$7e895868db818ba723f7f0453599b604$export$tokTypes.colon||e===$7e895868db818ba723f7f0453599b604$export$tokTypes.braceL)&&this.curContext()===$7e895868db818ba723f7f0453599b604$export$tokContexts.b_stat?this.context.push($7e895868db818ba723f7f0453599b604$export$tokContexts.f_stat):this.context.push($7e895868db818ba723f7f0453599b604$export$tokContexts.f_expr),this.exprAllowed=!1},$7e895868db818ba723f7f0453599b604$export$tokTypes.backQuote.updateContext=function(){this.curContext()===$7e895868db818ba723f7f0453599b604$export$tokContexts.q_tmpl?this.context.pop():this.context.push($7e895868db818ba723f7f0453599b604$export$tokContexts.q_tmpl),this.exprAllowed=!1},$7e895868db818ba723f7f0453599b604$export$tokTypes.star.updateContext=function(e){if(e===$7e895868db818ba723f7f0453599b604$export$tokTypes._function){var t=this.context.length-1;this.context[t]===$7e895868db818ba723f7f0453599b604$export$tokContexts.f_expr?this.context[t]=$7e895868db818ba723f7f0453599b604$export$tokContexts.f_expr_gen:this.context[t]=$7e895868db818ba723f7f0453599b604$export$tokContexts.f_gen}this.exprAllowed=!0},$7e895868db818ba723f7f0453599b604$export$tokTypes.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==$7e895868db818ba723f7f0453599b604$export$tokTypes.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t},$7e895868db818ba723f7f0453599b604$var$unicodeBinaryProperties={9:$7e895868db818ba723f7f0453599b604$var$ecma9BinaryProperties="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",10:$7e895868db818ba723f7f0453599b604$var$ecma10BinaryProperties=$7e895868db818ba723f7f0453599b604$var$ecma9BinaryProperties+" Extended_Pictographic",11:$7e895868db818ba723f7f0453599b604$var$ecma11BinaryProperties=$7e895868db818ba723f7f0453599b604$var$ecma10BinaryProperties},$7e895868db818ba723f7f0453599b604$var$unicodeGeneralCategoryValues="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",$7e895868db818ba723f7f0453599b604$var$unicodeScriptValues={9:$7e895868db818ba723f7f0453599b604$var$ecma9ScriptValues="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",10:$7e895868db818ba723f7f0453599b604$var$ecma10ScriptValues=$7e895868db818ba723f7f0453599b604$var$ecma9ScriptValues+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",11:$7e895868db818ba723f7f0453599b604$var$ecma11ScriptValues=$7e895868db818ba723f7f0453599b604$var$ecma10ScriptValues+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho"},$7e895868db818ba723f7f0453599b604$var$data={},$7e895868db818ba723f7f0453599b604$var$buildUnicodeData(9),$7e895868db818ba723f7f0453599b604$var$buildUnicodeData(10),$7e895868db818ba723f7f0453599b604$var$buildUnicodeData(11),$7e895868db818ba723f7f0453599b604$var$pp$8=$7e895868db818ba723f7f0453599b604$export$Parser.prototype,($7e895868db818ba723f7f0453599b604$var$RegExpValidationState=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":""),this.unicodeProperties=$7e895868db818ba723f7f0453599b604$var$data[e.options.ecmaVersion>=11?11:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]}).prototype.reset=function(e,t,r){var i=-1!==r.indexOf("u");this.start=0|e,this.source=t+"",this.flags=r,this.switchU=i&&this.parser.options.ecmaVersion>=6,this.switchN=i&&this.parser.options.ecmaVersion>=9},$7e895868db818ba723f7f0453599b604$var$RegExpValidationState.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},$7e895868db818ba723f7f0453599b604$var$RegExpValidationState.prototype.at=function(e){var t=this.source,r=t.length;if(e>=r)return-1;var i=t.charCodeAt(e);if(!this.switchU||i<=55295||i>=57344||e+1>=r)return i;var n=t.charCodeAt(e+1);return n>=56320&&n<=57343?(i<<10)+n-56613888:i},$7e895868db818ba723f7f0453599b604$var$RegExpValidationState.prototype.nextIndex=function(e){var t=this.source,r=t.length;if(e>=r)return r;var i,n=t.charCodeAt(e);return!this.switchU||n<=55295||n>=57344||e+1>=r||(i=t.charCodeAt(e+1))<56320||i>57343?e+1:e+2},$7e895868db818ba723f7f0453599b604$var$RegExpValidationState.prototype.current=function(){return this.at(this.pos)},$7e895868db818ba723f7f0453599b604$var$RegExpValidationState.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},$7e895868db818ba723f7f0453599b604$var$RegExpValidationState.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},$7e895868db818ba723f7f0453599b604$var$RegExpValidationState.prototype.eat=function(e){return this.current()===e&&(this.advance(),!0)},$7e895868db818ba723f7f0453599b604$var$pp$8.validateRegExpFlags=function(e){for(var t=e.validFlags,r=e.flags,i=0;i<r.length;i++){var n=r.charAt(i);-1===t.indexOf(n)&&this.raise(e.start,"Invalid regular expression flag"),r.indexOf(n,i+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},$7e895868db818ba723f7f0453599b604$var$pp$8.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,r=e.backReferenceNames;t<r.length;t+=1){var i=r[t];-1===e.groupNames.indexOf(i)&&e.raise("Invalid named capture referenced")}},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var r=!1;if(this.options.ecmaVersion>=9&&(r=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!r,!0}return e.pos=t,!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatBracedQuantifier=function(e,t){var r=e.pos;if(e.eat(123)){var i=0,n=-1;if(this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(n=e.lastIntValue),e.eat(125)))return-1!==n&&n<i&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=r}return!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!$7e895868db818ba723f7f0453599b604$var$isSyntaxCharacter(t)&&(e.lastIntValue=t,e.advance(),!0)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatPatternCharacters=function(e){for(var t=e.pos,r=0;-1!==(r=e.current())&&!$7e895868db818ba723f7f0453599b604$var$isSyntaxCharacter(r);)e.advance();return e.pos!==t},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t)&&(e.advance(),!0)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=$7e895868db818ba723f7f0453599b604$var$codePointToString(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=$7e895868db818ba723f7f0453599b604$var$codePointToString(e.lastIntValue);return!0}return!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,r=e.current();return e.advance(),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(r=e.lastIntValue),$7e895868db818ba723f7f0453599b604$var$isRegExpIdentifierStart(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,r=e.current();return e.advance(),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(r=e.lastIntValue),$7e895868db818ba723f7f0453599b604$var$isRegExpIdentifierPart(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var r=e.lastIntValue;if(e.switchU)return r>e.maxBackReference&&(e.maxBackReference=r),!0;if(r<=e.numCapturingParens)return!0;e.pos=t}return!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatZero=function(e){return 48===e.current()&&!$7e895868db818ba723f7f0453599b604$var$isDecimalDigit(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatControlLetter=function(e){var t=e.current();return!!$7e895868db818ba723f7f0453599b604$var$isControlLetter(t)&&(e.lastIntValue=t%32,e.advance(),!0)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatRegExpUnicodeEscapeSequence=function(e){var t=e.pos;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var r=e.lastIntValue;if(e.switchU&&r>=55296&&r<=56319){var i=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var n=e.lastIntValue;if(n>=56320&&n<=57343)return e.lastIntValue=1024*(r-55296)+(n-56320)+65536,!0}e.pos=i,e.lastIntValue=r}return!0}if(e.switchU&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&$7e895868db818ba723f7f0453599b604$var$isValidUnicode(e.lastIntValue))return!0;e.switchU&&e.raise("Invalid unicode escape"),e.pos=t}return!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t)&&(e.lastIntValue=t,e.advance(),!0)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatCharacterClassEscape=function(e){var t=e.current();if($7e895868db818ba723f7f0453599b604$var$isCharacterClassEscape(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var r=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,r,i),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var n=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,n),!0}return!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_validateUnicodePropertyNameAndValue=function(e,t,r){$7e895868db818ba723f7f0453599b604$var$has(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(r)||e.raise("Invalid property value")},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";$7e895868db818ba723f7f0453599b604$var$isUnicodePropertyNameCharacter(t=e.current());)e.lastStringValue+=$7e895868db818ba723f7f0453599b604$var$codePointToString(t),e.advance();return""!==e.lastStringValue},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";$7e895868db818ba723f7f0453599b604$var$isUnicodePropertyValueCharacter(t=e.current());)e.lastStringValue+=$7e895868db818ba723f7f0453599b604$var$codePointToString(t),e.advance();return""!==e.lastStringValue},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var r=e.lastIntValue;!e.switchU||-1!==t&&-1!==r||e.raise("Invalid character class"),-1!==t&&-1!==r&&t>r&&e.raise("Range out of order in character class")}}},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var r=e.current();(99===r||$7e895868db818ba723f7f0453599b604$var$isOctalDigit(r))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var i=e.current();return 93!==i&&(e.lastIntValue=i,e.advance(),!0)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!$7e895868db818ba723f7f0453599b604$var$isDecimalDigit(t)&&95!==t)&&(e.lastIntValue=t%32,e.advance(),!0)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatDecimalDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;$7e895868db818ba723f7f0453599b604$var$isDecimalDigit(r=e.current());)e.lastIntValue=10*e.lastIntValue+(r-48),e.advance();return e.pos!==t},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatHexDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;$7e895868db818ba723f7f0453599b604$var$isHexDigit(r=e.current());)e.lastIntValue=16*e.lastIntValue+$7e895868db818ba723f7f0453599b604$var$hexToInt(r),e.advance();return e.pos!==t},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var r=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*r+e.lastIntValue:e.lastIntValue=8*t+r}else e.lastIntValue=t;return!0}return!1},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatOctalDigit=function(e){var t=e.current();return $7e895868db818ba723f7f0453599b604$var$isOctalDigit(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},$7e895868db818ba723f7f0453599b604$var$pp$8.regexp_eatFixedHexDigits=function(e,t){var r=e.pos;e.lastIntValue=0;for(var i=0;i<t;++i){var n=e.current();if(!$7e895868db818ba723f7f0453599b604$var$isHexDigit(n))return e.pos=r,!1;e.lastIntValue=16*e.lastIntValue+$7e895868db818ba723f7f0453599b604$var$hexToInt(n),e.advance()}return!0},$7e895868db818ba723f7f0453599b604$export$Token=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new $7e895868db818ba723f7f0453599b604$export$SourceLocation(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},($7e895868db818ba723f7f0453599b604$var$pp$9=$7e895868db818ba723f7f0453599b604$export$Parser.prototype).next=function(){this.options.onToken&&this.options.onToken(new $7e895868db818ba723f7f0453599b604$export$Token(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},$7e895868db818ba723f7f0453599b604$var$pp$9.getToken=function(){return this.next(),new $7e895868db818ba723f7f0453599b604$export$Token(this)},"undefined"!=typeof Symbol&&($7e895868db818ba723f7f0453599b604$var$pp$9[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===$7e895868db818ba723f7f0453599b604$export$tokTypes.eof,value:t}}}}),$7e895868db818ba723f7f0453599b604$var$pp$9.curContext=function(){return this.context[this.context.length-1]},$7e895868db818ba723f7f0453599b604$var$pp$9.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},$7e895868db818ba723f7f0453599b604$var$pp$9.readToken=function(e){return $7e895868db818ba723f7f0453599b604$export$isIdentifierStart(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},$7e895868db818ba723f7f0453599b604$var$pp$9.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);return e<=55295||e>=57344?e:(e<<10)+this.input.charCodeAt(this.pos+1)-56613888},$7e895868db818ba723f7f0453599b604$var$pp$9.skipBlockComment=function(){var e,t=this.options.onComment&&this.curPosition(),r=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(-1===i&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for($7e895868db818ba723f7f0453599b604$export$lineBreakG.lastIndex=r;(e=$7e895868db818ba723f7f0453599b604$export$lineBreakG.exec(this.input))&&e.index<this.pos;)++this.curLine,this.lineStart=e.index+e[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(r+2,i),r,this.pos,t,this.curPosition())},$7e895868db818ba723f7f0453599b604$var$pp$9.skipLineComment=function(e){for(var t=this.pos,r=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!$7e895868db818ba723f7f0453599b604$export$isNewLine(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,r,this.curPosition())},$7e895868db818ba723f7f0453599b604$var$pp$9.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&$7e895868db818ba723f7f0453599b604$export$nonASCIIwhitespace.test(String.fromCharCode(e))))break e;++this.pos}}},$7e895868db818ba723f7f0453599b604$var$pp$9.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var r=this.type;this.type=e,this.value=t,this.updateContext(r)},$7e895868db818ba723f7f0453599b604$var$pp$9.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.ellipsis)):(++this.pos,this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.dot))},$7e895868db818ba723f7f0453599b604$var$pp$9.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp($7e895868db818ba723f7f0453599b604$export$tokTypes.assign,2):this.finishOp($7e895868db818ba723f7f0453599b604$export$tokTypes.slash,1)},$7e895868db818ba723f7f0453599b604$var$pp$9.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),r=1,i=42===e?$7e895868db818ba723f7f0453599b604$export$tokTypes.star:$7e895868db818ba723f7f0453599b604$export$tokTypes.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++r,i=$7e895868db818ba723f7f0453599b604$export$tokTypes.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp($7e895868db818ba723f7f0453599b604$export$tokTypes.assign,r+1):this.finishOp(i,r)},$7e895868db818ba723f7f0453599b604$var$pp$9.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.finishOp(124===e?$7e895868db818ba723f7f0453599b604$export$tokTypes.logicalOR:$7e895868db818ba723f7f0453599b604$export$tokTypes.logicalAND,2):61===t?this.finishOp($7e895868db818ba723f7f0453599b604$export$tokTypes.assign,2):this.finishOp(124===e?$7e895868db818ba723f7f0453599b604$export$tokTypes.bitwiseOR:$7e895868db818ba723f7f0453599b604$export$tokTypes.bitwiseAND,1)},$7e895868db818ba723f7f0453599b604$var$pp$9.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp($7e895868db818ba723f7f0453599b604$export$tokTypes.assign,2):this.finishOp($7e895868db818ba723f7f0453599b604$export$tokTypes.bitwiseXOR,1)},$7e895868db818ba723f7f0453599b604$var$pp$9.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!$7e895868db818ba723f7f0453599b604$export$lineBreak.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp($7e895868db818ba723f7f0453599b604$export$tokTypes.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp($7e895868db818ba723f7f0453599b604$export$tokTypes.assign,2):this.finishOp($7e895868db818ba723f7f0453599b604$export$tokTypes.plusMin,1)},$7e895868db818ba723f7f0453599b604$var$pp$9.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),r=1;return t===e?(r=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+r)?this.finishOp($7e895868db818ba723f7f0453599b604$export$tokTypes.assign,r+1):this.finishOp($7e895868db818ba723f7f0453599b604$export$tokTypes.bitShift,r)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(r=2),this.finishOp($7e895868db818ba723f7f0453599b604$export$tokTypes.relational,r)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},$7e895868db818ba723f7f0453599b604$var$pp$9.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp($7e895868db818ba723f7f0453599b604$export$tokTypes.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.arrow)):this.finishOp(61===e?$7e895868db818ba723f7f0453599b604$export$tokTypes.eq:$7e895868db818ba723f7f0453599b604$export$tokTypes.prefix,1)},$7e895868db818ba723f7f0453599b604$var$pp$9.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.parenL);case 41:return++this.pos,this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.parenR);case 59:return++this.pos,this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.semi);case 44:return++this.pos,this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.comma);case 91:return++this.pos,this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.bracketL);case 93:return++this.pos,this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.bracketR);case 123:return++this.pos,this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.braceL);case 125:return++this.pos,this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.braceR);case 58:return++this.pos,this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.colon);case 63:return++this.pos,this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 126:return this.finishOp($7e895868db818ba723f7f0453599b604$export$tokTypes.prefix,1)}this.raise(this.pos,"Unexpected character '"+$7e895868db818ba723f7f0453599b604$var$codePointToString$1(e)+"'")},$7e895868db818ba723f7f0453599b604$var$pp$9.finishOp=function(e,t){var r=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,r)},$7e895868db818ba723f7f0453599b604$var$pp$9.readRegexp=function(){for(var e,t,r=this.pos;;){this.pos>=this.input.length&&this.raise(r,"Unterminated regular expression");var i=this.input.charAt(this.pos);if($7e895868db818ba723f7f0453599b604$export$lineBreak.test(i)&&this.raise(r,"Unterminated regular expression"),e)e=!1;else{if("["===i)t=!0;else if("]"===i&&t)t=!1;else if("/"===i&&!t)break;e="\\"===i}++this.pos}var n=this.input.slice(r,this.pos);++this.pos;var o=this.pos,s=this.readWord1();this.containsEsc&&this.unexpected(o);var a=this.regexpState||(this.regexpState=new $7e895868db818ba723f7f0453599b604$var$RegExpValidationState(this));a.reset(r,n,s),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var c=null;try{c=new RegExp(n,s)}catch(e){}return this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.regexp,{pattern:n,flags:s,value:c})},$7e895868db818ba723f7f0453599b604$var$pp$9.readInt=function(e,t){for(var r=this.pos,i=0,n=0,o=null==t?1/0:t;n<o;++n){var s=this.input.charCodeAt(this.pos),a=void 0;if((a=s>=97?s-97+10:s>=65?s-65+10:s>=48&&s<=57?s-48:1/0)>=e)break;++this.pos,i=i*e+a}return this.pos===r||null!=t&&this.pos-r!==t?null:i},$7e895868db818ba723f7f0453599b604$var$pp$9.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var r=this.readInt(e);return null==r&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(r="undefined"!=typeof BigInt?BigInt(this.input.slice(t,this.pos)):null,++this.pos):$7e895868db818ba723f7f0453599b604$export$isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.num,r)},$7e895868db818ba723f7f0453599b604$var$pp$9.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10)||this.raise(t,"Invalid number");var r=this.pos-t>=2&&48===this.input.charCodeAt(t);r&&this.strict&&this.raise(t,"Invalid number"),r&&/[89]/.test(this.input.slice(t,this.pos))&&(r=!1);var i=this.input.charCodeAt(this.pos);if(!r&&!e&&this.options.ecmaVersion>=11&&110===i){var n=this.input.slice(t,this.pos),o="undefined"!=typeof BigInt?BigInt(n):null;return++this.pos,$7e895868db818ba723f7f0453599b604$export$isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.num,o)}46!==i||r||(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),69!==i&&101!==i||r||(43!==(i=this.input.charCodeAt(++this.pos))&&45!==i||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),$7e895868db818ba723f7f0453599b604$export$isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=this.input.slice(t,this.pos),a=r?parseInt(s,8):parseFloat(s);return this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.num,a)},$7e895868db818ba723f7f0453599b604$var$pp$9.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},$7e895868db818ba723f7f0453599b604$var$pp$9.readString=function(e){for(var t="",r=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===e)break;92===i?(t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!1),r=this.pos):($7e895868db818ba723f7f0453599b604$export$isNewLine(i,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(r,this.pos++),this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.string,t)},$7e895868db818ba723f7f0453599b604$var$INVALID_TEMPLATE_ESCAPE_ERROR={},$7e895868db818ba723f7f0453599b604$var$pp$9.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==$7e895868db818ba723f7f0453599b604$var$INVALID_TEMPLATE_ESCAPE_ERROR)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},$7e895868db818ba723f7f0453599b604$var$pp$9.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw $7e895868db818ba723f7f0453599b604$var$INVALID_TEMPLATE_ESCAPE_ERROR;this.raise(e,t)},$7e895868db818ba723f7f0453599b604$var$pp$9.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var r=this.input.charCodeAt(this.pos);if(96===r||36===r&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.template&&this.type!==$7e895868db818ba723f7f0453599b604$export$tokTypes.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.template,e)):36===r?(this.pos+=2,this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.dollarBraceL)):(++this.pos,this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.backQuote));if(92===r)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if($7e895868db818ba723f7f0453599b604$export$isNewLine(r)){switch(e+=this.input.slice(t,this.pos),++this.pos,r){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(r)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},$7e895868db818ba723f7f0453599b604$var$pp$9.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken($7e895868db818ba723f7f0453599b604$export$tokTypes.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},$7e895868db818ba723f7f0453599b604$var$pp$9.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return $7e895868db818ba723f7f0453599b604$var$codePointToString$1(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),"0"===r&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return $7e895868db818ba723f7f0453599b604$export$isNewLine(t)?"":String.fromCharCode(t)}},$7e895868db818ba723f7f0453599b604$var$pp$9.readHexChar=function(e){var t=this.pos,r=this.readInt(16,e);return null===r&&this.invalidStringToken(t,"Bad character escape sequence"),r},$7e895868db818ba723f7f0453599b604$var$pp$9.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,r=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var n=this.fullCharCodeAtPos();if($7e895868db818ba723f7f0453599b604$export$isIdentifierChar(n,i))this.pos+=n<=65535?1:2;else{if(92!==n)break;this.containsEsc=!0,e+=this.input.slice(r,this.pos);var o=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var s=this.readCodePoint();(t?$7e895868db818ba723f7f0453599b604$export$isIdentifierStart:$7e895868db818ba723f7f0453599b604$export$isIdentifierChar)(s,i)||this.invalidStringToken(o,"Invalid Unicode escape"),e+=$7e895868db818ba723f7f0453599b604$var$codePointToString$1(s),r=this.pos}t=!1}return e+this.input.slice(r,this.pos)},$7e895868db818ba723f7f0453599b604$var$pp$9.readWord=function(){var e=this.readWord1(),t=$7e895868db818ba723f7f0453599b604$export$tokTypes.name;return this.keywords.test(e)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+e),t=$7e895868db818ba723f7f0453599b604$export$keywordTypes[e]),this.finishToken(t,e)},$7e895868db818ba723f7f0453599b604$export$version="6.4.2",$7e895868db818ba723f7f0453599b604$export$Parser.acorn={Parser:$7e895868db818ba723f7f0453599b604$export$Parser,version:$7e895868db818ba723f7f0453599b604$export$version,defaultOptions:$7e895868db818ba723f7f0453599b604$export$defaultOptions,Position:$7e895868db818ba723f7f0453599b604$export$Position,SourceLocation:$7e895868db818ba723f7f0453599b604$export$SourceLocation,getLineInfo:$7e895868db818ba723f7f0453599b604$export$getLineInfo,Node:$7e895868db818ba723f7f0453599b604$export$Node,TokenType:$7e895868db818ba723f7f0453599b604$export$TokenType,tokTypes:$7e895868db818ba723f7f0453599b604$export$tokTypes,keywordTypes:$7e895868db818ba723f7f0453599b604$export$keywordTypes,TokContext:$7e895868db818ba723f7f0453599b604$export$TokContext,tokContexts:$7e895868db818ba723f7f0453599b604$export$tokContexts,isIdentifierChar:$7e895868db818ba723f7f0453599b604$export$isIdentifierChar,isIdentifierStart:$7e895868db818ba723f7f0453599b604$export$isIdentifierStart,Token:$7e895868db818ba723f7f0453599b604$export$Token,isNewLine:$7e895868db818ba723f7f0453599b604$export$isNewLine,lineBreak:$7e895868db818ba723f7f0453599b604$export$lineBreak,lineBreakG:$7e895868db818ba723f7f0453599b604$export$lineBreakG,nonASCIIwhitespace:$7e895868db818ba723f7f0453599b604$export$nonASCIIwhitespace},$parcel$export($7e895868db818ba723f7f0453599b604$exports,"version",(function(){return $7e895868db818ba723f7f0453599b604$export$version})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"tokenizer",(function(){return $7e895868db818ba723f7f0453599b604$export$tokenizer})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"tokTypes",(function(){return $7e895868db818ba723f7f0453599b604$export$tokTypes})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"tokContexts",(function(){return $7e895868db818ba723f7f0453599b604$export$tokContexts})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"parseExpressionAt",(function(){return $7e895868db818ba723f7f0453599b604$export$parseExpressionAt})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"parse",(function(){return $7e895868db818ba723f7f0453599b604$export$parse})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"nonASCIIwhitespace",(function(){return $7e895868db818ba723f7f0453599b604$export$nonASCIIwhitespace})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"lineBreakG",(function(){return $7e895868db818ba723f7f0453599b604$export$lineBreakG})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"lineBreak",(function(){return $7e895868db818ba723f7f0453599b604$export$lineBreak})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"keywordTypes",(function(){return $7e895868db818ba723f7f0453599b604$export$keywordTypes})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"isNewLine",(function(){return $7e895868db818ba723f7f0453599b604$export$isNewLine})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"isIdentifierStart",(function(){return $7e895868db818ba723f7f0453599b604$export$isIdentifierStart})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"isIdentifierChar",(function(){return $7e895868db818ba723f7f0453599b604$export$isIdentifierChar})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"getLineInfo",(function(){return $7e895868db818ba723f7f0453599b604$export$getLineInfo})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"defaultOptions",(function(){return $7e895868db818ba723f7f0453599b604$export$defaultOptions})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"TokenType",(function(){return $7e895868db818ba723f7f0453599b604$export$TokenType})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"Token",(function(){return $7e895868db818ba723f7f0453599b604$export$Token})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"TokContext",(function(){return $7e895868db818ba723f7f0453599b604$export$TokContext})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"SourceLocation",(function(){return $7e895868db818ba723f7f0453599b604$export$SourceLocation})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"Position",(function(){return $7e895868db818ba723f7f0453599b604$export$Position})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"Parser",(function(){return $7e895868db818ba723f7f0453599b604$export$Parser})),$parcel$export($7e895868db818ba723f7f0453599b604$exports,"Node",(function(){return $7e895868db818ba723f7f0453599b604$export$Node}))}function $5874c704389c6c9ce687fcbeaa0dfe86$init(){return $5874c704389c6c9ce687fcbeaa0dfe86$executed||($5874c704389c6c9ce687fcbeaa0dfe86$executed=!0,$5874c704389c6c9ce687fcbeaa0dfe86$exec()),$7e895868db818ba723f7f0453599b604$exports}!function(e,t){"object"==typeof $622c1a26e6a49b59664cb3337f646c0b$exports?$622c1a26e6a49b59664cb3337f646c0b$exports=t($5874c704389c6c9ce687fcbeaa0dfe86$init()):"function"==typeof $622c1a26e6a49b59664cb3337f646c0b$var$define&&$622c1a26e6a49b59664cb3337f646c0b$var$define.amd?$622c1a26e6a49b59664cb3337f646c0b$var$define(["acorn"],t):(e=e||self).Sval=t(e.acorn)}($622c1a26e6a49b59664cb3337f646c0b$exports,(function(e){var t=Object.freeze({__proto__:null,get FunctionDeclaration(){return fe},get VariableDeclaration(){return de},get VariableDeclarator(){return he},get ClassDeclaration(){return be},get ClassBody(){return $e},get MethodDefinition(){return me}}),r=Object.freeze({__proto__:null,get FunctionDeclaration(){return Re},get VariableDeclaration(){return Be},get VariableDeclarator(){return Ue},get ClassDeclaration(){return Ge},get ClassBody(){return Fe},get MethodDefinition(){return ze}}),i=Object.freeze,n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.prototype.hasOwnProperty;function a(e,t){return s.call(e,t)}var c=Object.getOwnPropertyNames,l=Object.setPrototypeOf;var p=Object.getPrototypeOf;function u(e){return p?p(e):e.__proto__}var f=Object.getOwnPropertyDescriptor;function d(e,t,r){for(;t;){var i=f(t,r),n=void 0!==i&&void 0===i.writable&&"function"==typeof i[e]&&i[e];if(n)return n;t=u(t)}}function h(e,t){return d("get",e,t)}function b(e,t){return d("set",e,t)}var $=Object.create;function m(e,t){var r,i;r=e,i=t,l?l(r,i):r.__proto__=i,e.prototype=$(t.prototype,{constructor:{value:e,writable:!0}})}var g=Object.assign||function(e){for(var t=1;t<arguments.length;++t){var r=arguments[t];for(var i in r)a(r,i)&&(e[i]=r[i])}return e},x=[],v=$(null);try{if(!window.Object)throw 0;x=c(v=window).filter((function(e){return"webkitStorageInfo"!==e}))}catch(e){try{if(!$parcel$global.Object)throw 0;x=c(v=$parcel$global).filter((function(e){return"GLOBAL"!==e&&"root"!==e}))}catch(e){try{v.Object=Object}catch(e){}try{v.Function=Function}catch(e){}try{v.Array=Array}catch(e){}try{v.Number=Number}catch(e){}try{v.parseFloat=parseFloat}catch(e){}try{v.parseInt=parseInt}catch(e){}try{v.Infinity=1/0}catch(e){}try{v.NaN=NaN}catch(e){}try{v.undefined=void 0}catch(e){}try{v.Boolean=Boolean}catch(e){}try{v.String=String}catch(e){}try{v.Symbol=Symbol}catch(e){}try{v.Date=Date}catch(e){}try{v.Promise=Promise}catch(e){}try{v.RegExp=RegExp}catch(e){}try{v.Error=Error}catch(e){}try{v.EvalError=EvalError}catch(e){}try{v.RangeError=RangeError}catch(e){}try{v.ReferenceError=ReferenceError}catch(e){}try{v.SyntaxError=SyntaxError}catch(e){}try{v.TypeError=TypeError}catch(e){}try{v.URIError=URIError}catch(e){}try{v.JSON=JSON}catch(e){}try{v.Math=Math}catch(e){}try{v.console=console}catch(e){}try{v.Intl=Intl}catch(e){}try{v.ArrayBuffer=ArrayBuffer}catch(e){}try{v.Uint8Array=Uint8Array}catch(e){}try{v.Int8Array=Int8Array}catch(e){}try{v.Uint16Array=Uint16Array}catch(e){}try{v.Int16Array=Int16Array}catch(e){}try{v.Uint32Array=Uint32Array}catch(e){}try{v.Int32Array=Int32Array}catch(e){}try{v.Float32Array=Float32Array}catch(e){}try{v.Float64Array=Float64Array}catch(e){}try{v.Uint8ClampedArray=Uint8ClampedArray}catch(e){}try{v.DataView=DataView}catch(e){}try{v.Map=Map}catch(e){}try{v.Set=Set}catch(e){}try{v.WeakMap=WeakMap}catch(e){}try{v.WeakSet=WeakSet}catch(e){}try{v.Proxy=Proxy}catch(e){}try{v.Reflect=Reflect}catch(e){}try{v.decodeURI=decodeURI}catch(e){}try{v.decodeURIComponent=decodeURIComponent}catch(e){}try{v.encodeURI=encodeURI}catch(e){}try{v.encodeURIComponent=encodeURIComponent}catch(e){}try{v.escape=escape}catch(e){}try{v.unescape=unescape}catch(e){}try{v.eval=eval}catch(e){}try{v.isFinite=isFinite}catch(e){}try{v.isNaN=isNaN}catch(e){}try{v.SharedArrayBuffer=SharedArrayBuffer}catch(e){}try{v.Atomics=Atomics}catch(e){}try{v.WebAssembly=WebAssembly}catch(e){}try{v.clearInterval=clearInterval}catch(e){}try{v.clearTimeout=clearTimeout}catch(e){}try{v.setInterval=setInterval}catch(e){}try{v.setTimeout=setTimeout}catch(e){}try{v.crypto=crypto}catch(e){}x=c(v)}}v.Symbol&&(!v.Symbol.iterator&&(v.Symbol.iterator=w("iterator")),!v.Symbol.asyncIterator&&(v.Symbol.asyncIterator=w("asynciterator")));for(var y=$({}),_=0;_<x.length;_++){var E=x[_];try{y[E]=v[E]}catch(e){}}var k=w("window");function S(){var e;return g($(((e={})[k]=v,e)),y)}function w(e){return e+Math.random().toString(36).substring(2)}var A={RES:void 0},T={RES:void 0},M=w("continue"),C=w("break"),P=w("super"),I=w("supercall"),N=w("noctor"),O=w("clsctor"),L=w("newtarget"),q=w("noinit"),D=w("deadzone"),R=function(){function e(e,t){this.kind=e,this.value=t}return e.prototype.get=function(){return this.value},e.prototype.set=function(e){if("const"===this.kind)throw new TypeError("Assignment to constant variable");return this.value=e},e}(),B=function(){function e(e,t){this.object=e,this.property=t}return e.prototype.get=function(){return this.object[this.property]},e.prototype.set=function(e){return this.object[this.property]=e,!0},e.prototype.del=function(){return delete this.object[this.property]},e}(),U=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=!1),this.context=$(null),this.parent=e,this.isolated=t}return e.prototype.global=function(){for(var e=this;e.parent;)e=e.parent;return e},e.prototype.clone=function(){var t=new e(this.parent,this.isolated);for(var r in this.context){var i=this.context[r];t[i.kind](r,i.get())}return t},e.prototype.find=function(e){if(this.context[e])return this.context[e];if(this.parent)return this.parent.find(e);var t=this.global().find("window").get();return e in t?new B(t,e):null},e.prototype.var=function(e,t){for(var r=this;r.parent&&!r.isolated;)r=r.parent;var i=r.context[e];if(i){if("var"!==i.kind)throw new SyntaxError("Identifier '"+e+"' has already been declared");t!==q&&i.set(t)}else r.context[e]=new R("var",t===q?void 0:t);if(!r.parent){var o=r.find("window").get();t!==q&&n(o,e,{value:t,writable:!0,enumerable:!0})}},e.prototype.let=function(e,t){var r=this.context[e];if(r&&r.get()!==D)throw new SyntaxError("Identifier '"+e+"' has already been declared");this.context[e]=new R("let",t)},e.prototype.const=function(e,t){var r=this.context[e];if(r&&r.get()!==D)throw new SyntaxError("Identifier '"+e+"' has already been declared");this.context[e]=new R("const",t)},e.prototype.func=function(e,t){var r=this.context[e];if(r&&"var"!==r.kind)throw new SyntaxError("Identifier '"+e+"' has already been declared");this.context[e]=new R("var",t)},e}();
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ******************************************************************************/
function G(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function F(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function z(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}function V(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(z(arguments[t]));return e}function j(e,t,r){void 0===r&&(r={});var i=r.getVar,n=void 0!==i&&i,o=r.throwErr,s=void 0===o||o;if("undefined"!==e.name){var a=t.find(e.name);if(a){if(n)return a;var c=a.get();if(c===D)throw new ReferenceError(e.name+" is not defined");return c}if(s)throw new ReferenceError(e.name+" is not defined")}}var H=Object.freeze({__proto__:null,Identifier:j});function X(e,t){return e.value}var W=Object.freeze({__proto__:null,Literal:X});function Y(e,t,r){void 0===r&&(r={});var i,o,s=r.getObj,a=void 0!==s&&s,c=r.getVar,l=void 0!==c&&c;if(i="Super"===e.object.type?Q(e.object,t,{getProto:!0}):ue(e.object,t),a)return i;if(o=e.computed?ue(e.property,t):e.property.name,l){var p=b(i,o);if("Super"===e.object.type&&p){var u=t.find("this").get(),f=w(o);return n(u,f,{set:p}),new B(u,f)}return new B(i,o)}var d=h(i,o);if("Super"===e.object.type&&d){u=t.find("this").get();return d.call(u)}return i[o]}function Z(e,t){return e.value.raw}function Q(e,t,r){void 0===r&&(r={});var i=r.getProto,n=void 0!==i&&i,o=t.find(P).get();return n?o.prototype:o}function K(e,t){return ue(e.argument,t)}var J=Object.freeze({__proto__:null,ThisExpression:function(e,t){var r=t.find(I);if(r&&!r.get())throw new ReferenceError("Must call super constructor in derived class before accessing 'this' or returning from derived constructor");return t.find("this").get()},ArrayExpression:function(e,t){for(var r=[],i=0;i<e.elements.length;i++){var n=e.elements[i];"SpreadElement"===n.type?r=r.concat(K(n,t)):r.push(ue(n,t))}return r},ObjectExpression:function(e,t){for(var r={},i=0;i<e.properties.length;i++){var s=e.properties[i];if("SpreadElement"===s.type)g(r,K(s,t));else{var a=void 0,c=s.key;a=s.computed?ue(c,t):"Identifier"===c.type?c.name:""+X(c);var l=ue(s.value,t),p=s.kind;if("init"===p)r[a]=l;else if("get"===p){var u=o(r,a);n(r,a,{get:l,set:u&&u.set,enumerable:!0,configurable:!0})}else{u=o(r,a);n(r,a,{get:u&&u.get,set:l,enumerable:!0,configurable:!0})}}}return r},FunctionExpression:function(e,t){if(e.id&&e.id.name){var r=new U(t),i=et(e,r);return r.const(e.id.name,i),i}return et(e,t)},UnaryExpression:function(e,t){var r=e.argument;switch(e.operator){case"+":return+ue(r,t);case"-":return-ue(r,t);case"!":return!ue(r,t);case"~":return~ue(r,t);case"void":return void ue(r,t);case"typeof":return"Identifier"===r.type?typeof j(r,t,{throwErr:!1}):typeof ue(r,t);case"delete":if("MemberExpression"===r.type)return Y(r,t,{getVar:!0}).del();if("Identifier"===r.type)throw new SyntaxError("Delete of an unqualified identifier in strict mode");return ue(r,t),!0;default:throw new SyntaxError("Unexpected token "+e.operator)}},UpdateExpression:function(e,t){var r,i=e.argument;if("Identifier"===i.type)r=j(i,t,{getVar:!0});else{if("MemberExpression"!==i.type)throw new SyntaxError("Unexpected token");r=Y(i,t,{getVar:!0})}var n=r.get();if("++"===e.operator)return r.set(n+1),e.prefix?r.get():n;if("--"===e.operator)return r.set(n-1),e.prefix?r.get():n;throw new SyntaxError("Unexpected token "+e.operator)},BinaryExpression:function(e,t){var r=ue(e.left,t),i=ue(e.right,t);switch(e.operator){case"==":return r==i;case"!=":return r!=i;case"===":return r===i;case"!==":return r!==i;case"<":return r<i;case"<=":return r<=i;case">":return r>i;case">=":return r>=i;case"<<":return r<<i;case">>":return r>>i;case">>>":return r>>>i;case"+":return r+i;case"-":return r-i;case"*":return r*i;case"**":return Math.pow(r,i);case"/":return r/i;case"%":return r%i;case"|":return r|i;case"^":return r^i;case"&":return r&i;case"in":return r in i;case"instanceof":return r instanceof i;default:throw new SyntaxError("Unexpected token "+e.operator)}},AssignmentExpression:function(e,t){var r,i=ue(e.right,t),n=e.left;if("Identifier"===n.type){if(!(r=j(n,t,{getVar:!0,throwErr:!1}))){var o=t.global().find("window").get();r=new B(o,n.name)}}else{if("MemberExpression"!==n.type)return Je(n,t,{feed:i});r=Y(n,t,{getVar:!0})}switch(e.operator){case"=":return r.set(i),r.get();case"+=":return r.set(r.get()+i),r.get();case"-=":return r.set(r.get()-i),r.get();case"*=":return r.set(r.get()*i),r.get();case"/=":return r.set(r.get()/i),r.get();case"%=":return r.set(r.get()%i),r.get();case"**=":return r.set(Math.pow(r.get(),i)),r.get();case"<<=":return r.set(r.get()<<i),r.get();case">>=":return r.set(r.get()>>i),r.get();case">>>=":return r.set(r.get()>>>i),r.get();case"|=":return r.set(r.get()|i),r.get();case"^=":return r.set(r.get()^i),r.get();case"&=":return r.set(r.get()&i),r.get();default:throw new SyntaxError("Unexpected token "+e.operator)}},LogicalExpression:function(e,t){switch(e.operator){case"||":return ue(e.left,t)||ue(e.right,t);case"&&":return ue(e.left,t)&&ue(e.right,t);default:throw new SyntaxError("Unexpected token "+e.operator)}},MemberExpression:Y,ConditionalExpression:function(e,t){return ue(e.test,t)?ue(e.consequent,t):ue(e.alternate,t)},CallExpression:function(e,t){var r,i;if("MemberExpression"===e.callee.type){i=Y(e.callee,t,{getObj:!0});var n=void 0;if(n=e.callee.computed?ue(e.callee.property,t):e.callee.property.name,"Super"===e.callee.object.type){var o=t.find("this").get();r=i[n].bind(o)}else r=i[n];if("function"!=typeof r)throw new TypeError(n+" is not a function");if(r[O])throw new TypeError("Class constructor "+n+" cannot be invoked without 'new'")}else if(i=t.find("this").get(),"function"!=typeof(r=ue(e.callee,t))||"Super"!==e.callee.type&&r[O]){var s;if("Identifier"===e.callee.type)s=e.callee.name;else try{s=JSON.stringify(r)}catch(e){s=""+r}throw"function"!=typeof r?new TypeError(s+" is not a function"):new TypeError("Class constructor "+s+" cannot be invoked without 'new'")}for(var a=[],c=0;c<e.arguments.length;c++){var l=e.arguments[c];"SpreadElement"===l.type?a=a.concat(K(l,t)):a.push(ue(l,t))}if("Super"===e.callee.type){if(t.find(I).get())throw new ReferenceError("Super constructor may only be called once");t.find(I).set(!0)}return i&&i[k]&&-1!==r.toString().indexOf("[native code]")?r.apply(i[k],a):r.apply(i,a)},NewExpression:function(e,t){var r=ue(e.callee,t);if("function"!=typeof r){var i;if("Identifier"===e.callee.type)i=e.callee.name;else try{i=JSON.stringify(r)}catch(e){i=""+r}throw new TypeError(i+" is not a constructor")}if(r[N])throw new TypeError((r.name||"(intermediate value)")+" is not a constructor");for(var n=[],o=0;o<e.arguments.length;o++){var s=e.arguments[o];"SpreadElement"===s.type?n=n.concat(K(s,t)):n.push(ue(s,t))}return new(r.bind.apply(r,V([void 0],n)))},MetaProperty:function(e,t){return t.find(L).get()},SequenceExpression:function(e,t){for(var r,i=0;i<e.expressions.length;i++)r=ue(e.expressions[i],t);return r},ArrowFunctionExpression:function(e,t){return et(e,t)},TemplateLiteral:function(e,t){for(var r,i,n=e.quasis.slice(),o=e.expressions.slice(),s="";r=n.shift();)s+=Z(r),(i=o.shift())&&(s+=ue(i,t));return s},TaggedTemplateExpression:function(e,t){var r=ue(e.tag,t),o=e.quasi.quasis,s=o.map((function(e){return e.value.cooked})),a=o.map((function(e){return e.value.raw}));n(s,"raw",{value:i(a)});var c=e.quasi.expressions,l=[];if(c)for(var p=0;p<c.length;p++)l.push(ue(c[p],t));return r.apply(void 0,V([i(s)],l))},TemplateElement:Z,ClassExpression:function(e,t){if(e.id&&e.id.name){var r=new U(t),i=tt(e,r);return r.const(e.id.name,i),i}return tt(e,t)},Super:Q,SpreadElement:K});function ee(e,t,r){void 0===r&&(r={});var i=r.invasived,n=void 0!==i&&i,o=r.hoisted,s=void 0!==o&&o,a=n?t:new U(t);s||Qe(e,a,{onlyBlock:!0});for(var c=0;c<e.body.length;c++){var l=ue(e.body[c],a);if(l===C||l===M||l===T)return l}}function te(e,t){for(var r=0;r<e.consequent.length;r++){var i=ue(e.consequent[r],t);if(i===C||i===M||i===T)return i}}function re(e,t){return ee(e.body,t,{invasived:!0})}var ie=Object.freeze({__proto__:null,ExpressionStatement:function(e,t){ue(e.expression,t)},BlockStatement:ee,EmptyStatement:function(){},DebuggerStatement:function(){},ReturnStatement:function(e,t){return T.RES=e.argument?ue(e.argument,t):void 0,T},BreakStatement:function(){return C},ContinueStatement:function(){return M},IfStatement:function(e,t){return ue(e.test,t)?ue(e.consequent,t):ue(e.alternate,t)},SwitchStatement:function(e,t){for(var r=ue(e.discriminant,t),i=!1,n=0;n<e.cases.length;n++){var o=e.cases[n];if(i||o.test&&ue(o.test,t)!==r||(i=!0),i){var s=te(o,t);if(s===C)break;if(s===M||s===T)return s}}},SwitchCase:te,ThrowStatement:function(e,t){throw ue(e.argument,t)},TryStatement:function(e,t){try{return ee(e.block,t)}catch(o){if(e.handler){var r=new U(t),i=e.handler.param;if(i)if("Identifier"===i.type){var n=i.name;r.var(n,o)}else Je(i,t,{feed:o});return re(e.handler,r)}throw o}finally{if(e.finalizer){var o=ee(e.finalizer,t);if(o===C||o===M||o===T)return o}}},CatchClause:re,WhileStatement:function(e,t){for(;ue(e.test,t);){var r=ue(e.body,t);if(r===C)break;if(r!==M&&r===T)return r}},DoWhileStatement:function(e,t){do{var r=ue(e.body,t);if(r===C)break;if(r!==M&&r===T)return r}while(ue(e.test,t))},ForStatement:function(e,t){var r=new U(t);for(ue(e.init,r);!e.test||ue(e.test,r);ue(e.update,r)){var i=new U(r),n=void 0;if((n="BlockStatement"===e.body.type?ee(e.body,i,{invasived:!0}):ue(e.body,i))===C)break;if(n!==M&&n===T)return n}},ForInStatement:function(e,t){for(var r in ue(e.right,t)){var i=rt(e,t,{value:r});if(i===C)break;if(i!==M&&i===T)return i}},ForOfStatement:function(e,t){var r,i,n=ue(e.right,t);try{for(var o=F(n),s=o.next();!s.done;s=o.next()){var a=rt(e,t,{value:s.value});if(a===C)break;if(a!==M&&a===T)return a}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}}});function ne(e,t,r){void 0===r&&(r={});for(var i=r.kind,n=void 0===i?"var":i,o=r.hoist,s=void 0!==o&&o,a=r.onlyBlock,c=void 0!==a&&a,l=r.feed,p=void 0===l?{}:l,u=[],f=0;f<e.properties.length;f++){var d=e.properties[f];if(s){if(c||"var"===n)if("Property"===d.type)"Identifier"===(h=d.value).type?t[n](h.name,c?D:"var"===n?q:void 0):Je(h,t,{kind:n,hoist:s,onlyBlock:c});else se(d,t,{kind:n,hoist:s,onlyBlock:c})}else if("Property"===d.type){var h,b=void 0;b=d.computed?ue(d.key,t):d.key.name,u.push(b),"Identifier"===(h=d.value).type?t[n](h.name,p[b]):Je(h,t,{kind:n,feed:p[b]})}else{for(var $=g({},p),m=0;m<u.length;m++)delete $[u[m]];se(d,t,{kind:n,feed:$})}}}function oe(e,t,r){void 0===r&&(r={});for(var i=r.kind,n=r.hoist,o=void 0!==n&&n,s=r.onlyBlock,a=void 0!==s&&s,c=r.feed,l=void 0===c?[]:c,p=[],u=0;u<e.elements.length;u++){var f=e.elements[u];if(f)if(o)(a||"var"===i)&&("Identifier"===f.type?t[i](f.name,a?D:"var"===i?q:void 0):Je(f,t,{kind:i,hoist:o,onlyBlock:a}));else if("Identifier"===f.type)if(i)t[i](f.name,l[u]);else{var d=j(f,t,{getVar:!0});d.set(l[u]),p.push(d.get())}else"RestElement"===f.type?se(f,t,{kind:i,feed:l.slice(u)}):Je(f,t,{kind:i,feed:l[u]})}if(p.length)return p}function se(e,t,r){void 0===r&&(r={});var i=r.kind,n=r.hoist,o=void 0!==n&&n,s=r.onlyBlock,a=void 0!==s&&s,c=r.feed,l=void 0===c?[]:c,p=e.argument;if(o)(a||"var"===i)&&("Identifier"===p.type?t[i](p.name,a?D:"var"===i?q:void 0):Je(p,t,{kind:i,hoist:o,onlyBlock:a}));else if("Identifier"===p.type){if(i)t[i](p.name,l);else j(p,t,{getVar:!0}).set(l)}else Je(p,t,{kind:i,feed:l})}function ae(e,t,r){void 0===r&&(r={});var i=r.kind,n=void 0===i?"var":i,o=r.hoist,s=void 0!==o&&o,a=r.onlyBlock,c=void 0!==a&&a,l=r.feed,p=void 0===l?ue(e.right,t):l,u=e.left;s?(c||"var"===n)&&("Identifier"===u.type?t[n](u.name,c?D:"var"===n?q:void 0):Je(u,t,{kind:n,hoist:s,onlyBlock:c})):"Identifier"===u.type?t[n](u.name,p):Je(u,t,{kind:n,feed:p})}var ce=Object.freeze({__proto__:null,ObjectPattern:ne,ArrayPattern:oe,RestElement:se,AssignmentPattern:ae});var le,pe=Object.freeze({__proto__:null,Program:function(e,t){for(var r=0;r<e.body.length;r++)ue(e.body[r],t)}});function ue(e,r){if(e){le||(le=g({},t,J,H,ie,W,ce,pe));var i=le[e.type];if(i)return i(e,r);throw new Error(e.type+" isn't implemented")}}function fe(e,t){t.func(e.id.name,et(e,t))}function de(e,t,r){void 0===r&&(r={});for(var i=0;i<e.declarations.length;i++)he(e.declarations[i],t,g({kind:e.kind},r))}function he(e,t,r){void 0===r&&(r={});var i=r.kind,o=void 0===i?"var":i,s=r.hoist,a=void 0!==s&&s,c=r.onlyBlock,l=void 0!==c&&c,p=r.feed;if(a)(l||"var"===o)&&("Identifier"===e.id.type?t[o](e.id.name,l?D:"var"===o?q:void 0):Je(e.id,t,{kind:o,hoist:a,onlyBlock:l}));else{var u="feed"in r,f=u?p:ue(e.init,t);if("Identifier"===e.id.type){var d=e.id.name;"var"!==o||e.init||u?t[o](d,f):t.var(d,q),e.init&&-1!==["ClassExpression","FunctionExpression","ArrowFunctionExpression"].indexOf(e.init.type)&&!f.name&&n(f,"name",{value:d,configurable:!0})}else Je(e.id,t,{kind:o,feed:f})}}function be(e,t){t.func(e.id.name,tt(e,t))}function $e(e,t,r){void 0===r&&(r={});for(var i=r.klass,n=r.superClass,o=0;o<e.body.length;o++)me(e.body[o],t,{klass:i,superClass:n})}function me(e,t,r){void 0===r&&(r={});var i,s=r.klass,a=r.superClass;if(e.computed)i=ue(e.key,t);else{if("Identifier"!==e.key.type)throw new SyntaxError("Unexpected token");i=e.key.name}var c=e.static?s:s.prototype,l=et(e.value,t,{superClass:a});switch(e.kind){case"constructor":break;case"method":n(c,i,{value:l,writable:!0,configurable:!0});break;case"get":var p=o(c,i);n(c,i,{get:l,set:p&&p.set,configurable:!0});break;case"set":p=o(c,i);n(c,i,{get:p&&p.get,set:l,configurable:!0});break;default:throw new SyntaxError("Unexpected token")}}function ge(e,t,r){var i,n,o,s,a,c;return void 0===r&&(r={}),G(this,(function(l){if(i=r.getVar,n=void 0!==i&&i,o=r.throwErr,s=void 0===o||o,"undefined"===e.name)return[2,void 0];if(a=t.find(e.name)){if(n)return[2,a];if((c=a.get())===D)throw new ReferenceError(e.name+" is not defined");return[2,c]}if(s)throw new ReferenceError(e.name+" is not defined");return[2,void 0]}))}var xe=Object.freeze({__proto__:null,Identifier:ge});function ve(e,t){return G(this,(function(t){return[2,e.value]}))}var ye=Object.freeze({__proto__:null,Literal:ve});function _e(e,t,r){var i,o,s,a,c,l,p,u,f,d;return void 0===r&&(r={}),G(this,(function($){switch($.label){case 0:return i=r.getObj,o=void 0!==i&&i,s=r.getVar,a=void 0!==s&&s,"Super"!==e.object.type?[3,2]:[5,F(ke(e.object,t,{getProto:!0}))];case 1:return c=$.sent(),[3,4];case 2:return[5,F(De(e.object,t))];case 3:c=$.sent(),$.label=4;case 4:return o?[2,c]:e.computed?[5,F(De(e.property,t))]:[3,6];case 5:return l=$.sent(),[3,7];case 6:l=e.property.name,$.label=7;case 7:return a?(p=b(c,l),"Super"===e.object.type&&p?(d=t.find("this").get(),u=w(l),n(d,u,{set:p}),[2,new B(d,u)]):[2,new B(c,l)]):(f=h(c,l),"Super"===e.object.type&&f?(d=t.find("this").get(),[2,f.call(d)]):[2,c[l]])}}))}function Ee(e,t){return G(this,(function(t){return[2,e.value.raw]}))}function ke(e,t,r){var i,n,o;return void 0===r&&(r={}),G(this,(function(e){return i=r.getProto,n=void 0!==i&&i,o=t.find(P).get(),[2,n?o.prototype:o]}))}function Se(e,t){return G(this,(function(r){switch(r.label){case 0:return[5,F(De(e.argument,t))];case 1:return[2,r.sent()]}}))}var we=Object.freeze({__proto__:null,ThisExpression:function(e,t){var r;return G(this,(function(e){if((r=t.find(I))&&!r.get())throw new ReferenceError("Must call super constructor in derived class before accessing 'this' or returning from derived constructor");return[2,t.find("this").get()]}))},ArrayExpression:function(e,t){var r,i,n,o,s,a,c;return G(this,(function(l){switch(l.label){case 0:r=[],i=0,l.label=1;case 1:return i<e.elements.length?"SpreadElement"!==(n=e.elements[i]).type?[3,3]:(s=(o=r).concat,[5,F(Se(n,t))]):[3,6];case 2:return r=s.apply(o,[l.sent()]),[3,5];case 3:return c=(a=r).push,[5,F(De(n,t))];case 4:c.apply(a,[l.sent()]),l.label=5;case 5:return i++,[3,1];case 6:return[2,r]}}))},ObjectExpression:function(e,t){var r,i,s,a,c,l,p,u,f,d,h;return G(this,(function(b){switch(b.label){case 0:r={},i=0,b.label=1;case 1:return i<e.properties.length?"SpreadElement"!==(s=e.properties[i]).type?[3,3]:(a=g,c=[r],[5,F(Se(s,t))]):[3,11];case 2:return a.apply(void 0,c.concat([b.sent()])),[3,10];case 3:return l=void 0,p=s.key,s.computed?[5,F(De(p,t))]:[3,5];case 4:return l=b.sent(),[3,8];case 5:return"Identifier"!==p.type?[3,6]:(l=p.name,[3,8]);case 6:return u="",[5,F(ve(p))];case 7:l=u+b.sent(),b.label=8;case 8:return[5,F(De(s.value,t))];case 9:f=b.sent(),"init"===(d=s.kind)?r[l]=f:"get"===d?(h=o(r,l),n(r,l,{get:f,set:h&&h.set,enumerable:!0,configurable:!0})):(h=o(r,l),n(r,l,{get:h&&h.get,set:f,enumerable:!0,configurable:!0})),b.label=10;case 10:return i++,[3,1];case 11:return[2,r]}}))},FunctionExpression:function(e,t){var r,i;return G(this,(function(n){return e.id&&e.id.name?(r=new U(t),i=We(e,r),r.const(e.id.name,i),[2,i]):[2,We(e,t)]}))},UnaryExpression:function(e,t){var r;return G(this,(function(i){switch(i.label){case 0:switch(r=e.argument,e.operator){case"+":return[3,1];case"-":return[3,3];case"!":return[3,5];case"~":return[3,7];case"void":return[3,9];case"typeof":return[3,11];case"delete":return[3,15]}return[3,20];case 1:return[5,F(De(r,t))];case 2:return[2,+i.sent()];case 3:return[5,F(De(r,t))];case 4:return[2,-i.sent()];case 5:return[5,F(De(r,t))];case 6:return[2,!i.sent()];case 7:return[5,F(De(r,t))];case 8:return[2,~i.sent()];case 9:return[5,F(De(r,t))];case 10:return[2,void i.sent()];case 11:return"Identifier"!==r.type?[3,13]:[5,F(ge(r,t,{throwErr:!1}))];case 12:return[2,typeof i.sent()];case 13:return[5,F(De(r,t))];case 14:return[2,typeof i.sent()];case 15:return"MemberExpression"!==r.type?[3,17]:[5,F(_e(r,t,{getVar:!0}))];case 16:return[2,i.sent().del()];case 17:if("Identifier"!==r.type)return[3,18];throw new SyntaxError("Delete of an unqualified identifier in strict mode");case 18:return[5,F(De(r,t))];case 19:return i.sent(),[2,!0];case 20:throw new SyntaxError("Unexpected token "+e.operator)}}))},UpdateExpression:function(e,t){var r,i,n;return G(this,(function(o){switch(o.label){case 0:return"Identifier"!==(r=e.argument).type?[3,2]:[5,F(ge(r,t,{getVar:!0}))];case 1:return i=o.sent(),[3,5];case 2:return"MemberExpression"!==r.type?[3,4]:[5,F(_e(r,t,{getVar:!0}))];case 3:return i=o.sent(),[3,5];case 4:throw new SyntaxError("Unexpected token");case 5:if(n=i.get(),"++"===e.operator)return i.set(n+1),[2,e.prefix?i.get():n];if("--"===e.operator)return i.set(n-1),[2,e.prefix?i.get():n];throw new SyntaxError("Unexpected token "+e.operator)}}))},BinaryExpression:function(e,t){var r,i;return G(this,(function(n){switch(n.label){case 0:return[5,F(De(e.left,t))];case 1:return r=n.sent(),[5,F(De(e.right,t))];case 2:switch(i=n.sent(),e.operator){case"==":return[2,r==i];case"!=":return[2,r!=i];case"===":return[2,r===i];case"!==":return[2,r!==i];case"<":return[2,r<i];case"<=":return[2,r<=i];case">":return[2,r>i];case">=":return[2,r>=i];case"<<":return[2,r<<i];case">>":return[2,r>>i];case">>>":return[2,r>>>i];case"+":return[2,r+i];case"-":return[2,r-i];case"*":return[2,r*i];case"**":return[2,Math.pow(r,i)];case"/":return[2,r/i];case"%":return[2,r%i];case"|":return[2,r|i];case"^":return[2,r^i];case"&":return[2,r&i];case"in":return[2,r in i];case"instanceof":return[2,r instanceof i];default:throw new SyntaxError("Unexpected token "+e.operator)}}}))},AssignmentExpression:function(e,t){var r,i,n,o;return G(this,(function(s){switch(s.label){case 0:return[5,F(De(e.right,t))];case 1:return r=s.sent(),"Identifier"!==(i=e.left).type?[3,3]:[5,F(ge(i,t,{getVar:!0,throwErr:!1}))];case 2:return(n=s.sent())||(o=t.global().find("window").get(),n=new B(o,i.name)),[3,7];case 3:return"MemberExpression"!==i.type?[3,5]:[5,F(_e(i,t,{getVar:!0}))];case 4:return n=s.sent(),[3,7];case 5:return[5,F(Xe(i,t,{feed:r}))];case 6:return[2,s.sent()];case 7:switch(e.operator){case"=":return n.set(r),[2,n.get()];case"+=":return n.set(n.get()+r),[2,n.get()];case"-=":return n.set(n.get()-r),[2,n.get()];case"*=":return n.set(n.get()*r),[2,n.get()];case"/=":return n.set(n.get()/r),[2,n.get()];case"%=":return n.set(n.get()%r),[2,n.get()];case"**=":return n.set(Math.pow(n.get(),r)),[2,n.get()];case"<<=":return n.set(n.get()<<r),[2,n.get()];case">>=":return n.set(n.get()>>r),[2,n.get()];case">>>=":return n.set(n.get()>>>r),[2,n.get()];case"|=":return n.set(n.get()|r),[2,n.get()];case"^=":return n.set(n.get()^r),[2,n.get()];case"&=":return n.set(n.get()&r),[2,n.get()];default:throw new SyntaxError("Unexpected token "+e.operator)}}}))},LogicalExpression:function(e,t){var r,i;return G(this,(function(n){switch(n.label){case 0:switch(e.operator){case"||":return[3,1];case"&&":return[3,5]}return[3,9];case 1:return[5,F(De(e.left,t))];case 2:return(r=n.sent())?[3,4]:[5,F(De(e.right,t))];case 3:r=n.sent(),n.label=4;case 4:return[2,r];case 5:return[5,F(De(e.left,t))];case 6:return(i=n.sent())?[5,F(De(e.right,t))]:[3,8];case 7:i=n.sent(),n.label=8;case 8:return[2,i];case 9:throw new SyntaxError("Unexpected token "+e.operator)}}))},MemberExpression:_e,ConditionalExpression:function(e,t){var r;return G(this,(function(i){switch(i.label){case 0:return[5,F(De(e.test,t))];case 1:return i.sent()?[5,F(De(e.consequent,t))]:[3,3];case 2:return r=i.sent(),[3,5];case 3:return[5,F(De(e.alternate,t))];case 4:r=i.sent(),i.label=5;case 5:return[2,r]}}))},CallExpression:function(e,t){var r,i,n,o,s,a,c,l,p,u,f,d;return G(this,(function(h){switch(h.label){case 0:return"MemberExpression"!==e.callee.type?[3,5]:[5,F(_e(e.callee,t,{getObj:!0}))];case 1:return i=h.sent(),n=void 0,e.callee.computed?[5,F(De(e.callee.property,t))]:[3,3];case 2:return n=h.sent(),[3,4];case 3:n=e.callee.property.name,h.label=4;case 4:if("Super"===e.callee.object.type?(o=t.find("this").get(),r=i[n].bind(o)):r=i[n],"function"!=typeof r)throw new TypeError(n+" is not a function");if(r[O])throw new TypeError("Class constructor "+n+" cannot be invoked without 'new'");return[3,7];case 5:return i=t.find("this").get(),[5,F(De(e.callee,t))];case 6:if("function"!=typeof(r=h.sent())||"Super"!==e.callee.type&&r[O]){if("Identifier"===e.callee.type)s=e.callee.name;else try{s=JSON.stringify(r)}catch(e){s=""+r}throw"function"!=typeof r?new TypeError(s+" is not a function"):new TypeError("Class constructor "+s+" cannot be invoked without 'new'")}h.label=7;case 7:a=[],c=0,h.label=8;case 8:return c<e.arguments.length?"SpreadElement"!==(l=e.arguments[c]).type?[3,10]:(u=(p=a).concat,[5,F(Se(l,t))]):[3,13];case 9:return a=u.apply(p,[h.sent()]),[3,12];case 10:return d=(f=a).push,[5,F(De(l,t))];case 11:d.apply(f,[h.sent()]),h.label=12;case 12:return c++,[3,8];case 13:if("Super"===e.callee.type){if(t.find(I).get())throw new ReferenceError("Super constructor may only be called once");t.find(I).set(!0)}return i&&i[k]&&-1!==r.toString().indexOf("[native code]")?[2,r.apply(i[k],a)]:[2,r.apply(i,a)]}}))},NewExpression:function(e,t){var r,i,n,o,s,a,c,l,p;return G(this,(function(u){switch(u.label){case 0:return[5,F(De(e.callee,t))];case 1:if("function"!=typeof(r=u.sent())){if("Identifier"===e.callee.type)i=e.callee.name;else try{i=JSON.stringify(r)}catch(e){i=""+r}throw new TypeError(i+" is not a constructor")}if(r[N])throw new TypeError((r.name||"(intermediate value)")+" is not a constructor");n=[],o=0,u.label=2;case 2:return o<e.arguments.length?"SpreadElement"!==(s=e.arguments[o]).type?[3,4]:(c=(a=n).concat,[5,F(Se(s,t))]):[3,7];case 3:return n=c.apply(a,[u.sent()]),[3,6];case 4:return p=(l=n).push,[5,F(De(s,t))];case 5:p.apply(l,[u.sent()]),u.label=6;case 6:return o++,[3,2];case 7:return[2,new(r.bind.apply(r,V([void 0],n)))]}}))},MetaProperty:function(e,t){return G(this,(function(e){return[2,t.find(L).get()]}))},SequenceExpression:function(e,t){var r,i;return G(this,(function(n){switch(n.label){case 0:i=0,n.label=1;case 1:return i<e.expressions.length?[5,F(De(e.expressions[i],t))]:[3,4];case 2:r=n.sent(),n.label=3;case 3:return i++,[3,1];case 4:return[2,r]}}))},ArrowFunctionExpression:function(e,t){return G(this,(function(r){return[2,We(e,t)]}))},TemplateLiteral:function(e,t){var r,i,n,o,s,a,c;return G(this,(function(l){switch(l.label){case 0:r=e.quasis.slice(),i=e.expressions.slice(),n="",l.label=1;case 1:return(o=r.shift())?(a=n,[5,F(Ee(o))]):[3,5];case 2:return n=a+l.sent(),(s=i.shift())?(c=n,[5,F(De(s,t))]):[3,4];case 3:n=c+l.sent(),l.label=4;case 4:return[3,1];case 5:return[2,n]}}))},TaggedTemplateExpression:function(e,t){var r,o,s,a,c,l,p,u,f;return G(this,(function(d){switch(d.label){case 0:return[5,F(De(e.tag,t))];case 1:if(r=d.sent(),o=e.quasi.quasis,s=o.map((function(e){return e.value.cooked})),a=o.map((function(e){return e.value.raw})),n(s,"raw",{value:i(a)}),c=e.quasi.expressions,l=[],!c)return[3,5];p=0,d.label=2;case 2:return p<c.length?(f=(u=l).push,[5,F(De(c[p],t))]):[3,5];case 3:f.apply(u,[d.sent()]),d.label=4;case 4:return p++,[3,2];case 5:return[2,r.apply(void 0,V([i(s)],l))]}}))},TemplateElement:Ee,ClassExpression:function(e,t){var r,i;return G(this,(function(n){switch(n.label){case 0:return e.id&&e.id.name?(r=new U(t),[5,F(Ye(e,r))]):[3,2];case 1:return i=n.sent(),r.const(e.id.name,i),[2,i];case 2:return[5,F(Ye(e,t))];case 3:return[2,n.sent()]}}))},Super:ke,SpreadElement:Se,YieldExpression:function(e,t){var r,i;return G(this,(function(n){switch(n.label){case 0:return[5,F(De(e.argument,t))];case 1:return r=n.sent(),e.delegate?[5,F(r)]:[3,3];case 2:return i=n.sent(),[3,5];case 3:return[4,r];case 4:i=n.sent(),n.label=5;case 5:return[2,i]}}))},AwaitExpression:function(e,t){var r;return G(this,(function(i){switch(i.label){case 0:return r=A,[5,F(De(e.argument,t))];case 1:return r.RES=i.sent(),[4,A];case 2:return[2,i.sent()]}}))}});function Ae(e,t,r){var i,n,o,s,a,c,l;return void 0===r&&(r={}),G(this,(function(p){switch(p.label){case 0:return i=r.invasived,n=void 0!==i&&i,o=r.hoisted,s=void 0!==o&&o,a=n?t:new U(t),s?[3,2]:[5,F(je(e,a,{onlyBlock:!0}))];case 1:p.sent(),p.label=2;case 2:c=0,p.label=3;case 3:return c<e.body.length?[5,F(De(e.body[c],a))]:[3,6];case 4:if((l=p.sent())===C||l===M||l===T)return[2,l];p.label=5;case 5:return c++,[3,3];case 6:return[2]}}))}function Te(e,t){var r,i;return G(this,(function(n){switch(n.label){case 0:r=0,n.label=1;case 1:return r<e.consequent.length?[5,F(De(e.consequent[r],t))]:[3,4];case 2:if((i=n.sent())===C||i===M||i===T)return[2,i];n.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}function Me(e,t){return G(this,(function(r){switch(r.label){case 0:return[5,F(Ae(e.body,t,{invasived:!0}))];case 1:return[2,r.sent()]}}))}var Ce=Object.freeze({__proto__:null,ExpressionStatement:function(e,t){return G(this,(function(r){switch(r.label){case 0:return[5,F(De(e.expression,t))];case 1:return r.sent(),[2]}}))},BlockStatement:Ae,EmptyStatement:function(){return G(this,(function(e){return[2]}))},DebuggerStatement:function(){return G(this,(function(e){return[2]}))},ReturnStatement:function(e,t){var r,i;return G(this,(function(n){switch(n.label){case 0:return r=T,e.argument?[5,F(De(e.argument,t))]:[3,2];case 1:return i=n.sent(),[3,3];case 2:i=void 0,n.label=3;case 3:return r.RES=i,[2,T]}}))},BreakStatement:function(){return G(this,(function(e){return[2,C]}))},ContinueStatement:function(){return G(this,(function(e){return[2,M]}))},IfStatement:function(e,t){return G(this,(function(r){switch(r.label){case 0:return[5,F(De(e.test,t))];case 1:return r.sent()?[5,F(De(e.consequent,t))]:[3,3];case 2:return[2,r.sent()];case 3:return[5,F(De(e.alternate,t))];case 4:return[2,r.sent()]}}))},SwitchStatement:function(e,t){var r,i,n,o,s,a,c;return G(this,(function(l){switch(l.label){case 0:return[5,F(De(e.discriminant,t))];case 1:r=l.sent(),i=!1,n=0,l.label=2;case 2:return n<e.cases.length?(o=e.cases[n],(s=!i)?(a=!o.test)?[3,4]:[5,F(De(o.test,t))]:[3,5]):[3,8];case 3:a=l.sent()===r,l.label=4;case 4:s=a,l.label=5;case 5:return s&&(i=!0),i?[5,F(Te(o,t))]:[3,7];case 6:if((c=l.sent())===C)return[3,8];if(c===M||c===T)return[2,c];l.label=7;case 7:return n++,[3,2];case 8:return[2]}}))},SwitchCase:Te,ThrowStatement:function(e,t){return G(this,(function(r){switch(r.label){case 0:return[5,F(De(e.argument,t))];case 1:throw r.sent()}}))},TryStatement:function(e,t){var r,i,n,o,s;return G(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,9,12]),[5,F(Ae(e.block,t))];case 1:return[2,a.sent()];case 2:return r=a.sent(),e.handler?(i=new U(t),(n=e.handler.param)?"Identifier"!==n.type?[3,3]:(o=n.name,i.var(o,r),[3,5]):[3,5]):[3,7];case 3:return[5,F(Xe(n,t,{feed:r}))];case 4:a.sent(),a.label=5;case 5:return[5,F(Me(e.handler,i))];case 6:return[2,a.sent()];case 7:throw r;case 8:return[3,12];case 9:return e.finalizer?[5,F(Ae(e.finalizer,t))]:[3,11];case 10:if((s=a.sent())===C||s===M||s===T)return[2,s];a.label=11;case 11:return[7];case 12:return[2]}}))},CatchClause:Me,WhileStatement:function(e,t){var r;return G(this,(function(i){switch(i.label){case 0:return[5,F(De(e.test,t))];case 1:return i.sent()?[5,F(De(e.body,t))]:[3,3];case 2:return(r=i.sent())===C?[3,3]:r===M?[3,0]:r===T?[2,r]:[3,0];case 3:return[2]}}))},DoWhileStatement:function(e,t){var r;return G(this,(function(i){switch(i.label){case 0:return[5,F(De(e.body,t))];case 1:if((r=i.sent())===C)return[3,4];if(r===M)return[3,2];if(r===T)return[2,r];i.label=2;case 2:return[5,F(De(e.test,t))];case 3:if(i.sent())return[3,0];i.label=4;case 4:return[2]}}))},ForStatement:function(e,t){var r,i,n,o;return G(this,(function(s){switch(s.label){case 0:return r=new U(t),[5,F(De(e.init,r))];case 1:s.sent(),s.label=2;case 2:return e.test?[5,F(De(e.test,r))]:[3,4];case 3:return i=s.sent(),[3,5];case 4:i=!0,s.label=5;case 5:return i?(n=new U(r),o=void 0,"BlockStatement"!==e.body.type?[3,7]:[5,F(Ae(e.body,n,{invasived:!0}))]):[3,12];case 6:return o=s.sent(),[3,9];case 7:return[5,F(De(e.body,n))];case 8:o=s.sent(),s.label=9;case 9:if(o===C)return[3,12];if(o===M)return[3,10];if(o===T)return[2,o];s.label=10;case 10:return[5,F(De(e.update,r))];case 11:return s.sent(),[3,2];case 12:return[2]}}))},ForInStatement:function(e,t){var r,i,n,o,s;return G(this,(function(a){switch(a.label){case 0:return r=[],[5,F(De(e.right,t))];case 1:for(i in a.sent())r.push(i);n=0,a.label=2;case 2:return n<r.length?(o=r[n],[5,F(Ze(e,t,{value:o}))]):[3,5];case 3:if((s=a.sent())===C)return[3,5];if(s===M)return[3,4];if(s===T)return[2,s];a.label=4;case 4:return n++,[3,2];case 5:return[2]}}))},ForOfStatement:function(e,t){var r,i,n,o,s,a,c,l,p,u;return G(this,(function(f){switch(f.label){case 0:return[5,F(De(e.right,t))];case 1:return r=f.sent(),e.await?(i=function(e){var t;if("function"==typeof Symbol&&!(t=e[Symbol.asyncIterator])&&(t=e[Symbol.iterator]),t)return t.call(e);if("function"==typeof e.next)return e;var r=0;return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}(r),n=void 0,A.RES=i.next(),[4,A]):[3,8];case 2:n=f.sent(),f.label=3;case 3:return n.done?[3,7]:[5,F(Ze(e,t,{value:n.value}))];case 4:if((c=f.sent())===C)return[3,7];if(c===M)return[3,5];if(c===T)return[2,c];f.label=5;case 5:return A.RES=i.next(),[4,A];case 6:return n=f.sent(),[3,3];case 7:return[3,15];case 8:f.trys.push([8,13,14,15]),o=F(r),s=o.next(),f.label=9;case 9:return s.done?[3,12]:(a=s.value,[5,F(Ze(e,t,{value:a}))]);case 10:if((c=f.sent())===C)return[3,12];if(c===M)return[3,11];if(c===T)return[2,c];f.label=11;case 11:return s=o.next(),[3,9];case 12:return[3,15];case 13:return l=f.sent(),p={error:l},[3,15];case 14:try{s&&!s.done&&(u=o.return)&&u.call(o)}finally{if(p)throw p.error}return[7];case 15:return[2]}}))}});function Pe(e,t,r){var i,n,o,s,a,c,l,p,u,f,d,h,b,$,m;return void 0===r&&(r={}),G(this,(function(x){switch(x.label){case 0:i=r.kind,n=void 0===i?"var":i,o=r.hoist,s=void 0!==o&&o,a=r.onlyBlock,c=void 0!==a&&a,l=r.feed,p=void 0===l?{}:l,u=[],f=0,x.label=1;case 1:return f<e.properties.length?(d=e.properties[f],s?c||"var"===n?"Property"!==d.type?[3,5]:"Identifier"!==(b=d.value).type?[3,2]:(t[n](b.name,c?D:"var"===n?q:void 0),[3,4]):[3,7]:[3,8]):[3,18];case 2:return[5,F(Xe(b,t,{kind:n,hoist:s,onlyBlock:c}))];case 3:x.sent(),x.label=4;case 4:return[3,7];case 5:return[5,F(Ne(d,t,{kind:n,hoist:s,onlyBlock:c}))];case 6:x.sent(),x.label=7;case 7:return[3,17];case 8:return"Property"!==d.type?[3,15]:(h=void 0,d.computed?[5,F(De(d.key,t))]:[3,10]);case 9:return h=x.sent(),[3,11];case 10:h=d.key.name,x.label=11;case 11:return u.push(h),"Identifier"!==(b=d.value).type?[3,12]:(t[n](b.name,p[h]),[3,14]);case 12:return[5,F(Xe(b,t,{kind:n,feed:p[h]}))];case 13:x.sent(),x.label=14;case 14:return[3,17];case 15:for($=g({},p),m=0;m<u.length;m++)delete $[u[m]];return[5,F(Ne(d,t,{kind:n,feed:$}))];case 16:x.sent(),x.label=17;case 17:return f++,[3,1];case 18:return[2]}}))}function Ie(e,t,r){var i,n,o,s,a,c,l,p,u,f,d;return void 0===r&&(r={}),G(this,(function(h){switch(h.label){case 0:i=r.kind,n=r.hoist,o=void 0!==n&&n,s=r.onlyBlock,a=void 0!==s&&s,c=r.feed,l=void 0===c?[]:c,p=[],u=0,h.label=1;case 1:return u<e.elements.length?(f=e.elements[u])?o?a||"var"===i?"Identifier"!==f.type?[3,2]:(t[i](f.name,a?D:"var"===i?q:void 0),[3,4]):[3,4]:[3,5]:[3,13]:[3,14];case 2:return[5,F(Xe(f,t,{kind:i,hoist:o,onlyBlock:a}))];case 3:h.sent(),h.label=4;case 4:return[3,13];case 5:return"Identifier"!==f.type?[3,9]:i?(t[i](f.name,l[u]),[3,8]):[3,6];case 6:return[5,F(ge(f,t,{getVar:!0}))];case 7:(d=h.sent()).set(l[u]),p.push(d.get()),h.label=8;case 8:return[3,13];case 9:return"RestElement"!==f.type?[3,11]:[5,F(Ne(f,t,{kind:i,feed:l.slice(u)}))];case 10:return h.sent(),[3,13];case 11:return[5,F(Xe(f,t,{kind:i,feed:l[u]}))];case 12:h.sent(),h.label=13;case 13:return u++,[3,1];case 14:return p.length?[2,p]:[2]}}))}function Ne(e,t,r){var i,n,o,s,a,c,l,p;return void 0===r&&(r={}),G(this,(function(u){switch(u.label){case 0:return i=r.kind,n=r.hoist,o=void 0!==n&&n,s=r.onlyBlock,a=void 0!==s&&s,c=r.feed,l=void 0===c?[]:c,p=e.argument,o?a||"var"===i?"Identifier"!==p.type?[3,1]:(t[i](p.name,a?D:"var"===i?q:void 0),[3,3]):[3,3]:[3,4];case 1:return[5,F(Xe(p,t,{kind:i,hoist:o,onlyBlock:a}))];case 2:u.sent(),u.label=3;case 3:return[3,10];case 4:return"Identifier"!==p.type?[3,8]:i?(t[i](p.name,l),[3,7]):[3,5];case 5:return[5,F(ge(p,t,{getVar:!0}))];case 6:u.sent().set(l),u.label=7;case 7:return[3,10];case 8:return[5,F(Xe(p,t,{kind:i,feed:l}))];case 9:u.sent(),u.label=10;case 10:return[2]}}))}function Oe(e,t,r){var i,n,o,s,a,c,l,p,u,f;return void 0===r&&(r={}),G(this,(function(d){switch(d.label){case 0:return i=r.kind,n=void 0===i?"var":i,o=r.hoist,s=void 0!==o&&o,a=r.onlyBlock,c=void 0!==a&&a,void 0!==(l=r.feed)?[3,2]:[5,F(De(e.right,t))];case 1:return u=d.sent(),[3,3];case 2:u=l,d.label=3;case 3:return p=u,f=e.left,s?c||"var"===n?"Identifier"!==f.type?[3,4]:(t[n](f.name,c?D:"var"===n?q:void 0),[3,6]):[3,6]:[3,7];case 4:return[5,F(Xe(f,t,{kind:n,hoist:s,onlyBlock:c}))];case 5:d.sent(),d.label=6;case 6:return[3,10];case 7:return"Identifier"!==f.type?[3,8]:(t[n](f.name,p),[3,10]);case 8:return[5,F(Xe(f,t,{kind:n,feed:p}))];case 9:d.sent(),d.label=10;case 10:return[2]}}))}var Le,qe=Object.freeze({__proto__:null,ObjectPattern:Pe,ArrayPattern:Ie,RestElement:Ne,AssignmentPattern:Oe});function De(e,t){var i;return G(this,(function(n){switch(n.label){case 0:return e?(Le||(Le=g({},r,we,xe,Ce,ye,qe)),(i=Le[e.type])?[5,F(i(e,t))]:[3,2]):[2];case 1:return[2,n.sent()];case 2:throw new Error(e.type+" isn't implemented")}}))}function Re(e,t){return G(this,(function(r){return t.func(e.id.name,We(e,t)),[2]}))}function Be(e,t,r){var i;return void 0===r&&(r={}),G(this,(function(n){switch(n.label){case 0:i=0,n.label=1;case 1:return i<e.declarations.length?[5,F(Ue(e.declarations[i],t,g({kind:e.kind},r)))]:[3,4];case 2:n.sent(),n.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}function Ue(e,t,r){var i,o,s,a,c,l,p,u,f,d,h;return void 0===r&&(r={}),G(this,(function(b){switch(b.label){case 0:return i=r.kind,o=void 0===i?"var":i,s=r.hoist,a=void 0!==s&&s,c=r.onlyBlock,l=void 0!==c&&c,p=r.feed,a?l||"var"===o?"Identifier"!==e.id.type?[3,1]:(t[o](e.id.name,l?D:"var"===o?q:void 0),[3,3]):[3,3]:[3,4];case 1:return[5,F(Xe(e.id,t,{kind:o,hoist:a,onlyBlock:l}))];case 2:b.sent(),b.label=3;case 3:return[3,10];case 4:return(u="feed"in r)?(d=p,[3,7]):[3,5];case 5:return[5,F(De(e.init,t))];case 6:d=b.sent(),b.label=7;case 7:return f=d,"Identifier"!==e.id.type?[3,8]:(h=e.id.name,"var"!==o||e.init||u?t[o](h,f):t.var(h,q),e.init&&-1!==["ClassExpression","FunctionExpression","ArrowFunctionExpression"].indexOf(e.init.type)&&!f.name&&n(f,"name",{value:h,configurable:!0}),[3,10]);case 8:return[5,F(Xe(e.id,t,{kind:o,feed:f}))];case 9:b.sent(),b.label=10;case 10:return[2]}}))}function Ge(e,t){var r,i,n;return G(this,(function(o){switch(o.label){case 0:return i=(r=t).func,n=[e.id.name],[5,F(Ye(e,t))];case 1:return i.apply(r,n.concat([o.sent()])),[2]}}))}function Fe(e,t,r){var i,n,o;return void 0===r&&(r={}),G(this,(function(s){switch(s.label){case 0:i=r.klass,n=r.superClass,o=0,s.label=1;case 1:return o<e.body.length?[5,F(ze(e.body[o],t,{klass:i,superClass:n}))]:[3,4];case 2:s.sent(),s.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}function ze(e,t,r){var i,s,a,c,l,p;return void 0===r&&(r={}),G(this,(function(u){switch(u.label){case 0:return i=r.klass,s=r.superClass,e.computed?[5,F(De(e.key,t))]:[3,2];case 1:return a=u.sent(),[3,3];case 2:if("Identifier"!==e.key.type)throw new SyntaxError("Unexpected token");a=e.key.name,u.label=3;case 3:switch(c=e.static?i:i.prototype,l=We(e.value,t,{superClass:s}),e.kind){case"constructor":break;case"method":n(c,a,{value:l,writable:!0,configurable:!0});break;case"get":p=o(c,a),n(c,a,{get:l,set:p&&p.set,configurable:!0});break;case"set":p=o(c,a),n(c,a,{get:p&&p.get,set:l,configurable:!0});break;default:throw new SyntaxError("Unexpected token")}return[2]}}))}function Ve(e,t){void 0===t&&(t={});var r=t.res,i=t.err,n=t.ret,o=t.fullRet;return new Promise((function(s,a){if("ret"in t)return s(e.return(n));function c(t){var r;try{r=e.next(t)}catch(e){return a(e)}return p(r),null}function l(t){var r;try{r=e.throw(t)}catch(e){return a(e)}p(r)}function p(e){if(e.done)return s(o?e:e.value);if(e.value!==A)return s(e);var t=e.value.RES;return(t&&"function"===t.then?t:Promise.resolve(t)).then(c,l)}"err"in t?l(i):c(r)}))}function je(e,t,r){var i,n,o,s,a,c;return void 0===r&&(r={}),G(this,(function(l){switch(l.label){case 0:i=r.onlyBlock,n=void 0!==i&&i,o=[],s=[],c=0,l.label=1;case 1:return c<e.body.length?"FunctionDeclaration"!==(a=e.body[c]).type?[3,2]:(o.push(a),s.push(c),[3,6]):[3,7];case 2:return"VariableDeclaration"!==a.type||-1===["const","let"].indexOf(a.kind)?[3,4]:[5,F(Be(a,t,{hoist:!0,onlyBlock:!0}))];case 3:return l.sent(),[3,6];case 4:return n?[3,6]:[5,F(He(a,t))];case 5:l.sent(),l.label=6;case 6:return c++,[3,1];case 7:if(s.length){for(c=s.length-1;c>-1;c--)e.body.splice(s[c],1);e.body=o.concat(e.body)}return[2]}}))}function He(e,t){var r,i,n,o,s;return G(this,(function(a){switch(a.label){case 0:switch(e.type){case"VariableDeclaration":return[3,1];case"ForInStatement":case"ForOfStatement":return[3,3];case"ForStatement":return[3,5];case"WhileStatement":case"DoWhileStatement":return[3,7];case"IfStatement":return[3,9];case"BlockStatement":return[3,13];case"SwitchStatement":return[3,18];case"TryStatement":return[3,25]}return[3,38];case 1:return[5,F(Be(e,t,{hoist:!0}))];case 2:return a.sent(),[3,38];case 3:return"VariableDeclaration"!==e.left.type?[3,5]:[5,F(Be(e.left,t,{hoist:!0}))];case 4:a.sent(),a.label=5;case 5:return"ForStatement"!==e.type||"VariableDeclaration"!==e.init.type?[3,7]:[5,F(Be(e.init,t,{hoist:!0}))];case 6:a.sent(),a.label=7;case 7:return[5,F(He(e.body,t))];case 8:return a.sent(),[3,38];case 9:return[5,F(He(e.consequent,t))];case 10:return a.sent(),e.alternate?[5,F(He(e.alternate,t))]:[3,12];case 11:a.sent(),a.label=12;case 12:return[3,38];case 13:s=0,a.label=14;case 14:return s<e.body.length?[5,F(He(e.body[s],t))]:[3,17];case 15:a.sent(),a.label=16;case 16:return s++,[3,14];case 17:return[3,38];case 18:s=0,a.label=19;case 19:if(!(s<e.cases.length))return[3,24];r=0,a.label=20;case 20:return r<e.cases[s].consequent.length?[5,F(He(e.cases[s].consequent[r],t))]:[3,23];case 21:a.sent(),a.label=22;case 22:return r++,[3,20];case 23:return s++,[3,19];case 24:return[3,38];case 25:i=e.block.body,s=0,a.label=26;case 26:return s<i.length?[5,F(He(i[s],t))]:[3,29];case 27:a.sent(),a.label=28;case 28:return s++,[3,26];case 29:if(!(n=e.handler&&e.handler.body.body))return[3,33];s=0,a.label=30;case 30:return s<n.length?[5,F(He(n[s],t))]:[3,33];case 31:a.sent(),a.label=32;case 32:return s++,[3,30];case 33:if(!(o=e.finalizer&&e.finalizer.body))return[3,37];s=0,a.label=34;case 34:return s<o.length?[5,F(He(o[s],t))]:[3,37];case 35:a.sent(),a.label=36;case 36:return s++,[3,34];case 37:return[3,38];case 38:return[2]}}))}function Xe(e,t,r){return void 0===r&&(r={}),G(this,(function(i){switch(i.label){case 0:switch(e.type){case"ObjectPattern":return[3,1];case"ArrayPattern":return[3,3];case"RestElement":return[3,5];case"AssignmentPattern":return[3,7]}return[3,9];case 1:return[5,F(Pe(e,t,r))];case 2:return[2,i.sent()];case 3:return[5,F(Ie(e,t,r))];case 4:return[2,i.sent()];case 5:return[5,F(Ne(e,t,r))];case 6:return[2,i.sent()];case 7:return[5,F(Oe(e,t,r))];case 8:return[2,i.sent()];case 9:throw new SyntaxError("Unexpected token")}}))}function We(e,t,r){if(void 0===r&&(r={}),!e.generator&&!e.async)return et(e,t,r);var i,o=r.superClass,s=r.isCtor,a=e.params,c=function r(){var i,n,c,l,p,u=this&&this instanceof r?this.constructor:void 0,f=[];for(i=0;i<arguments.length;i++)f[i]=arguments[i];return G(this,(function(r){switch(r.label){case 0:n=new U(t,!0),"ArrowFunctionExpression"!==e.type&&(n.const("this",this),n.let("arguments",arguments),n.const(L,u),o&&(n.const(P,o),s&&n.let(I,!1))),c=0,r.label=1;case 1:return c<a.length?"Identifier"!==(l=a[c]).type?[3,2]:(n.var(l.name,f[c]),[3,6]):[3,7];case 2:return"RestElement"!==l.type?[3,4]:[5,F(Ne(l,n,{kind:"var",feed:f.slice(c)}))];case 3:return r.sent(),[3,6];case 4:return[5,F(Xe(l,n,{feed:f[c]}))];case 5:r.sent(),r.label=6;case 6:return c++,[3,1];case 7:return"BlockStatement"!==e.body.type?[3,10]:[5,F(je(e.body,n))];case 8:return r.sent(),[5,F(Ae(e.body,n,{invasived:!0,hoisted:!0}))];case 9:return p=r.sent(),[3,12];case 10:return[5,F(De(e.body,n))];case 11:p=r.sent(),"ArrowFunctionExpression"===e.type&&(T.RES=p,p=T),r.label=12;case 12:return p===T?[2,p.RES]:[2]}}))};return i=e.async&&e.generator?function(){var e=c.apply(this,arguments),t=Promise.resolve(),r=!1,i=function(i){return t=t.then((function(){return Ve(e,g({fullRet:!0},i))})).catch((function(e){if(!r)return r=!0,Promise.reject(e)}))},n={next:function(e){return i({res:e})},throw:function(e){return i({err:e})},return:function(e){return i({ret:e})}};return"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n}:e.async?function(){return Ve(c.apply(this,arguments))}:c,n(i,N,{value:!0}),n(i,"name",{value:e.id&&e.id.name||"",configurable:!0}),n(i,"length",{value:a.length,configurable:!0}),i}function Ye(e,t){var r,i,o,s,a;return G(this,(function(c){switch(c.label){case 0:return[5,F(De(e.superClass,t))];case 1:for(r=c.sent(),i=function(){r&&r.apply(this)},o=e.body.body,s=0;s<o.length;s++)if("constructor"===(a=o[s]).kind){i=We(a.value,t,{superClass:r,isCtor:!0});break}return r&&m(i,r),[5,F(Fe(e.body,t,{klass:i,superClass:r}))];case 2:return c.sent(),n(i,O,{value:!0}),n(i,"name",{value:e.id&&e.id.name||"",configurable:!0}),[2,i]}}))}function Ze(e,t,r){var i,n,o,s;return G(this,(function(a){switch(a.label){case 0:return i=r.value,n=e.left,o=new U(t),"VariableDeclaration"!==n.type?[3,2]:[5,F(Be(n,o,{feed:i}))];case 1:return a.sent(),[3,6];case 2:return"Identifier"!==n.type?[3,4]:[5,F(j(n,t,{getVar:!0}))];case 3:return a.sent().set(i),[3,6];case 4:return[5,F(Xe(n,t,{feed:i}))];case 5:a.sent(),a.label=6;case 6:return"BlockStatement"!==e.body.type?[3,8]:[5,F(Ae(e.body,o,{invasived:!0}))];case 7:return s=a.sent(),[3,10];case 8:return[5,F(De(e.body,o))];case 9:s=a.sent(),a.label=10;case 10:return[2,s]}}))}function Qe(e,t,r){void 0===r&&(r={});for(var i=r.onlyBlock,n=void 0!==i&&i,o=[],s=[],a=0;a<e.body.length;a++){var c=e.body[a];"FunctionDeclaration"===c.type?(o.push(c),s.push(a)):"VariableDeclaration"===c.type&&-1!==["const","let"].indexOf(c.kind)?de(c,t,{hoist:!0,onlyBlock:!0}):n||Ke(c,t)}if(s.length){for(a=s.length-1;a>-1;a--)e.body.splice(s[a],1);e.body=o.concat(e.body)}}function Ke(e,t){switch(e.type){case"VariableDeclaration":de(e,t,{hoist:!0});break;case"ForInStatement":case"ForOfStatement":"VariableDeclaration"===e.left.type&&de(e.left,t,{hoist:!0});case"ForStatement":"ForStatement"===e.type&&"VariableDeclaration"===e.init.type&&de(e.init,t,{hoist:!0});case"WhileStatement":case"DoWhileStatement":Ke(e.body,t);break;case"IfStatement":Ke(e.consequent,t),e.alternate&&Ke(e.alternate,t);break;case"BlockStatement":for(var r=0;r<e.body.length;r++)Ke(e.body[r],t);break;case"SwitchStatement":for(r=0;r<e.cases.length;r++)for(var i=0;i<e.cases[r].consequent.length;i++)Ke(e.cases[r].consequent[i],t);break;case"TryStatement":var n=e.block.body;for(r=0;r<n.length;r++)Ke(n[r],t);var o=e.handler&&e.handler.body.body;if(o)for(r=0;r<o.length;r++)Ke(o[r],t);var s=e.finalizer&&e.finalizer.body;if(s)for(r=0;r<s.length;r++)Ke(s[r],t)}}function Je(e,t,r){switch(void 0===r&&(r={}),e.type){case"ObjectPattern":return ne(e,t,r);case"ArrayPattern":return oe(e,t,r);case"RestElement":return se(e,t,r);case"AssignmentPattern":return ae(e,t,r);default:throw new SyntaxError("Unexpected token")}}function et(e,t,r){if(void 0===r&&(r={}),e.generator||e.async)return We(e,t,r);var i=r.superClass,o=r.isCtor,s=e.params,a=function r(){for(var n=this&&this instanceof r?this.constructor:void 0,a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l,p=new U(t,!0);"ArrowFunctionExpression"!==e.type&&(p.const("this",this),p.let("arguments",arguments),p.const(L,n),i&&(p.const(P,i),o&&p.let(I,!1)));for(var u=0;u<s.length;u++){var f=s[u];"Identifier"===f.type?p.var(f.name,a[u]):"RestElement"===f.type?se(f,p,{kind:"var",feed:a.slice(u)}):Je(f,p,{feed:a[u]})}if("BlockStatement"===e.body.type?(Qe(e.body,p),l=ee(e.body,p,{invasived:!0,hoisted:!0})):(l=ue(e.body,p),"ArrowFunctionExpression"===e.type&&(T.RES=l,l=T)),l===T)return l.RES};return"ArrowFunctionExpression"===e.type&&n(a,N,{value:!0}),n(a,"name",{value:e.id&&e.id.name||"",configurable:!0}),n(a,"length",{value:s.length,configurable:!0}),a}function tt(e,t){for(var r=ue(e.superClass,t),i=function(){r&&r.apply(this)},o=e.body.body,s=0;s<o.length;s++){var a=o[s];if("constructor"===a.kind){i=et(a.value,t,{superClass:r,isCtor:!0});break}}return r&&m(i,r),$e(e.body,t,{klass:i,superClass:r}),n(i,O,{value:!0}),n(i,"name",{value:e.id&&e.id.name||"",configurable:!0}),i}function rt(e,t,r){var i=r.value,n=e.left,o=new U(t);if("VariableDeclaration"===n.type)de(n,o,{feed:i});else if("Identifier"===n.type){j(n,t,{getVar:!0}).set(i)}else Je(n,t,{feed:i});return"BlockStatement"===e.body.type?ee(e.body,o,{invasived:!0}):ue(e.body,o)}return function(){function t(e){void 0===e&&(e={}),this.options={},this.scope=new U(null,!0),this.exports={};var t=e.ecmaVer,r=void 0===t?9:t,i=e.sandBox,n=void 0===i||i;if(-1===[3,5,6,7,8,9,10].indexOf(r-=r<2015?0:2009))throw new Error("unsupported ecmaVer");if(this.options.ecmaVersion=r,n){var o=S();this.scope.let("window",o),this.scope.let("this",o)}else this.scope.let("window",v),this.scope.let("this",v);this.scope.const("exports",this.exports={})}return t.prototype.import=function(e,t){var r;if("string"==typeof e&&((r={})[e]=t,e=r),"object"==typeof e)for(var i=c(e),n=0;n<i.length;n++){var o=i[n];this.scope.var(o,e[o])}},t.prototype.parse=function(t,r){return"function"==typeof r?r(t,g({},this.options)):e.parse(t,this.options)},t.prototype.run=function(t){var r="string"==typeof t?e.parse(t,this.options):t;Qe(r,this.scope),ue(r,this.scope)},t.version="0.4.8",t}()}));var $622c1a26e6a49b59664cb3337f646c0b$$interop$default=$parcel$interopDefault($622c1a26e6a49b59664cb3337f646c0b$exports);function $2a418e2f1ff23962dbf81d7f87cd6e73$export$default(){window.mathalea={sortieNB:!1,anglePerspective:30,coeffPerspective:.5,pixelsParCm:20,scale:1,unitesLutinParCm:50,mainlevee:!1,amplitude:1,fenetreMathalea2d:[-1,-10,29,10],objets2D:[]},window.sortie_html=!0,window.est_diaporama=!1,window.randint=$cf7a0e0dfc1e90c0e915b74752829335$export$randint,window.numId=0,window.angleScratchTo2d=$459103e30f4604971e030953f4b52e1b$export$angleScratchTo2d,window.appartientSegment=$459103e30f4604971e030953f4b52e1b$export$appartientSegment,window.appartientDroite=$459103e30f4604971e030953f4b52e1b$export$appartientDroite,window.appartientDemiDroite=$459103e30f4604971e030953f4b52e1b$export$appartientDemiDroite,window.scratchblock=$459103e30f4604971e030953f4b52e1b$export$scratchblock,window.motifs=$459103e30f4604971e030953f4b52e1b$export$motifs,window.nomVecteurParPosition=$459103e30f4604971e030953f4b52e1b$export$nomVecteurParPosition,window.point=$459103e30f4604971e030953f4b52e1b$export$point,window.tracePoint=$459103e30f4604971e030953f4b52e1b$export$tracePoint,window.tracePointSurDroite=$459103e30f4604971e030953f4b52e1b$export$tracePointSurDroite,window.milieu=$459103e30f4604971e030953f4b52e1b$export$milieu,window.pointSurSegment=$459103e30f4604971e030953f4b52e1b$export$pointSurSegment,window.pointSurCercle=$459103e30f4604971e030953f4b52e1b$export$pointSurCercle,window.pointSurDroite=$459103e30f4604971e030953f4b52e1b$export$pointSurDroite,window.pointIntersectionDD=$459103e30f4604971e030953f4b52e1b$export$pointIntersectionDD,window.pointAdistance=$459103e30f4604971e030953f4b52e1b$export$pointAdistance,window.labelPoint=$459103e30f4604971e030953f4b52e1b$export$labelPoint,window.barycentre=$459103e30f4604971e030953f4b52e1b$export$barycentre,window.droite=$459103e30f4604971e030953f4b52e1b$export$droite,window.droiteParPointEtVecteur=$459103e30f4604971e030953f4b52e1b$export$droiteParPointEtVecteur,window.droiteParPointEtParallele=$459103e30f4604971e030953f4b52e1b$export$droiteParPointEtParallele,window.droiteParPointEtPerpendiculaire=$459103e30f4604971e030953f4b52e1b$export$droiteParPointEtPerpendiculaire,window.droiteHorizontaleParPoint=$459103e30f4604971e030953f4b52e1b$export$droiteHorizontaleParPoint,window.droiteVerticaleParPoint=$459103e30f4604971e030953f4b52e1b$export$droiteVerticaleParPoint,window.droiteParPointEtPente=$459103e30f4604971e030953f4b52e1b$export$droiteParPointEtPente,window.mediatrice=$459103e30f4604971e030953f4b52e1b$export$mediatrice,window.codageMediatrice=$459103e30f4604971e030953f4b52e1b$export$codageMediatrice,window.codageMilieu=$459103e30f4604971e030953f4b52e1b$export$codageMilieu,window.constructionMediatrice=$459103e30f4604971e030953f4b52e1b$export$constructionMediatrice,window.bissectrice=$459103e30f4604971e030953f4b52e1b$export$bissectrice,window.codageBissectrice=$459103e30f4604971e030953f4b52e1b$export$codageBissectrice,window.constructionBissectrice=$459103e30f4604971e030953f4b52e1b$export$constructionBissectrice,window.polyline=$459103e30f4604971e030953f4b52e1b$export$polyline,window.pave=$459103e30f4604971e030953f4b52e1b$export$pave,window.vecteur=$459103e30f4604971e030953f4b52e1b$export$vecteur,window.segment=$459103e30f4604971e030953f4b52e1b$export$segment,window.segmentAvecExtremites=$459103e30f4604971e030953f4b52e1b$export$segmentAvecExtremites,window.demiDroite=$459103e30f4604971e030953f4b52e1b$export$demiDroite,window.demiDroiteAvecExtremite=$459103e30f4604971e030953f4b52e1b$export$demiDroiteAvecExtremite,window.polygone=$459103e30f4604971e030953f4b52e1b$export$polygone,window.polygoneAvecNom=$459103e30f4604971e030953f4b52e1b$export$polygoneAvecNom,window.polygoneRegulier=$459103e30f4604971e030953f4b52e1b$export$polygoneRegulier,window.polygoneRegulierIndirect=$459103e30f4604971e030953f4b52e1b$export$polygoneRegulierIndirect,window.carre=$459103e30f4604971e030953f4b52e1b$export$carre,window.carreIndirect=$459103e30f4604971e030953f4b52e1b$export$carreIndirect,window.codageCarre=$459103e30f4604971e030953f4b52e1b$export$codageCarre,window.polygoneRegulierParCentreEtRayon=$459103e30f4604971e030953f4b52e1b$export$polygoneRegulierParCentreEtRayon,window.triangle2points2longueurs=$459103e30f4604971e030953f4b52e1b$export$triangle2points2longueurs,window.triangle2points2angles=$459103e30f4604971e030953f4b52e1b$export$triangle2points2angles,window.triangle2points1angle1longueur=$459103e30f4604971e030953f4b52e1b$export$triangle2points1angle1longueur,window.triangle2points1angle1longueurOppose=$459103e30f4604971e030953f4b52e1b$export$triangle2points1angle1longueurOppose,window.nommePolygone=$459103e30f4604971e030953f4b52e1b$export$nommePolygone,window.deplaceLabel=$459103e30f4604971e030953f4b52e1b$export$deplaceLabel,window.aireTriangle=$459103e30f4604971e030953f4b52e1b$export$aireTriangle,window.cercle=$459103e30f4604971e030953f4b52e1b$export$cercle,window.ellipse=$459103e30f4604971e030953f4b52e1b$export$ellipse,window.pointIntersectionLC=$459103e30f4604971e030953f4b52e1b$export$pointIntersectionLC,window.pointIntersectionCC=$459103e30f4604971e030953f4b52e1b$export$pointIntersectionCC,window.cercleCentrePoint=$459103e30f4604971e030953f4b52e1b$export$cercleCentrePoint,window.arc=$459103e30f4604971e030953f4b52e1b$export$arc,window.arcPointPointAngle=$459103e30f4604971e030953f4b52e1b$export$arcPointPointAngle,window.traceCompas=$459103e30f4604971e030953f4b52e1b$export$traceCompas,window.courbeDeBezier=$459103e30f4604971e030953f4b52e1b$export$courbeDeBezier,window.segmentMainLevee=$459103e30f4604971e030953f4b52e1b$export$segmentMainLevee,window.cercleMainLevee=$459103e30f4604971e030953f4b52e1b$export$cercleMainLevee,window.droiteMainLevee=$459103e30f4604971e030953f4b52e1b$export$droiteMainLevee,window.polygoneMainLevee=$459103e30f4604971e030953f4b52e1b$export$polygoneMainLevee,window.arcMainLevee=$459103e30f4604971e030953f4b52e1b$export$arcMainLevee,window.dansLaCibleCarree=$459103e30f4604971e030953f4b52e1b$export$dansLaCibleCarree,window.dansLaCibleRonde=$459103e30f4604971e030953f4b52e1b$export$dansLaCibleRonde,window.cibleCarree=$459103e30f4604971e030953f4b52e1b$export$cibleCarree,window.cibleRonde=$459103e30f4604971e030953f4b52e1b$export$cibleRonde,window.cibleCouronne=$459103e30f4604971e030953f4b52e1b$export$cibleCouronne,window.translation=$459103e30f4604971e030953f4b52e1b$export$translation,window.translation2Points=$459103e30f4604971e030953f4b52e1b$export$translation2Points,window.rotation=$459103e30f4604971e030953f4b52e1b$export$rotation,window.sens_de_rotation=$459103e30f4604971e030953f4b52e1b$export$sens_de_rotation,window.homothetie=$459103e30f4604971e030953f4b52e1b$export$homothetie,window.symetrieAxiale=$459103e30f4604971e030953f4b52e1b$export$symetrieAxiale,window.distancePointDroite=$459103e30f4604971e030953f4b52e1b$export$distancePointDroite,window.projectionOrtho=$459103e30f4604971e030953f4b52e1b$export$projectionOrtho,window.affiniteOrtho=$459103e30f4604971e030953f4b52e1b$export$affiniteOrtho,window.similitude=$459103e30f4604971e030953f4b52e1b$export$similitude,window.translationAnimee=$459103e30f4604971e030953f4b52e1b$export$translationAnimee,window.rotationAnimee=$459103e30f4604971e030953f4b52e1b$export$rotationAnimee,window.homothetieAnimee=$459103e30f4604971e030953f4b52e1b$export$homothetieAnimee,window.symetrieAnimee=$459103e30f4604971e030953f4b52e1b$export$symetrieAnimee,window.affiniteOrthoAnimee=$459103e30f4604971e030953f4b52e1b$export$affiniteOrthoAnimee,window.montrerParDiv=$459103e30f4604971e030953f4b52e1b$export$montrerParDiv,window.cacherParDiv=$459103e30f4604971e030953f4b52e1b$export$cacherParDiv,window.afficherTempo=$459103e30f4604971e030953f4b52e1b$export$afficherTempo,window.afficherTempoId=$459103e30f4604971e030953f4b52e1b$export$afficherTempoId,window.afficherUnParUn=$459103e30f4604971e030953f4b52e1b$export$afficherUnParUn,window.medianeTriangle=$459103e30f4604971e030953f4b52e1b$export$medianeTriangle,window.centreGraviteTriangle=$459103e30f4604971e030953f4b52e1b$export$centreGraviteTriangle,window.hauteurTriangle=$459103e30f4604971e030953f4b52e1b$export$hauteurTriangle,window.CodageHauteurTriangle=$459103e30f4604971e030953f4b52e1b$export$CodageHauteurTriangle,window.codageHauteurTriangle=$459103e30f4604971e030953f4b52e1b$export$codageHauteurTriangle,window.codageMedianeTriangle=$459103e30f4604971e030953f4b52e1b$export$codageMedianeTriangle,window.orthoCentre=$459103e30f4604971e030953f4b52e1b$export$orthoCentre,window.centreCercleCirconscrit=$459103e30f4604971e030953f4b52e1b$export$centreCercleCirconscrit,window.codageAngleDroit=$459103e30f4604971e030953f4b52e1b$export$codageAngleDroit,window.afficheLongueurSegment=$459103e30f4604971e030953f4b52e1b$export$afficheLongueurSegment,window.texteSurSegment=$459103e30f4604971e030953f4b52e1b$export$texteSurSegment,window.afficheMesureAngle=$459103e30f4604971e030953f4b52e1b$export$afficheMesureAngle,window.afficheCoteSegment=$459103e30f4604971e030953f4b52e1b$export$afficheCoteSegment,window.codeSegment=$459103e30f4604971e030953f4b52e1b$export$codeSegment,window.codeSegments=$459103e30f4604971e030953f4b52e1b$export$codeSegments,window.codeAngle=$459103e30f4604971e030953f4b52e1b$export$codeAngle,window.nomAngleSaillantParPosition=$459103e30f4604971e030953f4b52e1b$export$nomAngleSaillantParPosition,window.nomAngleRentrantParPosition=$459103e30f4604971e030953f4b52e1b$export$nomAngleRentrantParPosition,window.droiteGraduee=$459103e30f4604971e030953f4b52e1b$export$droiteGraduee,window.droiteGraduee2=$459103e30f4604971e030953f4b52e1b$export$droiteGraduee2,window.axes=$459103e30f4604971e030953f4b52e1b$export$axes,window.labelX=$459103e30f4604971e030953f4b52e1b$export$labelX,window.labelY=$459103e30f4604971e030953f4b52e1b$export$labelY,window.grille=$459103e30f4604971e030953f4b52e1b$export$grille,window.grilleHorizontale=$459103e30f4604971e030953f4b52e1b$export$grilleHorizontale,window.grilleVerticale=$459103e30f4604971e030953f4b52e1b$export$grilleVerticale,window.seyes=$459103e30f4604971e030953f4b52e1b$export$seyes,window.repere=$459103e30f4604971e030953f4b52e1b$export$repere,window.repere2=$459103e30f4604971e030953f4b52e1b$export$repere2,window.pointDansRepere=$459103e30f4604971e030953f4b52e1b$export$pointDansRepere,window.traceGraphiqueCartesien=$459103e30f4604971e030953f4b52e1b$export$traceGraphiqueCartesien,window.traceBarre=$459103e30f4604971e030953f4b52e1b$export$traceBarre,window.traceBarreHorizontale=$459103e30f4604971e030953f4b52e1b$export$traceBarreHorizontale,window.lectureImage=$459103e30f4604971e030953f4b52e1b$export$lectureImage,window.lectureAntecedent=$459103e30f4604971e030953f4b52e1b$export$lectureAntecedent,window.courbe=$459103e30f4604971e030953f4b52e1b$export$courbe,window.courbe2=$459103e30f4604971e030953f4b52e1b$export$courbe2,window.courbeInterpolee=$459103e30f4604971e030953f4b52e1b$export$courbeInterpolee,window.graphiqueInterpole=$459103e30f4604971e030953f4b52e1b$export$graphiqueInterpole,window.imageInterpolee=$459103e30f4604971e030953f4b52e1b$export$imageInterpolee,window.antecedentInterpole=$459103e30f4604971e030953f4b52e1b$export$antecedentInterpole,window.crochetD=$459103e30f4604971e030953f4b52e1b$export$crochetD,window.crochetG=$459103e30f4604971e030953f4b52e1b$export$crochetG,window.intervalle=$459103e30f4604971e030953f4b52e1b$export$intervalle,window.texteParPoint=$459103e30f4604971e030953f4b52e1b$export$texteParPoint,window.texteParPosition=$459103e30f4604971e030953f4b52e1b$export$texteParPosition,window.latexParPoint=$459103e30f4604971e030953f4b52e1b$export$latexParPoint,window.latexParCoordonnees=$459103e30f4604971e030953f4b52e1b$export$latexParCoordonnees,window.fractionParPosition=$459103e30f4604971e030953f4b52e1b$export$fractionParPosition,window.print2d=$459103e30f4604971e030953f4b52e1b$export$print2d,window.longueur=$459103e30f4604971e030953f4b52e1b$export$longueur,window.norme=$459103e30f4604971e030953f4b52e1b$export$norme,window.angle=$459103e30f4604971e030953f4b52e1b$export$angle,window.angleOriente=$459103e30f4604971e030953f4b52e1b$export$angleOriente,window.angleradian=$459103e30f4604971e030953f4b52e1b$export$angleradian,window.creerLutin=$459103e30f4604971e030953f4b52e1b$export$creerLutin,window.avance=$459103e30f4604971e030953f4b52e1b$export$avance,window.baisseCrayon=$459103e30f4604971e030953f4b52e1b$export$baisseCrayon,window.leveCrayon=$459103e30f4604971e030953f4b52e1b$export$leveCrayon,window.orienter=$459103e30f4604971e030953f4b52e1b$export$orienter,window.tournerG=$459103e30f4604971e030953f4b52e1b$export$tournerG,window.tournerD=$459103e30f4604971e030953f4b52e1b$export$tournerD,window.allerA=$459103e30f4604971e030953f4b52e1b$export$allerA,window.mettrexA=$459103e30f4604971e030953f4b52e1b$export$mettrexA,window.mettreyA=$459103e30f4604971e030953f4b52e1b$export$mettreyA,window.ajouterAx=$459103e30f4604971e030953f4b52e1b$export$ajouterAx,window.ajouterAy=$459103e30f4604971e030953f4b52e1b$export$ajouterAy,window.afficherCrayon=$459103e30f4604971e030953f4b52e1b$export$afficherCrayon,window.codeSvg=$459103e30f4604971e030953f4b52e1b$export$codeSvg,window.codeTikz=$459103e30f4604971e030953f4b52e1b$export$codeTikz,window.mathalea2d=$459103e30f4604971e030953f4b52e1b$export$mathalea2d,window.labyrinthe=$459103e30f4604971e030953f4b52e1b$export$labyrinthe,window.pavage=$459103e30f4604971e030953f4b52e1b$export$pavage}$2a418e2f1ff23962dbf81d7f87cd6e73$export$default(),window.anim=new $e1faf184a8c16f1036c671ab28e49c69$export$default;const $f35a29a5826ad83a3357c8588b24fc2e$var$buttonSubmit=document.getElementById("submit");let $f35a29a5826ad83a3357c8588b24fc2e$var$buttonTelecharger,$f35a29a5826ad83a3357c8588b24fc2e$var$buttonURL;const $f35a29a5826ad83a3357c8588b24fc2e$var$container=document.getElementById("containerIeP");let $f35a29a5826ad83a3357c8588b24fc2e$var$xml='\n<?xml version="1.0" encoding="UTF-8"?>\n<INSTRUMENPOCHE version="2">\n</INSTRUMENPOCHE>\n';const $f35a29a5826ad83a3357c8588b24fc2e$var$editeur=document.getElementById("editeur"),$f35a29a5826ad83a3357c8588b24fc2e$var$myCodeMirror=$499ee97013f78e63604049576c09a820$$interop$default($f35a29a5826ad83a3357c8588b24fc2e$var$editeur,{value:"",mode:"javascript",lineNumbers:!0,autofocus:!0,theme:"monokai",autoCloseBrackets:!0,showHint:!0,extraKeys:{"Ctrl-Space":"autocomplete"},matchBrackets:!0,lineWrapping:!0});$f35a29a5826ad83a3357c8588b24fc2e$var$myCodeMirror.setSize(500,550),$f35a29a5826ad83a3357c8588b24fc2e$var$myCodeMirror.on("inputRead",(function(e,t){";"!==t.text[0]&&" "!==t.text[0]&&$499ee97013f78e63604049576c09a820$$interop$default.commands.autocomplete(e,null,{completeSingle:!1})})),$f35a29a5826ad83a3357c8588b24fc2e$var$buttonSubmit.onclick=function(){window.localStorage.setItem("Script Mathalea 2D IEP",$f35a29a5826ad83a3357c8588b24fc2e$var$myCodeMirror.getValue()),window.anim=new $e1faf184a8c16f1036c671ab28e49c69$export$default,window.mathalea={sortieNB:!1,anglePerspective:30,coeffPerspective:.5,pixelsParCm:20,scale:1,unitesLutinParCm:50,mainlevee:!1,amplitude:1,fenetreMathalea2d:[-1,-10,29,10],objets2D:[]},window.sortie_html=!0,window.est_diaporama=!1,window.numId=0;const e=new $622c1a26e6a49b59664cb3337f646c0b$$interop$default({ecmaVer:10,sandBox:!0});e.import({anim:anim,angleScratchTo2d:angleScratchTo2d,appartientSegment:appartientSegment,appartientDroite:appartientDroite,appartientDemiDroite:appartientDemiDroite,scratchblock:scratchblock,motifs:motifs,pattern:pattern,nomVecteurParPosition:nomVecteurParPosition,point:point,tracePoint:tracePoint,tracePointSurDroite:tracePointSurDroite,milieu:milieu,pointSurSegment:pointSurSegment,pointSurCercle:pointSurCercle,pointSurDroite:pointSurDroite,pointIntersectionDD:pointIntersectionDD,pointAdistance:pointAdistance,labelPoint:labelPoint,barycentre:barycentre,droite:droite,droiteParPointEtVecteur:droiteParPointEtVecteur,droiteParPointEtParallele:droiteParPointEtParallele,droiteParPointEtPerpendiculaire:droiteParPointEtPerpendiculaire,droiteHorizontaleParPoint:droiteHorizontaleParPoint,droiteVerticaleParPoint:droiteVerticaleParPoint,droiteParPointEtPente:droiteParPointEtPente,mediatrice:mediatrice,codageMediatrice:codageMediatrice,codageMilieu:codageMilieu,constructionMediatrice:constructionMediatrice,bissectrice:bissectrice,codageBissectrice:codageBissectrice,constructionBissectrice:constructionBissectrice,polyline:polyline,pave:pave,vecteur:vecteur,segment:segment,segmentAvecExtremites:segmentAvecExtremites,demiDroite:demiDroite,demiDroiteAvecExtremite:demiDroiteAvecExtremite,polygone:polygone,polygoneAvecNom:polygoneAvecNom,polygoneRegulier:polygoneRegulier,polygoneRegulierIndirect:polygoneRegulierIndirect,carre:carre,carreIndirect:carreIndirect,codageCarre:codageCarre,polygoneRegulierParCentreEtRayon:polygoneRegulierParCentreEtRayon,triangle2points2longueurs:triangle2points2longueurs,triangle2points2angles:triangle2points2angles,triangle2points1angle1longueur:triangle2points1angle1longueur,triangle2points1angle1longueurOppose:triangle2points1angle1longueurOppose,nommePolygone:nommePolygone,deplaceLabel:deplaceLabel,aireTriangle:aireTriangle,cercle:cercle,ellipse:ellipse,pointIntersectionLC:pointIntersectionLC,pointIntersectionCC:pointIntersectionCC,cercleCentrePoint:cercleCentrePoint,arc:arc,arcPointPointAngle:arcPointPointAngle,traceCompas:traceCompas,courbeDeBezier:courbeDeBezier,segmentMainLevee:segmentMainLevee,cercleMainLevee:cercleMainLevee,droiteMainLevee:droiteMainLevee,polygoneMainLevee:polygoneMainLevee,arcMainLevee:arcMainLevee,dansLaCibleCarree:dansLaCibleCarree,dansLaCibleRonde:dansLaCibleRonde,cibleCarree:cibleCarree,cibleRonde:cibleRonde,cibleCouronne:cibleCouronne,translation:translation,translation2Points:translation2Points,rotation:rotation,sens_de_rotation:sens_de_rotation,homothetie:homothetie,symetrieAxiale:symetrieAxiale,distancePointDroite:distancePointDroite,projectionOrtho:projectionOrtho,affiniteOrtho:affiniteOrtho,similitude:similitude,translationAnimee:translationAnimee,rotationAnimee:rotationAnimee,homothetieAnimee:homothetieAnimee,symetrieAnimee:symetrieAnimee,affiniteOrthoAnimee:affiniteOrthoAnimee,montrerParDiv:montrerParDiv,cacherParDiv:cacherParDiv,afficherTempo:afficherTempo,afficherTempoId:afficherTempoId,afficherUnParUn:afficherUnParUn,medianeTriangle:medianeTriangle,centreGraviteTriangle:centreGraviteTriangle,hauteurTriangle:hauteurTriangle,CodageHauteurTriangle:CodageHauteurTriangle,codageHauteurTriangle:codageHauteurTriangle,codageMedianeTriangle:codageMedianeTriangle,orthoCentre:orthoCentre,centreCercleCirconscrit:centreCercleCirconscrit,codageAngleDroit:codageAngleDroit,afficheLongueurSegment:afficheLongueurSegment,texteSurSegment:texteSurSegment,afficheMesureAngle:afficheMesureAngle,afficheCoteSegment:afficheCoteSegment,codeSegment:codeSegment,codeSegments:codeSegments,codeAngle:codeAngle,nomAngleSaillantParPosition:nomAngleSaillantParPosition,nomAngleRentrantParPosition:nomAngleRentrantParPosition,droiteGraduee:droiteGraduee,droiteGraduee2:droiteGraduee2,axes:axes,labelX:labelX,labelY:labelY,grille:grille,grilleHorizontale:grilleHorizontale,grilleVerticale:grilleVerticale,seyes:seyes,repere:repere,repere2:repere2,pointDansRepere:pointDansRepere,traceGraphiqueCartesien:traceGraphiqueCartesien,traceBarre:traceBarre,traceBarreHorizontale:traceBarreHorizontale,lectureImage:lectureImage,lectureAntecedent:lectureAntecedent,courbe:courbe,courbe2:courbe2,courbeInterpolee:courbeInterpolee,graphiqueInterpole:graphiqueInterpole,imageInterpolee:imageInterpolee,antecedentInterpole:antecedentInterpole,crochetD:crochetD,crochetG:crochetG,intervalle:intervalle,texteParPoint:texteParPoint,texteParPosition:texteParPosition,latexParPoint:latexParPoint,latexParCoordonnees:latexParCoordonnees,fractionParPosition:fractionParPosition,print2d:print2d,longueur:longueur,norme:norme,angle:angle,angleOriente:angleOriente,angleradian:angleradian,creerLutin:creerLutin,avance:avance,baisseCrayon:baisseCrayon,leveCrayon:leveCrayon,orienter:orienter,tournerG:tournerG,tournerD:tournerD,allerA:allerA,mettrexA:mettrexA,mettreyA:mettreyA,ajouterAx:ajouterAx,ajouterAy:ajouterAy,afficherCrayon:afficherCrayon,deplaceInstrument:deplaceInstrument,codeSvg:codeSvg,codeTikz:codeTikz,mathalea2d:mathalea2d,labyrinthe:labyrinthe,pavage:pavage}),$f35a29a5826ad83a3357c8588b24fc2e$var$buttonTelecharger&&($f35a29a5826ad83a3357c8588b24fc2e$var$buttonTelecharger.style.visibility="visible"),$f35a29a5826ad83a3357c8588b24fc2e$var$buttonURL&&($f35a29a5826ad83a3357c8588b24fc2e$var$buttonURL.style.visibility="visible"),window.mathalea.objets2D=[],e.run($f35a29a5826ad83a3357c8588b24fc2e$var$myCodeMirror.getValue()),e.run("exports.anim = anim"),$f35a29a5826ad83a3357c8588b24fc2e$var$xml=window.anim.script(),$fe833dec7424d4d8bcc267e2d01d8361$export$default($f35a29a5826ad83a3357c8588b24fc2e$var$container,$f35a29a5826ad83a3357c8588b24fc2e$var$xml,{autostart:!0}).then((e=>{document.querySelectorAll("svg.svgIep").forEach((e=>{e.iepDoc}))})).catch((e=>{console.log(e)}))};
//# sourceMappingURL=index.e61f3dfa.js.map
